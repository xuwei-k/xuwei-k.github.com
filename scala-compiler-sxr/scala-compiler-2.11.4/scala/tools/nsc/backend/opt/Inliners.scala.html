<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/opt/Inliners.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Iulian Dragos
 */</span>


package scala.tools.nsc
package backend.opt

import scala.collection.mutable
import scala.tools.nsc.symtab._
import scala.reflect.internal.util.NoSourceFile

<span class="comment">/**
 * Inliner balances two competing goals:
 *   (a) aggressive inlining of:
 *       (a.1) the apply methods of anonymous closures, so that their anon-classes can be eliminated;
 *       (a.2) higher-order-methods defined in an external library, e.g. `Range.foreach()` among many others.
 *   (b) circumventing the barrier to inter-library inlining that private accesses in the callee impose.
 *
 * Summing up the discussion in SI-5442 and SI-5891,
 * the current implementation achieves to a large degree both goals above, and
 * overcomes a problem exhibited by previous versions:
 *
 *   (1) Problem: Attempting to access a private member `p` at runtime resulting in an `IllegalAccessError`,
 *                where `p` is defined in a library L, and is accessed from a library C (for Client),
 *                where C was compiled against L', an optimized version of L where the inliner made `p` public at the bytecode level.
 *                The only such members are fields, either synthetic or isParamAccessor, and thus having a dollar sign in their name
 *                (the accesibility of methods and constructors isn't touched by the inliner).
 *
 * Thus we add one more goal to our list:
 *   (c) Compile C (either optimized or not) against any of L or L',
 *       so that it runs with either L or L' (in particular, compile against L' and run with L).
 *
 * The chosen strategy is described in some detail in the comments for `accessRequirements()` and `potentiallyPublicized()`.
 * Documentation at http://lamp.epfl.ch/~magarcia/ScalaCompilerCornerReloaded/2011Q4/Inliner.pdf
 *
 *  @author Iulian Dragos
 */</span>
abstract class <a title="class Inliners extends scala.tools.nsc.SubComponent" id="scala.tools.nsc.backend.opt;Inliners">Inliners</a> extends <a href="../../SubComponent.scala.html#scala.tools.nsc;SubComponent" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="delimiter">{</span>
  import <a href="../../SubComponent.scala.html#scala.tools.nsc;SubComponent.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Inliners.this.global.icodes.type">icodes</a>._
  import <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Inliners.this.global.icodes.type">icodes</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes" title="Inliners.this.global.icodes.opcodes.type">opcodes</a>._
  import <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Inliners.this.global.definitions.type">definitions</a>.<span class="delimiter">{</span>
    NullClass, NothingClass, ObjectClass,
    PredefModule, RuntimePackage, ScalaInlineClass, ScalaNoInlineClass,
    isFunctionType, isByNameParamType
  <span class="delimiter">}</span>

  val <a title="String" id="scala.tools.nsc.backend.opt;Inliners.phaseName">phaseName</a> = <span title="String(&quot;inliner&quot;)" class="string">&quot;inliner&quot;</span>

  override val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners.enabled">enabled</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">inline</a>

  <span class="comment">/** Debug - for timing the inliner. */</span>
  <span class="comment">/****
  private def timed[T](s: String, body: =&gt; T): T = {
    val t1 = System.currentTimeMillis()
    val res = body
    val t2 = System.currentTimeMillis()
    val ms = (t2 - t1).toInt
    if (ms &gt;= MAX_INLINE_MILLIS)
      println(&quot;%s: %d milliseconds&quot;.format(s, ms))

    res
  }
  ****/</span>

  <span class="comment">/** Look up implementation of method 'sym in 'clazz'.
   */</span>
  def <a title="(sym: Inliners.this.global.Symbol, clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor">lookupImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor.clazz">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="comment">// TODO: verify that clazz.superClass is equivalent here to clazz.tpe.parents(0).typeSymbol (.tpe vs .info)</span>
    def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor.needsLookup">needsLookup</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.clazz" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Inliners.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.clazz" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a>
      <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.clazz" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a>
    <span class="delimiter">)</span>
    def <a title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup">lookup</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup.clazz">clazz</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="comment">// println(&quot;\t\tlooking up &quot; + meth + &quot; in &quot; + clazz.fullName + &quot; meth.owner = &quot; + meth.owner)</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup.clazz" title="Inliners.this.global.Symbol">clazz</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Inliners.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;Walked up past Object.superClass looking for &quot;)" class="string">&quot;Walked up past Object.superClass looking for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span>
                                <span title="String(&quot;, most likely this reveals the TFA at fault (receiver and callee don\'t match).&quot;)" class="string">&quot;, most likely this reveals the TFA at fault (receiver and callee don't match).&quot;</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.Symbol">owner</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup.clazz" title="Inliners.this.global.Symbol">clazz</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners.isBottomType" title="(sym: Inliners.this.global.Symbol)Boolean">isBottomType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup.clazz" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>
      else <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.overridingSymbol" title="(ofclazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup.clazz" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.orElse" title="(alt: =&gt; Inliners.this.global.Symbol)Inliners.this.global.Symbol">orElse</a> <span class="delimiter">(</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isTrait" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>
        else <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup.clazz" title="Inliners.this.global.Symbol">clazz</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.superClass" title="=&gt; Inliners.this.global.Symbol">superClass</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.needsLookup" title="=&gt; Boolean">needsLookup</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.lookupImplFor.concreteMethod">concreteMethod</a> = <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.lookup" title="(clazz: Inliners.this.global.Symbol)Inliners.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.clazz" title="Inliners.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\tlooked up method: &quot;)" class="string">&quot;\tlooked up method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>
    <span class="delimiter">}</span>
    else <a href="#scala.tools.nsc.backend.opt;Inliners.lookupImplFor.sym" title="Inliners.this.global.Symbol">sym</a>
  <span class="delimiter">}</span>

  <span class="comment">/* A warning threshold */</span>
  private final val <a title="Int(2000)" id="scala.tools.nsc.backend.opt;Inliners.MAX_INLINE_MILLIS">MAX_INLINE_MILLIS</a> = <span title="Int(2000)" class="int">2000</span>

  <span class="comment">/** The maximum size in basic blocks of methods considered for inlining. */</span>
  final val <a title="Int(16)" id="scala.tools.nsc.backend.opt;Inliners.MAX_INLINE_SIZE">MAX_INLINE_SIZE</a> = <span title="Int(16)" class="int">16</span>

  <span class="comment">/** Maximum loop iterations. */</span>
  final val <a title="Int(15)" id="scala.tools.nsc.backend.opt;Inliners.MAX_INLINE_RETRY">MAX_INLINE_RETRY</a> = <span title="Int(15)" class="int">15</span>

  <span class="comment">/** Small method size (in blocks) */</span>
  val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners.SMALL_METHOD_SIZE">SMALL_METHOD_SIZE</a> = <span title="Int(1)" class="int">1</span>

  <span class="comment">/** Create a new phase */</span>
  override def <a title="(p: scala.tools.nsc.Phase)Inliners.this.InliningPhase" id="scala.tools.nsc.backend.opt;Inliners.newPhase">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="scala.tools.nsc.backend.opt;Inliners.newPhase.p">p</a>: <a href="../../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> = new <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase" title="Inliners.this.InliningPhase">InliningPhase</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.newPhase.p" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  <span class="comment">/** The Inlining phase.
   */</span>
  class <a title="class InliningPhase extends Inliners.this.global.icodes.ICodePhase" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase">InliningPhase</a><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase" title="Inliners.this.InliningPhase" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.prev">prev</a>: <a href="../../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> extends <a href="../icode/ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes;ICodePhase" title="Inliners.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.prev" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    def <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.name">name</a> = <a href="#scala.tools.nsc.backend.opt;Inliners.phaseName" title="=&gt; String">phaseName</a>
    val <a title="Inliners.this.Inliner" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.inliner">inliner</a> = new <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner" title="Inliners.this.Inliner">Inliner</a>

    object <a title="InliningPhase.this.iclassOrdering.type" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.readResolve">iclassOrdering</a> extends <a href="../../../../math/Ordering.scala.html#scala.math;Ordering" title="Ordering[Inliners.this.global.icodes.IClass]">Ordering</a><span class="delimiter">[</span>IClass<span class="delimiter">]</span> <span class="delimiter">{</span>
      def <a title="(a: Inliners.this.global.icodes.IClass, b: Inliners.this.global.icodes.IClass)Int" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare">compare</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.a">a</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="Inliners.this.global.icodes.IClass">IClass</a>, <a title="Inliners.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.b">b</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        val sourceNamesComparison = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.a" title="Inliners.this.global.icodes.IClass">a</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.cunit" title="=&gt; Inliners.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.toString" title="()String">toString</a><a href="../../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.compare" title="Int" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.sourceNamesComparison">compare</a> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.b" title="Inliners.this.global.icodes.IClass">b</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.cunit" title="=&gt; Inliners.this.global.icodes.global.CompilationUnit">cunit</a>.<a href="../../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.sourceNamesComparison" title="Int">sourceNamesComparison</a> <a href="../../../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.sourceNamesComparison" title="Int">sourceNamesComparison</a>
        else <span class="delimiter">{</span>
          val namesComparison = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.a" title="Inliners.this.global.icodes.IClass">a</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.toString" title="()String">toString</a><a href="../../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.compare" title="Int" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.namesComparison">compare</a> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.b" title="Inliners.this.global.icodes.IClass">b</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.namesComparison" title="Int">namesComparison</a> <a href="../../../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.namesComparison" title="Int">namesComparison</a>
          else <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.a" title="Inliners.this.global.icodes.IClass">a</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../Predef.scala.html#scala;LowPriorityImplicits.intWrapper" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">id</a> <a href="../../../../runtime/ScalaNumberProxy.scala.html#scala.runtime;OrderedProxy.compare" title="(y: Int)Int">compare</a> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.compare.b" title="Inliners.this.global.icodes.IClass">b</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.id" title="=&gt; Int">id</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    val <a title="scala.collection.mutable.PriorityQueue[Inliners.this.global.icodes.IClass]" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.queue">queue</a> = new mutable.<a href="../../../../collection/mutable/PriorityQueue.scala.html#scala.collection.mutable;PriorityQueue" title="scala.collection.mutable.PriorityQueue[Inliners.this.global.icodes.IClass]">PriorityQueue</a><span class="delimiter">[</span>IClass<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.iclassOrdering.readResolve" title="InliningPhase.this.iclassOrdering.type">iclassOrdering</a><span class="delimiter">)</span>

    override def <a title="(c: Inliners.this.global.icodes.IClass)Unit" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.apply(c857d1391d)">apply</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.apply(c857d1391d).c">c</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.queue" title="=&gt; scala.collection.mutable.PriorityQueue[Inliners.this.global.icodes.IClass]">queue</a> <a href="../../../../collection/mutable/PriorityQueue.scala.html#scala.collection.mutable;PriorityQueue.+=(b6afec2011)" title="(elem: Inliners.this.global.icodes.IClass)InliningPhase.this.queue.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.apply(c857d1391d).c" title="Inliners.this.global.icodes.IClass">c</a> <span class="delimiter">}</span>

    override def <a title="()Unit" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners.knownLacksInline" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.Symbol]">knownLacksInline</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners.knownHasInline" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.Symbol]">knownHasInline</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      try <span class="delimiter">{</span>
        super.<a href="../../Global.scala.html#scala.tools.nsc;Global;GlobalPhase.run" title="()Unit">run</a><span class="delimiter">(</span><span class="delimiter">)</span>
        for<span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;Inliners;InliningPhase.run.$anonfun.c">c</a> &lt;- <a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Inliners.this.global.icodes.IClass =&gt; Unit)Unit">queue</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.inliner" title="=&gt; Inliners.this.Inliner">inliner</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass" title="(cls: Inliners.this.global.icodes.IClass)Unit">analyzeClass</a> <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.run.$anonfun.c" title="Inliners.this.global.icodes.IClass">c</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span> finally <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;InliningPhase.inliner" title="=&gt; Inliners.this.Inliner">inliner</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.clearCaches" title="()Unit">clearCaches</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners.knownLacksInline" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.Symbol]">knownLacksInline</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners.knownHasInline" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.Symbol]">knownHasInline</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners.isBottomType">isBottomType</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.isBottomType.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners.isBottomType.sym" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.NullClass" title="Inliners.this.global.definitions.NullClass.type">NullClass</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners.isBottomType.sym" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.NothingClass" title="Inliners.this.global.definitions.NothingClass.type">NothingClass</a>

  <span class="comment">/** Is the given class a closure? */</span>
  def <a title="(cls: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners.isClosureClass">isClosureClass</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.isClosureClass.cls">cls</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> =
    <a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass.cls" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isFinal" title="=&gt; Boolean">isFinal</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass.cls" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isSynthetic" title="=&gt; Boolean">isSynthetic</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass.cls" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isModuleClass" title="=&gt; Boolean">isModuleClass</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass.cls" title="Inliners.this.global.Symbol">cls</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAnonymousFunction" title="=&gt; Boolean">isAnonymousFunction</a>

  <span class="comment">/*
      TODO now that Inliner runs faster we could consider additional &quot;monadic methods&quot; (in the limit, all those taking a closure as last arg)
      Any &quot;monadic method&quot; occurring in a given caller C that is not `isMonadicMethod()` will prevent CloseElim from eliminating
      any anonymous-closure-class any whose instances are given as argument to C invocations.
   */</span>
  def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners.isMonadicMethod">isMonadicMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.isMonadicMethod.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.unspecializedName" title="(name: Inliners.this.global.Name)Inliners.this.global.Name">unspecializedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.isMonadicMethod.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.foreach" title="=&gt; Inliners.this.global.nme.NameType">foreach</a> | <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.filter" title="=&gt; Inliners.this.global.nme.NameType">filter</a> | <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.withFilter" title="=&gt; Inliners.this.global.nme.NameType">withFilter</a> | <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.map" title="=&gt; Inliners.this.global.nme.NameType">map</a> | <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.flatMap" title="=&gt; Inliners.this.global.nme.NameType">flatMap</a> =&gt; true
      case _                                                                 =&gt; false
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  val <a title="scala.collection.mutable.Set[Inliners.this.global.Symbol]" id="scala.tools.nsc.backend.opt;Inliners.knownLacksInline">knownLacksInline</a> = mutable.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set.empty" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Inliners.this.global.Symbol]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">]</span> <span class="comment">// cache to avoid multiple inliner.hasInline() calls.</span>
  val <a title="scala.collection.mutable.Set[Inliners.this.global.Symbol]" id="scala.tools.nsc.backend.opt;Inliners.knownHasInline">knownHasInline</a>   = mutable.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set.empty" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Inliners.this.global.Symbol]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">]</span> <span class="comment">// as above. Motivated by the need to warn on &quot;inliner failures&quot;.</span>

  def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners.hasInline">hasInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.hasInline.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <span class="delimiter">{</span>
    if     <span class="delimiter">(</span><a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Inliners.this.global.Symbol)Boolean">knownLacksInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.sym" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> false
    else if<span class="delimiter">(</span><a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Inliners.this.global.Symbol)Boolean">knownHasInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.sym" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>   true
    else <span class="delimiter">{</span>
      val b = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.sym" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;Annotatable.hasAnnotation" title="Boolean" id="scala.tools.nsc.backend.opt;Inliners.hasInline.b">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ScalaInlineClass" title="=&gt; Inliners.this.global.ClassSymbol">ScalaInlineClass</a><span class="delimiter">)</span>
      if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.b" title="Boolean">b</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners.knownHasInline" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.Symbol]">knownHasInline</a>   <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.Symbol)Inliners.this.knownHasInline.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.sym" title="Inliners.this.global.Symbol">sym</a> <span class="delimiter">}</span>
      else  <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners.knownLacksInline" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.Symbol]">knownLacksInline</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.Symbol)Inliners.this.knownLacksInline.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.sym" title="Inliners.this.global.Symbol">sym</a> <span class="delimiter">}</span>

      <a href="#scala.tools.nsc.backend.opt;Inliners.hasInline.b" title="Boolean">b</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners.hasNoInline">hasNoInline</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners.hasNoInline.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#scala.tools.nsc.backend.opt;Inliners.hasNoInline.sym" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;Annotatable.hasAnnotation" title="(cls: Inliners.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ScalaNoInlineClass" title="=&gt; Inliners.this.global.ClassSymbol">ScalaNoInlineClass</a>

  <span class="comment">/**
   * Simple inliner.
   */</span>
  class <a title="class Inliner extends AnyRef" id="scala.tools.nsc.backend.opt;Inliners;Inliner">Inliner</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner" title="Inliners.this.Inliner" class="delimiter">{</a>
    object <a title="Inliner.this.NonPublicRefs.type" id="scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs">NonPublicRefs</a> extends <a href="../../../../Enumeration.scala.html#scala;Enumeration" title="Enumeration">Enumeration</a> <span class="delimiter">{</span>
      val <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Private">Private</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Protected">Protected</a>, <a title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Public">Public</a> = <a href="../../../../Enumeration.scala.html#scala;Enumeration.Value(5f22b09463)" title="=&gt; scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value">Value</a>

      <span class="comment">/** Cache whether a method calls private members. */</span>
      val <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.usesNonPublics">usesNonPublics</a> = mutable.<a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable.Map" title="scala.collection.mutable.Map.type">Map</a>.<a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable.Map.empty" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</a><span title="scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value]" class="delimiter">[</span><a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Inliners.this.global.icodes.IMethod">IMethod</a>, <a href="../../../../Enumeration.scala.html#scala;Enumeration;Value" title="scala.tools.nsc.backend.opt.Inliners.Inliner.NonPublicRefs.Value">Value</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>
    import <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs" title="Inliner.this.NonPublicRefs.type">NonPublicRefs</a>._

    <span class="comment">/** The current iclass */</span>
    private var <a title="Inliners.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;Inliners;Inliner.currentIClazz_=">currentIClazz</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="Inliners.this.global.icodes.IClass">IClass</a> = _
    private def <a title="(pos: Inliners.this.global.Position, msg: String)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner.warn">warn</a><span class="delimiter">(</span><a title="Inliners.this.global.Position" id="scala.tools.nsc.backend.opt;Inliners;Inliner.warn.pos">pos</a>: <a href="../../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Inliners.this.global.Position">Position</a>, <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.warn.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; Inliners.this.global.Run">currentRun</a>.<a href="../../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporting;RunReporting.reporting" title="=&gt; Inliners.this.global.PerRunReporting">reporting</a>.<a href="../../Reporting.scala.html#scala.tools.nsc;Reporting;PerRunReporting.inlinerWarning" title="(pos: Inliners.this.global.Position, msg: String)Unit">inlinerWarning</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.warn.pos" title="Inliners.this.global.Position">pos</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.warn.msg" title="String">msg</a><span class="delimiter">)</span>

    private def <a title="(sym: Inliners.this.global.Symbol)String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName">ownedName</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="../../Global.scala.html#scala.tools.nsc;Global.exitingUncurry" title="(op: =&gt; String)String">exitingUncurry</a> <span class="delimiter">{</span>
      val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.count">count</a> = <span class="delimiter">(</span>
        if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span>
        else if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAnonymousFunction" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span> <span title="Int(3)" class="int">3</span>
        else <span title="Int(2)" class="int">2</span>
      <span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.ownerChain" title="=&gt; List[Inliners.this.global.Symbol]">ownerChain</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.take" title="(n: Int)List[Inliners.this.global.Symbol]">take</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.count" title="Int">count</a> <a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filterNot" title="(p: Inliners.this.global.Symbol =&gt; Boolean)List[Inliners.this.global.Symbol]">filterNot</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.$anonfun.x$1" title="Inliners.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPackageClass" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.reverseMap" title="(f: Inliners.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.Symbol],String,List[String]])List[String]">reverseMap</a><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName.$anonfun.x$2" title="Inliners.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.nameString" title="=&gt; String">nameString</a><span class="delimiter">)</span>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    private def <a title="(what: String, main: =&gt; String, comment: =&gt; String)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)">inlineLog</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).what">what</a>: <span title="String">String</span>, <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).main">main</a>: =&gt; String, <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).comment">comment</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
      def <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).cstr">cstr</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).comment" title="=&gt; String">comment</a> match <span class="delimiter">{</span>
        case <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>   =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
        case <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).cstr.str">str</a>  =&gt; <span title="String(&quot; // &quot;)" class="string">&quot; // &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).cstr.str" title="String">str</a>
      <span class="delimiter">}</span>
      val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).width">width</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.currentIClazz_=" title="=&gt; Inliners.this.global.icodes.IClass">currentIClazz</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <span title="Int(40)" class="int">40</span> else <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.currentIClazz_=" title="=&gt; Inliners.this.global.icodes.IClass">currentIClazz</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclosingPackage" title="=&gt; Inliners.this.global.icodes.global.Symbol">enclosingPackage</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a>.<span title="()Int">length</span> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(25)" class="int">25</span>
      val fmt = <span title="String(&quot;%8s  %-&quot;)" class="string">&quot;%8s  %-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).width" title="Int">width</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).fmt">+</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).cstr" title="=&gt; String">cstr</a>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">fmt</a>.<a href="../../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).what" title="String">what</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d).main" title="=&gt; String">main</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    private def <a title="(what: String, main: Inliners.this.global.Symbol, comment: =&gt; String)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc)">inlineLog</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc).what">what</a>: <span title="String">String</span>, <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc).main">main</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc).comment">comment</a>: =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc).what" title="String">what</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName" title="(sym: Inliners.this.global.Symbol)String">ownedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc).main" title="Inliners.this.global.Symbol">main</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc).comment" title="=&gt; String">comment</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a title="scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.recentTFAs">recentTFAs</a> = mutable.<a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable.Map" title="scala.collection.mutable.Map.type">Map</a>.<a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable.Map.empty" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</a><span title="scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, Inliners.this.global.analysis.MethodTFA)">Tuple2</a><span class="delimiter">[</span>Boolean, analysis.MethodTFA<span class="delimiter">]</span><span class="delimiter">]</span>

    private def <a title="(incm: Inliners.this.global.icodes.IMethod, forceable: Boolean)(Boolean, Inliners.this.global.analysis.MethodTFA)" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA">getRecentTFA</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.incm">incm</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Inliners.this.global.icodes.IMethod">IMethod</a>, <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.forceable">forceable</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a>Boolean, analysis.MethodTFA<span class="delimiter">)</span> = <span class="delimiter">{</span>

        def <a title="(blocks: List[Inliners.this.global.icodes.BasicBlock])Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN">containsRETURN</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN.blocks">blocks</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Inliners.this.global.icodes.BasicBlock]">List</a><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN.blocks" title="List[Inliners.this.global.icodes.BasicBlock]">blocks</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: Inliners.this.global.icodes.BasicBlock =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN.$anonfun.bb">bb</a> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN.$anonfun.bb" title="Inliners.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.lastInstruction" title="=&gt; Inliners.this.global.icodes.Instruction">lastInstruction</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;RETURN" title="Inliners.this.global.icodes.opcodes.RETURN">RETURN</a><span class="delimiter">]</span> <span class="delimiter">}</span>

      val <a title="Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.opt">opt</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.recentTFAs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>.<a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.get" title="(key: Inliners.this.global.Symbol)Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">get</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.incm" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>
      if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.opt" title="Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">opt</a>.<a href="../../../../Option.scala.html#scala;Option.isDefined" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// FYI val cachedBBs = opt.get._2.in.keySet</span>
        <span class="comment">// FYI assert(incm.blocks.toSet == cachedBBs)</span>
        <span class="comment">// incm.code.touched plays no role here</span>
        return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.opt" title="Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">opt</a>.<a href="../../../../Option.scala.html#scala;Option.get" title="=&gt; (Boolean, Inliners.this.global.analysis.MethodTFA)">get</a>
      <span class="delimiter">}</span>

      val hasRETURN = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN" title="(blocks: List[Inliners.this.global.icodes.BasicBlock])Boolean">containsRETURN</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.incm" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.blocksList" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocksList</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.hasRETURN">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.incm" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.exh" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.ExceptionHandler" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.hasRETURN.$anonfun.eh">eh</a> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.containsRETURN" title="(blocks: List[Inliners.this.global.icodes.BasicBlock])Boolean">containsRETURN</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.hasRETURN.$anonfun.eh" title="Inliners.this.global.icodes.ExceptionHandler">eh</a>.<a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.blocks" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>
      var <a title="Inliners.this.global.analysis.MethodTFA" id="scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.a">a</a>: analysis.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MethodTFA" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a> = null
      if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.hasRETURN" title="Boolean">hasRETURN</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.a" title="Inliners.this.global.analysis.MethodTFA">a</a> = new <a href="../../Global.scala.html#scala.tools.nsc;Global.analysis" title="Inliners.this.global.analysis.type">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MethodTFA" title="Inliners.this.global.analysis.MethodTFA">MethodTFA</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.incm" title="Inliners.this.global.icodes.IMethod">incm</a><span class="delimiter">)</span>; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.a" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MethodTFA.run" title="()Unit">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>

      if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.forceable" title="Boolean">forceable</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.recentTFAs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.put" title="(key: Inliners.this.global.Symbol, value: (Boolean, Inliners.this.global.analysis.MethodTFA))Option[(Boolean, Inliners.this.global.analysis.MethodTFA)]">put</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.incm" title="Inliners.this.global.icodes.IMethod">incm</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>, <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: Inliners.this.global.analysis.MethodTFA)(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.hasRETURN" title="Boolean">hasRETURN</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.a" title="Inliners.this.global.analysis.MethodTFA">a</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

      <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: Inliners.this.global.analysis.MethodTFA)(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.hasRETURN" title="Boolean">hasRETURN</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA.a" title="Inliners.this.global.analysis.MethodTFA">a</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="()Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner.clearCaches">clearCaches</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// methods</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs" title="Inliner.this.NonPublicRefs.type">NonPublicRefs</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.usesNonPublics" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a>.<a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.recentTFAs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownUnsafe" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownUnsafe</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownSafe" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownSafe</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownNever" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownNever</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">// basic blocks</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.preCandidates" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.BasicBlock]">preCandidates</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.relevantBBs" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.BasicBlock]">relevantBBs</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">// callsites</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.remainingCALLs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.isOnWatchlist" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.Instruction]">isOnWatchlist</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    object <a title="Inliner.this.imethodOrdering.type" id="scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.readResolve">imethodOrdering</a> extends <a href="../../../../math/Ordering.scala.html#scala.math;Ordering" title="Ordering[Inliners.this.global.icodes.IMethod]">Ordering</a><span class="delimiter">[</span>IMethod<span class="delimiter">]</span> <span class="delimiter">{</span>
      def <a title="(a: Inliners.this.global.icodes.IMethod, b: Inliners.this.global.icodes.IMethod)Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare">compare</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.a">a</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Inliners.this.global.icodes.IMethod">IMethod</a>, <a title="Inliners.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.b">b</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        val namesComparison = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.a" title="Inliners.this.global.icodes.IMethod">a</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.toString" title="()String">toString</a><a href="../../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.compare" title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.namesComparison">compare</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.b" title="Inliners.this.global.icodes.IMethod">b</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.namesComparison" title="Int">namesComparison</a> <a href="../../../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.namesComparison" title="Int">namesComparison</a>
        else <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.a" title="Inliners.this.global.icodes.IMethod">a</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../Predef.scala.html#scala;LowPriorityImplicits.intWrapper" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">id</a> <a href="../../../../runtime/ScalaNumberProxy.scala.html#scala.runtime;OrderedProxy.compare" title="(y: Int)Int">compare</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.compare.b" title="Inliners.this.global.icodes.IMethod">b</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.id" title="=&gt; Int">id</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(cls: Inliners.this.global.icodes.IClass)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass">analyzeClass</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.cls">cls</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="Inliners.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> =
      if <span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">inline</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;class&quot;)" class="string">&quot;class&quot;</span>, <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.cls" title="Inliners.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.decodedName" title="=&gt; String">decodedName</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>, <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;analyzing &quot;)">analyzing $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.cls" title="Inliners.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.methods" title="=&gt; List[Inliners.this.global.icodes.IMethod]">methods</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a><span class="delimiter">}</span><span title="String(&quot; methods in &quot;)"> methods in $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.cls" title="Inliners.this.global.icodes.IClass">cls</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>

        this.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.currentIClazz_=" title="(x$1: Inliners.this.global.icodes.IClass)Unit">currentIClazz</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.cls" title="Inliners.this.global.icodes.IClass">cls</a>
        val ms = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.cls" title="Inliners.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.methods" title="=&gt; List[Inliners.this.global.icodes.IMethod]">methods</a> <a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.sorted" title="List[Inliners.this.global.icodes.IMethod]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.ms">sorted</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.imethodOrdering.readResolve" title="Inliner.this.imethodOrdering.type">imethodOrdering</a>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.ms" title="List[Inliners.this.global.icodes.IMethod]">ms</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.$anonfun.im">im</a> =&gt;
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners.hasInline" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.$anonfun.im" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc)" title="(what: String, main: Inliners.this.global.Symbol, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;skip&quot;)" class="string">&quot;skip&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.$anonfun.im" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>, <span title="String(&quot;no inlining into @inline methods&quot;)" class="string">&quot;no inlining into @inline methods&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          else if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.$anonfun.im" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.hasCode" title="=&gt; Boolean">hasCode</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.$anonfun.im" title="Inliners.this.global.icodes.IMethod">im</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isBridge" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod" title="(m: Inliners.this.global.icodes.IMethod)Unit">analyzeMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeClass.$anonfun.im" title="Inliners.this.global.icodes.IMethod">im</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    val <a title="Inliners.this.global.analysis.MTFAGrowable" id="scala.tools.nsc.backend.opt;Inliners;Inliner.tfa">tfa</a>   = new <a href="../../Global.scala.html#scala.tools.nsc;Global.analysis" title="Inliners.this.global.analysis.type">analysis</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable" title="Inliners.this.global.analysis.MTFAGrowable">MTFAGrowable</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis.stat_=" title="(x$1: Boolean)Unit">stat</a>  = <a href="../../SubComponent.scala.html#scala.tools.nsc;SubComponent.global" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.YstatisticsEnabled" title="=&gt; Boolean">YstatisticsEnabled</a>
    val <a title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.staleOut">staleOut</a>      = new mutable.<a href="../../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">ListBuffer</a><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>
    val <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.splicedBlocks">splicedBlocks</a> = mutable.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set.empty" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>
    val <a title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.staleIn">staleIn</a>       = mutable.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set.empty" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>

    <span class="comment">/**
     * A transformation local to the body of the IMethod received as argument.
     * An linining decision consists in replacing a callsite with the body of the callee.
     * Please notice that, because `analyzeMethod()` itself may modify a method body,
     * the particular callee bodies that end up being inlined depend on the particular order in which methods are visited
     * (no topological sorting over the call-graph is attempted).
     *
     * Making an inlining decision requires type-flow information for both caller and callee.
     * Regarding the caller, such information is needed only for basic blocks containing inlining candidates
     * (and their transitive predecessors). This observation leads to using a custom type-flow analysis (MTFAGrowable)
     * that can be re-inited, i.e. that reuses lattice elements (type-flow information computed in a previous iteration)
     * as starting point for faster convergence in a new iteration.
     *
     * The mechanics of inlining are iterative for a given invocation of `analyzeMethod(m)`,
     * and are affected by inlinings from previous iterations
     * (ie, &quot;heuristic&quot; rules are based on statistics tracked for that purpose):
     *
     *   (1) before the iterations proper start, so-called preinlining is performed.
     *       Those callsites whose (receiver, concreteMethod) are both known statically
     *       can be analyzed for inlining before computing a type-flow. Details in `preInline()`
     *
     *   (2) the first iteration computes type-flow information for basic blocks containing inlining candidates
     *       (and their transitive predecessors), so called `relevantBBs` basic blocks.
     *       The ensuing analysis of each candidate (performed by `analyzeInc()`)
     *       may result in a CFG isomorphic to that of the callee being inserted in place of the callsite
     *       (i.e. a CALL_METHOD instruction is replaced with a single-entry single-exit CFG,
     *        a substitution we call &quot;successful inlining&quot;).
     *
     *   (3) following iterations have `relevantBBs` updated to focus on the inlined basic blocks and their successors only.
     *       Details in `MTFAGrowable.reinit()`
     * */</span>
    def <a title="(m: Inliners.this.global.icodes.IMethod)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod">analyzeMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m">m</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="comment">// m.normalize</span>
      if <span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">debug</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;caller&quot;)" class="string">&quot;caller&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName" title="(sym: Inliners.this.global.Symbol)String">ownedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span>, <span title="String(&quot;in &quot;)" class="string">&quot;in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a><span class="delimiter">)</span>

      val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.sizeBeforeInlining">sizeBeforeInlining</a>  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.blockCount" title="=&gt; Int">blockCount</a>
      val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.instrBeforeInlining">instrBeforeInlining</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.instructionCount" title="=&gt; Int">instructionCount</a>
      var <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.retry">retry</a> = false
      var <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.count">count</a> = <span title="Int(0)" class="int">0</span>

      <span class="comment">// fresh name counter</span>
      val fresh = mutable.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable.HashMap" title="scala.collection.mutable.HashMap.type">HashMap</a>.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable.HashMap.empty" title="[A, B]=&gt; scala.collection.mutable.HashMap[A,B]">empty</a><span title="scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">]</span> <a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map.withDefaultValue" title="scala.collection.mutable.Map[String,Int]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.fresh">withDefaultValue</a> <span title="Int(0)" class="int">0</span>
      <span class="comment">// how many times have we already inlined this method here?</span>
      val inlinedMethodCount = mutable.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable.HashMap" title="scala.collection.mutable.HashMap.type">HashMap</a>.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable.HashMap.empty" title="[A, B]=&gt; scala.collection.mutable.HashMap[A,B]">empty</a><span title="scala.collection.mutable.HashMap[Inliners.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">]</span> <a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map.withDefaultValue" title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlinedMethodCount">withDefaultValue</a> <span title="Int(0)" class="int">0</span>
      val <a title="Inliner.this.IMethodInfo" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller">caller</a> = new <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      def <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeMessage">analyzeMessage</a> = <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Analyzing &quot;)">Analyzing $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length" title="=&gt; Int">length</a><span class="delimiter">}</span><span title="String(&quot; blocks of &quot;)"> blocks of $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a><span title="String(&quot; for inlining sites.&quot;)" class="string"> for inlining sites.&quot;</span>

      def <a title="(isFirstRound: Boolean)Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline">preInline</a><span class="delimiter">(</span><a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline.isFirstRound">isFirstRound</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
        val <a title="List[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline.inputBlocks">inputBlocks</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.linearizedBlocks" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
        val <a title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline.callsites">callsites</a>: <a href="../../../../Function1.scala.html#scala;Function1" title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">Function1</a><span class="delimiter">[</span>BasicBlock, List<span class="delimiter">[</span>opcodes.CALL_METHOD<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
          if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline.isFirstRound" title="Boolean">isFirstRound</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.conclusives" title="(b: Inliners.this.global.analysis.global.icodes.BasicBlock)List[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD]">conclusives</a> else <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownBeforehand" title="(b: Inliners.this.global.analysis.global.icodes.BasicBlock)List[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD]">knownBeforehand</a>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA" title="(inputBlocks: Traversable[Inliners.this.global.icodes.BasicBlock], callsites: Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD])Int">inlineWithoutTFA</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline.inputBlocks" title="List[Inliners.this.global.icodes.BasicBlock]">inputBlocks</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline.callsites" title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">callsites</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/*
       *  Inline straightforward callsites (those that can be inlined without a TFA).
       *
       *  To perform inlining, all we need to know is listed as formal params in `analyzeInc()`:
       *    - callsite and block containing it
       *    - actual (ie runtime) class of the receiver
       *    - actual (ie runtime) method being invoked
       *    - stack length just before the callsite (to check whether enough arguments have been pushed).
       *  The assert below lists the conditions under which &quot;no TFA is needed&quot;
       *  (the statically known receiver and method are both final, thus, at runtime they can't be any others than those).
       *
       */</span>
      def <a title="(inputBlocks: Traversable[Inliners.this.global.icodes.BasicBlock], callsites: Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD])Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA">inlineWithoutTFA</a><span class="delimiter">(</span><a title="Traversable[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.inputBlocks">inputBlocks</a>: <a href="../../../../collection/Traversable.scala.html#scala.collection;Traversable" title="Traversable[Inliners.this.global.icodes.BasicBlock]">Traversable</a><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>, <a title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.callsites">callsites</a>: <a href="../../../../Function1.scala.html#scala;Function1" title="Inliners.this.global.icodes.BasicBlock =&gt; List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">Function1</a><span class="delimiter">[</span>BasicBlock, List<span class="delimiter">[</span>opcodes.CALL_METHOD<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
        var <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.inlineCount">inlineCount</a> = <span title="Int(0)" class="int">0</span>
        import scala.util.control.<a href="../../../../util/control/Breaks.scala.html#scala.util.control.Breaks" title="scala.util.control.Breaks.type">Breaks</a>._
        for<span class="delimiter">(</span><a href="../../../../Tuple2.scala.html#scala;Tuple2" title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.x">x</a> &lt;- <a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; (Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD]))(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[Inliners.this.global.icodes.BasicBlock],(Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD]),Traversable[(Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD])]])Traversable[(Inliners.this.global.icodes.BasicBlock, List[Inliners.this.global.icodes.opcodes.CALL_METHOD])]">inputBlocks</a>; <a title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.easyCake">easyCake</a> = <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: Inliners.this.global.icodes.BasicBlock)List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">callsites</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.x" title="Inliners.this.global.icodes.BasicBlock">x</a><span class="delimiter">)</span>; if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.easyCake" title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]">easyCake</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../../util/control/Breaks.scala.html#scala.util.control;Breaks.breakable" title="(op: =&gt; Unit)Unit">breakable</a> <span class="delimiter">{</span>
            for<span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.$anonfun.ocm">ocm</a> &lt;- <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.icodes.opcodes.CALL_METHOD =&gt; Unit)Unit">easyCake</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.$anonfun.ocm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.$anonfun.ocm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a><span class="delimiter">)</span>
              if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc" title="(i: Inliners.this.global.icodes.opcodes.CALL_METHOD, bb: Inliners.this.global.icodes.BasicBlock, receiver: Inliners.this.global.Symbol, stackLength: Int, concreteMethod: Inliners.this.global.Symbol)Boolean">analyzeInc</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.$anonfun.ocm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.x" title="Inliners.this.global.icodes.BasicBlock">x</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.$anonfun.ocm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>, -<span title="Int(-1)" class="int">1</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.$anonfun.$anonfun.ocm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ocm</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.inlineCount" title="Int">inlineCount</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
                <a href="../../../../util/control/Breaks.scala.html#scala.util.control;Breaks.break" title="()Nothing">break</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlineWithoutTFA.inlineCount" title="Int">inlineCount</a>
      <span class="delimiter">}</span>

      <span class="comment">/*
       *  Decides whether it's feasible and desirable to inline the body of the method given by `concreteMethod`
       *  at the program point given by `i` (a callsite). The boolean result indicates whether inlining was performed.
       *
       */</span>
      def <a title="(i: Inliners.this.global.icodes.opcodes.CALL_METHOD, bb: Inliners.this.global.icodes.BasicBlock, receiver: Inliners.this.global.Symbol, stackLength: Int, concreteMethod: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc">analyzeInc</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i">i</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a>, <a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.bb">bb</a>: <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.stackLength">stackLength</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod">concreteMethod</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.bb" title="Inliners.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.toList" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.contains" title="(elem: Inliners.this.global.icodes.Instruction)Boolean">contains</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>, <span title="String(&quot;Candidate callsite does not belong to BasicBlock.&quot;)" class="string">&quot;Candidate callsite does not belong to BasicBlock.&quot;</span><span class="delimiter">)</span>
        val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.shouldWarn">shouldWarn</a> = <a href="#scala.tools.nsc.backend.opt;Inliners.hasInline" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>

        def <a title="(reason: String)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline">warnNoInline</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline.reason">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          def <a title="=&gt; String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline.msg">msg</a> = <a href="../../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Could not inline required method %s because %s.&quot;</a>.<a href="../../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.unexpandedName" title="=&gt; Inliners.this.global.icodes.global.Name">unexpandedName</a>.<a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.decode" title="=&gt; String">decode</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline.reason" title="String">reason</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">debug</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;fail&quot;)" class="string">&quot;fail&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline.reason" title="String">reason</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.shouldWarn" title="Boolean">shouldWarn</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.warn" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction.pos" title="=&gt; scala.reflect.internal.util.Position">pos</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline.msg" title="=&gt; String">msg</a><span class="delimiter">)</span>

          false
        <span class="delimiter">}</span>

        var isAvailable = <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Inliners.this.global.icodes.type">icodes</a> <a href="../icode/Repository.scala.html#scala.tools.nsc.backend.icode;Repository.available" title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isAvailable">available</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; Inliners.this.global.Symbol">enclClass</a>

        if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isAvailable" title="Boolean">isAvailable</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor" title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean">shouldLoadImplFor</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// Until r22824 this line was:</span>
          <span class="comment">//   icodes.icode(concreteMethod.enclClass, true)</span>
          <span class="comment">//</span>
          <span class="comment">// Changing it to</span>
          <span class="comment">//   icodes.load(concreteMethod.enclClass)</span>
          <span class="comment">// was the proximate cause for SI-3882:</span>
          <span class="comment">//   error: Illegal index: 0 overlaps List((variable par1,LONG))</span>
          <span class="comment">//   error: Illegal index: 0 overlaps List((variable par1,LONG))</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isAvailable" title="Boolean">isAvailable</a> = <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Inliners.this.global.icodes.type">icodes</a>.<a href="../icode/Repository.scala.html#scala.tools.nsc.backend.icode;Repository.load" title="(sym: Inliners.this.global.icodes.global.Symbol)Boolean">load</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; Inliners.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isCandidate">isCandidate</a> = <span class="delimiter">(</span>
             <a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span>
          <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a>
          <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a>
        <span class="delimiter">)</span>

        def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isApply">isApply</a>     = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; concreteMethod.NameType">name</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Inliners.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.apply" title="=&gt; Inliners.this.global.nme.NameType">apply</a>

        def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isCountable">isCountable</a> = <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span>
             <a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span>
          <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isApply" title="=&gt; Boolean">isApply</a>
          <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners.isMonadicMethod" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclosingPackage" title="=&gt; Inliners.this.global.Symbol">enclosingPackage</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Inliners.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.RuntimePackage" title="=&gt; Inliners.this.global.ModuleSymbol">RuntimePackage</a>
        <span class="delimiter">)</span>   <span class="comment">// only count non-closures</span>

        <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Treating &quot;)" class="string">&quot;Treating &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\treceiver: &quot;)" class="string">&quot;\n\treceiver: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\ticodes.available: &quot;)" class="string">&quot;\n\ticodes.available: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isAvailable" title="Boolean">isAvailable</a>
              <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n\tconcreteMethod.isEffectivelyFinalOrNotOverridden: &quot;)" class="string">&quot;\n\tconcreteMethod.isEffectivelyFinalOrNotOverridden: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isCandidate" title="=&gt; Boolean">isCandidate</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline" title="(reason: String)Boolean">warnNoInline</a><span class="delimiter">(</span><span title="String(&quot;it can be overridden&quot;)" class="string">&quot;it can be overridden&quot;</span><span class="delimiter">)</span>
        else if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isAvailable" title="Boolean">isAvailable</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline" title="(reason: String)Boolean">warnNoInline</a><span class="delimiter">(</span><span title="String(&quot;bytecode unavailable&quot;)" class="string">&quot;bytecode unavailable&quot;</span><span class="delimiter">)</span>
        else <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod" title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]">lookupIMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.concreteMethod" title="Inliners.this.global.Symbol">concreteMethod</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.receiver" title="Inliners.this.global.Symbol">receiver</a><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala;Option.filter" title="(p: Inliners.this.global.icodes.IMethod =&gt; Boolean)Option[Inliners.this.global.icodes.IMethod]">filter</a> <span class="delimiter">(</span><span title="Inliners.this.global.icodes.IMethod">callee</span> =&gt; <span title="Inliners.this.global.icodes.IMethod">callee</span>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.hasCode" title="=&gt; Boolean">hasCode</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline" title="(reason: String)Boolean">warnNoInline</a><span class="delimiter">(</span><span title="String(&quot;callee has no code&quot;)" class="string">&quot;callee has no code&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala;Option.exists" title="(p: Inliners.this.global.icodes.IMethod =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <span title="Inliners.this.global.icodes.IMethod">callee</span> =&gt;
          val <a title="Inliner.this.IMethodInfo" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.inc">inc</a>   = new <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo" title="Inliner.this.IMethodInfo">IMethodInfo</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.IMethod">callee</span><span class="delimiter">)</span>
          val <a title="Inliner.this.CallerCalleeInfo" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.pair">pair</a>  = new <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo" title="Inliner.this.CallerCalleeInfo">CallerCalleeInfo</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.inc" title="Inliner.this.IMethodInfo">inc</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.fresh" title="scala.collection.mutable.Map[String,Int]">fresh</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlinedMethodCount" title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">inlinedMethodCount</a><span class="delimiter">)</span>

          if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.inc" title="Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.hasHandlers" title="=&gt; Boolean">hasHandlers</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.stackLength" title="Int">stackLength</a> <a href="../../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// no inlining is done, yet don't warn about it, stackLength == -1 indicates we're trying to inlineWithoutTFA.</span>
            <span class="comment">// Shortly, a TFA will be computed and an error message reported if indeed inlining not possible.</span>
            false
          <span class="delimiter">}</span>
          else <span class="delimiter">{</span>
            val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe">isSafe</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.pair" title="Inliner.this.CallerCalleeInfo">pair</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining" title="(stackLength: Int)Inliner.this.InlineSafetyInfo">isStampedForInlining</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.stackLength" title="Int">stackLength</a> match <span class="delimiter">{</span>
              case DontInlineHere<span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.msg">msg</a><span class="delimiter">)</span>                       =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.warnNoInline" title="(reason: String)Boolean">warnNoInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.msg" title="String">msg</a><span class="delimiter">)</span>
              case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NeverSafeToInline.readResolve" title="Inliner.this.NeverSafeToInline.type">NeverSafeToInline</a>                         =&gt; false
              case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.InlineableAtThisCaller.readResolve" title="Inliner.this.InlineableAtThisCaller.type">InlineableAtThisCaller</a>                    =&gt; true
              case FeasibleInline<span class="delimiter">(</span><a title="Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.required">required</a>, <a title="List[Inliners.this.global.Symbol]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.toPublicize">toPublicize</a><span class="delimiter">)</span>     =&gt;
                for <span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.$anonfun.f">f</a> &lt;- <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.Symbol =&gt; Inliners.this.global.Symbol)Unit">toPublicize</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc)" title="(what: String, main: Inliners.this.global.Symbol, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;access&quot;)" class="string">&quot;access&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.$anonfun.f" title="Inliners.this.global.Symbol">f</a>, <span title="String(&quot;making public&quot;)" class="string">&quot;making public&quot;</span><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.$anonfun.f" title="Inliners.this.global.Symbol">f</a> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)f.type">setFlag</a> <a href="../../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../../reflect/internal/Flags.scala.html#scala.reflect.internal;Flags.notPRIVATE" title="=&gt; Long">notPRIVATE</a>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.$anonfun.f" title="Inliners.this.global.Symbol">f</a> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)f.type">setFlag</a> <a href="../../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>.<a href="../../../../reflect/internal/Flags.scala.html#scala.reflect.internal;Flags.notPROTECTED" title="=&gt; Long">notPROTECTED</a>
                <span class="delimiter">}</span>
                <span class="comment">// only add to `knownSafe` after all `toPublicize` fields actually made public.</span>
                if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe.required" title="Inliner.this.NonPublicRefs.Value">required</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs" title="Inliner.this.NonPublicRefs.type">NonPublicRefs</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Public" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownSafe" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownSafe</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownSafe.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.inc" title="Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>

                true
            <span class="delimiter">}</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.isSafe" title="Boolean">isSafe</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
               <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.retry" title="Boolean">retry</a>   = true
               if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.isCountable" title="=&gt; Boolean">isCountable</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.count" title="Int">count</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
               <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.pair" title="Inliner.this.CallerCalleeInfo">pair</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline" title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit">doInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.bb" title="Inliners.this.global.icodes.BasicBlock">bb</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.i" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">i</a><span class="delimiter">)</span>
               if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.pair" title="Inliner.this.CallerCalleeInfo">pair</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForced" title="=&gt; Boolean">isInlineForced</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.inc" title="Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isMonadic" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.inlinedCalls_=" title="(x$1: Int)Unit">inlinedCalls</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
               <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: Inliners.this.global.Symbol, value: Int)Unit">inlinedMethodCount</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc.$anonfun.inc" title="Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

               <span class="comment">// Remove the caller from the cache (this inlining might have changed its calls-private relation).</span>
               <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.usesNonPublics" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.icodes.IMethod,Inliner.this.NonPublicRefs.Value]">usesNonPublics</a> <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.-=(b498ceb27d)" title="(key: Inliners.this.global.icodes.IMethod)Inliner.this.NonPublicRefs.usesNonPublics.type">-=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>
               <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.recentTFAs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.Symbol,(Boolean, Inliners.this.global.analysis.MethodTFA)]">recentTFAs</a>     <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.-=(b498ceb27d)" title="(key: Inliners.this.global.Symbol)Inliner.this.recentTFAs.type">-=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>
               true
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/* Pre-inlining consists in invoking the usual inlining subroutine with (receiver class, concrete method) pairs as input
       * where both method and receiver are final, which implies that the receiver computed via TFA will always match `concreteMethod.owner`.
       *
       * As with any invocation of `analyzeInc()` the inlining outcome is based on heuristics which favor inlining an isMonadicMethod before other methods.
       * That's why preInline() is invoked twice: any inlinings downplayed by the heuristics during the first round get an opportunity to rank higher during the second.
       *
       * As a whole, both `preInline()` invocations amount to priming the inlining process,
       * so that the first TFA that is run afterwards is able to gain more information as compared to a cold-start.
       */</span>
      <span class="comment">/*val totalPreInlines = */</span> <span class="delimiter">{</span> <span class="comment">// Val name commented out to emphasize it is never used</span>
        val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.firstRound">firstRound</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline" title="(isFirstRound: Boolean)Int">preInline</a><span class="delimiter">(</span>isFirstRound = true<span class="delimiter">)</span>
        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.firstRound" title="Int">firstRound</a> <a href="../../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> else <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.firstRound" title="Int">firstRound</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.preInline" title="(isFirstRound: Boolean)Int">preInline</a><span class="delimiter">(</span>isFirstRound = false<span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleOut" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.splicedBlocks" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleIn" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

      do <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.retry" title="Boolean">retry</a> = false
        <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeMessage" title="=&gt; String">analyzeMessage</a><span class="delimiter">)</span>

        <span class="comment">/* it's important not to inline in unreachable basic blocks. linearizedBlocks() returns only reachable ones. */</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.callerLin_=" title="(x$1: Traversable[Inliners.this.global.analysis.global.icodes.BasicBlock])Unit">callerLin</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.linearizedBlocks" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
           <span class="comment">/* TODO Do we really want to inline inside exception handlers?
           *  Seems counterproductive (the larger the method the less likely it will be JITed).
            * The alternative would be `linearizer.linearizeAt(caller.m, caller.m.startBlock)`.
            * And, we would cut down on TFA iterations, too.
            * See also comment on the same topic in TypeFlowAnalysis. */</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.reinit" title="(m: Inliners.this.global.analysis.global.icodes.IMethod, staleOut: List[Inliners.this.global.analysis.global.icodes.BasicBlock], inlined: scala.collection.Set[Inliners.this.global.analysis.global.icodes.BasicBlock], staleIn: scala.collection.Set[Inliners.this.global.analysis.global.icodes.BasicBlock])Unit">reinit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleOut" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">toList</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.splicedBlocks" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleIn" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.run" title="()Unit">run</a>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleOut" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.splicedBlocks" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleIn" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

        import scala.util.control.<a href="../../../../util/control/Breaks.scala.html#scala.util.control.Breaks" title="scala.util.control.Breaks.type">Breaks</a>._
        for<span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.bb">bb</a> &lt;- <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: Inliners.this.global.analysis.global.icodes.BasicBlock =&gt; Unit)Unit">callerLin</a>; if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Inliners.this.global.analysis.global.icodes.BasicBlock)Boolean">preCandidates</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.bb" title="Inliners.this.global.analysis.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          val cms = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.bb" title="Inliners.this.global.analysis.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.toList" title="=&gt; List[Inliners.this.global.analysis.global.icodes.Instruction]">toList</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.collect" title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.cms">collect</a> <a title="&lt;$anon: Inliners.this.global.analysis.global.icodes.Instruction =&gt; Inliners.this.global.icodes.opcodes.CALL_METHOD&gt; extends scala.runtime.AbstractPartialFunction[Inliners.this.global.analysis.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.CALL_METHOD] with Serializable" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.cms;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.cms;$anonfun.isDefinedAt.cm">cm</a> : <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.cms;$anonfun.isDefinedAt.cm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a> <span class="delimiter">}</span>
          <a href="../../../../util/control/Breaks.scala.html#scala.util.control;Breaks.breakable" title="(op: =&gt; Unit)Unit">breakable</a> <span class="delimiter">{</span>
            for <span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.cm">cm</a> &lt;- <a href="../../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: Inliners.this.global.icodes.opcodes.CALL_METHOD =&gt; Unit)Unit">cms</a>; if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.remainingCALLs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.cm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              val analysis.CallsiteInfo<a href="../../../../Tuple3.scala.html#scala;Tuple3" title="(Inliners.this.global.analysis.global.Symbol, Int, Inliners.this.global.analysis.global.Symbol)" class="delimiter">(</a>_, <a href="../../../../Tuple3.scala.html#scala;Tuple3._1" title="Inliners.this.global.analysis.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.receiver">receiver</a>, <a href="../../../../Tuple3.scala.html#scala;Tuple3._2" title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.stackLength">stackLength</a>, <a href="../../../../Tuple3.scala.html#scala;Tuple3._3" title="Inliners.this.global.analysis.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.concreteMethod">concreteMethod</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Inliners.this.global.analysis.CallsiteInfo">remainingCALLs</a><a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;CallsiteInfo" title="Inliners.this.global.analysis.CallsiteInfo @unchecked" class="delimiter">(</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.cm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span>
              if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.analyzeInc" title="(i: Inliners.this.global.icodes.opcodes.CALL_METHOD, bb: Inliners.this.global.icodes.BasicBlock, receiver: Inliners.this.global.Symbol, stackLength: Int, concreteMethod: Inliners.this.global.Symbol)Boolean">analyzeInc</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.cm" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">cm</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.bb" title="Inliners.this.global.analysis.global.icodes.BasicBlock">bb</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.receiver" title="Inliners.this.global.analysis.global.Symbol">receiver</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.stackLength" title="Int">stackLength</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.concreteMethod" title="Inliners.this.global.analysis.global.Symbol">concreteMethod</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../../util/control/Breaks.scala.html#scala.util.control;Breaks.break" title="()Nothing">break</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">/* As part of inlining, some instructions are moved to a new block.
         *     In detail: the instructions moved to a new block originally appeared after a (by now inlined) callsite.
         *     Their new home is an `afterBlock` created by `doInline()` to that effect.
         *     Each block in staleIn is one such `afterBlock`.
         *
         * Some of those instructions may be CALL_METHOD possibly tracked in `remainingCALLs`
         * (with an entry still noting the old containing block). However, that causes no problem:
         *
         *   (1) such callsites won't be analyzed for inlining by `analyzeInc()` (*in this iteration*)
         *       because of the `break` that abandons the original basic block where it was contained.
         *
         *   (2) Additionally, its new containing block won't be visited either (*in this iteration*)
         *       because the new blocks don't show up in the linearization computed before inlinings started:
         *       `for(bb &lt;- tfa.callerLin; if tfa.preCandidates(bb)) {`
         *
         * For a next iteration, the new home of any instructions that have moved
         * will be tracked properly in `remainingCALLs` after `MTFAGrowable.reinit()` puts on radar their new homes.
         *
         */</span>
        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.retry" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          for<span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.afterBlock">afterBlock</a> &lt;- <a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">staleIn</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val justCALLsAfter = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.afterBlock" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.toList" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.collect" title="List[Inliners.this.global.icodes.opcodes.CALL_METHOD]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.justCALLsAfter">collect</a> <a title="&lt;$anon: Inliners.this.global.icodes.Instruction =&gt; Inliners.this.global.icodes.opcodes.CALL_METHOD&gt; extends scala.runtime.AbstractPartialFunction[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.CALL_METHOD] with Serializable" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.justCALLsAfter;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.justCALLsAfter;$anonfun.isDefinedAt.c">c</a> : opcodes.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.justCALLsAfter;$anonfun.isDefinedAt.c" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">c</a> <span class="delimiter">}</span>
            for<span class="delimiter">(</span><a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.ia">ia</a> &lt;- <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.icodes.opcodes.CALL_METHOD =&gt; Option[Inliners.this.global.analysis.CallsiteInfo])Unit">justCALLsAfter</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.remainingCALLs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.remove" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Option[Inliners.this.global.analysis.CallsiteInfo]">remove</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.$anonfun.ia" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">ia</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">/*
        if(splicedBlocks.nonEmpty) { // TODO explore (saves time but leads to slightly different inlining decisions)
          // opportunistically perform straightforward inlinings before the next typeflow round
          val savedRetry = retry
          val savedStaleOut = staleOut.toSet; staleOut.clear()
          val savedStaleIn  = staleIn.toSet ; staleIn.clear()
          val howmany = inlineWithoutTFA(splicedBlocks, tfa.knownBeforehand)
          splicedBlocks ++= staleIn
          staleOut.clear(); staleOut ++= savedStaleOut;
          staleIn.clear();  staleIn  ++= savedStaleIn;
          retry = savedRetry
        }
        */</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis.stat" title="=&gt; Boolean">stat</a><span class="delimiter">)</span>
          <a href="../../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; iterations: &quot;)" class="string">&quot; iterations: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/DataFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;DataFlowAnalysis.iterations" title="=&gt; Int">iterations</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; (size: &quot;)" class="string">&quot; (size: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length" title="=&gt; Int">length</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      while <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.retry" title="Boolean">retry</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.count" title="Int">count</a> <a href="../../../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span title="Int(15)">MAX_INLINE_RETRY</span><span class="delimiter">)</span>

      for<span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.inlFail">inlFail</a> &lt;- <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD =&gt; Unit)Unit">warnIfInlineFails</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.warn" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.inlFail" title="Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD">inlFail</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction.pos" title="=&gt; scala.reflect.internal.util.Position">pos</a>, <span title="String(&quot;At the end of the day, could not inline @inline-marked method &quot;)" class="string">&quot;At the end of the day, could not inline @inline-marked method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.$anonfun.inlFail" title="Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD">inlFail</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD.method" title="=&gt; Inliners.this.global.analysis.global.icodes.global.Symbol">method</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.unexpandedName" title="=&gt; Inliners.this.global.analysis.global.icodes.global.Name">unexpandedName</a>.<a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.decode" title="=&gt; String">decode</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.normalize" title="()Unit">normalize</a><span class="delimiter">(</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.sizeBeforeInlining" title="Int">sizeBeforeInlining</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.instrAfterInlining">instrAfterInlining</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.instructionCount" title="=&gt; Int">instructionCount</a>
        val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlinings">inlinings</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.caller" title="Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.inlinedCalls_=" title="=&gt; Int">inlinedCalls</a>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlinings" title="Int">inlinings</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.s1">s1</a>      = <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;instructions &quot;)">instructions $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.instrBeforeInlining" title="Int">instrBeforeInlining</a><span title="String(&quot; -&gt; &quot;)"> -&gt; $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.instrAfterInlining" title="Int">instrAfterInlining</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
          val <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.s2">s2</a>      = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.sizeBeforeInlining" title="Int">sizeBeforeInlining</a> <a href="../../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.blockCount" title="=&gt; Int">blockCount</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;, blocks &quot;)">, blocks $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.sizeBeforeInlining" title="Int">sizeBeforeInlining</a><span title="String(&quot; -&gt; &quot;)"> -&gt; $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.blockCount" title="=&gt; Int">blockCount</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>
          val callees = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlinedMethodCount" title="scala.collection.mutable.Map[Inliners.this.global.Symbol,Int]">inlinedMethodCount</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[(Inliners.this.global.Symbol, Int)]">toList</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[String]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees.$anonfun.x0$1" title="String" class="delimiter">{</a> case <span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees.$anonfun.k">k</a>, <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees.$anonfun.v">v</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees.$anonfun.k" title="Inliners.this.global.Symbol">k</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullNameString" title="=&gt; String">fullNameString</a> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span> if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees.$anonfun.v" title="Int">v</a> <a href="../../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees.$anonfun.v" title="Int">v</a> <span class="delimiter">)</span> <span class="delimiter">}</span>

          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;inlined&quot;)" class="string">&quot;inlined&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.callees" title="List[String]">callees</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.sorted" title="(implicit ord: scala.math.Ordering[String])List[String]">sorted</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(581ef61a02)" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.inlinings" title="Int">inlinings</a> <a href="../../../../Int.scala.html#scala;Int.+(2f2707259c)" title="(x: String)String">+</a> <span title="String(&quot; inlined: &quot;)" class="string">&quot; inlined: &quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;&lt;&lt;tldr&gt;&gt;&quot;)" class="string">&quot;&lt;&lt;tldr&gt;&gt;&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullName(3bf7c90be7)" title="=&gt; String">fullName</a>, <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.m" title="Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.nameString" title="=&gt; String">nameString</a><span class="delimiter">}</span><span title="String(&quot;: &quot;)">: $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.s1" title="String">s1</a><span title="String(&quot;&quot;)">$</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.analyzeMethod.s2" title="String">s2</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.isHigherOrderMethod">isHigherOrderMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.isHigherOrderMethod.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.isHigherOrderMethod.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a>
      <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Global.scala.html#scala.tools.nsc;Global.enteringExplicitOuter" title="(op: =&gt; Boolean)Boolean">enteringExplicitOuter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.isHigherOrderMethod.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.paramTypes" title="=&gt; List[Inliners.this.global.Type]">paramTypes</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: Inliners.this.global.Type =&gt; Boolean)Boolean">exists</a> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.isFunctionType" title="(tp: Inliners.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">)</span> <span class="comment">// was &quot;at erasurePhase.prev&quot;</span>
    <span class="delimiter">)</span>

    <span class="comment">/** Should method 'sym' being called in 'receiver' be loaded from disk? */</span>
    def <a title="(sym: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor">shouldLoadImplFor</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.receiver">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.alwaysLoad">alwaysLoad</a>    = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.receiver" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclosingPackage" title="=&gt; Inliners.this.global.Symbol">enclosingPackage</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.RuntimePackage" title="=&gt; Inliners.this.global.ModuleSymbol">RuntimePackage</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.receiver" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.PredefModule" title="=&gt; Inliners.this.global.ModuleSymbol">PredefModule</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;ModuleSymbol.moduleClass" title="=&gt; Inliners.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.loadCondition">loadCondition</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinalOrNotOverridden" title="=&gt; Boolean">isEffectivelyFinalOrNotOverridden</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners.isMonadicMethod" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.sym" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.isHigherOrderMethod" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.sym" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span>

      val res = <a href="#scala.tools.nsc.backend.opt;Inliners.hasInline" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.sym" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.alwaysLoad" title="=&gt; Boolean">alwaysLoad</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.res">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.loadCondition" title="=&gt; Boolean">loadCondition</a>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;shouldLoadImplFor: &quot;)" class="string">&quot;shouldLoadImplFor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.receiver" title="Inliners.this.global.Symbol">receiver</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.sym" title="Inliners.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.res" title="Boolean">res</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.shouldLoadImplFor.res" title="Boolean">res</a>
    <span class="delimiter">}</span>

    class <a title="class IMethodInfo extends AnyRef" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo">IMethodInfo</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo" title="Inliner.this.IMethodInfo" class="delimiter">(</a>val <a title="Inliners.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m">m</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="Inliners.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      override def <a title="()String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.toString">toString</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.toString" title="()String">toString</a>

      val <a title="Inliners.this.global.icodes.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym">sym</a>           = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>
      def <a title="=&gt; Inliners.this.global.icodes.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.owner">owner</a>         = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
      def <a title="=&gt; List[Inliners.this.global.icodes.global.Type]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.paramTypes">paramTypes</a>    = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Inliners.this.global.icodes.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.paramTypes" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>
      def <a title="=&gt; Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.minimumStack">minimumStack</a>  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.paramTypes" title="=&gt; List[Inliners.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>

      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isBridge">isBridge</a>      = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isBridge" title="=&gt; Boolean">isBridge</a>
      val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isInClosure">isInClosure</a>   = <a href="#scala.tools.nsc.backend.opt;Inliners.isClosureClass" title="(cls: Inliners.this.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span>
      val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isHigherOrder">isHigherOrder</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.isHigherOrderMethod" title="(sym: Inliners.this.global.Symbol)Boolean">isHigherOrderMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isMonadic">isMonadic</a>     = <a href="#scala.tools.nsc.backend.opt;Inliners.isMonadicMethod" title="(sym: Inliners.this.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>

      def <a title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.handlers">handlers</a>      = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.exh" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>
      def <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.blocks">blocks</a>        = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.blocks" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a>
      def <a title="=&gt; List[Inliners.this.global.icodes.Local]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.locals">locals</a>        = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.locals" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a>
      def <a title="=&gt; Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length">length</a>        = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.blocks" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a>
      def <a title="=&gt; List[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.openBlocks">openBlocks</a>    = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.blocks" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">blocks</a> <a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filterNot" title="(p: Inliners.this.global.icodes.BasicBlock =&gt; Boolean)List[Inliners.this.global.icodes.BasicBlock]">filterNot</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.openBlocks.$anonfun.x$6" title="Inliners.this.global.icodes.BasicBlock">_</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.closed" title="=&gt; Boolean">closed</a><span class="delimiter">)</span>
      def <a title="=&gt; List[Inliners.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.instructions">instructions</a>  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.instructions" title="=&gt; List[Inliners.this.global.icodes.Instruction]">instructions</a>

      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isSmall">isSmall</a>         = <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.<=(5f58a84eb3)" title="(x: Int)Boolean">&lt;=</a> <a href="#scala.tools.nsc.backend.opt;Inliners.SMALL_METHOD_SIZE" title="=&gt; Int">SMALL_METHOD_SIZE</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.apply" title="(n: Int)Inliners.this.global.icodes.BasicBlock">blocks</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span title="Int(10)" class="int">10</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isLarge">isLarge</a>         = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(16)">MAX_INLINE_SIZE</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isRecursive">isRecursive</a>     = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.recursive" title="=&gt; Boolean">recursive</a>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.hasHandlers">hasHandlers</a>     = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.handlers" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.bytecodeHasEHs" title="=&gt; Boolean">bytecodeHasEHs</a>

      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isSynchronized">isSynchronized</a>         = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasFlag(f19781a561)" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>Flags.<span title="Long(35184372088832L)">SYNCHRONIZED</span><span class="delimiter">)</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.hasNonFinalizerHandler">hasNonFinalizerHandler</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.handlers" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: Inliners.this.global.icodes.ExceptionHandler =&gt; Boolean)Boolean">exists</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.hasNonFinalizerHandler.$anonfun.x0$2" title="Boolean" class="delimiter">{</a>
        case _: <a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;Finalizer" title="Inliners.this.global.icodes.Finalizer">Finalizer</a> =&gt; true
        case _            =&gt; false
      <span class="delimiter">}</span>

      <span class="comment">// the number of inlined calls in 'm', used by 'isScoreOK'</span>
      var <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.inlinedCalls_=">inlinedCalls</a> = <span title="Int(0)" class="int">0</span>

      def <a title="(ls: List[Inliners.this.global.icodes.Local])Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocals">addLocals</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.Local]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocals.ls">ls</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Inliners.this.global.icodes.Local]">List</a><span class="delimiter">[</span>Local<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.locals_=" title="(x$1: List[Inliners.this.global.icodes.Local])Unit">locals</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[Inliners.this.global.icodes.Local])(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">++=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocals.ls" title="List[Inliners.this.global.icodes.Local]">ls</a>
      def <a title="(l: Inliners.this.global.icodes.Local)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocal">addLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocal.l">l</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>          = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocals" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Inliners.this.global.icodes.Local*)List[Inliners.this.global.icodes.Local]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocal.l" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
      def <a title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addHandlers">addHandlers</a><span class="delimiter">(</span><a title="List[Inliners.this.global.icodes.ExceptionHandler]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addHandlers.exhs">exhs</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Inliners.this.global.icodes.ExceptionHandler]">List</a><span class="delimiter">[</span>ExceptionHandler<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.exh_=" title="(x$1: List[Inliners.this.global.icodes.ExceptionHandler])Unit">exh</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addHandlers.exhs" title="List[Inliners.this.global.icodes.ExceptionHandler]">exhs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[Inliners.this.global.icodes.ExceptionHandler])List[Inliners.this.global.icodes.ExceptionHandler]">:::</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.exh" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">exh</a>

      <span class="comment">/**
       * This method inspects the callee's instructions, finding out the most restrictive accessibility implied by them.
       *
       * Rather than giving up upon encountering an access to a private field `p`, it provisorily admits `p` as &quot;can-be-made-public&quot;, provided:
       *   - `p` is being compiled as part of this compilation run, and
       *   - `p` is synthetic or param-accessor.
       *
       * This method is side-effect free, in particular it lets the invoker decide
       * whether the accessibility of the `toBecomePublic` fields should be changed or not.
       */</span>
      def <a title="=&gt; Inliner.this.AccessReq" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements">accessRequirements</a>: <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.AccessReq.readResolve" title="Inliner.this.AccessReq">AccessReq</a> = <span class="delimiter">{</span>

        var <a title="List[Inliners.this.global.Symbol]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.toBecomePublic">toBecomePublic</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Inliners.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>

        def <a title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check">check</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check.cond">cond</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span> =
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check.cond" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Private" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
          else if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isProtected" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Protected" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>
          else <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Public" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>

        def <a title="(f: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.canMakePublic">canMakePublic</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.canMakePublic.f">f</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> =
          <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.sourceFile" title="=&gt; scala.reflect.internal.util.SourceFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util.NoSourceFile" title="scala.reflect.internal.util.NoSourceFile.type">NoSourceFile</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.canMakePublic.f" title="Inliners.this.global.Symbol">f</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isSynthetic" title="=&gt; Boolean">isSynthetic</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.canMakePublic.f" title="Inliners.this.global.Symbol">f</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isParamAccessor" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.toBecomePublic" title="List[Inliners.this.global.Symbol]">toBecomePublic</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.canMakePublic.f" title="Inliners.this.global.Symbol">f</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: Inliners.this.global.Symbol)List[Inliners.this.global.Symbol]">::</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.toBecomePublic" title="List[Inliners.this.global.Symbol]">toBecomePublic</a>; true <span class="delimiter">}</span>

        <span class="comment">/* A safety check to consider as private, for the purposes of inlining, a public field that:
         *   (1) is defined in an external library, and
         *   (2) can be presumed synthetic (due to a dollar sign in its name).
         * Such field was made public by `doMakePublic()` and we don't want to rely on that,
         * because under other compilation conditions (ie no -optimize) that won't be the case anymore.
         *
         * This allows aggressive intra-library inlining (making public if needed)
         * that does not break inter-library scenarios (see comment for `Inliners`).
         *
         * TODO handle more robustly the case of a trait var changed at the source-level from public to private[this]
         *      (eg by having ICodeReader use unpickler, see SI-5442).

         DISABLED

        def potentiallyPublicized(f: Symbol): Boolean = {
          (m.sourceFile eq NoSourceFile) &amp;&amp; f.name.containsChar('$')
        }
        */</span>


        def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining">isPrivateForInlining</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isJavaDefined" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            def <a title="(sym: Inliners.this.global.Symbol)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.check">check</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.check.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.check.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isPublic" title="=&gt; Boolean">isPublic</a> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.check.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isProtected" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.check" title="(sym: Inliners.this.global.Symbol)Boolean">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.sym" title="Inliners.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.check" title="(sym: Inliners.this.global.Symbol)Boolean">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Inliners.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// SI-7582 Must check the enclosing class *and* the symbol for Java.</span>
          <span class="delimiter">}</span>
          else <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining.sym" title="Inliners.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isPrivate" title="=&gt; Boolean">isPrivate</a> <span class="comment">// Scala never emits package-private bytecode</span>
        <span class="delimiter">}</span>

        def <a title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField">checkField</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField.f">f</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField.f" title="Inliners.this.global.Symbol">f</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining" title="(sym: Inliners.this.global.Symbol)Boolean">isPrivateForInlining</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField.f" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.canMakePublic" title="(f: Inliners.this.global.Symbol)Boolean">canMakePublic</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField.f" title="Inliners.this.global.Symbol">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
        def <a title="(n: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkSuper">checkSuper</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkSuper.n">n</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>   = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkSuper.n" title="Inliners.this.global.Symbol">n</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining" title="(sym: Inliners.this.global.Symbol)Boolean">isPrivateForInlining</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkSuper.n" title="Inliners.this.global.Symbol">n</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkSuper.n" title="Inliners.this.global.Symbol">n</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isClassConstructor" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
        def <a title="(n: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkMethod">checkMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkMethod.n">n</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.check" title="(sym: Inliners.this.global.Symbol, cond: Boolean)Inliner.this.NonPublicRefs.Value">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkMethod.n" title="Inliners.this.global.Symbol">n</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.isPrivateForInlining" title="(sym: Inliners.this.global.Symbol)Boolean">isPrivateForInlining</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkMethod.n" title="Inliners.this.global.Symbol">n</a><span class="delimiter">)</span><span class="delimiter">)</span>

        def <a title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.getAccess">getAccess</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.getAccess.i">i</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.getAccess.i" title="Inliners.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span>
          case CALL_METHOD<span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">n</span>, SuperCall<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkSuper" title="(n: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkSuper</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">n</span><span class="delimiter">)</span>
          case CALL_METHOD<span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">n</span>, _<span class="delimiter">)</span>            =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkMethod" title="(n: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkMethod</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">n</span><span class="delimiter">)</span>
          case LOAD_FIELD<span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">f</span>, _<span class="delimiter">)</span>             =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">f</span><span class="delimiter">)</span>
          case STORE_FIELD<span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">f</span>, _<span class="delimiter">)</span>            =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.checkField" title="(f: Inliners.this.global.Symbol)Inliner.this.NonPublicRefs.Value">checkField</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.global.Symbol">f</span><span class="delimiter">)</span>
          case _                            =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Public" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>
        <span class="delimiter">}</span>

        var <a title="Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.seen">seen</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Public" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>
        val <a title="Iterator[Inliners.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.iter">iter</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.instructions" title="=&gt; List[Inliners.this.global.icodes.Instruction]">instructions</a>.<a href="../../../../collection/LinearSeqLike.scala.html#scala.collection;LinearSeqLike.iterator" title="=&gt; Iterator[Inliners.this.global.icodes.Instruction]">iterator</a>
        while<span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.seen" title="Inliner.this.NonPublicRefs.Value">seen</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Private" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.iter" title="Iterator[Inliners.this.global.icodes.Instruction]">iter</a>.<a href="../../../../collection/Iterator.scala.html#scala.collection;Iterator.hasNext" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.while$1" title="()Unit" class="delimiter">{</a>
          val <a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.i">i</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.iter" title="Iterator[Inliners.this.global.icodes.Instruction]">iter</a>.<a href="../../../../collection/Iterator.scala.html#scala.collection;Iterator.next" title="()Inliners.this.global.icodes.Instruction">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.getAccess" title="(i: Inliners.this.global.icodes.Instruction)Inliner.this.NonPublicRefs.Value">getAccess</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.i" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Private" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>    =&gt;
              <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(476e0a511d)" title="(what: String, main: =&gt; String, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;access&quot;)" class="string">&quot;access&quot;</span>, <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;instruction &quot;)">instruction $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.i" title="Inliners.this.global.icodes.Instruction">i</a><span title="String(&quot; requires private access&quot;)" class="string"> requires private access&quot;</span>, <span title="String(&quot;pos=&quot;)" class="string">&quot;pos=&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.i" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction.pos" title="=&gt; scala.reflect.internal.util.Position">pos</a><span class="delimiter">)</span>
              <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.toBecomePublic" title="List[Inliners.this.global.Symbol]">toBecomePublic</a> = <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
              <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.seen" title="Inliner.this.NonPublicRefs.Value">seen</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Private" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>
            case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Protected" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>  =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.seen" title="Inliner.this.NonPublicRefs.Value">seen</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Protected" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>
            case _          =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.AccessReq.readResolve" title="(accessNeeded: Inliner.this.NonPublicRefs.Value, toBecomePublic: List[Inliners.this.global.Symbol])Inliner.this.AccessReq">AccessReq</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.seen" title="Inliner.this.NonPublicRefs.Value">seen</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements.toBecomePublic" title="List[Inliners.this.global.Symbol]">toBecomePublic</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    <span class="comment">/**
     * Classifies a pair (caller, callee) into one of four categories:
     *
     *   (a) inlining should be performed, classified in turn into:
     *       (a.1) `InlineableAtThisCaller`: unconditionally at this caller
     *       (a.2) `FeasibleInline`: it only remains for certain access requirements to be met (see `IMethodInfo.accessRequirements()`)
     *
     *   (b) inlining shouldn't be performed, classified in turn into:
     *       (b.1) `DontInlineHere`: indicates that this particular occurrence of the callee at the caller shouldn't be inlined.
     *                - Nothing is said about the outcome for other callers, or for other occurrences of the callee for the same caller.
     *                - In particular inlining might be possible, but heuristics gave a low score for it.
     *       (b.2) `NeverSafeToInline`: the callee can't be inlined anywhere, irrespective of caller.
     *
     * The classification above is computed by `isStampedForInlining()` based on which `analyzeInc()` goes on to:
     *   - either log the reason for failure --- case (b) ---,
     *   - or perform inlining --- case (a) ---.
     */</span>
    sealed abstract class <a title="class InlineSafetyInfo extends AnyRef" id="scala.tools.nsc.backend.opt;Inliners;Inliner;InlineSafetyInfo">InlineSafetyInfo</a>
    case object <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NeverSafeToInline.productElement.x$1" title="Inliner.this.NeverSafeToInline.type" id="scala.tools.nsc.backend.opt;Inliners;Inliner.NeverSafeToInline.readResolve">NeverSafeToInline</a>           extends <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;InlineSafetyInfo" title="Inliner.this.InlineSafetyInfo">InlineSafetyInfo</a>
    case object <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.InlineableAtThisCaller.productElement.x$1" title="Inliner.this.InlineableAtThisCaller.type" id="scala.tools.nsc.backend.opt;Inliners;Inliner.InlineableAtThisCaller.readResolve">InlineableAtThisCaller</a>      extends <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;InlineSafetyInfo" title="Inliner.this.InlineSafetyInfo">InlineSafetyInfo</a>
    case class  <a title="class DontInlineHere extends Inliner.this.InlineSafetyInfo with Product with Serializable" id="scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve">DontInlineHere</a><a href="../../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;DontInlineHere.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;InlineSafetyInfo" title="Inliner.this.InlineSafetyInfo">InlineSafetyInfo</a>
    case class  <a title="class FeasibleInline extends Inliner.this.InlineSafetyInfo with Product with Serializable" id="scala.tools.nsc.backend.opt;Inliners;Inliner.FeasibleInline.readResolve">FeasibleInline</a><a href="../../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;FeasibleInline.accessNeeded">accessNeeded</a>: NonPublicRefs.<a href="../../../../Enumeration.scala.html#scala;Enumeration;Value" title="Inliner.this.NonPublicRefs.Value">Value</a>, <a title="List[Inliners.this.global.Symbol]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;FeasibleInline.toBecomePublic">toBecomePublic</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Inliners.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;InlineSafetyInfo" title="Inliner.this.InlineSafetyInfo">InlineSafetyInfo</a>

    case class <a title="class AccessReq extends AnyRef with Product with Serializable" id="scala.tools.nsc.backend.opt;Inliners;Inliner.AccessReq.readResolve">AccessReq</a><a href="../../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a>
      <a title="Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;AccessReq.accessNeeded">accessNeeded</a>:   NonPublicRefs.<a href="../../../../Enumeration.scala.html#scala;Enumeration;Value" title="Inliner.this.NonPublicRefs.Value">Value</a>,
      <a title="List[Inliners.this.global.Symbol]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;AccessReq.toBecomePublic">toBecomePublic</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Inliners.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="delimiter">)</span>

    final class <a title="class CallerCalleeInfo extends AnyRef" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo">CallerCalleeInfo</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo" title="Inliner.this.CallerCalleeInfo" class="delimiter">(</a>val <a title="Inliner.this.IMethodInfo" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller">caller</a>: <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo" title="Inliner.this.IMethodInfo">IMethodInfo</a>, val <a title="Inliner.this.IMethodInfo" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc">inc</a>: <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo" title="Inliner.this.IMethodInfo">IMethodInfo</a>, <a title="scala.collection.mutable.Map[String,Int]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.fresh">fresh</a>: mutable.<a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map" title="scala.collection.mutable.Map[String,Int]">Map</a><span class="delimiter">[</span>String, Int<span class="delimiter">]</span>, <a title="scala.collection.Map[Inliners.this.global.Symbol,Int]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinedMethodCount">inlinedMethodCount</a>: scala.collection.<a href="../../../../collection/Map.scala.html#scala.collection;Map" title="scala.collection.Map[Inliners.this.global.Symbol,Int]">Map</a><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isBridge" title="=&gt; Boolean">isBridge</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.hasCode" title="=&gt; Boolean">hasCode</a>,
             <span title="String(&quot;A guard in Inliner.analyzeClass() should have prevented from getting here.&quot;)" class="string">&quot;A guard in Inliner.analyzeClass() should have prevented from getting here.&quot;</span><span class="delimiter">)</span>

      def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isLargeSum">isLargeSum</a>  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <a href="#scala.tools.nsc.backend.opt;Inliners.SMALL_METHOD_SIZE" title="=&gt; Int">SMALL_METHOD_SIZE</a>

      private def <a title="(s: String)Inliners.this.global.TermName" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName">freshName</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName.s">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;TermName" title="Inliners.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
        <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: String, value: Int)Unit">fresh</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName.s" title="String">s</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names.newTermName(16764ff47f)" title="(s: String)Inliners.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName.s" title="String">s</a> <span title="(x$1: Any)String">+</span> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: String)Int">fresh</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName.s" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      private def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isKnownToInlineSafely">isKnownToInlineSafely</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Inliners.this.global.analysis.global.Symbol)Boolean">knownSafe</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">}</span>

      val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForced">isInlineForced</a>    = <a href="#scala.tools.nsc.backend.opt;Inliners.hasInline" title="(sym: Inliners.this.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      val <a title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForbidden">isInlineForbidden</a> = <a href="#scala.tools.nsc.backend.opt;Inliners.hasNoInline" title="(sym: Inliners.this.global.Symbol)Boolean">hasNoInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForced" title="=&gt; Boolean">isInlineForced</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForbidden" title="=&gt; Boolean">isInlineForbidden</a><span class="delimiter">)</span>, <span title="String(&quot;method (&quot;)" class="string">&quot;method (&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span title="(x$1: Any)String">+</span><span title="String(&quot;) marked both @inline and @noinline.&quot;)" class="string">&quot;) marked both @inline and @noinline.&quot;</span><span class="delimiter">)</span>

      <span class="comment">/** Inline 'inc' into 'caller' at the given block and instruction.
       *  The instruction must be a CALL_METHOD.
       */</span>
      def <a title="(block: Inliners.this.global.icodes.BasicBlock, instr: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline">doInline</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block">block</a>: <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="Inliners.this.global.icodes.opcodes.CALL_METHOD" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instr">instr</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleOut" title="=&gt; scala.collection.mutable.ListBuffer[Inliners.this.global.icodes.BasicBlock]">staleOut</a> <a href="../../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Inliners.this.global.icodes.BasicBlock)Inliner.this.staleOut.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.remainingCALLs" title="=&gt; scala.collection.mutable.Map[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD,Inliners.this.global.analysis.CallsiteInfo]">remainingCALLs</a>.<a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.remove" title="(key: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Option[Inliners.this.global.analysis.CallsiteInfo]">remove</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instr" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a><span class="delimiter">)</span> <span class="comment">// this bookkpeeping is done here and not in MTFAGrowable.reinit due to (1st) convenience and (2nd) necessity.</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.isOnWatchlist" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.Instruction]">isOnWatchlist</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.remove" title="(elem: Inliners.this.global.analysis.global.icodes.Instruction)Boolean">remove</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instr" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a><span class="delimiter">)</span>  <span class="comment">// ditto</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.warnIfInlineFails" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD]">warnIfInlineFails</a>.<a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.remove" title="(elem: Inliners.this.global.analysis.global.icodes.opcodes.CALL_METHOD)Boolean">remove</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instr" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a><span class="delimiter">)</span>

        val <a title="scala.reflect.internal.util.Position" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.targetPos">targetPos</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instr" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction.pos" title="=&gt; scala.reflect.internal.util.Position">pos</a>

        def <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.blockEmit">blockEmit</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.blockEmit.i">i</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.emit(361f57b075)" title="(instr: Inliners.this.global.icodes.Instruction, pos: Inliners.this.global.icodes.global.Position)Unit">emit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.blockEmit.i" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.targetPos" title="scala.reflect.internal.util.Position">targetPos</a><span class="delimiter">)</span>
        def <a title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal">newLocal</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal.baseName">baseName</a>: <span title="String">String</span>, <a title="Inliners.this.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal.kind">kind</a>: <a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds;TypeKind" title="Inliners.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span> =
          new <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newVariable" title="(name: Inliners.this.global.icodes.global.TermName, pos: Inliners.this.global.icodes.global.Position, newFlags: Long)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName" title="(s: String)Inliners.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal.baseName" title="String">baseName</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.targetPos" title="scala.reflect.internal.util.Position">targetPos</a><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="(info: Inliners.this.global.icodes.global.Type)Inliners.this.global.icodes.global.TermSymbol">setInfo</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal.kind" title="Inliners.this.global.icodes.TypeKind">kind</a>.<a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds;TypeKind.toType" title="=&gt; Inliners.this.global.icodes.global.Type">toType</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal.kind" title="Inliners.this.global.icodes.TypeKind">kind</a>, false<span class="delimiter">)</span>

        val <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, Inliners.this.global.analysis.MethodTFA)" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#scala;Tuple2._1" title="Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.hasRETURN">hasRETURN</a>, <a href="../../../../Tuple2.scala.html#scala;Tuple2._2" title="Inliners.this.global.analysis.MethodTFA" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.a">a</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.getRecentTFA" title="(incm: Inliners.this.global.icodes.IMethod, forceable: Boolean)(Boolean, Inliners.this.global.analysis.MethodTFA)">getRecentTFA</a><a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, Inliners.this.global.analysis.MethodTFA) @unchecked" class="delimiter">(</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForced" title="=&gt; Boolean">isInlineForced</a><span class="delimiter">)</span>

        <span class="comment">/* The exception handlers that are active at the current block. */</span>
        val activeHandlers = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.handlers" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="List[Inliners.this.global.icodes.ExceptionHandler]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.activeHandlers">filter</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.activeHandlers.$anonfun.x$10" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Inliners.this.global.icodes.BasicBlock)Boolean">covered</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a><span class="delimiter">)</span>

        <span class="comment">/* Map 'original' blocks to the ones inlined in the caller. */</span>
        val <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedBlock">inlinedBlock</a> = mutable.<a href="../../../../collection/generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</a><span title="(elems: (Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock)*)scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a>, <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="Inliners.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        val varsInScope = mutable.<a href="../../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: Inliners.this.global.icodes.Local*)scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]" class="delimiter">[</span><a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.varsInScope">++=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.varsInScope" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a>

        <span class="comment">/* Side effects varsInScope when it sees SCOPE_ENTERs. */</span>
        def <a title="(i: Inliners.this.global.icodes.Instruction)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter">instrBeforeFilter</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter.i">i</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter.i" title="Inliners.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span> case SCOPE_ENTER<span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter.l">l</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.varsInScope" title="scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.+=(53f2a8289f)" title="(elem: Inliners.this.global.icodes.Local)varsInScope.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter.l" title="Inliners.this.global.icodes.Local">l</a> ; case _ =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter.i" title="Inliners.this.global.icodes.Instruction">i</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instr" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">instr</a>
        <span class="delimiter">}</span>
        val instrBefore = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.toList" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.takeWhile" title="List[Inliners.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBefore">takeWhile</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBeforeFilter" title="(i: Inliners.this.global.icodes.Instruction)Boolean">instrBeforeFilter</a>
        val instrAfter  = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.toList" title="=&gt; List[Inliners.this.global.icodes.Instruction]">toList</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.drop" title="List[Inliners.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrAfter">drop</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBefore" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrAfter" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a>, <span title="String(&quot;CALL_METHOD cannot be the last instruction in block!&quot;)" class="string">&quot;CALL_METHOD cannot be the last instruction in block!&quot;</span><span class="delimiter">)</span>

        <span class="comment">// store the '$this' into the special local</span>
        val <a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedThis">inlinedThis</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="String(&quot;$inlThis&quot;)" class="string">&quot;$inlThis&quot;</span>, <a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds;REFERENCE" title="(cls: Inliners.this.global.icodes.global.Symbol)Inliners.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ObjectClass" title="=&gt; Inliners.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">/* buffer for the returned value */</span>
        val <a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal">retVal</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.returnType" title="=&gt; Inliners.this.global.icodes.TypeKind">returnType</a> match <span class="delimiter">{</span>
          case <a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds.UNIT" title="Inliners.this.global.icodes.UNIT.type">UNIT</a>  =&gt; null
          case <a title="Inliners.this.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal.x">x</a>     =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newLocal" title="(baseName: String, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.Local">newLocal</a><span class="delimiter">(</span><span title="String(&quot;$retVal&quot;)" class="string">&quot;$retVal&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal.x" title="Inliners.this.global.icodes.TypeKind">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        val <a title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedLocals">inlinedLocals</a> = mutable.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable.HashMap" title="scala.collection.mutable.HashMap.type">HashMap</a>.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable.HashMap.empty" title="[A, B]=&gt; scala.collection.mutable.HashMap[A,B]">empty</a><span title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]" class="delimiter">[</span><a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a>, <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">]</span>

        <span class="comment">/* Add a new block in the current context. */</span>
        def <a title="()Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          val <a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.b">b</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.code" title="=&gt; Inliners.this.global.icodes.Code">code</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Code.newBlock" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.activeHandlers" title="List[Inliners.this.global.icodes.ExceptionHandler]">activeHandlers</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)Unit">foreach</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.$anonfun.x$11" title="Inliners.this.global.icodes.ExceptionHandler">_</a> <a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.addCoveredBlock" title="(b: Inliners.this.global.icodes.BasicBlock)x$11.type">addCoveredBlock</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.b" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.b" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.varsInScope" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.icodes.Local)b.varsInScope.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal" title="Inliners.this.global.icodes.Local">retVal</a>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.b" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.varsInScope" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.icodes.Local)b.varsInScope.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedThis" title="Inliners.this.global.icodes.Local">inlinedThis</a>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.b" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.varsInScope" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])b.varsInScope.type">++=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.varsInScope" title="scala.collection.mutable.HashSet[Inliners.this.global.icodes.Local]">varsInScope</a>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock.b" title="Inliners.this.global.icodes.BasicBlock">b</a>
        <span class="delimiter">}</span>

        def <a title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh">translateExh</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.ExceptionHandler" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.e">e</a>: <a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          val <a title="Inliners.this.global.icodes.ExceptionHandler" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.handler">handler</a>: <a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler" title="Inliners.this.global.icodes.ExceptionHandler">ExceptionHandler</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.e" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.dup" title="=&gt; Inliners.this.global.icodes.ExceptionHandler">dup</a>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.handler" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.covered_=" title="(x$1: scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock])Unit">covered</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.handler" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>.<a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.covered" title="=&gt; scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">covered</a> <a href="../../../../collection/SetLike.scala.html#scala.collection;SetLike.map" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]])scala.collection.immutable.Set[Inliners.this.global.icodes.BasicBlock]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedBlock" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.handler" title="Inliners.this.global.icodes.ExceptionHandler">handler</a> <a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.setStartBlock" title="(b: Inliners.this.global.icodes.BasicBlock)Unit">setStartBlock</a> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.e" title="Inliners.this.global.icodes.ExceptionHandler">e</a>.<a href="../icode/ExceptionHandlers.scala.html#scala.tools.nsc.backend.icode;ExceptionHandlers;ExceptionHandler.startBlock" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh.handler" title="Inliners.this.global.icodes.ExceptionHandler">handler</a>
        <span class="delimiter">}</span>

        <span class="comment">/* alfa-rename `l` in caller's context. */</span>
        def <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal">dupLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.l">l</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a> = <span class="delimiter">{</span>
          val <a title="Inliners.this.global.icodes.global.TermSymbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.sym">sym</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newVariable" title="(name: Inliners.this.global.icodes.global.TermName, pos: Inliners.this.global.icodes.global.Position, newFlags: Long)Inliners.this.global.icodes.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.freshName" title="(s: String)Inliners.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.l" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; l.sym.NameType">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.l" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a><span class="delimiter">)</span>
          <span class="comment">// sym.setInfo(l.sym.tpe)</span>
          val <a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.dupped">dupped</a> = new <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.sym" title="Inliners.this.global.icodes.global.TermSymbol">sym</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.l" title="Inliners.this.global.icodes.Local">l</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.kind" title="=&gt; Inliners.this.global.icodes.TypeKind">kind</a>, false<span class="delimiter">)</span>
          <a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: Inliners.this.global.icodes.Local, value: Inliners.this.global.icodes.Local)Unit">inlinedLocals</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.l" title="Inliners.this.global.icodes.Local">l</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.dupped" title="Inliners.this.global.icodes.Local">dupped</a>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal.dupped" title="Inliners.this.global.icodes.Local">dupped</a>
        <span class="delimiter">}</span>

        val <a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.afterBlock">afterBlock</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">/* Map from nw.init instructions to their matching NEW call */</span>
        val <a title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.pending">pending</a>: mutable.<a href="../../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">Map</a><span class="delimiter">[</span>Instruction, NEW<span class="delimiter">]</span> = new mutable.<a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">HashMap</a>

        <span class="comment">/* Map an instruction from the callee to one suitable for the caller. */</span>
        def <a title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map">map</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.i">i</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Inliners.this.global.icodes.Instruction">Instruction</a> = <span class="delimiter">{</span>
          def <a title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.assertLocal">assertLocal</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.assertLocal.l">l</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.locals" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.contains" title="(elem: Inliners.this.global.icodes.Local)Boolean">contains</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.assertLocal.l" title="Inliners.this.global.icodes.Local">l</a>, <span title="String(&quot;Could not find local \'&quot;)" class="string">&quot;Could not find local '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.assertLocal.l" title="Inliners.this.global.icodes.Local">l</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' in locals, nor in inlinedLocals: &quot;)" class="string">&quot;' in locals, nor in inlinedLocals: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedLocals" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.i" title="Inliners.this.global.icodes.Instruction">i</a>
          <span class="delimiter">}</span>
          def <a title="(l: Inliners.this.global.icodes.Local)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined">isInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined.l">l</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local" title="Inliners.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedLocals" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: Inliners.this.global.icodes.Local)Boolean">isDefinedAt</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined.l" title="Inliners.this.global.icodes.Local">l</a>

          val <a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr">newInstr</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.i" title="Inliners.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span>
            case THIS<span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.clasz">clasz</a><span class="delimiter">)</span>                    =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;LOAD_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedThis" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            case STORE_THIS<span class="delimiter">(</span>_<span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;STORE_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedThis" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span>
            case JUMP<span class="delimiter">(</span><a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.whereto">whereto</a><span class="delimiter">)</span>                  =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;JUMP" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.whereto" title="Inliners.this.global.icodes.BasicBlock">whereto</a><span class="delimiter">)</span><span class="delimiter">)</span>
            case CJUMP<span class="delimiter">(</span><span title="Inliners.this.global.icodes.BasicBlock">succ</span>, <span title="Inliners.this.global.icodes.BasicBlock">fail</span>, <span title="Inliners.this.global.icodes.TestOp">cond</span>, <span title="Inliners.this.global.icodes.TypeKind">kind</span><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CJUMP" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CJUMP">CJUMP</a><span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.BasicBlock">succ</span><span class="delimiter">)</span>, <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.BasicBlock">fail</span><span class="delimiter">)</span>, <span title="Inliners.this.global.icodes.TestOp">cond</span>, <span title="Inliners.this.global.icodes.TypeKind">kind</span><span class="delimiter">)</span>
            case CZJUMP<span class="delimiter">(</span><span title="Inliners.this.global.icodes.BasicBlock">succ</span>, <span title="Inliners.this.global.icodes.BasicBlock">fail</span>, <span title="Inliners.this.global.icodes.TestOp">cond</span>, <span title="Inliners.this.global.icodes.TypeKind">kind</span><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CZJUMP" title="(successBlock: Inliners.this.global.icodes.BasicBlock, failureBlock: Inliners.this.global.icodes.BasicBlock, cond: Inliners.this.global.icodes.TestOp, kind: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.CZJUMP">CZJUMP</a><span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.BasicBlock">succ</span><span class="delimiter">)</span>, <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.BasicBlock">fail</span><span class="delimiter">)</span>, <span title="Inliners.this.global.icodes.TestOp">cond</span>, <span title="Inliners.this.global.icodes.TypeKind">kind</span><span class="delimiter">)</span>
            case SWITCH<span class="delimiter">(</span><a title="List[List[Int]]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.tags">tags</a>, <a title="List[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.labels">labels</a><span class="delimiter">)</span>           =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;SWITCH" title="(tags: List[List[Int]], labels: List[Inliners.this.global.icodes.BasicBlock])Inliners.this.global.icodes.opcodes.SWITCH">SWITCH</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.tags" title="List[List[Int]]">tags</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.labels" title="List[Inliners.this.global.icodes.BasicBlock]">labels</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,List[Inliners.this.global.icodes.BasicBlock]])List[Inliners.this.global.icodes.BasicBlock]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedBlock" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>
            case RETURN<span class="delimiter">(</span>_<span class="delimiter">)</span>                      =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;JUMP" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.afterBlock" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a><span class="delimiter">)</span>
            case LOAD_LOCAL<span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;LOAD_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case STORE_LOCAL<span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;STORE_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case LOAD_LOCAL<span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span>                  =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.assertLocal" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span>
            case STORE_LOCAL<span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span>                 =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.assertLocal" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Instruction">assertLocal</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span>
            case SCOPE_ENTER<span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span> =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;SCOPE_ENTER" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_ENTER">SCOPE_ENTER</a><span class="delimiter">(</span><a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case SCOPE_EXIT<span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.isInlined" title="(l: Inliners.this.global.icodes.Local)Boolean">isInlined</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span>  =&gt; <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;SCOPE_EXIT" title="(lv: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.SCOPE_EXIT">SCOPE_EXIT</a><span class="delimiter">(</span><a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><span title="Inliners.this.global.icodes.Local">l</span><span class="delimiter">)</span><span class="delimiter">)</span>

            case <a title="Inliners.this.global.icodes.opcodes.NEW" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.nw">nw</a> @ NEW<span class="delimiter">(</span><a title="Inliners.this.global.icodes.REFERENCE" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.sym">sym</a><span class="delimiter">)</span> =&gt;
              val <a title="Inliners.this.global.icodes.opcodes.NEW" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.r">r</a> = <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;NEW" title="(kind: Inliners.this.global.icodes.REFERENCE)Inliners.this.global.icodes.opcodes.NEW">NEW</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.sym" title="Inliners.this.global.icodes.REFERENCE">sym</a><span class="delimiter">)</span>
              <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: Inliners.this.global.icodes.Instruction, value: Inliners.this.global.icodes.opcodes.NEW)Unit">pending</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.nw" title="Inliners.this.global.icodes.opcodes.NEW">nw</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;NEW.init" title="=&gt; Inliners.this.global.icodes.opcodes.CALL_METHOD">init</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.r" title="Inliners.this.global.icodes.opcodes.NEW">r</a>
              <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.r" title="Inliners.this.global.icodes.opcodes.NEW">r</a>

            case CALL_METHOD<span class="delimiter">(</span><a title="Inliners.this.global.icodes.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.meth">meth</a>, Static<span class="delimiter">(</span>true<span class="delimiter">)</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.meth" title="Inliners.this.global.icodes.global.Symbol">meth</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isClassConstructor" title="=&gt; Boolean">isClassConstructor</a> =&gt;
              <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD" title="(method: Inliners.this.global.icodes.global.Symbol, style: Inliners.this.global.icodes.opcodes.InvokeStyle)Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr.meth" title="Inliners.this.global.icodes.global.Symbol">meth</a>, <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;Static" title="(onInstance: Boolean)Inliners.this.global.icodes.opcodes.Static">Static</a><span class="delimiter">(</span>onInstance = true<span class="delimiter">)</span><span class="delimiter">)</span>

            case _ =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.i" title="Inliners.this.global.icodes.Instruction">i</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction.clone" title="()Inliners.this.global.icodes.Instruction">clone</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="comment">// check any pending NEW's</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.pending" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a> <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.remove" title="(key: Inliners.this.global.icodes.Instruction)Option[Inliners.this.global.icodes.opcodes.NEW]">remove</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.i" title="Inliners.this.global.icodes.Instruction">i</a> <a href="../../../../Option.scala.html#scala;Option.foreach" title="(f: Inliners.this.global.icodes.opcodes.NEW =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.$anonfun.x$12" title="Inliners.this.global.icodes.opcodes.NEW">_</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;NEW.init_=" title="(x$1: Inliners.this.global.icodes.opcodes.CALL_METHOD)Unit">init</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr" title="Inliners.this.global.icodes.Instruction">newInstr</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Inliners.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">[</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CALL_METHOD" title="Inliners.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map.newInstr" title="Inliners.this.global.icodes.Instruction">newInstr</a>
        <span class="delimiter">}</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocals" title="(ls: List[Inliners.this.global.icodes.Local])Unit">addLocals</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.locals" title="=&gt; List[Inliners.this.global.icodes.Local]">locals</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,List[Inliners.this.global.icodes.Local]])List[Inliners.this.global.icodes.Local]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.dupLocal" title="(l: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">dupLocal</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocal" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedThis" title="Inliners.this.global.icodes.Local">inlinedThis</a>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal" title="Inliners.this.global.icodes.Local">retVal</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addLocal" title="(l: Inliners.this.global.icodes.Local)Unit">addLocal</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal" title="Inliners.this.global.icodes.Local">retVal</a>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.foreachBlock" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local])Unit">foreachBlock</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.b">b</a> =&gt;
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedBlock" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a> <a href="../../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.+=(71a5850576)" title="(kv: (Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock))inlinedBlock.type">+=</a> <span class="delimiter">(</span><a href="../../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: Inliners.this.global.icodes.BasicBlock)ArrowAssoc[Inliners.this.global.icodes.BasicBlock]">b</a> <a href="../../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: Inliners.this.global.icodes.BasicBlock)(Inliners.this.global.icodes.BasicBlock, Inliners.this.global.icodes.BasicBlock)">-&gt;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.newBlock" title="()Inliners.this.global.icodes.BasicBlock">newBlock</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.b" title="Inliners.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.varsInScope" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.Local])scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">++=</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.b" title="Inliners.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.varsInScope" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.Local]">varsInScope</a> <a href="../../../../collection/SetLike.scala.html#scala.collection;SetLike.map" title="(f: Inliners.this.global.icodes.Local =&gt; Inliners.this.global.icodes.Local)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[Inliners.this.global.icodes.Local],Inliners.this.global.icodes.Local,scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]])scala.collection.TraversableOnce[Inliners.this.global.icodes.Local]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedLocals" title="scala.collection.mutable.HashMap[Inliners.this.global.icodes.Local,Inliners.this.global.icodes.Local]">inlinedLocals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// re-emit the instructions before the call</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.open" title="()Unit">open</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a> <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.emit(d4755833dc)" title="(is: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrBefore" title="List[Inliners.this.global.icodes.Instruction]">instrBefore</a>

        <span class="comment">// store the arguments into special locals</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.params" title="=&gt; List[Inliners.this.global.icodes.Local]">params</a>.<a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.reverse" title="=&gt; List[Inliners.this.global.icodes.Local]">reverse</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.icodes.Local =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Local" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.p">p</a> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.blockEmit" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;STORE_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="../../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.Local">inlinedLocals</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.p" title="Inliners.this.global.icodes.Local">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.blockEmit" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;STORE_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedThis" title="Inliners.this.global.icodes.Local">inlinedThis</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// jump to the start block of the callee</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.blockEmit" title="(i: Inliners.this.global.icodes.Instruction)Unit">blockEmit</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;JUMP" title="(whereto: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.opcodes.JUMP">JUMP</a><span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.startBlock" title="=&gt; Inliners.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.block" title="Inliners.this.global.icodes.BasicBlock">block</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">// duplicate the other blocks in the callee</span>
        val <a title="List[Inliners.this.global.icodes.BasicBlock]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.calleeLin">calleeLin</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.linearizedBlocks" title="(lin: Inliners.this.global.icodes.Linearizer)List[Inliners.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.calleeLin" title="List[Inliners.this.global.icodes.BasicBlock]">calleeLin</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Inliners.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.bb">bb</a> =&gt;
          var <a title="a.lattice.Elem" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.info">info</a> = if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.hasRETURN" title="Boolean">hasRETURN</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.a" title="Inliners.this.global.analysis.MethodTFA">a</a> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: a.P)a.lattice.Elem">in</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.bb" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span> else null
          def <a title="(i: Inliners.this.global.icodes.Instruction)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined">emitInlined</a><span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined.i">i</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="Inliners.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.bb" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.emit(361f57b075)" title="(instr: Inliners.this.global.icodes.Instruction, pos: Inliners.this.global.icodes.global.Position)Unit">emit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined.i" title="Inliners.this.global.icodes.Instruction">i</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.targetPos" title="scala.reflect.internal.util.Position">targetPos</a><span class="delimiter">)</span>
          def <a title="(toDrop: Int)Unit" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops">emitDrops</a><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops.toDrop">toDrop</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>      = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.info" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#scala.tools.nsc.backend.icode.analysis;SemiLattice;IState.stack" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#scala.tools.nsc.backend.icode;TypeStacks;TypeStack.types" title="=&gt; Inliners.this.global.analysis.global.icodes.Rep">types</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.drop" title="(n: Int)List[Inliners.this.global.analysis.global.icodes.TypeKind]">drop</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops.toDrop" title="Int">toDrop</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Inliners.this.global.analysis.global.icodes.TypeKind =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Inliners.this.global.analysis.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops.$anonfun.t">t</a> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;DROP" title="(typ: Inliners.this.global.icodes.TypeKind)Inliners.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops.$anonfun.t" title="Inliners.this.global.analysis.global.icodes.TypeKind">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          for <span class="delimiter">(</span><a title="Inliners.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.$anonfun.i">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.foreach" title="(f: Inliners.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.$anonfun.i" title="Inliners.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span>
              case RETURN<span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds.UNIT" title="Inliners.this.global.icodes.UNIT.type">UNIT</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              case RETURN<span class="delimiter">(</span><a title="Inliners.this.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.$anonfun.kind">kind</a><span class="delimiter">)</span> =&gt;
                if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.info" title="a.lattice.Elem">info</a>.<a href="../icode/analysis/SemiLattice.scala.html#scala.tools.nsc.backend.icode.analysis;SemiLattice;IState.stack" title="=&gt; Inliners.this.global.analysis.global.icodes.TypeStack">stack</a>.<a href="../icode/TypeStacks.scala.html#scala.tools.nsc.backend.icode;TypeStacks;TypeStack.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;STORE_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitDrops" title="(toDrop: Int)Unit">emitDrops</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;LOAD_LOCAL" title="(local: Inliners.this.global.icodes.Local)Inliners.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.retVal" title="Inliners.this.global.icodes.Local">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              case _            =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.emitInlined" title="(i: Inliners.this.global.icodes.Instruction)Unit">emitInlined</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.map" title="(i: Inliners.this.global.icodes.Instruction)Inliners.this.global.icodes.Instruction">map</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.$anonfun.i" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.info" title="a.lattice.Elem">info</a> = if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.hasRETURN" title="Boolean">hasRETURN</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.a" title="Inliners.this.global.analysis.MethodTFA">a</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MethodTFA.interpret" title="(in: Inliners.this.global.analysis.typeFlowLattice.Elem, i: Inliners.this.global.analysis.global.icodes.Instruction)Inliners.this.global.analysis.typeFlowLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.info" title="a.lattice.Elem">info</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.$anonfun.i" title="Inliners.this.global.icodes.Instruction">i</a><span class="delimiter">)</span> else null
          <span class="delimiter">}</span>
          <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.icodes.BasicBlock)Inliners.this.global.icodes.BasicBlock">inlinedBlock</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.$anonfun.bb" title="Inliners.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.afterBlock" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a> <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.emit(d4755833dc)" title="(is: Seq[Inliners.this.global.icodes.Instruction])Unit">emit</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.instrAfter" title="List[Inliners.this.global.icodes.Instruction]">instrAfter</a>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.afterBlock" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.staleIn" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">staleIn</a>        <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.icodes.BasicBlock)Inliner.this.staleIn.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.afterBlock" title="Inliners.this.global.icodes.BasicBlock">afterBlock</a>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.splicedBlocks" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.icodes.BasicBlock]">splicedBlocks</a> <a href="../../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock])Inliner.this.splicedBlocks.type">++=</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.calleeLin" title="List[Inliners.this.global.icodes.BasicBlock]">calleeLin</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Inliners.this.global.icodes.BasicBlock =&gt; Inliners.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.BasicBlock],Inliners.this.global.icodes.BasicBlock,scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock]])scala.collection.TraversableOnce[Inliners.this.global.icodes.BasicBlock]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.inlinedBlock" title="scala.collection.mutable.Map[Inliners.this.global.icodes.BasicBlock,Inliners.this.global.icodes.BasicBlock]">inlinedBlock</a><span class="delimiter">)</span>

        <span class="comment">// add exception handlers of the callee</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.addHandlers" title="(exhs: List[Inliners.this.global.icodes.ExceptionHandler])Unit">addHandlers</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.handlers" title="=&gt; List[Inliners.this.global.icodes.ExceptionHandler]">handlers</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Inliners.this.global.icodes.ExceptionHandler =&gt; Inliners.this.global.icodes.ExceptionHandler)(implicit bf: scala.collection.generic.CanBuildFrom[List[Inliners.this.global.icodes.ExceptionHandler],Inliners.this.global.icodes.ExceptionHandler,List[Inliners.this.global.icodes.ExceptionHandler]])List[Inliners.this.global.icodes.ExceptionHandler]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.translateExh" title="(e: Inliners.this.global.icodes.ExceptionHandler)Inliners.this.global.icodes.ExceptionHandler">translateExh</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.pending" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a>.<a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isEmpty" title="=&gt; Boolean">isEmpty</a>, <span title="String(&quot;Pending NEW elements: &quot;)" class="string">&quot;Pending NEW elements: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.doInline.pending" title="scala.collection.mutable.Map[Inliners.this.global.icodes.Instruction,Inliners.this.global.icodes.opcodes.NEW]">pending</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">debug</a><span class="delimiter">)</span> <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Inliners.this.global.icodes.type">icodes</a>.<a href="../icode/ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes.checkValid" title="(m: Inliners.this.global.icodes.IMethod)Unit">checkValid</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      def <a title="(stackLength: Int)Inliner.this.InlineSafetyInfo" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining">isStampedForInlining</a><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.stackLength">stackLength</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;InlineSafetyInfo" title="Inliner.this.InlineSafetyInfo">InlineSafetyInfo</a> = <span class="delimiter">{</span>

        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.blackballed" title="(msym: Inliners.this.global.analysis.global.Symbol)Boolean">blackballed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NeverSafeToInline.readResolve" title="Inliner.this.NeverSafeToInline.type">NeverSafeToInline</a> <span class="delimiter">}</span>

        if<span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isKnownToInlineSafely" title="=&gt; Boolean">isKnownToInlineSafely</a><span class="delimiter">)</span> <span class="delimiter">{</span>

          if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.openBlocks" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">openBlocks</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val msg = <span class="delimiter">(</span><span title="String(&quot;Encountered &quot;)" class="string">&quot;Encountered &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.openBlocks" title="=&gt; List[Inliners.this.global.icodes.BasicBlock]">openBlocks</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; open block(s) in isSafeToInline: this indicates a bug in the optimizer!\n&quot;)" class="string">&quot; open block(s) in isSafeToInline: this indicates a bug in the optimizer!\n&quot;</span> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;  caller = &quot;)" class="string">&quot;  caller = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, callee = &quot;)" class="string">&quot;, callee = &quot;</span> <span title="String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.warn" title="(pos: Inliners.this.global.Position, msg: String)Unit">warn</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Inliners.this.global.icodes.global.Position">pos</a>, <span title="String">msg</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownNever" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownNever</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownNever.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>
            return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><span title="String(&quot;Open blocks in &quot;)" class="string">&quot;Open blocks in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          val <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever">reasonWhyNever</a>: <span title="String">String</span> = <span class="delimiter">{</span>
            var <a title="List[String]" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs">rs</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
            if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isRecursive" title="=&gt; Boolean">isRecursive</a><span class="delimiter">)</span>    <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: String)List[String]">::=</a> <span title="String(&quot;is recursive&quot;)" class="string">&quot;is recursive&quot;</span>           <span class="delimiter">}</span>
            if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForbidden" title="=&gt; Boolean">isInlineForbidden</a><span class="delimiter">)</span>  <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: String)List[String]">::=</a> <span title="String(&quot;is annotated @noinline&quot;)" class="string">&quot;is annotated @noinline&quot;</span> <span class="delimiter">}</span>
            if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isSynchronized" title="=&gt; Boolean">isSynchronized</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: String)List[String]">::=</a> <span title="String(&quot;is synchronized method&quot;)" class="string">&quot;is synchronized method&quot;</span> <span class="delimiter">}</span>
            if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.bytecodeHasEHs" title="=&gt; Boolean">bytecodeHasEHs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: String)List[String]">::=</a> <span title="String(&quot;bytecode contains exception handlers / finally clause&quot;)" class="string">&quot;bytecode contains exception handlers / finally clause&quot;</span> <span class="delimiter">}</span> <span class="comment">// SI-6188</span>
            if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.bytecodeHasInvokeDynamic" title="=&gt; Boolean">bytecodeHasInvokeDynamic</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: String)List[String]">::=</a> <span title="String(&quot;bytecode contains invoke dynamic&quot;)" class="string">&quot;bytecode contains invoke dynamic&quot;</span> <span class="delimiter">}</span>
            if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> null else <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever.rs" title="List[String]">rs</a>.<a href="../../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(581ef61a02)" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;, and &quot;)" class="string">&quot;, and &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever" title="String">reasonWhyNever</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownNever" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownNever</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownNever.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc)" title="(what: String, main: Inliners.this.global.Symbol, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;never&quot;)" class="string">&quot;never&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever" title="String">reasonWhyNever</a><span class="delimiter">)</span>
            <span class="comment">// next time around NeverSafeToInline is returned, thus skipping (duplicate) msg, this is intended.</span>
            return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="../../../../Predef.scala.html#scala.Predef.any2stringadd(6b32434ac5)" title="(self: Inliners.this.global.icodes.IMethod)any2stringadd[Inliners.this.global.icodes.IMethod]">m</a> <a href="../../../../Predef.scala.html#scala.Predef;any2stringadd.+" title="(other: String)String">+</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.reasonWhyNever" title="String">reasonWhyNever</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.sameSymbols" title="=&gt; Boolean">sameSymbols</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// TODO but this also amounts to recursive, ie should lead to adding to tfa.knownNever, right?</span>
            <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownUnsafe" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownUnsafe</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownUnsafe.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>
            return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><span title="String(&quot;sameSymbols (ie caller == callee)&quot;)" class="string">&quot;sameSymbols (ie caller == callee)&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="delimiter">}</span>

        <span class="comment">/*
         * From here on, two main categories of checks remain, (a) and (b) below:
         *   (a.1) either the scoring heuristics give green light; or
         *   (a.2) forced as candidate due to @inline.
         * After that, safety proper is checked:
         *   (b.1) the callee does not contain calls to private methods when called from another class
         *   (b.2) the callee is not going to be inlined into a position with non-empty stack,
         *         while having a top-level finalizer (see liftedTry problem)
         * As a result of (b), some synthetic private members can be chosen to become public.
         */</span>

        val <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.score">score</a>    = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore" title="=&gt; Int">inlinerScore</a>
        val <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.scoreStr">scoreStr</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.score" title="Int">score</a> else <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.score" title="Int">score</a>
        val <a title="String" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.what">what</a>     = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="String(&quot;ok to&quot;)" class="string">&quot;ok to&quot;</span> else <span title="String(&quot;don\'t&quot;)" class="string">&quot;don't&quot;</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc)" title="(what: String, main: Inliners.this.global.Symbol, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.scoreStr" title="String">scoreStr</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a>, <a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.what" title="String">what</a><span title="String(&quot; inline into &quot;)"> inline into $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.ownedName" title="(sym: Inliners.this.global.Symbol)String">ownedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.m" title="=&gt; Inliners.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.symbol" title="=&gt; Inliners.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isInlineForced" title="=&gt; Boolean">isInlineForced</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.<=(5f58a84eb3)" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// During inlining retry, a previous caller-callee pair that scored low may pass.</span>
          <span class="comment">// Thus, adding the callee to tfa.knownUnsafe isn't warranted.</span>
          return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;inliner heuristic&quot;)" class="string">inliner heuristic&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.hasHandlers" title="=&gt; Boolean">hasHandlers</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.stackLength" title="Int">stackLength</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.minimumStack" title="=&gt; Int">minimumStack</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><span title="String(&quot;callee contains exception handlers / finally clause, and is invoked with non-empty operand stack&quot;)" class="string">&quot;callee contains exception handlers / finally clause, and is invoked with non-empty operand stack&quot;</span><span class="delimiter">)</span> <span class="comment">// SI-6157</span>
        <span class="delimiter">}</span>

        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isKnownToInlineSafely" title="=&gt; Boolean">isKnownToInlineSafely</a><span class="delimiter">)</span> <span class="delimiter">{</span> return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.InlineableAtThisCaller.readResolve" title="Inliner.this.InlineableAtThisCaller.type">InlineableAtThisCaller</a> <span class="delimiter">}</span>

        if<span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.stackLength" title="Int">stackLength</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.minimumStack" title="=&gt; Int">minimumStack</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.hasNonFinalizerHandler" title="=&gt; Boolean">hasNonFinalizerHandler</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val msg = <span title="String(&quot;method &quot;)" class="string">&quot;method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="String">+</span> <span title="String(&quot; is used on a non-empty stack with finalizer.&quot;)" class="string">&quot; is used on a non-empty stack with finalizer.&quot;</span>
          <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String">msg</span><span class="delimiter">)</span>
          <span class="comment">// FYI: not reason enough to add inc.sym to tfa.knownUnsafe (because at other callsite in this caller, inlining might be ok)</span>
          return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><span title="String">msg</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        val <a title="Inliner.this.AccessReq" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.accReq">accReq</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.accessRequirements" title="=&gt; Inliner.this.AccessReq">accessRequirements</a>
        if<span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.canAccess" title="(level: Inliner.this.NonPublicRefs.Value)Boolean">canAccess</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.accReq" title="Inliner.this.AccessReq">accReq</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;AccessReq.accessNeeded" title="=&gt; Inliner.this.NonPublicRefs.Value">accessNeeded</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.tfa" title="=&gt; Inliners.this.global.analysis.MTFAGrowable">tfa</a>.<a href="../icode/analysis/TypeFlowAnalysis.scala.html#scala.tools.nsc.backend.icode.analysis;TypeFlowAnalysis;MTFAGrowable.knownUnsafe" title="=&gt; scala.collection.mutable.Set[Inliners.this.global.analysis.global.Symbol]">knownUnsafe</a> <a href="../../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: Inliners.this.global.analysis.global.Symbol)Inliner.this.tfa.knownUnsafe.type">+=</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>
          val <span title="String">msg</span> = <span title="String(&quot;access level required by callee not matched by caller&quot;)" class="string">&quot;access level required by callee not matched by caller&quot;</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.inlineLog(faf2f29adc)" title="(what: String, main: Inliners.this.global.Symbol, comment: =&gt; String)Unit">inlineLog</a><span class="delimiter">(</span><span title="String(&quot;fail&quot;)" class="string">&quot;fail&quot;</span>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>, <span title="String">msg</span><span class="delimiter">)</span>
          return <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.DontInlineHere.readResolve" title="(msg: String)Inliner.this.DontInlineHere">DontInlineHere</a><span class="delimiter">(</span><span title="String">msg</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.FeasibleInline.readResolve" title="(accessNeeded: Inliner.this.NonPublicRefs.Value, toBecomePublic: List[Inliners.this.global.Symbol])Inliner.this.FeasibleInline">FeasibleInline</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.accReq" title="Inliner.this.AccessReq">accReq</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;AccessReq.accessNeeded" title="=&gt; Inliner.this.NonPublicRefs.Value">accessNeeded</a>, <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isStampedForInlining.accReq" title="Inliner.this.AccessReq">accReq</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;AccessReq.toBecomePublic" title="=&gt; List[Inliners.this.global.Symbol]">toBecomePublic</a><span class="delimiter">)</span>

      <span class="delimiter">}</span>

      def <a title="(level: Inliner.this.NonPublicRefs.Value)Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.canAccess">canAccess</a><span class="delimiter">(</span><a title="Inliner.this.NonPublicRefs.Value" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.canAccess.level">level</a>: NonPublicRefs.<a href="../../../../Enumeration.scala.html#scala;Enumeration;Value" title="Inliner.this.NonPublicRefs.Value">Value</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.canAccess.level" title="Inliner.this.NonPublicRefs.Value">level</a> match <span class="delimiter">{</span>
        case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Private" title="=&gt; Inliner.this.NonPublicRefs.Value">Private</a>    =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>
        case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Protected" title="=&gt; Inliner.this.NonPublicRefs.Value">Protected</a>  =&gt; <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a> <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.<:<" title="(that: Inliners.this.global.icodes.global.Type)Boolean">&lt;:&lt;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.owner" title="=&gt; Inliners.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Inliners.this.global.icodes.global.Type">tpe</a>
        case <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.NonPublicRefs.Public" title="=&gt; Inliner.this.NonPublicRefs.Value">Public</a>     =&gt; true
      <span class="delimiter">}</span>
      private def <a title="=&gt; Boolean" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.sameSymbols">sameSymbols</a> = <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a>

      <span class="comment">/** Gives green light for inlining (which may still be vetoed later). Heuristics:
       *   - it's bad to make the caller larger (&gt; SMALL_METHOD_SIZE) if it was small
       *   - it's bad to inline large methods
       *   - it's good to inline higher order functions
       *   - it's good to inline closures functions.
       *   - it's bad (useless) to inline inside bridge methods
       */</span>
      def <a title="=&gt; Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore">inlinerScore</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
        var <a title="Int" id="scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score">score</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// better not inline inside closures, but hope that the closure itself is repeatedly inlined</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isInClosure" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span>           <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(2)" class="int">2</span>
        else if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.inlinedCalls_=" title="=&gt; Int">inlinedCalls</a> <a href="../../../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span> <span class="comment">// only monadic methods can trigger the first inline</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isSmall" title="=&gt; Boolean">isSmall</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="comment">// if (inc.hasClosureParam) score += 2</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isLarge" title="=&gt; Boolean">isLarge</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isSmall" title="=&gt; Boolean">isSmall</a> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.isLargeSum" title="=&gt; Boolean">isLargeSum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;inliner score decreased to &quot;)">inliner score decreased to $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a><span title="String(&quot; because small caller &quot;)"> because small caller $</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.caller" title="=&gt; Inliner.this.IMethodInfo">caller</a><span title="String(&quot; would become large&quot;)" class="string"> would become large&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isMonadic" title="=&gt; Boolean">isMonadic</a><span class="delimiter">)</span>          <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(3)" class="int">3</span>
        else if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isHigherOrder" title="=&gt; Boolean">isHigherOrder</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.isInClosure" title="=&gt; Boolean">isInClosure</a><span class="delimiter">)</span>                 <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>
        if <span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Inliners.this.global.Symbol)Int">inlinedMethodCount</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inc" title="=&gt; Inliner.this.IMethodInfo">inc</a>.<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;IMethodInfo.sym" title="=&gt; Inliners.this.global.icodes.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(2)" class="int">2</span>
        <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner;CallerCalleeInfo.inlinerScore.score" title="Int">score</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(meth: Inliners.this.global.Symbol, receiver: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.IMethod]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod">lookupIMethod</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.meth">meth</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a>, <a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.receiver">receiver</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Option.scala.html#scala;Option" title="Option[Inliners.this.global.icodes.IMethod]">Option</a><span class="delimiter">[</span>IMethod<span class="delimiter">]</span> = <span class="delimiter">{</span>
      def <a title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]" id="scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.tryParent">tryParent</a><span class="delimiter">(</span><a title="Inliners.this.global.Symbol" id="scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.tryParent.sym">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Inliners.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="Inliners.this.global.icodes.type">icodes</a> <a href="../icode/Repository.scala.html#scala.tools.nsc.backend.icode;Repository.icode" title="(sym: Inliners.this.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IClass]">icode</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.tryParent.sym" title="Inliners.this.global.Symbol">sym</a> <a href="../../../../Option.scala.html#scala;Option.flatMap" title="(f: Inliners.this.global.icodes.global.icodes.IClass =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Option[Inliners.this.global.icodes.global.icodes.IMethod]">flatMap</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.tryParent.$anonfun.x$13" title="Inliners.this.global.icodes.global.icodes.IClass">_</a> <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.lookupMethod" title="(s: Inliners.this.global.icodes.global.icodes.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">lookupMethod</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.meth" title="Inliners.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.receiver" title="Inliners.this.global.Symbol">receiver</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Inliners.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.baseClasses" title="=&gt; List[Inliners.this.global.Symbol]">baseClasses</a>.<a href="../../../../collection/LinearSeqLike.scala.html#scala.collection;LinearSeqLike.iterator" title="=&gt; Iterator[Inliners.this.global.Symbol]">iterator</a> <a href="../../../../collection/Iterator.scala.html#scala.collection;Iterator.map" title="(f: Inliners.this.global.Symbol =&gt; Option[Inliners.this.global.icodes.global.icodes.IMethod])Iterator[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">map</a> <a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.tryParent" title="(sym: Inliners.this.global.Symbol)Option[Inliners.this.global.icodes.global.icodes.IMethod]">tryParent</a> <a href="../../../../collection/Iterator.scala.html#scala.collection;Iterator.find" title="(p: Option[Inliners.this.global.icodes.global.icodes.IMethod] =&gt; Boolean)Option[Option[Inliners.this.global.icodes.global.icodes.IMethod]]">find</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;Inliners;Inliner.lookupIMethod.$anonfun.x$14" title="Option[Inliners.this.global.icodes.global.icodes.IMethod]">_</a>.<a href="../../../../Option.scala.html#scala;Option.isDefined" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#scala;Option.flatten" title="(implicit ev: &lt;:&lt;[Option[Inliners.this.global.icodes.global.icodes.IMethod],Option[Inliners.this.global.icodes.IMethod]])Option[Inliners.this.global.icodes.IMethod]">flatten</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">/* class Inliner */</span>
<a href="#scala.tools.nsc.backend.opt;Inliners;Inliner" title="AnyRef" class="delimiter">}</a> <span class="comment">/* class Inliners */</span>

        </pre>
    </body>
</html>
