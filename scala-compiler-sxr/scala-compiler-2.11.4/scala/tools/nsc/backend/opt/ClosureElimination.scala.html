<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/backend/opt/ClosureElimination.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
 <span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Iulian Dragos
 */</span>

package scala.tools.nsc
package backend.opt

import scala.tools.nsc.backend.icode.analysis.LubException

<span class="comment">/**
 *  @author Iulian Dragos
 */</span>
abstract class <a title="class ClosureElimination extends scala.tools.nsc.SubComponent" id="scala.tools.nsc.backend.opt;ClosureElimination">ClosureElimination</a> extends <a href="../../SubComponent.scala.html#scala.tools.nsc;SubComponent" title="scala.tools.nsc.SubComponent">SubComponent</a> <span class="delimiter">{</span>
  import <a href="../../SubComponent.scala.html#scala.tools.nsc;SubComponent.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="ClosureElimination.this.global.icodes.type">icodes</a>._
  import <a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="ClosureElimination.this.global.icodes.type">icodes</a>.<a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes" title="ClosureElimination.this.global.icodes.opcodes.type">opcodes</a>._

  val <a title="String" id="scala.tools.nsc.backend.opt;ClosureElimination.phaseName">phaseName</a> = <span title="String(&quot;closelim&quot;)" class="string">&quot;closelim&quot;</span>

  override val <a title="Boolean" id="scala.tools.nsc.backend.opt;ClosureElimination.enabled">enabled</a>: <a href="../../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">Xcloselim</a>

  <span class="comment">/** Create a new phase */</span>
  override def <a title="(p: scala.tools.nsc.Phase)ClosureElimination.this.ClosureEliminationPhase" id="scala.tools.nsc.backend.opt;ClosureElimination.newPhase">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="scala.tools.nsc.backend.opt;ClosureElimination.newPhase.p">p</a>: <a href="../../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> = new <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase" title="ClosureElimination.this.ClosureEliminationPhase">ClosureEliminationPhase</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.newPhase.p" title="scala.tools.nsc.Phase">p</a><span class="delimiter">)</span>

  <span class="comment">/** A simple peephole optimizer. */</span>
  val <a title="ClosureElimination.this.PeepholeOpt" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole">peephole</a> = new <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt" title="&lt;$anon: ClosureElimination.this.PeepholeOpt&gt; extends ClosureElimination.this.PeepholeOpt" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon">PeepholeOpt</a> <span class="delimiter">{</span>

    def <a title="(bb: ClosureElimination.this.global.icodes.BasicBlock, i1: ClosureElimination.this.global.icodes.Instruction, i2: ClosureElimination.this.global.icodes.Instruction)Option[List[ClosureElimination.this.global.icodes.Instruction]]" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep">peep</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.bb">bb</a>: <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="ClosureElimination.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.i1">i1</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="ClosureElimination.this.global.icodes.Instruction">Instruction</a>, <a title="ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.i2">i2</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="ClosureElimination.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span> = <a href="../../../../Tuple2.scala.html#scala;Tuple2" title="(_1: ClosureElimination.this.global.icodes.Instruction, _2: ClosureElimination.this.global.icodes.Instruction)(ClosureElimination.this.global.icodes.Instruction, ClosureElimination.this.global.icodes.Instruction)" class="delimiter">(</a><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.i1" title="ClosureElimination.this.global.icodes.Instruction">i1</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.i2" title="ClosureElimination.this.global.icodes.Instruction">i2</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span class="delimiter">(</span>CONSTANT<span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.global.Constant" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.c">c</a><span class="delimiter">)</span>, DROP<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.c" title="ClosureElimination.this.global.icodes.global.Constant">c</a>.<a href="../../../../reflect/internal/Constants.scala.html#scala.reflect.internal;Constants;Constant.tag" title="=&gt; Int">tag</a> <a href="../../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala;Some" title="(x: List[ClosureElimination.this.global.icodes.Instruction])Some[List[ClosureElimination.this.global.icodes.Instruction]]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: ClosureElimination.this.global.icodes.Instruction*)List[ClosureElimination.this.global.icodes.Instruction]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.i2" title="ClosureElimination.this.global.icodes.Instruction">i2</a><span class="delimiter">)</span><span class="delimiter">)</span> else <a href="../../../../Option.scala.html#scala;Some" title="(x: scala.collection.immutable.Nil.type)Some[scala.collection.immutable.Nil.type]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

      case <span class="delimiter">(</span>LOAD_LOCAL<span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span><span class="delimiter">)</span>, STORE_LOCAL<span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">y</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        if <span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="ClosureElimination.this.global.icodes.Local">y</span><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala;Some" title="(x: scala.collection.immutable.Nil.type)Some[scala.collection.immutable.Nil.type]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> else <a href="../../../../Option.scala.html#scala.None" title="None.type">None</a>

      case <span class="delimiter">(</span>STORE_LOCAL<span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span><span class="delimiter">)</span>, LOAD_LOCAL<span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">y</span><span class="delimiter">)</span><span class="delimiter">)</span> if <span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span> <span title="(x$1: Any)Boolean">==</span> <span title="ClosureElimination.this.global.icodes.Local">y</span><span class="delimiter">)</span> =&gt;
        var <a title="scala.collection.immutable.Set[ClosureElimination.this.global.icodes.liveness.global.icodes.Local]" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.liveOut">liveOut</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.liveness_=" title="=&gt; ClosureElimination.this.global.icodes.liveness.LivenessAnalysis">liveness</a>.<a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: ClosureElimination.this.global.icodes.liveness.global.icodes.BasicBlock)scala.collection.immutable.Set[ClosureElimination.this.global.icodes.liveness.global.icodes.Local]">out</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: ClosureElimination.this.global.icodes.liveness.global.icodes.Local)Boolean">liveOut</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;store/load to a dead local? &quot;)" class="string">&quot;store/load to a dead local? &quot;</span> <span title="(x$1: Any)String">+</span> <span title="ClosureElimination.this.global.icodes.Local">x</span><span class="delimiter">)</span>
          val <a title="Array[ClosureElimination.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.instrs">instrs</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.getArray" title="=&gt; Array[ClosureElimination.this.global.icodes.Instruction]">getArray</a>
          var idx = <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.instrs" title="Array[ClosureElimination.this.global.icodes.Instruction]">instrs</a>.<a href="../../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.idx">-</a> <span title="Int(1)" class="int">1</span>
          while <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.idx" title="Int">idx</a> <a href="../../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../../Array.scala.html#scala;Array.apply" title="(i: Int)ClosureElimination.this.global.icodes.Instruction">instrs</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.idx" title="Int">idx</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.i2" title="ClosureElimination.this.global.icodes.Instruction">i2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.while$1" title="()Unit" class="delimiter">{</a>
            <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.liveOut" title="scala.collection.immutable.Set[ClosureElimination.this.global.icodes.liveness.global.icodes.Local]">liveOut</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.liveness_=" title="=&gt; ClosureElimination.this.global.icodes.liveness.LivenessAnalysis">liveness</a>.<a href="../icode/analysis/Liveness.scala.html#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.interpret" title="(out: scala.collection.immutable.Set[ClosureElimination.this.global.icodes.liveness.global.icodes.Local], i: ClosureElimination.this.global.icodes.liveness.global.icodes.Instruction)scala.collection.immutable.Set[ClosureElimination.this.global.icodes.liveness.global.icodes.Local]">interpret</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.liveOut" title="scala.collection.immutable.Set[ClosureElimination.this.global.icodes.liveness.global.icodes.Local]">liveOut</a>, <a href="../../../../Array.scala.html#scala;Array.apply" title="(i: Int)ClosureElimination.this.global.icodes.Instruction">instrs</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.idx" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.idx" title="Int">idx</a> <a href="../../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          if <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: ClosureElimination.this.global.icodes.liveness.global.icodes.Local)Boolean">liveOut</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Removing dead store/load of &quot;)" class="string">&quot;Removing dead store/load of &quot;</span> <span title="(x$1: Any)String">+</span> <span title="ClosureElimination.this.global.icodes.Local">x</span>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.sym" title="=&gt; ClosureElimination.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.initialize" title="=&gt; x.sym.type">initialize</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.defString" title="=&gt; String">defString</a><span class="delimiter">)</span>
            <a href="../../../../Option.scala.html#scala;Some" title="(x: scala.collection.immutable.Nil.type)Some[scala.collection.immutable.Nil.type]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <a href="../../../../Option.scala.html#scala.None" title="None.type">None</a>
        <span class="delimiter">}</span> else
          <a href="../../../../Option.scala.html#scala;Some" title="(x: List[ClosureElimination.this.global.icodes.Instruction with Product with Serializable])Some[List[ClosureElimination.this.global.icodes.Instruction with Product with Serializable]]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: ClosureElimination.this.global.icodes.Instruction with Product with Serializable*)List[ClosureElimination.this.global.icodes.Instruction with Product with Serializable]">List</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;DUP" title="(typ: ClosureElimination.this.global.icodes.TypeKind)ClosureElimination.this.global.icodes.opcodes.DUP">DUP</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.kind" title="=&gt; ClosureElimination.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>, <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;STORE_LOCAL" title="(local: ClosureElimination.this.global.icodes.Local)ClosureElimination.this.global.icodes.opcodes.STORE_LOCAL">STORE_LOCAL</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">x</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      case <span class="delimiter">(</span>LOAD_LOCAL<span class="delimiter">(</span>_<span class="delimiter">)</span>, DROP<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> | <span class="delimiter">(</span>DUP<span class="delimiter">(</span>_<span class="delimiter">)</span>, DROP<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../../../../Option.scala.html#scala;Some" title="(x: scala.collection.immutable.Nil.type)Some[scala.collection.immutable.Nil.type]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

      case <span class="delimiter">(</span>BOX<span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.t1">t1</a><span class="delimiter">)</span>, UNBOX<span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.t2">t2</a><span class="delimiter">)</span><span class="delimiter">)</span> if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.t1" title="ClosureElimination.this.global.icodes.TypeKind">t1</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.t2" title="ClosureElimination.this.global.icodes.TypeKind">t2</a><span class="delimiter">)</span> =&gt;
        <a href="../../../../Option.scala.html#scala;Some" title="(x: scala.collection.immutable.Nil.type)Some[scala.collection.immutable.Nil.type]">Some</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

      case <span class="delimiter">(</span>LOAD_FIELD<span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.global.Symbol" id="scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.sym">sym</a>, <span class="comment">/* isStatic */</span>false<span class="delimiter">)</span>, DROP<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> if <a href="../../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.sym" title="ClosureElimination.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;Annotatable.hasAnnotation" title="(cls: ClosureElimination.this.global.icodes.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="ClosureElimination.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.VolatileAttr" title="=&gt; ClosureElimination.this.global.ClassSymbol">VolatileAttr</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Global.scala.html#scala.tools.nsc;Global.inliner" title="ClosureElimination.this.global.inliner.type">inliner</a>.<a href="Inliners.scala.html#scala.tools.nsc.backend.opt;Inliners.isClosureClass" title="(cls: ClosureElimination.this.global.inliner.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination.peephole;$anon.peep.sym" title="ClosureElimination.this.global.icodes.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; ClosureElimination.this.global.icodes.global.Symbol">owner</a><span class="delimiter">)</span> =&gt;
        <a href="../../../../Option.scala.html#scala;Some" title="(x: List[ClosureElimination.this.global.icodes.opcodes.DROP])Some[List[ClosureElimination.this.global.icodes.opcodes.DROP]]">Some</a><span class="delimiter">(</span><a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;DROP" title="(typ: ClosureElimination.this.global.icodes.TypeKind)ClosureElimination.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds;REFERENCE" title="(cls: ClosureElimination.this.global.icodes.global.Symbol)ClosureElimination.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="ClosureElimination.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ObjectClass" title="=&gt; ClosureElimination.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.opcodes.DROP)List[ClosureElimination.this.global.icodes.opcodes.DROP]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

      case _ =&gt; <a href="../../../../Option.scala.html#scala.None" title="None.type">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The closure elimination phase.
   */</span>
  class <a title="class ClosureEliminationPhase extends ClosureElimination.this.global.icodes.ICodePhase" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase">ClosureEliminationPhase</a><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase" title="ClosureElimination.this.ClosureEliminationPhase" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.prev">prev</a>: <a href="../../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> extends <a href="../icode/ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes;ICodePhase" title="ClosureElimination.this.global.icodes.ICodePhase">ICodePhase</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.prev" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    def <a title="=&gt; String" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.name">name</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination.phaseName" title="=&gt; String">phaseName</a>
    val <a title="ClosureElimination.this.ClosureElim" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.closser">closser</a> = new <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim" title="ClosureElimination.this.ClosureElim">ClosureElim</a>

    override def <a title="(c: ClosureElimination.this.global.icodes.IClass)Unit" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.apply(2cf65d430e)">apply</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.apply(2cf65d430e).c">c</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="ClosureElimination.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.closser" title="=&gt; ClosureElimination.this.ClosureElim">closser</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.closser" title="=&gt; ClosureElimination.this.ClosureElim">closser</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass" title="(cls: ClosureElimination.this.global.icodes.IClass)Unit">analyzeClass</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureEliminationPhase.apply(2cf65d430e).c" title="ClosureElimination.this.global.icodes.IClass">c</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Remove references to the environment through fields of a closure object.
   * This has to be run after an 'apply' method has been inlined, but it still
   * references the closure object.
   *
   */</span>
  class <a title="class ClosureElim extends AnyRef" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim">ClosureElim</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim" title="ClosureElimination.this.ClosureElim" class="delimiter">{</a>
    def <a title="(cls: ClosureElimination.this.global.icodes.IClass)Unit" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass">analyzeClass</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.IClass" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.cls">cls</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass" title="ClosureElimination.this.global.icodes.IClass">IClass</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = if <span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">Xcloselim</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Analyzing &quot;)">Analyzing $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.cls" title="ClosureElimination.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.methods" title="=&gt; List[ClosureElimination.this.global.icodes.IMethod]">methods</a>.<a href="../../../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a><span class="delimiter">}</span><span title="String(&quot; methods in &quot;)"> methods in $</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.cls" title="ClosureElimination.this.global.icodes.IClass">cls</a><span title="String(&quot;.&quot;)" class="string">.&quot;</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.cls" title="ClosureElimination.this.global.icodes.IClass">cls</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IClass.methods" title="=&gt; List[ClosureElimination.this.global.icodes.IMethod]">methods</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: ClosureElimination.this.global.icodes.IMethod =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="ClosureElimination.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.$anonfun.m">m</a> =&gt;
        <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod" title="(m: ClosureElimination.this.global.icodes.IMethod)Unit">analyzeMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.$anonfun.m" title="ClosureElimination.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.apply" title="(m: ClosureElimination.this.global.icodes.IMethod)Unit">peephole</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeClass.$anonfun.m" title="ClosureElimination.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
     <span class="delimiter">}</span><span class="delimiter">}</span>

    val <a title="ClosureElimination.this.global.copyPropagation.CopyAnalysis" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.cpp">cpp</a> = new <a href="../../Global.scala.html#scala.tools.nsc;Global.copyPropagation" title="ClosureElimination.this.global.copyPropagation.type">copyPropagation</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;CopyAnalysis" title="ClosureElimination.this.global.copyPropagation.CopyAnalysis">CopyAnalysis</a>

    import <a href="../../Global.scala.html#scala.tools.nsc;Global.copyPropagation" title="ClosureElimination.this.global.copyPropagation.type">copyPropagation</a>._

    <span class="comment">/* Some embryonic copy propagation. */</span>
    def <a title="(m: ClosureElimination.this.global.icodes.IMethod)Unit" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod">analyzeMethod</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.m">m</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="ClosureElimination.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = try <span class="delimiter">{</span>if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.m" title="ClosureElimination.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.hasCode" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.cpp" title="=&gt; ClosureElimination.this.global.copyPropagation.CopyAnalysis">cpp</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;CopyAnalysis.init(8f6496822a)" title="(m: ClosureElimination.this.global.copyPropagation.global.icodes.IMethod)Unit">init</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.m" title="ClosureElimination.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.cpp" title="=&gt; ClosureElimination.this.global.copyPropagation.CopyAnalysis">cpp</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;CopyAnalysis.run" title="()Unit">run</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.m" title="ClosureElimination.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.linearizedBlocks" title="(lin: ClosureElimination.this.global.icodes.Linearizer)List[ClosureElimination.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: ClosureElimination.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="ClosureElimination.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb">bb</a> =&gt;
        var <a title="ClosureElim.this.cpp.lattice.Elem" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info">info</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.cpp" title="=&gt; ClosureElimination.this.global.copyPropagation.CopyAnalysis">cpp</a>.<a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: ClosureElim.this.cpp.P)ClosureElim.this.cpp.lattice.Elem">in</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a><span class="delimiter">)</span>
        <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Cpp info at entry to block &quot;)" class="string">&quot;Cpp info at entry to block &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a><span class="delimiter">)</span>

        for <span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i">i</a> &lt;- <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.foreach" title="(f: ClosureElimination.this.global.icodes.Instruction =&gt; Unit)Unit">bb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a> match <span class="delimiter">{</span>
            case LOAD_LOCAL<span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">l</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.bindings" title="=&gt; ClosureElim.this.cpp.lattice.Bindings">bindings</a> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: ClosureElimination.this.global.copyPropagation.Location)Boolean">isDefinedAt</a> <a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;LocalVar" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.LocalVar">LocalVar</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">l</span><span class="delimiter">)</span> =&gt;
              val <span title="ClosureElimination.this.global.copyPropagation.Value">t</span> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getBinding" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.Value">getBinding</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">l</span><span class="delimiter">)</span>
              <span title="ClosureElimination.this.global.copyPropagation.Value">t</span> match <span class="delimiter">{</span>
              	case Deref<span class="delimiter">(</span><a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.This" title="ClosureElimination.this.global.copyPropagation.This.type">This</a><span class="delimiter">)</span> | Const<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.replaceInstruction(807f5358e2)" title="(oldInstr: ClosureElimination.this.global.icodes.Instruction, newInstr: ClosureElimination.this.global.icodes.Instruction)Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction" title="(v: ClosureElimination.this.global.copyPropagation.Value)ClosureElimination.this.global.icodes.Instruction">valueToInstruction</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Value">t</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;replaced &quot;)">replaced $</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a><span title="String(&quot; with &quot;)"> with $</span><span title="ClosureElimination.this.global.copyPropagation.Value">t</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>

                case _ =&gt;
                  val <span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">t</span> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getAlias" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.global.icodes.Local">getAlias</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.icodes.Local">l</span><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.replaceInstruction(807f5358e2)" title="(oldInstr: ClosureElimination.this.global.icodes.Instruction, newInstr: ClosureElimination.this.global.icodes.Instruction)Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a>, <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;LOAD_LOCAL" title="(local: ClosureElimination.this.global.icodes.Local)ClosureElimination.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">t</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;replaced &quot;)">replaced $</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a><span title="String(&quot; with &quot;)"> with $</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">t</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            case LOAD_FIELD<span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.global.Symbol" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f">f</a>, false<span class="delimiter">)</span> <span class="comment">/* if accessible(f, m.symbol) */</span> =&gt;
              def <a title="(r: ClosureElimination.this.global.copyPropagation.Record)Unit" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess">replaceFieldAccess</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.copyPropagation.Record" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.r">r</a>: <a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;Record" title="ClosureElimination.this.global.copyPropagation.Record">Record</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                val Record<a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.cls.cls" title="ClosureElimination.this.global.copyPropagation.global.Symbol" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.cls" class="delimiter">(</a><a title="ClosureElimination.this.global.copyPropagation.global.Symbol" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.cls.cls">cls</a>, _<span class="delimiter">)</span> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.r" title="ClosureElimination.this.global.copyPropagation.Record">r</a>
                <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getFieldNonRecordValue" title="(r: ClosureElimination.this.global.copyPropagation.Record, f: ClosureElimination.this.global.copyPropagation.global.Symbol)Option[ClosureElimination.this.global.copyPropagation.Value]">getFieldNonRecordValue</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.r" title="ClosureElimination.this.global.copyPropagation.Record">r</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f" title="ClosureElimination.this.global.icodes.global.Symbol">f</a><span class="delimiter">)</span> <a href="../../../../Option.scala.html#scala;Option.foreach" title="(f: ClosureElimination.this.global.copyPropagation.Value =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="ClosureElimination.this.global.copyPropagation.Value" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.$anonfun.v">v</a> =&gt;
                        <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.replaceInstruction(5884c16d3b)" title="(oldInstr: ClosureElimination.this.global.icodes.Instruction, is: List[ClosureElimination.this.global.icodes.Instruction])Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a>, <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;DROP" title="(typ: ClosureElimination.this.global.icodes.TypeKind)ClosureElimination.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="../icode/TypeKinds.scala.html#scala.tools.nsc.backend.icode;TypeKinds;REFERENCE" title="(cls: ClosureElimination.this.global.icodes.global.Symbol)ClosureElimination.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.cls" title="ClosureElimination.this.global.copyPropagation.global.Symbol">cls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction" title="(v: ClosureElimination.this.global.copyPropagation.Value)ClosureElimination.this.global.icodes.Instruction">valueToInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.$anonfun.v" title="ClosureElimination.this.global.copyPropagation.Value">v</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
                        <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;replaced &quot;)">replaced $</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a><span title="String(&quot; with &quot;)"> with $</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess.$anonfun.v" title="ClosureElimination.this.global.copyPropagation.Value">v</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.apply" title="(n: Int)ClosureElimination.this.global.copyPropagation.Value">stack</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
                case <span title="ClosureElimination.this.global.copyPropagation.Record">r</span> @ Record<span class="delimiter">(</span>_, <span title="scala.collection.mutable.Map[ClosureElimination.this.global.copyPropagation.global.Symbol,ClosureElimination.this.global.copyPropagation.Value]">bindings</span><span class="delimiter">)</span> if <span title="scala.collection.mutable.Map[ClosureElimination.this.global.copyPropagation.global.Symbol,ClosureElimination.this.global.copyPropagation.Value]">bindings</span> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: ClosureElimination.this.global.copyPropagation.global.Symbol)Boolean">isDefinedAt</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f" title="ClosureElimination.this.global.icodes.global.Symbol">f</a> =&gt;
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess" title="(r: ClosureElimination.this.global.copyPropagation.Record)Unit">replaceFieldAccess</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Record">r</span><span class="delimiter">)</span>

                case Deref<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">l</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getBinding" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.Value">getBinding</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">l</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
                    case <span title="ClosureElimination.this.global.copyPropagation.Record">r</span> @ Record<span class="delimiter">(</span>_, <span title="scala.collection.mutable.Map[ClosureElimination.this.global.copyPropagation.global.Symbol,ClosureElimination.this.global.copyPropagation.Value]">bindings</span><span class="delimiter">)</span> if <span title="scala.collection.mutable.Map[ClosureElimination.this.global.copyPropagation.global.Symbol,ClosureElimination.this.global.copyPropagation.Value]">bindings</span> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: ClosureElimination.this.global.copyPropagation.global.Symbol)Boolean">isDefinedAt</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f" title="ClosureElimination.this.global.icodes.global.Symbol">f</a> =&gt;
                      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess" title="(r: ClosureElimination.this.global.copyPropagation.Record)Unit">replaceFieldAccess</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Record">r</span><span class="delimiter">)</span>
                    case _ =&gt;
                  <span class="delimiter">}</span>
                case Deref<span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="ClosureElimination.this.global.copyPropagation.Record" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.r1">r1</a>, <a title="ClosureElimination.this.global.copyPropagation.global.Symbol" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f1">f1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getFieldValue" title="(r: ClosureElimination.this.global.copyPropagation.Record, f: ClosureElimination.this.global.copyPropagation.global.Symbol)Option[ClosureElimination.this.global.copyPropagation.Value]">getFieldValue</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.r1" title="ClosureElimination.this.global.copyPropagation.Record">r1</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f1" title="ClosureElimination.this.global.copyPropagation.global.Symbol">f1</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
                    case Some<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Record">r</span> @ Record<span class="delimiter">(</span>_, <span title="scala.collection.mutable.Map[ClosureElimination.this.global.copyPropagation.global.Symbol,ClosureElimination.this.global.copyPropagation.Value]">bindings</span><span class="delimiter">)</span><span class="delimiter">)</span> if <span title="scala.collection.mutable.Map[ClosureElimination.this.global.copyPropagation.global.Symbol,ClosureElimination.this.global.copyPropagation.Value]">bindings</span> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: ClosureElimination.this.global.copyPropagation.global.Symbol)Boolean">isDefinedAt</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.f" title="ClosureElimination.this.global.icodes.global.Symbol">f</a> =&gt;
                      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.replaceFieldAccess" title="(r: ClosureElimination.this.global.copyPropagation.Record)Unit">replaceFieldAccess</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Record">r</span><span class="delimiter">)</span>
                    case _ =&gt;
                  <span class="delimiter">}</span>

                case _ =&gt;
              <span class="delimiter">}</span>

            case UNBOX<span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.TypeKind" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.boxType">boxType</a><span class="delimiter">)</span> =&gt;
              <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.stack" title="=&gt; List[ClosureElimination.this.global.copyPropagation.Value]">stack</a> match <span class="delimiter">{</span>
                case Deref<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc1</span><span class="delimiter">)</span><span class="delimiter">)</span> :: _ if <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.bindings" title="=&gt; ClosureElim.this.cpp.lattice.Bindings">bindings</a> <a href="../../../../collection/MapLike.scala.html#scala.collection;MapLike.isDefinedAt" title="(key: ClosureElimination.this.global.copyPropagation.Location)Boolean">isDefinedAt</a> <a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;LocalVar" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.LocalVar">LocalVar</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc1</span><span class="delimiter">)</span> =&gt;
                  val <a title="ClosureElimination.this.global.copyPropagation.Value" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.value">value</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getBinding" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.Value">getBinding</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc1</span><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.value" title="ClosureElimination.this.global.copyPropagation.Value">value</a> match <span class="delimiter">{</span>
                    case Boxed<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span><span class="delimiter">)</span><span class="delimiter">)</span> if <span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.kind" title="=&gt; ClosureElimination.this.global.copyPropagation.global.icodes.TypeKind">kind</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.boxType" title="ClosureElimination.this.global.icodes.TypeKind">boxType</a> =&gt;
                      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.replaceInstruction(5884c16d3b)" title="(oldInstr: ClosureElimination.this.global.icodes.Instruction, is: List[ClosureElimination.this.global.icodes.Instruction])Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a>, <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;DROP" title="(typ: ClosureElimination.this.global.icodes.TypeKind)ClosureElimination.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="ClosureElimination.this.global.icodes.type">icodes</a>.<a href="../icode/ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes.ObjectReference" title="=&gt; ClosureElimination.this.global.icodes.TypeKind">ObjectReference</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction" title="(v: ClosureElimination.this.global.copyPropagation.Value)ClosureElimination.this.global.icodes.Instruction">valueToInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getBinding" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.Value">getBinding</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
                      <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;replaced &quot;)" class="string">&quot;replaced &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getBinding" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.Value">getBinding</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    case _ =&gt;
                      <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                case Boxed<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc1</span><span class="delimiter">)</span><span class="delimiter">)</span> :: _ if <span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc1</span>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;Local.kind" title="=&gt; ClosureElimination.this.global.copyPropagation.global.icodes.TypeKind">kind</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.boxType" title="ClosureElimination.this.global.icodes.TypeKind">boxType</a> =&gt;
                  val <span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.copyLattice;State.getAlias" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.global.icodes.Local">getAlias</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc1</span><span class="delimiter">)</span>
                  <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.bb" title="ClosureElimination.this.global.icodes.BasicBlock">bb</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.replaceInstruction(5884c16d3b)" title="(oldInstr: ClosureElimination.this.global.icodes.Instruction, is: List[ClosureElimination.this.global.icodes.Instruction])Boolean">replaceInstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a>, <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;DROP" title="(typ: ClosureElimination.this.global.icodes.TypeKind)ClosureElimination.this.global.icodes.opcodes.DROP">DROP</a><span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="ClosureElimination.this.global.icodes.type">icodes</a>.<a href="../icode/ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes.ObjectReference" title="=&gt; ClosureElimination.this.global.icodes.TypeKind">ObjectReference</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction" title="(v: ClosureElimination.this.global.copyPropagation.Value)ClosureElimination.this.global.icodes.Instruction">valueToInstruction</a><span class="delimiter">(</span><a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;Deref" title="(l: ClosureElimination.this.global.copyPropagation.Location)ClosureElimination.this.global.copyPropagation.Deref">Deref</a><span class="delimiter">(</span><a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;LocalVar" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.LocalVar">LocalVar</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
                  <a href="../../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;replaced &quot;)" class="string">&quot;replaced &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;LocalVar" title="(l: ClosureElimination.this.global.copyPropagation.global.icodes.Local)ClosureElimination.this.global.copyPropagation.LocalVar">LocalVar</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">loc2</span><span class="delimiter">)</span><span class="delimiter">)</span>
                case _ =&gt;
              <span class="delimiter">}</span>

            case _ =&gt;
          <span class="delimiter">}</span>
          <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.cpp" title="=&gt; ClosureElimination.this.global.copyPropagation.CopyAnalysis">cpp</a>.<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;CopyAnalysis.interpret" title="(in: ClosureElimination.this.global.copyPropagation.copyLattice.Elem, i: ClosureElimination.this.global.copyPropagation.global.icodes.Instruction)ClosureElimination.this.global.copyPropagation.copyLattice.Elem">interpret</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.info" title="ClosureElim.this.cpp.lattice.Elem">info</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.$anonfun.$anonfun.i" title="ClosureElimination.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="scala.tools.nsc.backend.icode.analysis.LubException" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.e">e</a>: <a href="../icode/analysis/LubException.scala.html#scala.tools.nsc.backend.icode.analysis;LubException" title="scala.tools.nsc.backend.icode.analysis.LubException">LubException</a> =&gt;
        <a href="../../../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../../../Console.scala.html#scala.Console.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;In method: &quot;)" class="string">&quot;In method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.m" title="ClosureElimination.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
        <a href="../../../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../../../Console.scala.html#scala.Console.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.e" title="scala.tools.nsc.backend.icode.analysis.LubException">e</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.analyzeMethod.e" title="scala.tools.nsc.backend.icode.analysis.LubException">e</a>.<span title="()Unit">printStackTrace</span>
    <span class="delimiter">}</span>

    <span class="comment">/* Partial mapping from values to instructions that load them. */</span>
    def <a title="(v: ClosureElimination.this.global.copyPropagation.Value)ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction">valueToInstruction</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Value">v</span>: <a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;Value" title="ClosureElimination.this.global.copyPropagation.Value">Value</a><span class="delimiter">)</span>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="ClosureElimination.this.global.icodes.Instruction">Instruction</a> = <span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.Value">v</span>: @<a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation;Value" title="ClosureElimination.this.global.copyPropagation.Value @unchecked">unchecked</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Deref<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">v</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;LOAD_LOCAL" title="(local: ClosureElimination.this.global.icodes.Local)ClosureElimination.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">v</span><span class="delimiter">)</span>
      case Const<span class="delimiter">(</span><a title="ClosureElimination.this.global.copyPropagation.global.Constant" id="scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction.k">k</a><span class="delimiter">)</span> =&gt;
        <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;CONSTANT" title="(constant: ClosureElimination.this.global.icodes.global.Constant)ClosureElimination.this.global.icodes.opcodes.CONSTANT">CONSTANT</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;ClosureElim.valueToInstruction.k" title="ClosureElimination.this.global.copyPropagation.global.Constant">k</a><span class="delimiter">)</span>
      case Deref<span class="delimiter">(</span><a href="../icode/analysis/CopyPropagation.scala.html#scala.tools.nsc.backend.icode.analysis;CopyPropagation.This" title="ClosureElimination.this.global.copyPropagation.This.type">This</a><span class="delimiter">)</span> =&gt;
        <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;THIS" title="(clasz: ClosureElimination.this.global.icodes.global.Symbol)ClosureElimination.this.global.icodes.opcodes.THIS">THIS</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="ClosureElimination.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ObjectClass" title="=&gt; ClosureElimination.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span>
      case Boxed<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">v</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes.opcodes;LOAD_LOCAL" title="(local: ClosureElimination.this.global.icodes.Local)ClosureElimination.this.global.icodes.opcodes.LOAD_LOCAL">LOAD_LOCAL</a><span class="delimiter">(</span><span title="ClosureElimination.this.global.copyPropagation.global.icodes.Local">v</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">/* class ClosureElim */</span>


  <span class="comment">/** Peephole optimization. */</span>
  abstract class <a title="class PeepholeOpt extends AnyRef" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt">PeepholeOpt</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt" title="ClosureElimination.this.PeepholeOpt" class="delimiter">{</a>
    <span class="comment">/** Concrete implementations will perform their optimizations here */</span>
    def <a title="(bb: ClosureElimination.this.global.icodes.BasicBlock, i1: ClosureElimination.this.global.icodes.Instruction, i2: ClosureElimination.this.global.icodes.Instruction)Option[List[ClosureElimination.this.global.icodes.Instruction]]" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.peep">peep</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.peep.bb">bb</a>: <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="ClosureElimination.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.peep.i1">i1</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="ClosureElimination.this.global.icodes.Instruction">Instruction</a>, <a title="ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.peep.i2">i2</a>: <a href="../icode/Opcodes.scala.html#scala.tools.nsc.backend.icode;Opcodes;Instruction" title="ClosureElimination.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: <a href="../../../../Option.scala.html#scala;Option" title="Option[List[ClosureElimination.this.global.icodes.Instruction]]">Option</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Instruction<span class="delimiter">]</span><span class="delimiter">]</span>

    var <a title="ClosureElimination.this.global.icodes.liveness.LivenessAnalysis" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.liveness_=">liveness</a>: global.icodes.liveness.<a href="../icode/analysis/Liveness.scala.html#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis" title="ClosureElimination.this.global.icodes.liveness.LivenessAnalysis">LivenessAnalysis</a> = null

    def <a title="(m: ClosureElimination.this.global.icodes.IMethod)Unit" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.apply">apply</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.IMethod" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.apply.m">m</a>: <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod" title="ClosureElimination.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.apply.m" title="ClosureElimination.this.global.icodes.IMethod">m</a>.<a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.hasCode" title="=&gt; Boolean">hasCode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.liveness_=" title="(x$1: ClosureElimination.this.global.icodes.liveness.LivenessAnalysis)Unit">liveness</a> = new <a href="../../SubComponent.scala.html#scala.tools.nsc;SubComponent.global" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../Global.scala.html#scala.tools.nsc;Global.icodes" title="ClosureElimination.this.global.icodes.type">icodes</a>.<a href="../icode/ICodes.scala.html#scala.tools.nsc.backend.icode;ICodes.liveness" title="ClosureElimination.this.global.icodes.liveness.type">liveness</a>.<a href="../icode/analysis/Liveness.scala.html#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis" title="ClosureElimination.this.global.icodes.liveness.LivenessAnalysis">LivenessAnalysis</a>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.liveness_=" title="=&gt; ClosureElimination.this.global.icodes.liveness.LivenessAnalysis">liveness</a>.<a href="../icode/analysis/Liveness.scala.html#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.init(0b4449db73)" title="(m: ClosureElimination.this.global.icodes.liveness.global.icodes.IMethod)Unit">init</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.apply.m" title="ClosureElimination.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.liveness_=" title="=&gt; ClosureElimination.this.global.icodes.liveness.LivenessAnalysis">liveness</a>.<a href="../icode/analysis/Liveness.scala.html#scala.tools.nsc.backend.icode.analysis;Liveness;LivenessAnalysis.run" title="()Unit">run</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.apply.m" title="ClosureElimination.this.global.icodes.IMethod">m</a> <a href="../icode/Members.scala.html#scala.tools.nsc.backend.icode;Members;IMethod.foreachBlock" title="(f: ClosureElimination.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreachBlock</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock" title="(b: ClosureElimination.this.global.icodes.BasicBlock)Unit">transformBlock</a>
    <span class="delimiter">}</span>

    def <a title="(b: ClosureElimination.this.global.icodes.BasicBlock)Unit" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock">transformBlock</a><span class="delimiter">(</span><a title="ClosureElimination.this.global.icodes.BasicBlock" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.b">b</a>: <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock" title="ClosureElimination.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.b" title="ClosureElimination.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.size" title="=&gt; Int">size</a> <a href="../../../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      var <a title="List[ClosureElimination.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstructions">newInstructions</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[ClosureElimination.this.global.icodes.Instruction]">List</a><span class="delimiter">[</span>Instruction<span class="delimiter">]</span> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.b" title="ClosureElimination.this.global.icodes.BasicBlock">b</a>.<a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.toList" title="=&gt; List[ClosureElimination.this.global.icodes.Instruction]">toList</a>
      var <a title="Boolean" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.redo">redo</a> = false

      do <span class="delimiter">{</span>
        var <a title="ClosureElimination.this.global.icodes.Instruction" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.h">h</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstructions" title="List[ClosureElimination.this.global.icodes.Instruction]">newInstructions</a>.<a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; ClosureElimination.this.global.icodes.Instruction">head</a>
        var <a title="List[ClosureElimination.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t">t</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstructions" title="List[ClosureElimination.this.global.icodes.Instruction]">newInstructions</a>.<a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; List[ClosureElimination.this.global.icodes.Instruction]">tail</a>
        var <a title="List[ClosureElimination.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.seen">seen</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[ClosureElimination.this.global.icodes.Instruction]">List</a><span class="delimiter">[</span>Instruction<span class="delimiter">]</span> = <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
        <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.redo" title="Boolean">redo</a> = false

        while <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t" title="List[ClosureElimination.this.global.icodes.Instruction]">t</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.while$2" title="()Unit" class="delimiter">{</a>
          <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.peep" title="(bb: ClosureElimination.this.global.icodes.BasicBlock, i1: ClosureElimination.this.global.icodes.Instruction, i2: ClosureElimination.this.global.icodes.Instruction)Option[List[ClosureElimination.this.global.icodes.Instruction]]">peep</a><span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.b" title="ClosureElimination.this.global.icodes.BasicBlock">b</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.h" title="ClosureElimination.this.global.icodes.Instruction">h</a>, <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t" title="List[ClosureElimination.this.global.icodes.Instruction]">t</a>.<a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; ClosureElimination.this.global.icodes.Instruction">head</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="List[ClosureElimination.this.global.icodes.Instruction]" id="scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstrs">newInstrs</a><span class="delimiter">)</span> =&gt;
              <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstructions" title="List[ClosureElimination.this.global.icodes.Instruction]">newInstructions</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.seen" title="List[ClosureElimination.this.global.icodes.Instruction]">seen</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.reverse_:::" title="(prefix: List[ClosureElimination.this.global.icodes.Instruction])List[ClosureElimination.this.global.icodes.Instruction]">reverse_:::</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstrs" title="List[ClosureElimination.this.global.icodes.Instruction]">newInstrs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[ClosureElimination.this.global.icodes.Instruction])List[ClosureElimination.this.global.icodes.Instruction]">:::</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t" title="List[ClosureElimination.this.global.icodes.Instruction]">t</a>.<a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; List[ClosureElimination.this.global.icodes.Instruction]">tail</a>
              <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.redo" title="Boolean">redo</a> = true
            case <a href="../../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
            	<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.seen" title="List[ClosureElimination.this.global.icodes.Instruction]">seen</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.h" title="ClosureElimination.this.global.icodes.Instruction">h</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: ClosureElimination.this.global.icodes.Instruction)List[ClosureElimination.this.global.icodes.Instruction]">::</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.seen" title="List[ClosureElimination.this.global.icodes.Instruction]">seen</a>
          <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.h" title="ClosureElimination.this.global.icodes.Instruction">h</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t" title="List[ClosureElimination.this.global.icodes.Instruction]">t</a>.<a href="../../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; ClosureElimination.this.global.icodes.Instruction">head</a>
          <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t" title="List[ClosureElimination.this.global.icodes.Instruction]">t</a> = <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.t" title="List[ClosureElimination.this.global.icodes.Instruction]">t</a>.<a href="../../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; List[ClosureElimination.this.global.icodes.Instruction]">tail</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> while <span class="delimiter">(</span><a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.redo" title="Boolean">redo</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.b" title="ClosureElimination.this.global.icodes.BasicBlock">b</a> <a href="../icode/BasicBlocks.scala.html#scala.tools.nsc.backend.icode;BasicBlocks;BasicBlock.fromList" title="(is: List[ClosureElimination.this.global.icodes.Instruction])Unit">fromList</a> <a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt.transformBlock.newInstructions" title="List[ClosureElimination.this.global.icodes.Instruction]">newInstructions</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<a href="#scala.tools.nsc.backend.opt;ClosureElimination;PeepholeOpt" title="AnyRef" class="delimiter">}</a> <span class="comment">/* class ClosureElimination */</span>

        </pre>
    </body>
</html>
