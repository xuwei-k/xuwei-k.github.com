<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/transform/TypingTransformers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author Martin Odersky
 */</span>

package scala.tools.nsc
package transform

<span class="comment">/** A base class for transforms.
 *  A transform contains a compiler phase which applies a tree transformer.
 */</span>
trait <a title="trait TypingTransformers extends AnyRef" id="scala.tools.nsc.transform;TypingTransformers">TypingTransformers</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>

  val <a title="=&gt; scala.tools.nsc.Global" id="scala.tools.nsc.transform;TypingTransformers.global">global</a>: <a href="../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a>
  import <a href="#scala.tools.nsc.transform;TypingTransformers.global" title="=&gt; scala.tools.nsc.Global">global</a>._

  abstract class <a title="class TypingTransformer extends TypingTransformers.this.global.Transformer" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer">TypingTransformer</a><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer" title="TypingTransformers.this.TypingTransformer" class="delimiter">(</a><a title="TypingTransformers.this.global.CompilationUnit" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="TypingTransformers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> extends <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer" title="TypingTransformers.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    var <a title="TypingTransformers.this.global.analyzer.Typer" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.localTyper_=">localTyper</a>: analyzer.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="TypingTransformers.this.global.analyzer.Typer">Typer</a> =
      if <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.phase" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase.erasedTypes" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.erasure" title="TypingTransformers.this.global.erasure.type">erasure</a>.<a href="Erasure.scala.html#scala.tools.nsc.transform;Erasure.newTyper" title="(context: TypingTransformers.this.global.erasure.Context)TypingTransformers.this.global.erasure.Eraser">newTyper</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.erasure" title="TypingTransformers.this.global.erasure.type">erasure</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts.rootContextPostTyper" title="(unit: TypingTransformers.this.global.erasure.global.CompilationUnit, tree: TypingTransformers.this.global.erasure.global.Tree)TypingTransformers.this.global.erasure.Context">rootContextPostTyper</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.unit" title="TypingTransformers.this.global.CompilationUnit">unit</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="TypingTransformers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="TypingTransformers.this.global.analyzer.Typer" class="delimiter">[</span>analyzer.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="TypingTransformers.this.global.analyzer.Typer">Typer</a><span class="delimiter">]</span>
      else <span class="comment">// TODO: AM: should some phases use a regular rootContext instead of a post-typer one??</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.analyzer" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: TypingTransformers.this.global.type}">analyzer</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers.newTyper" title="(context: TypingTransformers.this.global.analyzer.Context)TypingTransformers.this.global.analyzer.Typer">newTyper</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.analyzer" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: TypingTransformers.this.global.type}">analyzer</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts.rootContextPostTyper" title="(unit: TypingTransformers.this.global.analyzer.global.CompilationUnit, tree: TypingTransformers.this.global.analyzer.global.Tree)TypingTransformers.this.global.analyzer.Context">rootContextPostTyper</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.unit" title="TypingTransformers.this.global.CompilationUnit">unit</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="TypingTransformers.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    protected var <a title="TypingTransformers.this.global.Tree" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.curTree_=">curTree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="TypingTransformers.this.global.Tree">Tree</a> = _

    override final def <a title="[A](owner: TypingTransformers.this.global.Symbol)(trans: =&gt; A)A" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a)">atOwner</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a);A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="TypingTransformers.this.global.Symbol" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a).owner">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="TypingTransformers.this.global.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a).trans">trans</a>: =&gt; A<span class="delimiter">)</span>: <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a);A" title="A">A</a> = <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a)" title="(tree: TypingTransformers.this.global.Tree, owner: TypingTransformers.this.global.Symbol)(trans: =&gt; A)A">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.curTree_=" title="=&gt; TypingTransformers.this.global.Tree">curTree</a>, <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a).owner" title="TypingTransformers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a).trans" title="=&gt; A">trans</a><span class="delimiter">)</span>

    def <a title="[A](tree: TypingTransformers.this.global.Tree, owner: TypingTransformers.this.global.Symbol)(trans: =&gt; A)A" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a)">atOwner</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a);A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="TypingTransformers.this.global.Tree" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="TypingTransformers.this.global.Tree">Tree</a>, <a title="TypingTransformers.this.global.Symbol" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).owner">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="TypingTransformers.this.global.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; A" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).trans">trans</a>: =&gt; A<span class="delimiter">)</span>: <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a);A" title="A">A</a> = <span class="delimiter">{</span>
      val <a title="TypingTransformers.this.global.analyzer.Typer" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).savedLocalTyper">savedLocalTyper</a> = <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.localTyper_=" title="=&gt; TypingTransformers.this.global.analyzer.Typer">localTyper</a>
      <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.localTyper_=" title="(x$1: TypingTransformers.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.localTyper_=" title="=&gt; TypingTransformers.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.atOwner(91fc1f4aed)" title="(tree: TypingTransformers.this.global.analyzer.global.Tree, owner: TypingTransformers.this.global.analyzer.global.Symbol)TypingTransformers.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).tree" title="TypingTransformers.this.global.Tree">tree</a>, if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).owner" title="TypingTransformers.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isModule" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).owner" title="TypingTransformers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.moduleClass" title="=&gt; TypingTransformers.this.global.Symbol">moduleClass</a> else <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).owner" title="TypingTransformers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      val <a title="A" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).result">result</a> = super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.atOwner" title="(owner: TypingTransformers.this.global.Symbol)(trans: =&gt; A)A">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).owner" title="TypingTransformers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).trans" title="=&gt; A">trans</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.localTyper_=" title="(x$1: TypingTransformers.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).savedLocalTyper" title="TypingTransformers.this.global.analyzer.Typer">savedLocalTyper</a>
      <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(05c070e47a).result" title="A">result</a>
    <span class="delimiter">}</span>

    override def <a title="(tree: TypingTransformers.this.global.Tree)TypingTransformers.this.global.Tree" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform">transform</a><span class="delimiter">(</span><a title="TypingTransformers.this.global.Tree" id="scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="TypingTransformers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="TypingTransformers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.curTree_=" title="(x$1: TypingTransformers.this.global.Tree)Unit">curTree</a> = <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree" title="TypingTransformers.this.global.Tree">tree</a>
      <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree" title="TypingTransformers.this.global.Tree">tree</a> match <span class="delimiter">{</span>
        case Template<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <span class="comment">// enter template into context chain</span>
          <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a)" title="(owner: TypingTransformers.this.global.Symbol)(trans: =&gt; TypingTransformers.this.global.Tree)TypingTransformers.this.global.Tree">atOwner</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentOwner" title="=&gt; TypingTransformers.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span> super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: TypingTransformers.this.global.Tree)TypingTransformers.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree" title="TypingTransformers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        case PackageDef<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.atOwner(c4f4c4069a)" title="(owner: TypingTransformers.this.global.Symbol)(trans: =&gt; TypingTransformers.this.global.Tree)TypingTransformers.this.global.Tree">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree" title="TypingTransformers.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; TypingTransformers.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: TypingTransformers.this.global.Tree)TypingTransformers.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree" title="TypingTransformers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        case _ =&gt;
          super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: TypingTransformers.this.global.Tree)TypingTransformers.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.transform.tree" title="TypingTransformers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
