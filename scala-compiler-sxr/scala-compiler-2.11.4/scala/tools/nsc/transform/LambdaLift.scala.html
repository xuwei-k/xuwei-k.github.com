<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/transform/LambdaLift.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author
 */</span>

package scala.tools.nsc
package transform

import symtab._
import <a href="../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>._
import scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
import scala.collection.mutable.<span class="delimiter">{</span> LinkedHashMap, LinkedHashSet, TreeSet <span class="delimiter">}</span>

abstract class <a title="class LambdaLift extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform" id="scala.tools.nsc.transform;LambdaLift">LambdaLift</a> extends <a href="InfoTransform.scala.html#scala.tools.nsc.transform;InfoTransform" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>
  import <a href="../SubComponent.scala.html#scala.tools.nsc;SubComponent.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="LambdaLift.this.global.definitions.type">definitions</a>._

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  val <a title="String" id="scala.tools.nsc.transform;LambdaLift.phaseName">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>

  private val <a title="LambdaLift.this.global.TypeMap" id="scala.tools.nsc.transform;LambdaLift.lifted">lifted</a> = new <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap" title="&lt;$anon: LambdaLift.this.global.Type =&gt; LambdaLift.this.global.Type&gt; extends LambdaLift.this.global.TypeMap" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon">TypeMap</a> <span class="delimiter">{</span>
    def <a title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply">apply</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Type" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.tp">tp</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="LambdaLift.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="LambdaLift.this.global.Type">Type</a> = <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.tp" title="LambdaLift.this.global.Type">tp</a> match <span class="delimiter">{</span>
      case TypeRef<span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoPrefix" title="LambdaLift.this.global.NoPrefix.type">NoPrefix</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.sym">sym</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> if <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPackageClass" title="=&gt; Boolean">isPackageClass</a> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.typeRef" title="(pre: LambdaLift.this.global.Type, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Type])LambdaLift.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">apply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.thisType" title="=&gt; LambdaLift.this.global.Type">thisType</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
      case ClassInfoType<span class="delimiter">(</span><a title="List[LambdaLift.this.global.Type]" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.parents">parents</a>, <a title="LambdaLift.this.global.Scope" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.decls">decls</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.clazz">clazz</a><span class="delimiter">)</span> =&gt;
        val parents1 = <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.parents" title="List[LambdaLift.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.mapConserve" title="List[LambdaLift.this.global.Type]" id="scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.parents1">mapConserve</a> this
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.parents1" title="List[LambdaLift.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.parents" title="List[LambdaLift.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.tp" title="LambdaLift.this.global.Type">tp</a>
        else <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;ClassInfoType" title="(parents: List[LambdaLift.this.global.Type], decls: LambdaLift.this.global.Scope, typeSymbol: LambdaLift.this.global.Symbol)LambdaLift.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.parents1" title="List[LambdaLift.this.global.Type]">parents1</a>, <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.decls" title="LambdaLift.this.global.Scope">decls</a>, <a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.clazz" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      case _ =&gt;
        <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.mapOver(ad9e013c92)" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.lifted;$anon.apply.tp" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** scala.runtime.*Ref classes */</span>
  private lazy val allRefClasses: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[LambdaLift.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.refClass" title="=&gt; Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.ClassSymbol]">refClass</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.values" title="=&gt; Iterable[LambdaLift.this.global.ClassSymbol]">values</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toSet" title="scala.collection.immutable.Set[LambdaLift.this.global.ClassSymbol]">toSet</a> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.++(07e1553119)" title="(elems: scala.collection.GenTraversableOnce[LambdaLift.this.global.ClassSymbol])scala.collection.immutable.Set[LambdaLift.this.global.ClassSymbol]">++</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.volatileRefClass" title="=&gt; Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.ClassSymbol]">volatileRefClass</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.values" title="=&gt; Iterable[LambdaLift.this.global.ClassSymbol]">values</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toSet" title="scala.collection.immutable.Set[LambdaLift.this.global.ClassSymbol]">toSet</a> <a title="Set[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift.allRefClasses">++</a> <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: LambdaLift.this.global.ClassSymbol*)scala.collection.immutable.Set[LambdaLift.this.global.ClassSymbol]">Set</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.VolatileObjectRefClass" title="=&gt; LambdaLift.this.global.ClassSymbol">VolatileObjectRefClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ObjectRefClass" title="=&gt; LambdaLift.this.global.ClassSymbol">ObjectRefClass</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Each scala.runtime.*Ref class has a static method `create(value)` that simply instantiates the Ref to carry that value. */</span>
  private lazy val <a title="Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift.refCreateMethod">refCreateMethod</a>: <a href="../../../collection/immutable/Map.scala.html#scala.collection.immutable;Map" title="Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../../../reflect/internal/util/Collections.scala.html#scala.reflect.internal.util;Collections.mapFrom" title="(xs: List[LambdaLift.this.global.Symbol])(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.TermSymbol)Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.TermSymbol]">mapFrom</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.allRefClasses" title="=&gt; Set[LambdaLift.this.global.Symbol]">allRefClasses</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift.refCreateMethod.$anonfun.x">x</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.getMemberMethod" title="(owner: LambdaLift.this.global.Symbol, name: LambdaLift.this.global.Name)LambdaLift.this.global.TermSymbol">getMemberMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.refCreateMethod.$anonfun.x" title="LambdaLift.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.companionModule" title="=&gt; LambdaLift.this.global.Symbol">companionModule</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.create" title="=&gt; LambdaLift.this.global.nme.NameType">create</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Quite frequently a *Ref is initialized with its zero (e.g., null, 0.toByte, etc.) Method `zero()` of *Ref class encapsulates that pattern. */</span>
  private lazy val <a title="Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift.refZeroMethod">refZeroMethod</a>: <a href="../../../collection/immutable/Map.scala.html#scala.collection.immutable;Map" title="Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../../../reflect/internal/util/Collections.scala.html#scala.reflect.internal.util;Collections.mapFrom" title="(xs: List[LambdaLift.this.global.Symbol])(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.TermSymbol)Map[LambdaLift.this.global.Symbol,LambdaLift.this.global.TermSymbol]">mapFrom</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.allRefClasses" title="=&gt; Set[LambdaLift.this.global.Symbol]">allRefClasses</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift.refZeroMethod.$anonfun.x">x</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.getMemberMethod" title="(owner: LambdaLift.this.global.Symbol, name: LambdaLift.this.global.Name)LambdaLift.this.global.TermSymbol">getMemberMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.refZeroMethod.$anonfun.x" title="LambdaLift.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.companionModule" title="=&gt; LambdaLift.this.global.Symbol">companionModule</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.zero" title="=&gt; LambdaLift.this.global.nme.NameType">zero</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(sym: LambdaLift.this.global.Symbol, tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="scala.tools.nsc.transform;LambdaLift.transformInfo">transformInfo</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift.transformInfo.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Type" id="scala.tools.nsc.transform;LambdaLift.transformInfo.tp">tp</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="LambdaLift.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="LambdaLift.this.global.Type">Type</a> =
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.transformInfo.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isCapturedVariable" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <a href="../../../reflect/internal/CapturedVariables.scala.html#scala.reflect.internal;CapturedVariables.capturedVariableType(28630784bb)" title="(vble: LambdaLift.this.global.Symbol, tpe: LambdaLift.this.global.Type, erasedTypes: Boolean)LambdaLift.this.global.Type">capturedVariableType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.transformInfo.sym" title="LambdaLift.this.global.Symbol">sym</a>, tpe = <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.apply" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.transformInfo.tp" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>, erasedTypes = true<span class="delimiter">)</span>
    else <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.apply" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.transformInfo.tp" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>

  protected def <a title="(unit: LambdaLift.this.global.CompilationUnit)LambdaLift.this.global.Transformer" id="scala.tools.nsc.transform;LambdaLift.newTransformer">newTransformer</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CompilationUnit" id="scala.tools.nsc.transform;LambdaLift.newTransformer.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer" title="LambdaLift.this.global.Transformer">Transformer</a> =
    new <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter" title="LambdaLift.this.LambdaLifter">LambdaLifter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift.newTransformer.unit" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  class <a title="class LambdaLifter extends LambdaLift.this.global.explicitOuter.OuterPathTransformer" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter">LambdaLifter</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter" title="LambdaLift.this.LambdaLifter" class="delimiter">(</a><a title="LambdaLift.this.global.CompilationUnit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> extends <a href="../Global.scala.html#scala.tools.nsc;Global.explicitOuter" title="LambdaLift.this.global.explicitOuter.type">explicitOuter</a>.<a href="ExplicitOuter.scala.html#scala.tools.nsc.transform;ExplicitOuter;OuterPathTransformer" title="LambdaLift.this.global.explicitOuter.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.unit" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    private type <a title="scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter;SymSet">SymSet</a> = <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet" title="scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="comment">/** A map storing free variables of functions and classes */</span>
    private val <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.free">free</a> = new <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>

    <span class="comment">/** A map storing the free variable proxies of functions and classes */</span>
    private val <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxies">proxies</a> = new <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">/** A hashtable storing calls between functions */</span>
    private val <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.called">called</a> = new <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>

    <span class="comment">/** Symbols that are called from an inner class. */</span>
    private val <a title="scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.calledFromInner">calledFromInner</a> = new <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet" title="scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]">LinkedHashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    private val <a title="scala.math.Ordering[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.ord">ord</a> = <a href="../../../package.scala.html#scala.package.Ordering" title="=&gt; math.Ordering.type">Ordering</a>.<a href="../../../math/Ordering.scala.html#scala.math.Ordering.fromLessThan" title="[T](cmp: (T, T) =&gt; Boolean)scala.math.Ordering[T]">fromLessThan</a><span title="(cmp: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Symbol) =&gt; Boolean)scala.math.Ordering[LambdaLift.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.ord.$anonfun.x$1" title="LambdaLift.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLess" title="(that: LambdaLift.this.global.Symbol)Boolean">isLess</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.ord.$anonfun.x$2" title="LambdaLift.this.global.Symbol">_</a><span class="delimiter">)</span>
    private def <a title="=&gt; scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.newSymSet">newSymSet</a> = <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable.TreeSet" title="scala.collection.mutable.TreeSet.type">TreeSet</a>.<a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable.TreeSet.empty" title="[A](implicit ordering: Ordering[A])scala.collection.mutable.TreeSet[A]">empty</a><span title="(implicit ordering: Ordering[LambdaLift.this.global.Symbol])scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.ord" title="=&gt; scala.math.Ordering[LambdaLift.this.global.Symbol]">ord</a><span class="delimiter">)</span>

    private def <a title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet">symSet</a><span class="delimiter">(</span><a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet.f">f</a>: <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet" title="LambdaLifter.this.SymSet">SymSet</a> =
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet.f" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">f</a>.<a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.getOrElseUpdate" title="(key: LambdaLift.this.global.Symbol, op: =&gt; LambdaLifter.this.SymSet)LambdaLifter.this.SymSet">getOrElseUpdate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.newSymSet" title="=&gt; scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a><span class="delimiter">)</span>

    <span class="comment">/** The set of symbols that need to be renamed. */</span>
    private val <a title="scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.renamable">renamable</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.newSymSet" title="=&gt; scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>

    <span class="comment">/**
     * The new names for free variables proxies. If we simply renamed the
     * free variables, we would transform:
     * {{{
     *   def closure(x: Int) = { () =&gt; x }
     * }}}
     *
     * To:
     * {{{
     *   def closure(x$1: Int) = new anonFun$1(this, x$1)
     *   class anonFun$1(outer$: Outer, x$1: Int) { def apply() =&gt; x$1 }
     * }}}
     *
     * This is fatally bad for named arguments (0e170e4b), extremely impolite to tools
     * reflecting on the method parameter names in the generated bytecode (SI-6028),
     * and needlessly bothersome to anyone using a debugger.
     *
     * Instead, we transform to:
     * {{{
     *   def closure(x: Int) = new anonFun$1(this, x)
     *   class anonFun$1(outer$: Outer, x$1: Int) { def apply() =&gt; x$1 }
     * }}}
     */</span>
    private val <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyNames">proxyNames</a>       = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name)*)scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="LambdaLift.this.global.Name">Name</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// (trait, name) -&gt; owner</span>
    private val <a title="scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.localTraits">localTraits</a>      = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: ((LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), LambdaLift.this.global.Symbol)*)scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" class="delimiter">[</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name)" class="delimiter">(</a>Symbol, Name<span class="delimiter">)</span>, <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="comment">// (owner, name) -&gt; implClass</span>
    private val <a title="scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.localImplClasses">localImplClasses</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: ((LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), LambdaLift.this.global.Symbol)*)scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" class="delimiter">[</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name)" class="delimiter">(</a>Symbol, Name<span class="delimiter">)</span>, <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/** A flag to indicate whether new free variables have been found */</span>
    private var <a title="Boolean" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.changedFreeVars_=">changedFreeVars</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = _

    <span class="comment">/** Buffers for lifted out classes and methods */</span>
    private val <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftedDefs">liftedDefs</a> = new <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>

    private def <a title="(sym: LambdaLift.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.isSameOwnerEnclosure">isSameOwnerEnclosure</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.isSameOwnerEnclosure.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.isSameOwnerEnclosure.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentOwner" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">logicallyEnclosingMember</a>

    <span class="comment">/** Mark symbol `sym` as being free in `enclosure`, unless `sym`
     *  is defined in `enclosure` or there is a class between `enclosure`s owner
     *  and the owner of `sym`.
     *  Return `true` if there is no class between `enclosure` and
     *  the owner of sym.
     *  pre: sym.isLocalToBlock, (enclosure.isMethod || enclosure.isClass)
     *
     *  The idea of `markFree` is illustrated with an example:
     *
     *  def f(x: int) = {
     *    class C {
     *      class D {
     *        val y = x
     *      }
     *    }
     *  }
     *
     *  In this case `x` is free in the primary constructor of class `C`.
     *  but it is not free in `D`, because after lambda lift the code would be transformed
     *  as follows:
     *
     *  def f(x$0: int) {
     *    class C(x$0: int) {
     *      val x$1 = x$0
     *      class D {
     *        val y = outer.x$1
     *      }
     *    }
     *  }
     */</span>
    private def <a title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree">markFree</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure">enclosure</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;mark free: &quot;)" class="string">&quot;mark free: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; marked free in &quot;)" class="string">&quot; marked free in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s != %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPackageClass" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.skipConstructor" title="=&gt; LambdaLift.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span><span class="delimiter">)</span> false
        else <span class="delimiter">{</span>
          val <a title="LambdaLifter.this.SymSet" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.ss">ss</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.free" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: LambdaLift.this.global.Symbol)Boolean">ss</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.ss" title="LambdaLifter.this.SymSet">ss</a> <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.+=(350f843bb6)" title="(elem: LambdaLift.this.global.Symbol)ss.type">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>
            <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.renamable" title="=&gt; scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.+=(350f843bb6)" title="(elem: LambdaLift.this.global.Symbol)LambdaLifter.this.renamable.type">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>
            <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.changedFreeVars_=" title="(x$1: Boolean)Unit">changedFreeVars</a> = true
            <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is free in &quot;)" class="string">&quot; is free in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isVariable" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.sym" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)sym.type">setFlag</a> <span title="Long(65536L)">CAPTURED</span>
          <span class="delimiter">}</span>
          <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled">markCalled</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.owner">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;mark called: &quot;)" class="string">&quot;mark called: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.sym" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is called by &quot;)" class="string">&quot; is called by &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.owner" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.called" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.owner" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.+=(350f843bb6)" title="(elem: LambdaLift.this.global.Symbol)scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.sym" title="LambdaLift.this.global.Symbol">sym</a>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.owner" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.calledFromInner" title="=&gt; scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]">calledFromInner</a> <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet.+=(1ef7fe1102)" title="(elem: LambdaLift.this.global.Symbol)LambdaLifter.this.calledFromInner.type">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled.sym" title="LambdaLift.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The traverse function */</span>
    private val <a title="LambdaLift.this.global.Traverser" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser">freeVarTraverser</a> = new <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser" title="&lt;$anon: LambdaLift.this.global.Traverser&gt; extends LambdaLift.this.global.Traverser" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon">Traverser</a> <span class="delimiter">{</span>
      override def <a title="(tree: LambdaLift.this.global.Tree)Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse">traverse</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
       try <span class="delimiter">{</span> <span class="comment">//debug</span>
        val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym">sym</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.tree" title="LambdaLift.this.global.Tree">tree</a> match <span class="delimiter">{</span>
          case ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Tree])Unit">liftedDefs</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// Don't rename implementation classes independently of their interfaces. If</span>
              <span class="comment">// the interface is to be renamed, then we will rename the implementation</span>
              <span class="comment">// class at that time. You'd think we could call &quot;.implClass&quot; on the trait</span>
              <span class="comment">// rather than collecting them in another map, but that seems to fail for</span>
              <span class="comment">// exactly the traits being renamed here (i.e. defined in methods.)</span>
              <span class="comment">//</span>
              <span class="comment">// !!! - it makes no sense to have methods like &quot;implClass&quot; and</span>
              <span class="comment">// &quot;companionClass&quot; which fail for an arbitrary subset of nesting</span>
              <span class="comment">// arrangements, and then have separate methods which attempt to compensate</span>
              <span class="comment">// for that failure. There should be exactly one method for any given</span>
              <span class="comment">// entity which always gives the right answer.</span>
              if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isImplClass" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
                <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), value: LambdaLift.this.global.Symbol)Unit">localImplClasses</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: LambdaLift.this.global.Symbol, _2: LambdaLift.this.global.TypeName)(LambdaLift.this.global.Symbol, LambdaLift.this.global.TypeName)" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.tpnme" title="LambdaLift.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TypeNames.interfaceName" title="(implname: LambdaLift.this.global.Name)LambdaLift.this.global.TypeName">interfaceName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>
              else <span class="delimiter">{</span>
                <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.renamable" title="=&gt; scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.+=(350f843bb6)" title="(elem: LambdaLift.this.global.Symbol)LambdaLifter.this.renamable.type">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>
                if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isTrait" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
                  <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), value: LambdaLift.this.global.Symbol)Unit">localTraits</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: LambdaLift.this.global.Symbol, _2: sym.NameType)(LambdaLift.this.global.Symbol, sym.NameType)" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          case DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.renamable" title="=&gt; scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.+=(350f843bb6)" title="(elem: LambdaLift.this.global.Symbol)LambdaLifter.this.renamable.type">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>
              <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span>PrivateLocal <span title="Long(524324L)">|</span> FINAL<span class="delimiter">)</span>
            <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPrimaryConstructor" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.symSet" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.called" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.+=(350f843bb6)" title="(elem: LambdaLift.this.global.Symbol)scala.collection.mutable.TreeSet[LambdaLift.this.global.Symbol]">+=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
            <span class="delimiter">}</span>
          case Ident<span class="delimiter">(</span><a title="LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.name">name</a><span class="delimiter">)</span> =&gt;
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; LambdaLift.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.name" title="LambdaLift.this.global.Name">name</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.WILDCARD" title="=&gt; LambdaLift.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.owner">owner</a> = <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser.currentOwner" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a>
              if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isTerm" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.owner" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
              else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled" title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit">markCalled</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.owner" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="comment">//symSet(called, owner) += sym</span>
            <span class="delimiter">}</span>
          case Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isConstructor" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span>
              <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markCalled" title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit">markCalled</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser.currentOwner" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>
          case _ =&gt;
        <span class="delimiter">}</span>
        super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.tree" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span>
       <span class="delimiter">}</span> catch <span class="delimiter">{</span><span class="comment">//debug</span>
         case <a title="Throwable" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.ex">ex</a>: <span title="Throwable">Throwable</span> =&gt;
           <a href="../../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../../Console.scala.html#scala.Console.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.ex" title="Throwable">ex</a><span title="String(&quot; while traversing &quot;)"> while traversing $</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.tree" title="LambdaLift.this.global.Tree">tree</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
           throw <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser;$anon.traverse.ex" title="Throwable">ex</a>
       <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Compute free variables map `fvs`.
     *  Also assign unique names to all
     *  value/variable/let that are free in some function or class, and to
     *  all class/function symbols that are owned by some function.
     */</span>
    private def <a title="()Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars">computeFreeVars</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.freeVarTraverser" title="=&gt; LambdaLift.this.global.Traverser">freeVarTraverser</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.unit" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; LambdaLift.this.global.Tree">body</a><span class="delimiter">)</span>

      do <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.changedFreeVars_=" title="(x$1: Boolean)Unit">changedFreeVars</a> = false
        for <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.caller">caller</a> &lt;- <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.called" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit">keys</a> ; <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.callee">callee</a> &lt;- <a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">called</a><a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.caller" title="LambdaLift.this.global.Symbol">caller</a><span class="delimiter">)</span> ; <a title="LambdaLifter.this.SymSet" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.$anonfun.fvs">fvs</a> &lt;- <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.free" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a> <a href="../../../Option.scala.html#scala;Option.foreach" title="(f: LambdaLifter.this.SymSet =&gt; Unit)Unit">get</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.callee" title="LambdaLift.this.global.Symbol">callee</a> ; <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.$anonfun.$anonfun.fv">fv</a> &lt;- <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: LambdaLift.this.global.Symbol =&gt; Boolean)Unit">fvs</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.markFree" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.$anonfun.$anonfun.fv" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.caller" title="LambdaLift.this.global.Symbol">caller</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> while <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.changedFreeVars_=" title="=&gt; Boolean">changedFreeVars</a><span class="delimiter">)</span>

      def <a title="(sym: LambdaLift.this.global.Symbol)Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym">renameSym</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="sym.NameType" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.originalName">originalName</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.sym" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setName" title="(name: LambdaLift.this.global.Name)sym.type">setName</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Name">newName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;renaming in %s: %s =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.originalName" title="sym.NameType">originalName</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      def <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName">newName</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="LambdaLift.this.global.Name">Name</a> = <span class="delimiter">{</span>
        val <a title="sym.NameType" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.originalName">originalName</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a>
        def <a title="(prefix: String)LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.freshen">freshen</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.freshen.prefix">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="LambdaLift.this.global.Name">Name</a> =
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.originalName" title="sym.NameType">originalName</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.isTypeName" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.unit" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.freshTypeName" title="(prefix: String)LambdaLift.this.global.TypeName">freshTypeName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.freshen.prefix" title="String">prefix</a><span class="delimiter">)</span>
          else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.unit" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.freshTermName" title="(prefix: String)LambdaLift.this.global.TermName">freshTermName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.freshen.prefix" title="String">prefix</a><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAnonymousFunction" title="=&gt; Boolean">isAnonymousFunction</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.freshen" title="(prefix: String)LambdaLift.this.global.Name">freshen</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../Predef.scala.html#scala.Predef.any2stringadd(6b32434ac5)" title="(self: sym.NameType)any2stringadd[sym.NameType]">name</a> <a href="../../../Predef.scala.html#scala.Predef;any2stringadd.+" title="(other: String)String">+</a> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.NAME_JOIN_STRING" title="=&gt; String">NAME_JOIN_STRING</a> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; LambdaLift.this.global.Symbol#NameType">name</a> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.NAME_JOIN_STRING" title="=&gt; String">NAME_JOIN_STRING</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// SI-5652 If the lifted symbol is accessed from an inner class, it will be made public. (where?)</span>
          <span class="comment">//         Generating a unique name, mangled with the enclosing class name, avoids a VerifyError</span>
          <span class="comment">//         in the case that a sub-class happens to lifts out a method with the *same* name.</span>
          val <a title="LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.name">name</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.freshen" title="(prefix: String)LambdaLift.this.global.Name">freshen</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.NAME_JOIN_STRING" title="=&gt; String">NAME_JOIN_STRING</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.originalName" title="sym.NameType">originalName</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.isTermName" title="=&gt; Boolean">isTermName</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isImplClass" title="=&gt; Boolean">isImplClass</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: LambdaLift.this.global.Symbol)Boolean">calledFromInner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.expandedName" title="(name: LambdaLift.this.global.TermName, base: LambdaLift.this.global.Symbol)LambdaLift.this.global.TermName">expandedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.name" title="LambdaLift.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.toTermName" title="=&gt; LambdaLift.this.global.TermName">toTermName</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
          else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName.name" title="LambdaLift.this.global.Name">name</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/* Rename a trait's interface and implementation class in coordinated fashion. */</span>
      def <a title="(traitSym: LambdaLift.this.global.Symbol, implSym: LambdaLift.this.global.Symbol)Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait">renameTrait</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.traitSym">traitSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.implSym">implSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="implSym.NameType" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.originalImplName">originalImplName</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.implSym" title="LambdaLift.this.global.Symbol">implSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; implSym.NameType">name</a>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym" title="(sym: LambdaLift.this.global.Symbol)Unit">renameSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.traitSym" title="LambdaLift.this.global.Symbol">traitSym</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.implSym" title="LambdaLift.this.global.Symbol">implSym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setName" title="(name: LambdaLift.this.global.Name)implSym.type">setName</a> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.tpnme" title="LambdaLift.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TypeNames.implClassName" title="(name: LambdaLift.this.global.Name)LambdaLift.this.global.TypeName">implClassName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.traitSym" title="LambdaLift.this.global.Symbol">traitSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; traitSym.NameType">name</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;renaming impl class in step with %s: %s =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.traitSym" title="LambdaLift.this.global.Symbol">traitSym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.originalImplName" title="implSym.NameType">originalImplName</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait.implSym" title="LambdaLift.this.global.Symbol">implSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; implSym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      val <a title="Set[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.allFree">allFree</a>: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[LambdaLift.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.free" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.values" title="=&gt; Iterable[LambdaLifter.this.SymSet]">values</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.flatMap" title="(f: LambdaLifter.this.SymSet =&gt; scala.collection.GenTraversableOnce[LambdaLift.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[LambdaLifter.this.SymSet],LambdaLift.this.global.Symbol,Iterable[LambdaLift.this.global.Symbol]])Iterable[LambdaLift.this.global.Symbol]">flatMap</a><a href="../../../collection/Iterable.scala.html#scala.collection.Iterable.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,LambdaLift.this.global.Symbol,Iterable[LambdaLift.this.global.Symbol]]" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.allFree.$anonfun.x$3" title="LambdaLifter.this.SymSet">_</a>.<a href="../../../collection/mutable/TreeSet.scala.html#scala.collection.mutable;TreeSet.iterator" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toSet" title="scala.collection.immutable.Set[LambdaLift.this.global.Symbol]">toSet</a>

      for <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym">sym</a> &lt;- <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit">renamable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// If we renamed a trait from Foo to Foo$1, we must rename the implementation</span>
        <span class="comment">// class from Foo$class to Foo$1$class.  (Without special consideration it would</span>
        <span class="comment">// become Foo$class$1 instead.) Since the symbols are being renamed out from</span>
        <span class="comment">// under us, and there's no reliable link between trait symbol and impl symbol,</span>
        <span class="comment">// we have maps from ((trait, name)) -&gt; owner and ((owner, name)) -&gt; impl.</span>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.localTraits" title="=&gt; scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]">localTraits</a> <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.remove" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name))Option[LambdaLift.this.global.Symbol]">remove</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: LambdaLift.this.global.Symbol, _2: sym.NameType)(LambdaLift.this.global.Symbol, sym.NameType)" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>        =&gt;
            if <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: LambdaLift.this.global.Symbol)Boolean">allFree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: LambdaLift.this.global.Symbol, value: LambdaLift.this.global.Name)Unit">proxyNames</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.newName" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Name">newName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
            else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym" title="(sym: LambdaLift.this.global.Symbol)Unit">renameSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          case Some<span class="delimiter">(</span><span title="LambdaLift.this.global.Symbol">owner</span><span class="delimiter">)</span> =&gt;
            <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.localImplClasses" title="=&gt; scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]">localImplClasses</a> <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.remove" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name))Option[LambdaLift.this.global.Symbol]">remove</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: LambdaLift.this.global.Symbol, _2: sym.NameType)(LambdaLift.this.global.Symbol, sym.NameType)" class="delimiter">(</a><span title="LambdaLift.this.global.Symbol">owner</span>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
              case Some<span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.implSym">implSym</a><span class="delimiter">)</span>  =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameTrait" title="(traitSym: LambdaLift.this.global.Symbol, implSym: LambdaLift.this.global.Symbol)Unit">renameTrait</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.implSym" title="LambdaLift.this.global.Symbol">implSym</a><span class="delimiter">)</span>
              case _              =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.renameSym" title="(sym: LambdaLift.this.global.Symbol)Unit">renameSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="comment">// pure interface, no impl class</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="../SubComponent.scala.html#scala.tools.nsc;SubComponent.afterOwnPhase" title="(op: =&gt; Unit)Unit">afterOwnPhase</a> <span class="delimiter">{</span>
        for <span class="delimiter">(</span><span class="delimiter">(</span><span title="LambdaLift.this.global.Symbol">owner</span>, <a title="LambdaLifter.this.SymSet" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.freeValues">freeValues</a><span class="delimiter">)</span> &lt;- <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.free" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: ((LambdaLift.this.global.Symbol, LambdaLifter.this.SymSet)) =&gt; Unit)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val newFlags = <span title="Int(2097152)">SYNTHETIC</span> <a href="../../../Int.scala.html#scala;Int.|(1409840560)" title="Int" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.newFlags">|</a> <span class="delimiter">(</span> if <span class="delimiter">(</span><span title="LambdaLift.this.global.Symbol">owner</span>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> PARAMACCESSOR <span title="Int(537395204)">|</span> PrivateLocal else <span title="Int(8192)">PARAM</span> <span class="delimiter">)</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;free var proxy: %s, %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Symbol">owner</span>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.freeValues" title="LambdaLifter.this.SymSet">freeValues</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Symbol])Unit">proxies</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Symbol">owner</span><span class="delimiter">)</span> =
            for <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.fv">fv</a> &lt;- <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.freeValues" title="LambdaLifter.this.SymSet">freeValues</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.TermSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.TermSymbol,List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">toList</a><span class="delimiter">)</span> yield <span class="delimiter">{</span>
              val <a title="LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.proxyName">proxyName</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyNames" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]">proxyNames</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.getOrElse" title="(key: LambdaLift.this.global.Symbol, default: =&gt; LambdaLift.this.global.Name)LambdaLift.this.global.Name">getOrElse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.fv" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.fv" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; fv.NameType">name</a><span class="delimiter">)</span>
              val proxy = <span title="LambdaLift.this.global.Symbol">owner</span>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newValue" title="(name: LambdaLift.this.global.TermName, pos: LambdaLift.this.global.Position, newFlags: Long)LambdaLift.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.proxyName" title="LambdaLift.this.global.Name">proxyName</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.toTermName" title="=&gt; LambdaLift.this.global.TermName">toTermName</a>, <span title="LambdaLift.this.global.Symbol">owner</span>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.newFlags" title="Int">newFlags</a>.<a href="../../../Int.scala.html#scala;Int.toLong" title="=&gt; Long">toLong</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="LambdaLift.this.global.TermSymbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.proxy">setInfo</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.fv" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; LambdaLift.this.global.Type">info</a>
              if <span class="delimiter">(</span><span title="LambdaLift.this.global.Symbol">owner</span>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span title="LambdaLift.this.global.Symbol">owner</span>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; LambdaLift.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.enter" title="(sym: LambdaLift.this.global.TermSymbol)LambdaLift.this.global.TermSymbol">enter</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.proxy" title="LambdaLift.this.global.TermSymbol">proxy</a>
              <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars.$anonfun.$anonfun.proxy" title="LambdaLift.this.global.TermSymbol">proxy</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy">proxy</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      def <a title="(enclosure: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn">searchIn</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.enclosure">enclosure</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; LambdaLift.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> throw new <a href="../../../package.scala.html#scala.package;IllegalArgumentException" title="IllegalArgumentException">IllegalArgumentException</a><span class="delimiter">(</span><span title="String(&quot;Could not find proxy for &quot;)" class="string">&quot;Could not find proxy for &quot;</span><span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.defString" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.ownerChain" title="=&gt; List[LambdaLift.this.global.Symbol]">ownerChain</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; (currentOwner= &quot;)" class="string">&quot; (currentOwner= &quot;</span><span title="(x$1: Any)String">+</span> <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentOwner" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; )&quot;)" class="string">&quot; )&quot;</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;searching for &quot;)" class="string">&quot;searching for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) in &quot;)" class="string">&quot;) in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>

        val <a title="LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.proxyName">proxyName</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyNames" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]">proxyNames</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.getOrElse" title="(key: LambdaLift.this.global.Symbol, default: =&gt; LambdaLift.this.global.Name)LambdaLift.this.global.Name">getOrElse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
        val ps = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxies" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap.get" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#scala;Option.toList" title="=&gt; List[List[LambdaLift.this.global.Symbol]]">toList</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#scala.collection.generic;GenericTraversableTemplate.flatten" title="(implicit asTraversable: List[LambdaLift.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">flatten</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.find" title="Option[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.ps">find</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.ps.$anonfun.x$5" title="LambdaLift.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; x$5.NameType">name</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.proxyName" title="LambdaLift.this.global.Name">proxyName</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.ps" title="Option[LambdaLift.this.global.Symbol]">ps</a> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">getOrElse</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn" title="(enclosure: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn.enclosure" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.skipConstructor" title="=&gt; LambdaLift.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;proxy %s from %s has logical enclosure %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.debugLocationString" title="=&gt; String">debugLocationString</a>,
        <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentOwner" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.debugLocationString" title="=&gt; String">debugLocationString</a>,
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.logicallyEnclosingMember" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.debugLocationString" title="=&gt; String">debugLocationString</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.isSameOwnerEnclosure" title="(sym: LambdaLift.this.global.Symbol)Boolean">isSameOwnerEnclosure</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.sym" title="LambdaLift.this.global.Symbol">sym</a>
      else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy.searchIn" title="(enclosure: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentOwner" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    private def <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef">memberRef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz">clazz</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      <span class="comment">//Console.println(&quot;memberRef from &quot;+currentClass+&quot; to &quot;+sym+&quot; in &quot;+clazz)</span>
      def <a title="()Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference">prematureSelfReference</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="String" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference.what">what</a> =
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isStaticOwner" title="=&gt; Boolean">isStaticOwner</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a>
          else <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;the unconstructed `this` of &quot;)">the unconstructed `this` of $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span>
        val <a title="String" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference.msg">msg</a> = <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Implementation restriction: access of &quot;)">Implementation restriction: access of $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span><span title="String(&quot; from &quot;)"> from $</span><span class="delimiter">{</span><a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentClass" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span><span title="String(&quot;, would require illegal premature access to &quot;)">, would require illegal premature access to $</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference.what" title="String">what</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.error" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#scala.tools.nsc.transform;TypingTransformers;TypingTransformer.curTree" title="=&gt; LambdaLift.this.global.explicitOuter.global.Tree">curTree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.explicitOuter.global.Position">pos</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference.msg" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      val <a title="LambdaLift.this.global.gen.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.qual">qual</a> =
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentClass" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedThis" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.This">mkAttributedThis</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        else <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.sym" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.resetFlag" title="(mask: Long)sym.type">resetFlag</a> <span class="delimiter">(</span>LOCAL <span title="Long(524292L)">|</span> PRIVATE<span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;UnderConstructionTransformer.isUnderConstruction" title="(clazz: LambdaLift.this.global.explicitOuter.global.Symbol)Boolean">isUnderConstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference" title="()Unit">prematureSelfReference</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="LambdaLift.this.global.EmptyTree.type">EmptyTree</a>
          <span class="delimiter">}</span>
          else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isStaticOwner" title="=&gt; Boolean">isStaticOwner</a><span class="delimiter">)</span> <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedQualifier(6b7fa422dc)" title="(tpe: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.thisType" title="=&gt; LambdaLift.this.global.Type">thisType</a><span class="delimiter">)</span>
          else <span class="delimiter">{</span>
            <a href="ExplicitOuter.scala.html#scala.tools.nsc.transform;ExplicitOuter;OuterPathTransformer.outerValue" title="=&gt; LambdaLift.this.global.explicitOuter.global.Tree">outerValue</a> match <span class="delimiter">{</span>
              case <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="LambdaLift.this.global.EmptyTree.type">EmptyTree</a> =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.prematureSelfReference" title="()Unit">prematureSelfReference</a><span class="delimiter">(</span><span class="delimiter">)</span>; return <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="LambdaLift.this.global.EmptyTree.type">EmptyTree</a>
              case <a title="LambdaLift.this.global.explicitOuter.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.qual.o">o</a>         =&gt; <a href="ExplicitOuter.scala.html#scala.tools.nsc.transform;ExplicitOuter;OuterPathTransformer.outerPath" title="(base: LambdaLift.this.global.explicitOuter.global.Tree, from: LambdaLift.this.global.explicitOuter.global.Symbol, to: LambdaLift.this.global.explicitOuter.global.Symbol)LambdaLift.this.global.explicitOuter.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.qual.o" title="LambdaLift.this.global.explicitOuter.global.Tree">o</a>, <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentClass" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.outerClass" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">outerClass</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.clazz" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Select(dd97d6dc80)" title="(qualifier: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.qual" title="LambdaLift.this.global.gen.global.Tree">qual</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Select">setType</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    private def <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef">proxyRef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef.psym">psym</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxy" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">proxy</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef.psym" title="LambdaLift.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span> <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedIdent" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.RefTree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef.psym" title="LambdaLift.this.global.Symbol">psym</a><span class="delimiter">)</span> else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">memberRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef.psym" title="LambdaLift.this.global.Symbol">psym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    private def <a title="(pos: LambdaLift.this.global.Position, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs">addFreeArgs</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Position" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="LambdaLift.this.global.Position">Position</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.args">args</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.free" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap.get" title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.sym" title="LambdaLift.this.global.Symbol">sym</a> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><a title="LambdaLifter.this.SymSet" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.fvs">fvs</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.args" title="List[LambdaLift.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[LambdaLift.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">++</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.fvs" title="LambdaLifter.this.SymSet">fvs</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.$anonfun.fv">fv</a> =&gt; <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.pos" title="LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">proxyRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.$anonfun.fv" title="LambdaLift.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        case _         =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs.args" title="List[LambdaLift.this.global.Tree]">args</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams">addFreeParams</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxies" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap.get" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="List[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.ps">ps</a><span class="delimiter">)</span> =&gt;
        val freeParams = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.ps" title="List[LambdaLift.this.global.Symbol]">ps</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[LambdaLift.this.global.ValDef]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.freeParams">map</a> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.freeParams.$anonfun.p">p</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.ValDef.apply(88055a62f0)" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.freeParams.$anonfun.p" title="LambdaLift.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)LambdaLift.this.global.ValDef">setPos</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.ValDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="LambdaLift.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.tree" title="LambdaLift.this.global.Tree">tree</a> match <span class="delimiter">{</span>
          case DefDef<span class="delimiter">(</span>_, _, _, <a title="List[LambdaLift.this.global.ValDef]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.vparams">vparams</a> :: _, _, _<span class="delimiter">)</span> =&gt;
            val <a title="List[LambdaLift.this.global.Symbol]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.addParams">addParams</a> = <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.cloneSymbols" title="(syms: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.ps" title="List[LambdaLift.this.global.Symbol]">ps</a><span class="delimiter">)</span>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.addParams.$anonfun.x$6" title="LambdaLift.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)x$6.type">setFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.updateInfo" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">updateInfo</a><span class="delimiter">(</span>
              <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.apply" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType" title="(params: List[LambdaLift.this.global.Symbol], resultType: LambdaLift.this.global.Type)LambdaLift.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.params" title="=&gt; List[LambdaLift.this.global.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">:::</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.addParams" title="List[LambdaLift.this.global.Symbol]">addParams</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.resultType(9b9cdebb0f)" title="=&gt; LambdaLift.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../SubComponent.scala.html#scala.tools.nsc;SubComponent.global" title="=&gt; scala.tools.nsc.Global">copyDefDef</a><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.copyDefDef$default$2" title="LambdaLift.this.global.Modifiers" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.x$22" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.tree" title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.x$16">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>vparamss = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: List[LambdaLift.this.global.ValDef]*)List[List[LambdaLift.this.global.ValDef]]">List</a><a title="List[List[LambdaLift.this.global.ValDef]] @scala.reflect.internal.annotations.uncheckedBounds" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.x$17" class="delimiter">(</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.vparams" title="List[LambdaLift.this.global.ValDef]">vparams</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[LambdaLift.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.ValDef],LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef]])List[LambdaLift.this.global.ValDef]">++</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.freeParams" title="List[LambdaLift.this.global.ValDef]">freeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
          case ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="comment">// SI-6231</span>
            <span class="comment">// Disabled attempt to to add getters to freeParams</span>
            <span class="comment">// this does not work yet. Problem is that local symbols need local names</span>
            <span class="comment">// and references to local symbols need to be transformed into</span>
            <span class="comment">// method calls to setters.</span>
            <span class="comment">// def paramGetter(param: Symbol): Tree = {</span>
            <span class="comment">//   val getter = param.newGetter setFlag TRANS_FLAG resetFlag PARAMACCESSOR // mark because we have to add them to interface</span>
            <span class="comment">//   sym.info.decls.enter(getter)</span>
            <span class="comment">//   val rhs = Select(gen.mkAttributedThis(sym), param) setType param.tpe</span>
            <span class="comment">//   DefDef(getter, rhs) setPos tree.pos setType NoType</span>
            <span class="comment">// }</span>
            <span class="comment">// val newDefs = if (sym.isTrait) freeParams ::: (ps map paramGetter) else freeParams</span>
            <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveClassDef" title="(cdef: LambdaLift.this.global.Tree)(applyToImpl: LambdaLift.this.global.Template =&gt; LambdaLift.this.global.Template)LambdaLift.this.global.ClassDef">deriveClassDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.tree" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Template" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.$anonfun.impl">impl</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveTemplate" title="(templ: LambdaLift.this.global.Tree)(applyToBody: List[LambdaLift.this.global.Tree] =&gt; List[LambdaLift.this.global.Tree])LambdaLift.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.$anonfun.impl" title="LambdaLift.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.$anonfun.$anonfun.x$8" title="List[LambdaLift.this.global.Tree]">_</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.freeParams" title="List[LambdaLift.this.global.ValDef]">freeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams.tree" title="LambdaLift.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

<span class="comment">/*  SI-6231: Something like this will be necessary to eliminate the implementation
 *  restiction from paramGetter above:
 *  We need to pass getters to the interface of an implementation class.
    private def fixTraitGetters(lifted: List[Tree]): List[Tree] =
      for (stat &lt;- lifted) yield stat match {
        case ClassDef(mods, name, tparams, templ @ Template(parents, self, body))
        if stat.symbol.isTrait &amp;&amp; !stat.symbol.isImplClass =&gt;
          val iface = stat.symbol
          lifted.find(l =&gt; l.symbol.isImplClass &amp;&amp; l.symbol.toInterface == iface) match {
            case Some(implDef) =&gt;
              val impl = implDef.symbol
              val implGetters = impl.info.decls.toList filter (_ hasFlag TRANS_FLAG)
              if (implGetters.nonEmpty) {
                val ifaceGetters = implGetters map { ig =&gt;
                  ig resetFlag TRANS_FLAG
                  val getter = ig cloneSymbol iface setFlag DEFERRED
                  iface.info.decls enter getter
                  getter
                }
                val ifaceGetterDefs = ifaceGetters map (DefDef(_, EmptyTree) setType NoType)
                treeCopy.ClassDef(
                  stat, mods, name, tparams,
                  treeCopy.Template(templ, parents, self, body ::: ifaceGetterDefs))
              } else
                stat
            case None =&gt;
              stat
          }
        case _ =&gt;
          stat
      }
*/</span>
    private def <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef">liftDef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym">sym</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.oldOwner">oldOwner</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;UnderConstructionTransformer.isUnderConstruction" title="(clazz: LambdaLift.this.global.explicitOuter.global.Symbol)Boolean">isUnderConstruction</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// # bug 1909</span>
         if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isModule" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// Yes, it can be a module and a method, see comments on `isModuleNotMethod`!</span>
           <span class="comment">// TODO promote to an implementation restriction if we can reason that this *always* leads to VerifyError.</span>
           <span class="comment">// See neg/t1909-object.scala</span>
           def <a title="=&gt; String" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.msg">msg</a> = <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;SI-1909 Unable to STATICally lift &quot;)">SI-1909 Unable to STATICally lift $</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a><span title="String(&quot;, which is defined in the self- or super-constructor call of &quot;)">, which is defined in the self- or super-constructor call of $</span><span class="delimiter">{</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">}</span><span title="String(&quot;. A VerifyError is likely.&quot;)" class="string">. A VerifyError is likely.&quot;</span>
           <a href="../Global.scala.html#scala.tools.nsc;Global.devWarning(d03661f7e7)" title="(pos: LambdaLift.this.global.Position, msg: =&gt; String)Unit">devWarning</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.msg" title="=&gt; String">msg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)sym.type">setFlag</a> <span title="Long(8388608L)">STATIC</span>
      <span class="delimiter">}</span>

      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner_=" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner_=" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.toInterface" title="=&gt; LambdaLift.this.global.Symbol">toInterface</a>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)sym.type">setFlag</a> <span title="Long(17179869184L)">LIFTED</span>
      <a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Tree])Unit">liftedDefs</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: LambdaLift.this.global.Tree)List[LambdaLift.this.global.Tree]">::=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.tree" title="LambdaLift.this.global.Tree">tree</a>
      <span class="comment">// TODO: this modifies the ClassInfotype of the enclosing class, which is associated with another phase (explicitouter).</span>
      <span class="comment">// This breaks type history: in a phase travel to before lambda lift, the ClassInfoType will contain lifted classes.</span>
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; LambdaLift.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.enterUnique" title="(sym: LambdaLift.this.global.Symbol)Unit">enterUnique</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>
      <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;lifted: &quot;)" class="string">&quot;lifted: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.oldOwner" title="LambdaLift.this.global.Symbol">oldOwner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="LambdaLift.this.global.EmptyTree.type">EmptyTree</a>
    <span class="delimiter">}</span>

    private def <a title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform">postTransform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a>, <a title="Boolean" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform$default$2">isBoxedRef</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false<span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym">sym</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a> match <span class="delimiter">{</span>
        case ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          val <span title="LambdaLift.this.global.Tree">tree1</span> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams" title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Tree">tree1</span><span class="delimiter">)</span> else <span title="LambdaLift.this.global.Tree">tree1</span>
        case DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
          val <span title="LambdaLift.this.global.Tree">tree1</span> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeParams" title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftDef" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Tree">tree1</span><span class="delimiter">)</span> else <span title="LambdaLift.this.global.Tree">tree1</span>
        case ValDef<span class="delimiter">(</span><a title="LambdaLift.this.global.Modifiers" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.mods">mods</a>, <span title="LambdaLift.this.global.TermName">name</span>, <a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tpt">tpt</a>, <span title="LambdaLift.this.global.Tree">rhs</span><span class="delimiter">)</span> =&gt;
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isCapturedVariable" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val tpt1 = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.TypeTree(559e7d9959)" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="LambdaLift.this.global.TypeTree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tpt1">setPos</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tpt" title="LambdaLift.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a>

            val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.refTypeSym">refTypeSym</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a>

            val <a title="LambdaLift.this.global.analyzer.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall">factoryCall</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.typer" title="LambdaLift.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedPos(b526320510)" title="(pos: LambdaLift.this.global.analyzer.global.Position)(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Tree">rhs</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="LambdaLift.this.global.Tree">rhs</span> match <span class="delimiter">{</span>
                case <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="LambdaLift.this.global.EmptyTree.type">EmptyTree</a> =&gt;
                  val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall.zeroMSym">zeroMSym</a>   = <a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">refZeroMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.refTypeSym" title="LambdaLift.this.global.Symbol">refTypeSym</a><span class="delimiter">)</span>
                  <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkMethodCall(bf4b8a7bd3)" title="(method: LambdaLift.this.global.gen.global.Symbol, args: List[LambdaLift.this.global.gen.global.Tree])LambdaLift.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall.zeroMSym" title="LambdaLift.this.global.Symbol">zeroMSym</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
                case <a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall.arg">arg</a> =&gt;
                  val <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall.createMSym">createMSym</a> = <a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">refCreateMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.refTypeSym" title="LambdaLift.this.global.Symbol">refTypeSym</a><span class="delimiter">)</span>
                  <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkMethodCall(bf4b8a7bd3)" title="(method: LambdaLift.this.global.gen.global.Symbol, args: List[LambdaLift.this.global.gen.global.Tree])LambdaLift.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall.createMSym" title="LambdaLift.this.global.Symbol">createMSym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall.arg" title="LambdaLift.this.global.Tree">arg</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: LambdaLift.this.global.Tree)List[LambdaLift.this.global.Tree]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.ValDef" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tpt: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.mods" title="LambdaLift.this.global.Modifiers">mods</a>, <span title="LambdaLift.this.global.TermName">name</span>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tpt1" title="LambdaLift.this.global.TypeTree">tpt1</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.factoryCall" title="LambdaLift.this.global.analyzer.global.Tree">factoryCall</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>
        case Return<span class="delimiter">(</span>Block<span class="delimiter">(</span><span title="List[LambdaLift.this.global.Tree]">stats</span>, <a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.value">value</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Block" title="(stats: List[LambdaLift.this.global.Tree], expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Block">Block</a><span class="delimiter">(</span><span title="List[LambdaLift.this.global.Tree]">stats</span>, <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Return" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Return">Return</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.value" title="LambdaLift.this.global.Tree">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Block">setType</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)LambdaLift.this.global.Block">setPos</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a>
        case Return<span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.expr">expr</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.currentMethod" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentMethod</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>
        case Apply<span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.fn">fn</a>, <a title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.args">args</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Apply" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, fun: LambdaLift.this.global.explicitOuter.global.Tree, args: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Apply">Apply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.fn" title="LambdaLift.this.global.Tree">fn</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.addFreeArgs" title="(pos: LambdaLift.this.global.Position, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">addFreeArgs</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.args" title="List[LambdaLift.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case Assign<span class="delimiter">(</span>Apply<span class="delimiter">(</span>TypeApply<span class="delimiter">(</span><a title="LambdaLift.this.global.Select" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sel">sel</a> @ Select<span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.qual">qual</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#scala.collection.generic;SeqFactory.unapplySeq" title="(x: List[LambdaLift.this.global.Tree])Some[List[LambdaLift.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="LambdaLift.this.global.Tree">rhs</span><span class="delimiter">)</span> =&gt;
          <span class="comment">// eliminate casts introduced by selecting a captured variable field</span>
          <span class="comment">// on the lhs of an assignment.</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sel" title="LambdaLift.this.global.Select">sel</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.Object_asInstanceOf" title="=&gt; LambdaLift.this.global.MethodSymbol">Object_asInstanceOf</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Assign" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, lhs: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Assign">Assign</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.qual" title="LambdaLift.this.global.Tree">qual</a>, <span title="LambdaLift.this.global.Tree">rhs</span><span class="delimiter">)</span>
        case Ident<span class="delimiter">(</span><span title="LambdaLift.this.global.Name">name</span><span class="delimiter">)</span> =&gt;
          val <span title="LambdaLift.this.global.Tree">tree1</span> =
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isTerm" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLabel" title="=&gt; Boolean">isLabel</a><span class="delimiter">)</span>
              if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isMethod" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.memberRef" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">memberRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isLocalToBlock" title="=&gt; Boolean">isLocalToBlock</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.isSameOwnerEnclosure" title="(sym: LambdaLift.this.global.Symbol)Boolean">isSameOwnerEnclosure</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.proxyRef" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">proxyRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>
            else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isCapturedVariable" title="=&gt; Boolean">isCapturedVariable</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform$default$2" title="Boolean">isBoxedRef</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              val <a title="LambdaLift.this.global.Type" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tp">tp</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a>
              val elemTree = <a href="../Global.scala.html#scala.tools.nsc;Global.typer" title="LambdaLift.this.global.typer.type">typer</a> <a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="LambdaLift.this.global.analyzer.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.elemTree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: LambdaLift.this.global.Tree, name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Tree">tree1</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: LambdaLift.this.global.Type)tree1.type">setType</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.sym" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a>, <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.elem" title="=&gt; LambdaLift.this.global.nme.NameType">elem</a><span class="delimiter">)</span>
              if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.elemTree" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; LambdaLift.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; LambdaLift.this.global.analyzer.global.Symbol">typeSymbol</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tp" title="LambdaLift.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../Global.scala.html#scala.tools.nsc;Global.gen.mkAttributedCast" title="(tree: LambdaLift.this.global.Tree, pt: LambdaLift.this.global.Type)LambdaLift.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.elemTree" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tp" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span> else <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.elemTree" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>
            <span class="delimiter">}</span>
          else <span title="LambdaLift.this.global.Tree">tree1</span>
        case Block<span class="delimiter">(</span><span title="List[LambdaLift.this.global.Tree]">stats</span>, <a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.expr0">expr0</a><span class="delimiter">)</span> =&gt;
          val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[LambdaLift.this.global.Tree], _2: List[LambdaLift.this.global.Tree])(List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.lzyVals">lzyVals</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.rest">rest</a><span class="delimiter">)</span> = <span title="List[LambdaLift.this.global.Tree]">stats</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.partition" title="(List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree])">partition</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.x$11.$anonfun.x0$1" title="Boolean" class="delimiter">{</a>
            case <a title="LambdaLift.this.global.ValDef" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.x$11.$anonfun.stat">stat</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ValDef" title="LambdaLift.this.global.ValDef">ValDef</a> =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.x$11.$anonfun.stat" title="LambdaLift.this.global.ValDef">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isLazy" title="=&gt; Boolean">isLazy</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.x$11.$anonfun.stat" title="LambdaLift.this.global.ValDef">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isModuleVar" title="=&gt; Boolean">isModuleVar</a>
            case _            =&gt; false
          <span class="delimiter">}</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.lzyVals" title="List[LambdaLift.this.global.Tree]">lzyVals</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>
          else <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Block" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, stats: List[LambdaLift.this.global.explicitOuter.global.Tree], expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Block">Block</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.lzyVals" title="List[LambdaLift.this.global.Tree]">lzyVals</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.rest" title="List[LambdaLift.this.global.Tree]">rest</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.expr0" title="LambdaLift.this.global.Tree">expr0</a><span class="delimiter">)</span>
        case _ =&gt;
          <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform.tree" title="LambdaLift.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform">preTransform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span> = super.<a href="ExplicitOuter.scala.html#scala.tools.nsc.transform;ExplicitOuter;OuterPathTransformer.transform" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform.tree" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: LambdaLift.this.global.explicitOuter.global.Type)LambdaLift.this.global.explicitOuter.global.Tree">setType</a> <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.apply" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform.tree" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span>

    override def <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transform">transform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transform.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transform.tree" title="LambdaLift.this.global.Tree">tree</a> match <span class="delimiter">{</span>
      case Select<span class="delimiter">(</span>ReferenceToBoxed<span class="delimiter">(</span><span title="LambdaLift.this.global.Ident">idt</span><span class="delimiter">)</span>, <a title="LambdaLift.this.global.Name" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transform.elem">elem</a><span class="delimiter">)</span> if <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transform.elem" title="LambdaLift.this.global.Name">elem</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.elem" title="=&gt; LambdaLift.this.global.nme.NameType">elem</a> =&gt;
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform" title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">preTransform</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Ident">idt</span><span class="delimiter">)</span>, isBoxedRef = false<span class="delimiter">)</span>
      case ReferenceToBoxed<span class="delimiter">(</span><span title="LambdaLift.this.global.Ident">idt</span><span class="delimiter">)</span> =&gt;
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform" title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">preTransform</a><span class="delimiter">(</span><span title="LambdaLift.this.global.Ident">idt</span><span class="delimiter">)</span>, isBoxedRef = true<span class="delimiter">)</span>
      case _ =&gt;
        <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.postTransform" title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.preTransform" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transform.tree" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Transform statements and add lifted definitions to them. */</span>
    override def <a title="(stats: List[LambdaLift.this.global.Tree], exprOwner: LambdaLift.this.global.Symbol)List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats">transformStats</a><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.stats">stats</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="LambdaLift.this.global.Symbol" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.exprOwner">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      def <a title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted">addLifted</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat">stat</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a> match <span class="delimiter">{</span>
        case ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          val <a title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.lifted">lifted</a> = <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftedDefs" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap.get" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Tree]]">get</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.lifted.xs">xs</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.lifted.xs" title="List[LambdaLift.this.global.Tree]">xs</a> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.reverseMap" title="(f: LambdaLift.this.global.Tree =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">reverseMap</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
            case _        =&gt; <a href="../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unexpectedly no lifted defs for &quot;)" class="string">&quot;unexpectedly no lifted defs for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a><span class="delimiter">)</span> ; <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
          <span class="delimiter">}</span>
          try <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveClassDef" title="(cdef: LambdaLift.this.global.Tree)(applyToImpl: LambdaLift.this.global.Template =&gt; LambdaLift.this.global.Template)LambdaLift.this.global.ClassDef">deriveClassDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Template" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.$anonfun.impl">impl</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveTemplate" title="(templ: LambdaLift.this.global.Tree)(applyToBody: List[LambdaLift.this.global.Tree] =&gt; List[LambdaLift.this.global.Tree])LambdaLift.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.$anonfun.impl" title="LambdaLift.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.$anonfun.$anonfun.x$13" title="List[LambdaLift.this.global.Tree]">_</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.lifted" title="List[LambdaLift.this.global.Tree]">lifted</a><span class="delimiter">)</span><span class="delimiter">)</span>
          finally <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftedDefs" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap.-=(810442cbb6)" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.liftedDefs.type">-=</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>

        case DefDef<span class="delimiter">(</span>_, _, _, _, _, Block<span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.expr">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isConstructor" title="=&gt; Boolean">isConstructor</a> =&gt;
          <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveDefDef" title="(ddef: LambdaLift.this.global.Tree)(applyToRhs: LambdaLift.this.global.Tree =&gt; LambdaLift.this.global.Tree)LambdaLift.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.$anonfun.x$15">_</a> =&gt; <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.expr" title="LambdaLift.this.global.Tree">expr</a><span class="delimiter">)</span>
        case _ =&gt;
          <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted.stat" title="LambdaLift.this.global.Tree">stat</a>
      <span class="delimiter">}</span>
      super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transformStats" title="(stats: List[LambdaLift.this.global.explicitOuter.global.Tree], exprOwner: LambdaLift.this.global.explicitOuter.global.Symbol)List[LambdaLift.this.global.explicitOuter.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.stats" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.exprOwner" title="LambdaLift.this.global.Symbol">exprOwner</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: LambdaLift.this.global.explicitOuter.global.Tree =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.explicitOuter.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">map</a> <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformStats.addLifted" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
    <span class="delimiter">}</span>

    override def <a title="(unit: LambdaLift.this.global.CompilationUnit)Unit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformUnit">transformUnit</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CompilationUnit" id="scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformUnit.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.computeFreeVars" title="()Unit">computeFreeVars</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../SubComponent.scala.html#scala.tools.nsc;SubComponent.afterOwnPhase" title="(op: =&gt; Unit)Unit">afterOwnPhase</a> <span class="delimiter">{</span>
        super.<a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer.transformUnit" title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.transformUnit.unit" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftedDefs" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.isEmpty" title="=&gt; Boolean">isEmpty</a>, <a href="#scala.tools.nsc.transform;LambdaLift;LambdaLifter.liftedDefs" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.keys" title="=&gt; Iterable[LambdaLift.this.global.Symbol]">keys</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">// class LambdaLifter</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
