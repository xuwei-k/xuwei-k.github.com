<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/transform/patmat/MatchCodeGen.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 *
 * Copyright 2011-2013 LAMP/EPFL
 * @author Adriaan Moors
 */</span>

package scala.tools.nsc.transform.patmat

import scala.tools.nsc.symtab.<a href="../../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>.SYNTHETIC
import scala.<a href="../../../../language.scala.html#scala.language" title="language.type">language</a>.postfixOps
import scala.reflect.internal.util.Statistics
import scala.reflect.internal.util.Position

<span class="comment">/** Factory methods used by TreeMakers to make the actual trees.
 *
 * We have two modes in which to emit trees: optimized (the default)
 * and pure (aka &quot;virtualized&quot;: match is parametric in its monad).
 */</span>
trait <a title="trait MatchCodeGen extends AnyRef with scala.tools.nsc.transform.patmat.Interface" id="scala.tools.nsc.transform.patmat;MatchCodeGen">MatchCodeGen</a> extends <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface" title="scala.tools.nsc.transform.patmat.Interface">Interface</a> <span class="delimiter">{</span>
  import <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="MatchCodeGen.this.global.definitions.type">definitions</a>._

  <span class="comment">///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span>
  <span class="comment">// generate actual trees</span>
  <span class="comment">///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span>
  trait <a title="trait CodegenCore extends AnyRef with MatchCodeGen.this.MatchMonadInterface" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore">CodegenCore</a> extends <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;MatchMonadInterface" title="MatchCodeGen.this.MatchMonadInterface">MatchMonadInterface</a> <span class="delimiter">{</span>
    private var <a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.ctr_=">ctr</a> = <span title="Int(0)" class="int">0</span>
    def <a title="(prefix: String)MatchCodeGen.this.global.TermName" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshName">freshName</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshName.prefix">prefix</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.ctr_=" title="(x$1: Int)Unit">ctr</a> <a href="../../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.counted" title="(str: String, i: Int)MatchCodeGen.this.global.TermName">counted</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshName.prefix" title="String">prefix</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.ctr_=" title="=&gt; Int">ctr</a><span class="delimiter">)</span><span class="delimiter">}</span>

    <span class="comment">// assert(owner ne null); assert(owner ne NoSymbol)</span>
    def <a title="(pos: MatchCodeGen.this.global.Position, tp: MatchCodeGen.this.global.Type, prefix: String)MatchCodeGen.this.global.TermSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym">freshSym</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Position" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym.pos">pos</a>: <a href="../../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="MatchCodeGen.this.global.Position">Position</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym$default$2">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a> = <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="MatchCodeGen.this.global.NoType.type">NoType</a>, <a title="String" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym$default$3">prefix</a>: <span title="String">String</span> = <span title="String(&quot;x&quot;)" class="string">&quot;x&quot;</span><span class="delimiter">)</span> =
      <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; MatchCodeGen.this.global.NoSymbol">NoSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newTermSymbol" title="(name: MatchCodeGen.this.global.TermName, pos: MatchCodeGen.this.global.Position, newFlags: Long)MatchCodeGen.this.global.TermSymbol">newTermSymbol</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshName" title="(prefix: String)MatchCodeGen.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym$default$3" title="String">prefix</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym.pos" title="MatchCodeGen.this.global.Position">pos</a>, newFlags = <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="(info: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.TermSymbol">setInfo</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym$default$2" title="MatchCodeGen.this.global.Type">tp</a>

    def <a title="(name: String)MatchCodeGen.this.global.MethodSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.newSynthCaseLabel">newSynthCaseLabel</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.newSynthCaseLabel.name">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; MatchCodeGen.this.global.NoSymbol">NoSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newLabel" title="(name: MatchCodeGen.this.global.TermName, pos: MatchCodeGen.this.global.Position)MatchCodeGen.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshName" title="(prefix: String)MatchCodeGen.this.global.TermName">freshName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.newSynthCaseLabel.name" title="String">name</a><span class="delimiter">)</span>, <a href="../../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setFlag" title="(mask: Long)MatchCodeGen.this.global.MethodSymbol">setFlag</a> treeInfo.<span title="Long(2099200L)">SYNTH_CASE_FLAGS</span>

    <span class="comment">// codegen relevant to the structure of the translation (how extractors are combined)</span>
    trait <a title="trait AbsCodegen extends AnyRef" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen">AbsCodegen</a> <span class="delimiter">{</span>
      def <a title="(scrut: MatchCodeGen.this.global.Tree, scrutSym: MatchCodeGen.this.global.Symbol, restpe: MatchCodeGen.this.global.Type)(cases: List[CodegenCore.this.Casegen =&gt; MatchCodeGen.this.global.Tree], matchFailGen: Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree])MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.matcher">matcher</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.matcher.scrut">scrut</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.matcher.scrutSym">scrutSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.matcher.restpe">restpe</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[CodegenCore.this.Casegen =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.matcher.cases">cases</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[CodegenCore.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">List</a><span class="delimiter">[</span>Casegen =&gt; Tree<span class="delimiter">]</span>, <a title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.matcher.matchFailGen">matchFailGen</a>: <a href="../../../../Option.scala.html#scala;Option" title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>

      <span class="comment">// local / context-free</span>
      def <a title="(b: MatchCodeGen.this.global.Symbol, tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._asInstanceOf">_asInstanceOf</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._asInstanceOf.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._asInstanceOf.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(checker: MatchCodeGen.this.global.Tree, binder: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._equals">_equals</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._equals.checker">checker</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._equals.binder">binder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(b: MatchCodeGen.this.global.Symbol, tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._isInstanceOf">_isInstanceOf</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._isInstanceOf.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen._isInstanceOf.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(tgt: MatchCodeGen.this.global.Tree)(n: Int)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.drop">drop</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.drop.tgt">tgt</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.drop.n">n</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(tgt: MatchCodeGen.this.global.Tree)(i: Int)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.index">index</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.index.tgt">tgt</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.index.i">i</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.mkZero">mkZero</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.mkZero.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(binder: MatchCodeGen.this.global.Symbol)(i: Int)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.tupleSel">tupleSel</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.tupleSel.binder">binder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen.tupleSel.i">i</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
    <span class="delimiter">}</span>

    <span class="comment">// structure</span>
    trait <a title="trait Casegen extends AnyRef with CodegenCore.this.AbsCodegen" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen">Casegen</a> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen" title="CodegenCore.this.AbsCodegen">AbsCodegen</a> <span class="delimiter">{</span> import <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="MatchCodeGen.this.CODE.type">CODE</a>._
      def <a title="(res: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.one">one</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.one.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>

      def <a title="(prev: MatchCodeGen.this.global.Tree, b: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMap">flatMap</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMap.prev">prev</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMap.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMap.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(cond: MatchCodeGen.this.global.Tree, res: MatchCodeGen.this.global.Tree, nextBinder: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapCond">flatMapCond</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapCond.cond">cond</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapCond.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapCond.nextBinder">nextBinder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapCond.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(cond: MatchCodeGen.this.global.Tree, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapGuard">flatMapGuard</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapGuard.cond">cond</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.flatMapGuard.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
      def <a title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero">ifThenElseZero</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero.c">c</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero.thenp">thenp</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.IF" title="(tree: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero.c" title="MatchCodeGen.this.global.Tree">c</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;IfStart.THEN" title="(x: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.IfStart">THEN</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero.thenp" title="MatchCodeGen.this.global.Tree">thenp</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;IfStart.ELSE" title="(elsep: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.If">ELSE</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.zero" title="=&gt; MatchCodeGen.this.global.Tree">zero</a>
      protected def <a title="=&gt; MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.zero">zero</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
    <span class="delimiter">}</span>

    def <a title="=&gt; CodegenCore.this.AbsCodegen" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.codegen">codegen</a>: <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen" title="CodegenCore.this.AbsCodegen">AbsCodegen</a>

    abstract class <a title="class CommonCodegen extends AnyRef with CodegenCore.this.AbsCodegen" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen">CommonCodegen</a> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen" title="CodegenCore.this.AbsCodegen">AbsCodegen</a> <span class="delimiter">{</span> import <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="MatchCodeGen.this.CODE.type">CODE</a>._
      def <a title="(arg: MatchCodeGen.this.global.Symbol, body: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun">fun</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun.arg">arg</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun.body">body</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>     = <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Function" title="(vparams: List[MatchCodeGen.this.global.ValDef], body: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Function">Function</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: MatchCodeGen.this.global.ValDef*)List[MatchCodeGen.this.global.ValDef]">List</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.ValDef.apply(88055a62f0)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun.arg" title="MatchCodeGen.this.global.Symbol">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun.body" title="MatchCodeGen.this.global.Tree">body</a><span class="delimiter">)</span>
      def <a title="(binder: MatchCodeGen.this.global.Symbol)(i: Int)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.tupleSel">tupleSel</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.tupleSel.binder">binder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.tupleSel.i">i</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods" class="delimiter">(</a><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.tupleSel.binder" title="MatchCodeGen.this.global.Symbol">binder</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.global.Select">DOT</a> <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="MatchCodeGen.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.productAccessorName" title="(j: Int)MatchCodeGen.this.global.TermName">productAccessorName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.tupleSel.i" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// make tree that accesses the i'th component of the tuple referenced by binder</span>
      def <a title="(tgt: MatchCodeGen.this.global.Tree)(i: Int)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.index">index</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.index.tgt">tgt</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.index.i">i</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>         = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods">tgt</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.LIT.apply" title="(x: Any)MatchCodeGen.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.index.i" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// Right now this blindly calls drop on the result of the unapplySeq</span>
      <span class="comment">// unless it verifiably has no drop method (this is the case in particular</span>
      <span class="comment">// with Array.) You should not actually have to write a method called drop</span>
      <span class="comment">// for name-based matching, but this was an expedient route for the basics.</span>
      def <a title="(tgt: MatchCodeGen.this.global.Tree)(n: Int)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop">drop</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.tgt">tgt</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.n">n</a>: <a href="../../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        def <a title="=&gt; MatchCodeGen.this.global.Apply" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.callDirect">callDirect</a>   = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.fn(609b21f6ba)" title="(lhs: MatchCodeGen.this.global.Tree, op: MatchCodeGen.this.global.Name, args: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">fn</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.tgt" title="MatchCodeGen.this.global.Tree">tgt</a>, <a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="MatchCodeGen.this.global.nme.type">nme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.drop" title="=&gt; MatchCodeGen.this.global.nme.NameType">drop</a>, <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.LIT.apply" title="(x: Any)MatchCodeGen.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.n" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
        def <a title="=&gt; MatchCodeGen.this.global.Apply" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.callRuntime">callRuntime</a>  = <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: MatchCodeGen.this.global.Tree, args: List[MatchCodeGen.this.global.Tree])MatchCodeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">(</span><a href="../../Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; MatchCodeGen.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; MatchCodeGen.this.global.definitions.RunDefinitions">runDefinitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.traversableDropMethod" title="=&gt; MatchCodeGen.this.global.TermSymbol">traversableDropMethod</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.tgt" title="MatchCodeGen.this.global.Tree">tgt</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: MatchCodeGen.this.global.Tree)List[MatchCodeGen.this.global.Tree]">::</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.LIT.apply" title="(x: Any)MatchCodeGen.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.n" title="Int">n</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: MatchCodeGen.this.global.Literal)List[MatchCodeGen.this.global.Literal]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
        def <a title="=&gt; Boolean" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.needsRuntime">needsRuntime</a> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.tgt" title="MatchCodeGen.this.global.Tree">tgt</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; MatchCodeGen.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.typeOfMemberNamedDrop" title="(tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Type">typeOfMemberNamedDrop</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.tgt" title="MatchCodeGen.this.global.Tree">tgt</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; MatchCodeGen.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="MatchCodeGen.this.global.NoType.type">NoType</a><span class="delimiter">)</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.needsRuntime" title="=&gt; Boolean">needsRuntime</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.callRuntime" title="=&gt; MatchCodeGen.this.global.Apply">callRuntime</a> else <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.drop.callDirect" title="=&gt; MatchCodeGen.this.global.Apply">callDirect</a>
      <span class="delimiter">}</span>

      <span class="comment">// NOTE: checker must be the target of the ==, that's the patmat semantics for ya</span>
      def <a title="(checker: MatchCodeGen.this.global.Tree, binder: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._equals">_equals</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._equals.checker">checker</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._equals.binder">binder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods">checker</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.MEMBER_==" title="(other: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Apply">MEMBER_==</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._equals.binder" title="MatchCodeGen.this.global.Symbol">binder</a><span class="delimiter">)</span>

      <span class="comment">// the force is needed mainly to deal with the GADT typing hack (we can't detect it otherwise as tp nor pt need contain an abstract type, we're just casting wildly)</span>
      def <a title="(b: MatchCodeGen.this.global.Symbol, tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf">_asInstanceOf</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.b" title="MatchCodeGen.this.global.Symbol">b</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; MatchCodeGen.this.global.Type">info</a> <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.<:<" title="(that: MatchCodeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.tp" title="MatchCodeGen.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.b" title="MatchCodeGen.this.global.Symbol">b</a><span class="delimiter">)</span> else <a href="../../Global.scala.html#scala.tools.nsc;Global.gen" title="MatchCodeGen.this.global.gen.type">gen</a>.<a href="../../ast/TreeGen.scala.html#scala.tools.nsc.ast;TreeGen.mkCastPreservingAnnotations" title="(tree: MatchCodeGen.this.global.gen.global.Tree, pt: MatchCodeGen.this.global.gen.global.Type)MatchCodeGen.this.global.gen.global.Typed">mkCastPreservingAnnotations</a><span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.b" title="MatchCodeGen.this.global.Symbol">b</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._asInstanceOf.tp" title="MatchCodeGen.this.global.Type">tp</a><span class="delimiter">)</span>
      def <a title="(b: MatchCodeGen.this.global.Symbol, tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._isInstanceOf">_isInstanceOf</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._isInstanceOf.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._isInstanceOf.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="../../Global.scala.html#scala.tools.nsc;Global.gen" title="MatchCodeGen.this.global.gen.type">gen</a>.<a href="../../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkIsInstanceOf" title="(value: MatchCodeGen.this.global.gen.global.Tree, tpe: MatchCodeGen.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)MatchCodeGen.this.global.gen.global.Tree">mkIsInstanceOf</a><span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._isInstanceOf.b" title="MatchCodeGen.this.global.Symbol">b</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen._isInstanceOf.tp" title="MatchCodeGen.this.global.Type">tp</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.withoutAnnotations" title="=&gt; MatchCodeGen.this.global.Type">withoutAnnotations</a>, any = true, wrapInApply = false<span class="delimiter">)</span>

      def <a title="(tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.mkZero">mkZero</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.mkZero.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="../../Global.scala.html#scala.tools.nsc;Global.gen" title="MatchCodeGen.this.global.gen.type">gen</a>.<a href="../../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkConstantZero" title="(tp: MatchCodeGen.this.global.gen.global.Type)MatchCodeGen.this.global.gen.global.Constant">mkConstantZero</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.mkZero.tp" title="MatchCodeGen.this.global.Type">tp</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Constant<span class="delimiter">(</span>null<span class="delimiter">)</span> =&gt; <a href="../../Global.scala.html#scala.tools.nsc;Global.gen" title="MatchCodeGen.this.global.gen.type">gen</a>.<a href="../../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAsInstanceOf" title="(value: MatchCodeGen.this.global.gen.global.Tree, tpe: MatchCodeGen.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)MatchCodeGen.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: MatchCodeGen.this.global.Constant)MatchCodeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Constants.scala.html#scala.reflect.internal;Constants;Constant" title="(value: Any)MatchCodeGen.this.global.Constant">Constant</a><span class="delimiter">(</span>null<span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.mkZero.tp" title="MatchCodeGen.this.global.Type">tp</a>, any = true, wrapInApply = false<span class="delimiter">)</span> <span class="comment">// the magic incantation is true/false here</span>
        case <a title="MatchCodeGen.this.global.gen.global.Constant" id="scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.mkZero.const">const</a>          =&gt; <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: MatchCodeGen.this.global.Constant)MatchCodeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.mkZero.const" title="MatchCodeGen.this.global.gen.global.Constant">const</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait PureMatchMonadInterface extends AnyRef with MatchCodeGen.this.MatchMonadInterface" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface">PureMatchMonadInterface</a> extends <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;MatchMonadInterface" title="MatchCodeGen.this.MatchMonadInterface">MatchMonadInterface</a> <span class="delimiter">{</span>
    val <a title="=&gt; MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.matchStrategy">matchStrategy</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>
    import <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="MatchCodeGen.this.CODE.type">CODE</a>._
    def <a title="(n: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match">_match</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Name" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match.n">n</a>: <a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="MatchCodeGen.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;SelectStart" title="MatchCodeGen.this.CODE.SelectStart">SelectStart</a> = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods">matchStrategy</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.DOT(a2f9fcd1ea)" title="(member: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart">DOT</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match.n" title="MatchCodeGen.this.global.Name">n</a>

    <span class="comment">// TODO: error message</span>
    private lazy val <a title="MatchCodeGen.this.global.analyzer.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.oneType">oneType</a>              = <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;MatchMonadInterface.typer" title="=&gt; MatchCodeGen.this.global.analyzer.Typer">typer</a>.<a href="../../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedOperator" title="(tree: MatchCodeGen.this.global.analyzer.global.Tree)MatchCodeGen.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match" title="(n: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart">_match</a><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.global.Select" class="delimiter">(</a><a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.one" title="=&gt; MatchCodeGen.this.global.TermName">one</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; MatchCodeGen.this.global.analyzer.global.Type">tpe</a>
    override def <a title="(tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.pureType">pureType</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.pureType.tp">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a> = <a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.firstParamType" title="(tpe: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Type">firstParamType</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.appliedType(c7fb433f73)" title="(tycon: MatchCodeGen.this.global.Type, args: List[MatchCodeGen.this.global.Type])MatchCodeGen.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.oneType" title="=&gt; MatchCodeGen.this.global.analyzer.global.Type">oneType</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.pureType.tp" title="MatchCodeGen.this.global.Type">tp</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: MatchCodeGen.this.global.Type)List[MatchCodeGen.this.global.Type]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  trait <a title="trait PureCodegen extends AnyRef with MatchCodeGen.this.CodegenCore with MatchCodeGen.this.PureMatchMonadInterface" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen">PureCodegen</a> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore" title="MatchCodeGen.this.CodegenCore">CodegenCore</a> with <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface" title="MatchCodeGen.this.PureMatchMonadInterface">PureMatchMonadInterface</a> <span class="delimiter">{</span>
    def <a title="=&gt; PureCodegen.this.AbsCodegen" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.codegen">codegen</a>: <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen" title="PureCodegen.this.AbsCodegen">AbsCodegen</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen" title="PureCodegen.this.pureCodegen.type">pureCodegen</a>

    object <a title="PureCodegen.this.pureCodegen.type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen">pureCodegen</a> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen" title="PureCodegen.this.CommonCodegen">CommonCodegen</a> with <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen" title="PureCodegen.this.Casegen">Casegen</a> <span class="delimiter">{</span> import <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="MatchCodeGen.this.CODE.type">CODE</a>._
      <span class="comment">//// methods in MatchingStrategy (the monad companion) -- used directly in translation</span>
      <span class="comment">// __match.runOrElse(`scrut`)(`scrutSym` =&gt; `matcher`)</span>
      <span class="comment">// TODO: consider catchAll, or virtualized matching will break in exception handlers</span>
      def <a title="(scrut: MatchCodeGen.this.global.Tree, scrutSym: MatchCodeGen.this.global.Symbol, restpe: MatchCodeGen.this.global.Type)(cases: List[PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree], matchFailGen: Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree])MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher">matcher</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.scrut">scrut</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.scrutSym">scrutSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.restpe">restpe</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.cases">cases</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">List</a><span class="delimiter">[</span>Casegen =&gt; Tree<span class="delimiter">]</span>, <a title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.matchFailGen">matchFailGen</a>: <a href="../../../../Option.scala.html#scala;Option" title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> =
        <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match" title="(n: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart">_match</a><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.CODE.TreeMethods" class="delimiter">(</a><a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.runOrElse" title="=&gt; MatchCodeGen.this.global.TermName">runOrElse</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods">APPLY</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.scrut" title="MatchCodeGen.this.global.Tree">scrut</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun" title="(arg: MatchCodeGen.this.global.Symbol, body: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">fun</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.scrutSym" title="MatchCodeGen.this.global.Symbol">scrutSym</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.cases" title="List[PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">cases</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: (PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree) =&gt; MatchCodeGen.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree],MatchCodeGen.this.global.Tree,List[MatchCodeGen.this.global.Tree]])List[MatchCodeGen.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="PureCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.matcher.$anonfun.f">f</a> =&gt; <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: PureCodegen.this.Casegen)MatchCodeGen.this.global.Tree">f</a><span class="delimiter">(</span>this<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.reduceLeft" title="(f: (MatchCodeGen.this.global.Tree, MatchCodeGen.this.global.Tree) =&gt; MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">reduceLeft</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.typedOrElse" title="(thisCase: MatchCodeGen.this.global.Tree, elseCase: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">typedOrElse</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// __match.one(`res`)</span>
      def <a title="(res: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.one">one</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.one.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match" title="(n: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart">_match</a><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;SelectStart.apply" title="(args: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply" class="delimiter">(</a><a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.one" title="=&gt; MatchCodeGen.this.global.TermName">one</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.one.res" title="MatchCodeGen.this.global.Tree">res</a><span class="delimiter">)</span>
      <span class="comment">// __match.zero</span>
      protected def <a title="=&gt; MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.zero">zero</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match" title="(n: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart">_match</a><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.global.Select" class="delimiter">(</a><a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.zero" title="=&gt; MatchCodeGen.this.global.TermName">zero</a><span class="delimiter">)</span>
      <span class="comment">// __match.guard(`c`, `then`)</span>
      def <a title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.guard">guard</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.guard.c">c</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.guard.thenp">thenp</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface._match" title="(n: MatchCodeGen.this.global.Name)MatchCodeGen.this.CODE.SelectStart">_match</a><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.CODE.TreeMethods" class="delimiter">(</a><a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.guard" title="=&gt; MatchCodeGen.this.global.TermName">guard</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.guard.c" title="MatchCodeGen.this.global.Tree">c</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.guard.thenp" title="MatchCodeGen.this.global.Tree">thenp</a><span class="delimiter">)</span>

      <span class="comment">//// methods in the monad instance -- used directly in translation</span>
      <span class="comment">// `prev`.flatMap(`b` =&gt; `next`)</span>
      def <a title="(prev: MatchCodeGen.this.global.Tree, b: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap">flatMap</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap.prev">prev</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods">prev</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;SelectStart.apply" title="(args: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">DOT</a> <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.flatMap" title="=&gt; MatchCodeGen.this.global.TermName">flatMap</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen.fun" title="(arg: MatchCodeGen.this.global.Symbol, body: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">fun</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap.b" title="MatchCodeGen.this.global.Symbol">b</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap.next" title="MatchCodeGen.this.global.Tree">next</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="comment">// `thisCase`.orElse(`elseCase`)</span>
      def <a title="(thisCase: MatchCodeGen.this.global.Tree, elseCase: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.typedOrElse">typedOrElse</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.typedOrElse.thisCase">thisCase</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.typedOrElse.elseCase">elseCase</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethods" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: MatchCodeGen.this.global.Tree)MatchCodeGen.this.CODE.TreeMethods">thisCase</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.CODE.TreeMethods">DOT</a> <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.orElse" title="=&gt; MatchCodeGen.this.global.TermName">orElse</a><span class="delimiter">)</span> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.typedOrElse.elseCase" title="MatchCodeGen.this.global.Tree">elseCase</a><span class="delimiter">)</span>
      <span class="comment">//  __match.guard(`cond`, `res`).flatMap(`nextBinder` =&gt; `next`)</span>
      def <a title="(cond: MatchCodeGen.this.global.Tree, res: MatchCodeGen.this.global.Tree, nextBinder: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond">flatMapCond</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.cond">cond</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.nextBinder">nextBinder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMap" title="(prev: MatchCodeGen.this.global.Tree, b: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">flatMap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.guard" title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">guard</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.cond" title="MatchCodeGen.this.global.Tree">cond</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.res" title="MatchCodeGen.this.global.Tree">res</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.nextBinder" title="MatchCodeGen.this.global.Symbol">nextBinder</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond.next" title="MatchCodeGen.this.global.Tree">next</a><span class="delimiter">)</span>
      <span class="comment">//  __match.guard(`guardTree`, ()).flatMap((_: P[Unit]) =&gt; `next`)</span>
      def <a title="(guardTree: MatchCodeGen.this.global.Tree, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapGuard">flatMapGuard</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapGuard.guardTree">guardTree</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapGuard.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapCond" title="(cond: MatchCodeGen.this.global.Tree, res: MatchCodeGen.this.global.Tree, nextBinder: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">flatMapCond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapGuard.guardTree" title="MatchCodeGen.this.global.Tree">guardTree</a>, <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="MatchCodeGen.this.CODE.type">CODE</a>.<a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.UNIT" title="=&gt; MatchCodeGen.this.global.Literal">UNIT</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym" title="(pos: MatchCodeGen.this.global.Position, tp: MatchCodeGen.this.global.Type, prefix: String)MatchCodeGen.this.global.TermSymbol">freshSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapGuard.guardTree" title="MatchCodeGen.this.global.Tree">guardTree</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; MatchCodeGen.this.global.Position">pos</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureMatchMonadInterface.pureType" title="(tp: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.Type">pureType</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.UnitTpe" title="=&gt; MatchCodeGen.this.global.Type">UnitTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;PureCodegen.pureCodegen.flatMapGuard.next" title="MatchCodeGen.this.global.Tree">next</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait OptimizedCodegen extends AnyRef with MatchCodeGen.this.CodegenCore with MatchCodeGen.this.TypedSubstitution with MatchCodeGen.this.MatchMonadInterface" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen">OptimizedCodegen</a> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore" title="MatchCodeGen.this.CodegenCore">CodegenCore</a> with <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;TypedSubstitution" title="MatchCodeGen.this.TypedSubstitution">TypedSubstitution</a> with <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;MatchMonadInterface" title="MatchCodeGen.this.MatchMonadInterface">MatchMonadInterface</a> <span class="delimiter">{</span>
    override def <a title="=&gt; OptimizedCodegen.this.AbsCodegen" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.codegen">codegen</a>: <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;AbsCodegen" title="OptimizedCodegen.this.AbsCodegen">AbsCodegen</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen" title="OptimizedCodegen.this.optimizedCodegen.type">optimizedCodegen</a>

    <span class="comment">// when we know we're targetting Option, do some inlining the optimizer won't do</span>
    <span class="comment">// for example, `o.flatMap(f)` becomes `if(o == None) None else f(o.get)`, similarly for orElse and guard</span>
    <span class="comment">//   this is a special instance of the advanced inlining optimization that takes a method call on</span>
    <span class="comment">//   an object of a type that only has two concrete subclasses, and inlines both bodies, guarded by an if to distinguish the two cases</span>
    object <a title="OptimizedCodegen.this.optimizedCodegen.type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen">optimizedCodegen</a> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen" title="OptimizedCodegen.this.CommonCodegen">CommonCodegen</a> <span class="delimiter">{</span> import <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="MatchCodeGen.this.CODE.type">CODE</a>._

      <span class="comment">/** Inline runOrElse and get rid of Option allocations
       *
       * runOrElse(scrut: scrutTp)(matcher): resTp = matcher(scrut) getOrElse ${catchAll(`scrut`)}
       * the matcher's optional result is encoded as a flag, keepGoing, where keepGoing == true encodes result.isEmpty,
       * if keepGoing is false, the result Some(x) of the naive translation is encoded as matchRes == x
       */</span>
      def <a title="(scrut: MatchCodeGen.this.global.Tree, scrutSym: MatchCodeGen.this.global.Symbol, restpe: MatchCodeGen.this.global.Type)(cases: List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree], matchFailGen: Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree])MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher">matcher</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrut">scrut</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrutSym">scrutSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.restpe">restpe</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.cases">cases</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">List</a><span class="delimiter">[</span>Casegen =&gt; Tree<span class="delimiter">]</span>, <a title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchFailGen">matchFailGen</a>: <a href="../../../../Option.scala.html#scala;Option" title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        val matchRes = <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; MatchCodeGen.this.global.NoSymbol">NoSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newValueParameter" title="(name: MatchCodeGen.this.global.TermName, pos: MatchCodeGen.this.global.Position, newFlags: Long)MatchCodeGen.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names.newTermName(16764ff47f)" title="(s: String)MatchCodeGen.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;x&quot;)" class="string">&quot;x&quot;</span><span class="delimiter">)</span>, <a href="../../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>, newFlags = <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="MatchCodeGen.this.global.TermSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchRes">setInfo</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.restpe" title="MatchCodeGen.this.global.Type">restpe</a>.<a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.withoutAnnotations" title="=&gt; MatchCodeGen.this.global.Type">withoutAnnotations</a>
        val matchEnd = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.newSynthCaseLabel" title="(name: String)MatchCodeGen.this.global.MethodSymbol">newSynthCaseLabel</a><span class="delimiter">(</span><span title="String(&quot;matchEnd&quot;)" class="string">&quot;matchEnd&quot;</span><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="MatchCodeGen.this.global.MethodSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchEnd">setInfo</a> <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType" title="(params: List[MatchCodeGen.this.global.Symbol], resultType: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: MatchCodeGen.this.global.TermSymbol*)List[MatchCodeGen.this.global.TermSymbol]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchRes" title="MatchCodeGen.this.global.TermSymbol">matchRes</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.restpe" title="MatchCodeGen.this.global.Type">restpe</a><span class="delimiter">)</span>

        def <a title="=&gt; MatchCodeGen.this.global.MethodSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.newCaseSym">newCaseSym</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.newSynthCaseLabel" title="(name: String)MatchCodeGen.this.global.MethodSymbol">newSynthCaseLabel</a><span class="delimiter">(</span><span title="String(&quot;case&quot;)" class="string">&quot;case&quot;</span><span class="delimiter">)</span> <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfo" title="(info: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.MethodSymbol">setInfo</a> <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType" title="(params: List[MatchCodeGen.this.global.Symbol], resultType: MatchCodeGen.this.global.Type)MatchCodeGen.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.restpe" title="MatchCodeGen.this.global.Type">restpe</a><span class="delimiter">)</span>
        var <a title="MatchCodeGen.this.global.MethodSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher._currCase">_currCase</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.newCaseSym" title="=&gt; MatchCodeGen.this.global.MethodSymbol">newCaseSym</a>

        val caseDefs = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.cases" title="List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">cases</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[MatchCodeGen.this.global.LabelDef]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span>mkCase: Casegen =&gt; Tree<span class="delimiter">)</span> =&gt;
          val <a title="MatchCodeGen.this.global.MethodSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs.$anonfun.currCase">currCase</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher._currCase" title="MatchCodeGen.this.global.MethodSymbol">_currCase</a>
          val <a title="MatchCodeGen.this.global.MethodSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs.$anonfun.nextCase">nextCase</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.newCaseSym" title="=&gt; MatchCodeGen.this.global.MethodSymbol">newCaseSym</a>
          <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher._currCase" title="MatchCodeGen.this.global.MethodSymbol">_currCase</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs.$anonfun.nextCase" title="MatchCodeGen.this.global.MethodSymbol">nextCase</a>

          <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.LabelDef.apply(f96b919e6a)" title="(sym: MatchCodeGen.this.global.Symbol, params: List[MatchCodeGen.this.global.Symbol], rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs.$anonfun.currCase" title="MatchCodeGen.this.global.MethodSymbol">currCase</a>, <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: OptimizedCodegen.this.Casegen)MatchCodeGen.this.global.Tree">mkCase</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen" title="scala.tools.nsc.transform.patmat.MatchCodeGen.OptimizedCodegen.optimizedCodegen.OptimizedCasegen">OptimizedCasegen</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchEnd" title="MatchCodeGen.this.global.MethodSymbol">matchEnd</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs.$anonfun.nextCase" title="MatchCodeGen.this.global.MethodSymbol">nextCase</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// must compute catchAll after caseLabels (side-effects nextCase)</span>
        <span class="comment">// catchAll.isEmpty iff no synthetic default case needed (the (last) user-defined case is a default)</span>
        <span class="comment">// if the last user-defined case is a default, it will never jump to the next case; it will go immediately to matchEnd</span>
        val <a title="List[MatchCodeGen.this.global.LabelDef]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.catchAllDef">catchAllDef</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchFailGen" title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]">matchFailGen</a> <a href="../../../../Option.scala.html#scala;Option.map" title="(f: (MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree) =&gt; MatchCodeGen.this.global.LabelDef)Option[MatchCodeGen.this.global.LabelDef]">map</a> <span class="delimiter">{</span> <a title="MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.catchAllDef.$anonfun.matchFailGen">matchFailGen</a> =&gt;
          val <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.catchAllDef.$anonfun.scrutRef">scrutRef</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrutSym" title="MatchCodeGen.this.global.Symbol">scrutSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fold" title="(none: =&gt; MatchCodeGen.this.global.Tree)(f: MatchCodeGen.this.global.Symbol =&gt; MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">fold</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="MatchCodeGen.this.global.EmptyTree.type">EmptyTree</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">)</span> <span class="comment">// for alternatives</span>

          <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.LabelDef.apply(f96b919e6a)" title="(sym: MatchCodeGen.this.global.Symbol, params: List[MatchCodeGen.this.global.Symbol], rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher._currCase" title="MatchCodeGen.this.global.MethodSymbol">_currCase</a>, <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">matchEnd</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="../../../../Function1.scala.html#scala;Function1.apply" title="(v1: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">matchFailGen</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.catchAllDef.$anonfun.scrutRef" title="MatchCodeGen.this.global.Tree">scrutRef</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <a href="../../../../Option.scala.html#scala;Option.toList" title="=&gt; List[MatchCodeGen.this.global.LabelDef]">toList</a> <span class="comment">// at most 1 element</span>

        <span class="comment">// scrutSym == NoSymbol when generating an alternatives matcher</span>
        val <a title="List[MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrutDef">scrutDef</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrutSym" title="MatchCodeGen.this.global.Symbol">scrutSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fold" title="(none: =&gt; List[MatchCodeGen.this.global.Tree])(f: MatchCodeGen.this.global.Symbol =&gt; List[MatchCodeGen.this.global.Tree])List[MatchCodeGen.this.global.Tree]">fold</a><span class="delimiter">(</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.ValDef.apply(9493665b33)" title="(sym: MatchCodeGen.this.global.Symbol, rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrutDef.$anonfun.x$4" title="MatchCodeGen.this.global.Symbol">_</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrut" title="MatchCodeGen.this.global.Tree">scrut</a><span class="delimiter">)</span> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: MatchCodeGen.this.global.ValDef)List[MatchCodeGen.this.global.ValDef]">::</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> <span class="comment">// for alternatives</span>

        <span class="comment">// the generated block is taken apart in TailCalls under the following assumptions</span>
        <span class="comment">// the assumption is once we encounter a case, the remainder of the block will consist of cases</span>
        <span class="comment">// the prologue may be empty, usually it is the valdef that stores the scrut</span>
        <span class="comment">// val (prologue, cases) = stats span (s =&gt; !s.isInstanceOf[LabelDef])</span>
        <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Block" title="(stats: List[MatchCodeGen.this.global.Tree], expr: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Block">Block</a><span class="delimiter">(</span>
          <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.scrutDef" title="List[MatchCodeGen.this.global.Tree]">scrutDef</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[MatchCodeGen.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchCodeGen.this.global.Tree],MatchCodeGen.this.global.Tree,List[MatchCodeGen.this.global.Tree]])List[MatchCodeGen.this.global.Tree]">++</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.caseDefs" title="List[MatchCodeGen.this.global.LabelDef]">caseDefs</a> <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[MatchCodeGen.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchCodeGen.this.global.Tree],MatchCodeGen.this.global.Tree,List[MatchCodeGen.this.global.Tree]])List[MatchCodeGen.this.global.Tree]">++</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.catchAllDef" title="List[MatchCodeGen.this.global.LabelDef]">catchAllDef</a>,
          <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.LabelDef.apply(f96b919e6a)" title="(sym: MatchCodeGen.this.global.Symbol, params: List[MatchCodeGen.this.global.Symbol], rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchEnd" title="MatchCodeGen.this.global.MethodSymbol">matchEnd</a>, <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: MatchCodeGen.this.global.TermSymbol*)List[MatchCodeGen.this.global.TermSymbol]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchRes" title="MatchCodeGen.this.global.TermSymbol">matchRes</a><span class="delimiter">)</span>, <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.REF(aa0d4af395)" title="(sym: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.global.gen.global.RefTree">REF</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher.matchRes" title="MatchCodeGen.this.global.TermSymbol">matchRes</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>

      class <a title="class OptimizedCasegen extends OptimizedCodegen.this.CommonCodegen with OptimizedCodegen.this.Casegen" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen">OptimizedCasegen</a><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen" title="scala.tools.nsc.transform.patmat.MatchCodeGen.OptimizedCodegen.optimizedCodegen.OptimizedCasegen" class="delimiter">(</a><a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matchEnd">matchEnd</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.nextCase">nextCase</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> extends <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;CommonCodegen" title="OptimizedCodegen.this.CommonCodegen">CommonCodegen</a> with <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen" title="OptimizedCodegen.this.Casegen">Casegen</a> <span class="delimiter">{</span>
        def <a title="(scrut: MatchCodeGen.this.global.Tree, scrutSym: MatchCodeGen.this.global.Symbol, restpe: MatchCodeGen.this.global.Type)(cases: List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree], matchFailGen: Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree])MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher">matcher</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.scrut">scrut</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.scrutSym">scrutSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Type" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.restpe">restpe</a>: <a href="../../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="MatchCodeGen.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.cases">cases</a>: <a href="../../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">List</a><span class="delimiter">[</span>Casegen =&gt; Tree<span class="delimiter">]</span>, <a title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.matchFailGen">matchFailGen</a>: <a href="../../../../Option.scala.html#scala;Option" title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> =
          <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen" title="OptimizedCodegen.this.optimizedCodegen.type">optimizedCodegen</a>.<a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen.matcher" title="(scrut: MatchCodeGen.this.global.Tree, scrutSym: MatchCodeGen.this.global.Symbol, restpe: MatchCodeGen.this.global.Type)(cases: List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree], matchFailGen: Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree])MatchCodeGen.this.global.Tree">matcher</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.scrut" title="MatchCodeGen.this.global.Tree">scrut</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.scrutSym" title="MatchCodeGen.this.global.Symbol">scrutSym</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.restpe" title="MatchCodeGen.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.cases" title="List[OptimizedCodegen.this.Casegen =&gt; MatchCodeGen.this.global.Tree]">cases</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.matcher.matchFailGen" title="Option[MatchCodeGen.this.global.Tree =&gt; MatchCodeGen.this.global.Tree]">matchFailGen</a><span class="delimiter">)</span>

        <span class="comment">// only used to wrap the RHS of a body</span>
        <span class="comment">// res: T</span>
        <span class="comment">// returns MatchMonad[T]</span>
        def <a title="(res: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.one">one</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.one.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">matchEnd</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.one.res" title="MatchCodeGen.this.global.Tree">res</a><span class="delimiter">)</span> <span class="comment">// a jump to a case label is special-cased in typedApply</span>
        protected def <a title="=&gt; MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.zero">zero</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">nextCase</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.APPLY(b3c78b063d)" title="(params: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="comment">// prev: MatchMonad[T]</span>
        <span class="comment">// b: T</span>
        <span class="comment">// next: MatchMonad[U]</span>
        <span class="comment">// returns MatchMonad[U]</span>
        def <a title="(prev: MatchCodeGen.this.global.Tree, b: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap">flatMap</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.prev">prev</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.b">b</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
          val <a title="MatchCodeGen.this.global.TermSymbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.prevSym">prevSym</a> = <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore.freshSym" title="(pos: MatchCodeGen.this.global.Position, tp: MatchCodeGen.this.global.Type, prefix: String)MatchCodeGen.this.global.TermSymbol">freshSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.prev" title="MatchCodeGen.this.global.Tree">prev</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; MatchCodeGen.this.global.Position">pos</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.prev" title="MatchCodeGen.this.global.Tree">prev</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; MatchCodeGen.this.global.Type">tpe</a>, <span title="String(&quot;o&quot;)" class="string">&quot;o&quot;</span><span class="delimiter">)</span>
          <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.BLOCK" title="(xs: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Block">BLOCK</a><span class="delimiter">(</span>
            <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.ValDef.apply(9493665b33)" title="(sym: MatchCodeGen.this.global.Symbol, rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.prevSym" title="MatchCodeGen.this.global.TermSymbol">prevSym</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.prev" title="MatchCodeGen.this.global.Tree">prev</a><span class="delimiter">)</span>,
            <span class="comment">// must be isEmpty and get as we don't control the target of the call (prev is an extractor call)</span>
            <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero" title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">ifThenElseZero</a><span class="delimiter">(</span>
              <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.NOT" title="(tree: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Select">NOT</a><span class="delimiter">(</span><a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">prevSym</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.global.Select">DOT</a> <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.isEmpty" title="=&gt; MatchCodeGen.this.global.TermName">isEmpty</a><span class="delimiter">)</span>,
              <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;TypedSubstitution.Substitution.apply(fc5a79d061)" title="(from: MatchCodeGen.this.global.Symbol, to: MatchCodeGen.this.global.Tree)OptimizedCodegen.this.Substitution">Substitution</a><a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface;TypedSubstitution;Substitution.apply" title="(tree: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" class="delimiter">(</a><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.b" title="MatchCodeGen.this.global.Symbol">b</a>, <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">prevSym</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeFromSelectStart" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: MatchCodeGen.this.CODE.SelectStart)MatchCodeGen.this.global.Select">DOT</a> <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName" title="MatchCodeGen.this.vpmName.type">vpmName</a>.<a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.vpmName.get" title="=&gt; MatchCodeGen.this.global.TermName">get</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMap.next" title="MatchCodeGen.this.global.Tree">next</a><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// cond: Boolean</span>
        <span class="comment">// res: T</span>
        <span class="comment">// nextBinder: T</span>
        <span class="comment">// next == MatchMonad[U]</span>
        <span class="comment">// returns MatchMonad[U]</span>
        def <a title="(cond: MatchCodeGen.this.global.Tree, res: MatchCodeGen.this.global.Tree, nextBinder: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond">flatMapCond</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.cond">cond</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.nextBinder">nextBinder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
          val <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.rest">rest</a> = <span class="delimiter">(</span>
            <span class="comment">// only emit a local val for `nextBinder` if it's actually referenced in `next`</span>
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.next" title="MatchCodeGen.this.global.Tree">next</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.exists" title="(p: MatchCodeGen.this.global.Tree =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.rest.$anonfun.x$6" title="MatchCodeGen.this.global.Tree">_</a>.<a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; MatchCodeGen.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.nextBinder" title="MatchCodeGen.this.global.Symbol">nextBinder</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.BLOCK" title="(xs: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.ValDef.apply(9493665b33)" title="(sym: MatchCodeGen.this.global.Symbol, rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.nextBinder" title="MatchCodeGen.this.global.Symbol">nextBinder</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.res" title="MatchCodeGen.this.global.Tree">res</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.next" title="MatchCodeGen.this.global.Tree">next</a><span class="delimiter">)</span>
            else <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.next" title="MatchCodeGen.this.global.Tree">next</a>
          <span class="delimiter">)</span>
          <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero" title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">ifThenElseZero</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.cond" title="MatchCodeGen.this.global.Tree">cond</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCond.rest" title="MatchCodeGen.this.global.Tree">rest</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// guardTree: Boolean</span>
        <span class="comment">// next: MatchMonad[T]</span>
        <span class="comment">// returns MatchMonad[T]</span>
        def <a title="(guardTree: MatchCodeGen.this.global.Tree, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapGuard">flatMapGuard</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapGuard.guardTree">guardTree</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapGuard.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> =
          <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero" title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">ifThenElseZero</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapGuard.guardTree" title="MatchCodeGen.this.global.Tree">guardTree</a>, <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapGuard.next" title="MatchCodeGen.this.global.Tree">next</a><span class="delimiter">)</span>

        def <a title="(cond: MatchCodeGen.this.global.Tree, condSym: MatchCodeGen.this.global.Symbol, res: MatchCodeGen.this.global.Tree, nextBinder: MatchCodeGen.this.global.Symbol, next: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored">flatMapCondStored</a><span class="delimiter">(</span><a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.cond">cond</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.condSym">condSym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.res">res</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a>, <a title="MatchCodeGen.this.global.Symbol" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.nextBinder">nextBinder</a>: <a href="../../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="MatchCodeGen.this.global.Symbol">Symbol</a>, <a title="MatchCodeGen.this.global.Tree" id="scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.next">next</a>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="MatchCodeGen.this.global.Tree">Tree</a> =
          <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;CodegenCore;Casegen.ifThenElseZero" title="(c: MatchCodeGen.this.global.Tree, thenp: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Tree">ifThenElseZero</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.cond" title="MatchCodeGen.this.global.Tree">cond</a>, <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.BLOCK" title="(xs: MatchCodeGen.this.global.Tree*)MatchCodeGen.this.global.Block">BLOCK</a><span class="delimiter">(</span>
            <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">condSym</a>    <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.===" title="(rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Assign">===</a> <a href="PatternMatching.scala.html#scala.tools.nsc.transform.patmat;Interface.mkTRUE" title="=&gt; MatchCodeGen.this.global.Literal">mkTRUE</a>,
            <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: MatchCodeGen.this.global.Symbol)MatchCodeGen.this.CODE.TreeMethods">nextBinder</a> <a href="../../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.===" title="(rhs: MatchCodeGen.this.global.Tree)MatchCodeGen.this.global.Assign">===</a> <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.res" title="MatchCodeGen.this.global.Tree">res</a>,
            <a href="#scala.tools.nsc.transform.patmat;MatchCodeGen;OptimizedCodegen.optimizedCodegen;OptimizedCasegen.flatMapCondStored.next" title="MatchCodeGen.this.global.Tree">next</a>
          <span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
