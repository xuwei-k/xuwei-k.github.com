<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/transform/Constructors.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*  NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author
 */</span>

package scala.tools.nsc
package transform

import scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
import scala.collection.mutable.ListBuffer
import symtab.<a href="../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>._

<span class="comment">/** This phase converts classes with parameters into Java-like classes with
 *  fields, which are assigned to from constructors.
 */</span>
abstract class <a title="class Constructors extends scala.tools.nsc.transform.Statics with scala.tools.nsc.transform.Transform with scala.tools.nsc.ast.TreeDSL" id="scala.tools.nsc.transform;Constructors">Constructors</a> extends <a href="Statics.scala.html#scala.tools.nsc.transform;Statics" title="scala.tools.nsc.transform.Statics">Statics</a> with <a href="Transform.scala.html#scala.tools.nsc.transform;Transform" title="scala.tools.nsc.transform.Transform">Transform</a> with ast.<a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  import <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Constructors.this.global.definitions.type">definitions</a>._

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  val <a title="String" id="scala.tools.nsc.transform;Constructors.phaseName">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;constructors&quot;)" class="string">&quot;constructors&quot;</span>

  protected def <a title="(unit: Constructors.this.global.CompilationUnit)Constructors.this.global.Transformer" id="scala.tools.nsc.transform;Constructors.newTransformer">newTransformer</a><span class="delimiter">(</span><a title="Constructors.this.global.CompilationUnit" id="scala.tools.nsc.transform;Constructors.newTransformer.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="Constructors.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer" title="Constructors.this.global.Transformer">Transformer</a> =
    new <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer" title="Constructors.this.ConstructorTransformer">ConstructorTransformer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors.newTransformer.unit" title="Constructors.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  private val <a title="scala.collection.mutable.Map[Constructors.this.global.Symbol,List[Constructors.this.global.Tree]]" id="scala.tools.nsc.transform;Constructors.guardedCtorStats">guardedCtorStats</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map" title="scala.collection.mutable.Map[Constructors.this.global.Symbol,List[Constructors.this.global.Tree]]">Map</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches" title="Constructors.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches.newMap" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Constructors.this.global.Symbol,List[Constructors.this.global.Tree]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  private val <a title="scala.collection.mutable.Map[Constructors.this.global.Symbol,List[Constructors.this.global.Symbol]]" id="scala.tools.nsc.transform;Constructors.ctorParams">ctorParams</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#scala.collection.mutable;Map" title="scala.collection.mutable.Map[Constructors.this.global.Symbol,List[Constructors.this.global.Symbol]]">Map</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches" title="Constructors.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.perRunCaches.newMap" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Constructors.this.global.Symbol,List[Constructors.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  class <a title="class ConstructorTransformer extends Constructors.this.global.Transformer" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer">ConstructorTransformer</a><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer" title="Constructors.this.ConstructorTransformer" class="delimiter">(</a><a title="Constructors.this.global.CompilationUnit" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="Constructors.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> extends <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer" title="Constructors.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="comment">/*
     * Inspect for obvious out-of-order initialization; concrete, eager vals or vars, declared in this class,
     * for which a reference to the member precedes its definition.
     */</span>
    private def <a title="(cd: Constructors.this.global.ClassDef)Unit" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads">checkUninitializedReads</a><span class="delimiter">(</span><a title="Constructors.this.global.ClassDef" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.cd">cd</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ClassDef" title="Constructors.this.global.ClassDef">ClassDef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.stats">stats</a> = <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.cd" title="Constructors.this.global.ClassDef">cd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ClassDef.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Template.body" title="=&gt; List[Constructors.this.global.Tree]">body</a>
      val <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.clazz">clazz</a> = <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.cd" title="Constructors.this.global.ClassDef">cd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>

      def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit">checkableForInit</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit.sym" title="Constructors.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;SymbolContextApiImpl.isVal" title="=&gt; Boolean">isVal</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;SymbolContextApiImpl.isVar" title="=&gt; Boolean">isVar</a><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit.sym" title="Constructors.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasFlag(f19781a561)" title="(mask: Long)Boolean">hasFlag</a> LAZY | DEFERRED <span title="Long(2149580816L)">|</span> SYNTHETIC<span class="delimiter">)</span>
      <span class="delimiter">)</span>
      val <a title="scala.collection.mutable.Set[Constructors.this.global.Symbol]" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals">uninitializedVals</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.Set[A]">Set</a><span title="(elems: Constructors.this.global.Symbol*)scala.collection.mutable.Set[Constructors.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span>
        <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.stats" title="List[Constructors.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.collect" title="(pf: PartialFunction[Constructors.this.global.Tree,Constructors.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Constructors.this.global.Tree],Constructors.this.global.Symbol,List[Constructors.this.global.Symbol]])List[Constructors.this.global.Symbol]">collect</a> <a title="&lt;$anon: Constructors.this.global.Tree =&gt; Constructors.this.global.Symbol&gt; extends scala.runtime.AbstractPartialFunction[Constructors.this.global.Tree,Constructors.this.global.Symbol] with Serializable" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Constructors.this.global.ValDef" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals;$anonfun.isDefinedAt.vd">vd</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ValDef" title="Constructors.this.global.ValDef">ValDef</a> if <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.checkableForInit" title="(sym: Constructors.this.global.Symbol)Boolean">checkableForInit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals;$anonfun.isDefinedAt.vd" title="Constructors.this.global.ValDef">vd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals;$anonfun.isDefinedAt.vd" title="Constructors.this.global.ValDef">vd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessedOrSelf" title="=&gt; Constructors.this.global.Symbol">accessedOrSelf</a> <span class="delimiter">}</span>: _*
      <span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals" title="scala.collection.mutable.Set[Constructors.this.global.Symbol]">uninitializedVals</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.size" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Checking constructor for init order issues among: &quot;)" class="string">&quot;Checking constructor for init order issues among: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals" title="scala.collection.mutable.Set[Constructors.this.global.Symbol]">uninitializedVals</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[Constructors.this.global.Symbol]">toList</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Constructors.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Constructors.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.x$1" title="Constructors.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; x$1.NameType">name</a>.<span title="()String">toString</span>.<span title="()String">trim</span><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.distinct" title="=&gt; List[String]">distinct</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.sorted" title="(implicit ord: scala.math.Ordering[String])List[String]">sorted</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

      for <span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.stat">stat</a> &lt;- <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Constructors.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// Checking the qualifier symbol is necessary to prevent a selection on</span>
        <span class="comment">// another instance of the same class from potentially appearing to be a forward</span>
        <span class="comment">// reference on the member in the current class.</span>
        def <a title="(tree: Constructors.this.global.Tree)Unit" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.check">check</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.check.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          for <span class="delimiter">(</span><span title="Constructors.this.global.Tree">t</span> &lt;- <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.foreach" title="(f: Constructors.this.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span> <span title="Constructors.this.global.Tree">t</span> match <span class="delimiter">{</span>
            case <span title="Constructors.this.global.RefTree">t</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;RefTree" title="Constructors.this.global.RefTree">RefTree</a> if <a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Constructors.this.global.Symbol)Boolean">uninitializedVals</a><span class="delimiter">(</span><span title="Constructors.this.global.RefTree">t</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessedOrSelf" title="=&gt; Constructors.this.global.Symbol">accessedOrSelf</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span title="Constructors.this.global.RefTree">t</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;RefTree.qualifier" title="=&gt; Constructors.this.global.Tree">qualifier</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.clazz" title="Constructors.this.global.Symbol">clazz</a> =&gt;
              <a href="../Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.warning" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><span title="Constructors.this.global.RefTree">t</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Reference to uninitialized &quot;)">Reference to uninitialized $</span><span class="delimiter">{</span><span title="Constructors.this.global.RefTree">t</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessedOrSelf" title="=&gt; Constructors.this.global.Symbol">accessedOrSelf</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
            case _ =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.stat" title="Constructors.this.global.Tree">stat</a> match <span class="delimiter">{</span>
          case <a title="Constructors.this.global.ValDef" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.vd">vd</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ValDef" title="Constructors.this.global.ValDef">ValDef</a>      =&gt;
            <span class="comment">// doing this first allows self-referential vals, which to be a conservative</span>
            <span class="comment">// warner we will do because it's possible though difficult for it to be useful.</span>
            <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.uninitializedVals" title="scala.collection.mutable.Set[Constructors.this.global.Symbol]">uninitializedVals</a> <a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.-=(70ec98e56e)" title="(elem: Constructors.this.global.Symbol)uninitializedVals.type">-=</a> <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.vd" title="Constructors.this.global.ValDef">vd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessedOrSelf" title="=&gt; Constructors.this.global.Symbol">accessedOrSelf</a>
            if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.vd" title="Constructors.this.global.ValDef">vd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isLazy" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
              <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.check" title="(tree: Constructors.this.global.Tree)Unit">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.vd" title="Constructors.this.global.ValDef">vd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ValDef.rhs" title="=&gt; Constructors.this.global.Tree">rhs</a><span class="delimiter">)</span>
          case _: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;MemberDef" title="Constructors.this.global.MemberDef">MemberDef</a>    =&gt; <span class="comment">// skip other member defs</span>
          case <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.t">t</a>               =&gt; <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.check" title="(tree: Constructors.this.global.Tree)Unit">check</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads.$anonfun.t" title="Constructors.this.global.Tree">t</a><span class="delimiter">)</span> <span class="comment">// constructor body statement</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span> <span class="comment">// end of checkUninitializedReads()</span>

    override def <a title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform">transform</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a> match <span class="delimiter">{</span>
        case <a title="Constructors.this.global.ClassDef" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd">cd</a> @ ClassDef<span class="delimiter">(</span><a title="Constructors.this.global.Modifiers" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.mods0">mods0</a>, <a title="Constructors.this.global.TypeName" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.name0">name0</a>, <a title="List[Constructors.this.global.TypeDef]" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tparams0">tparams0</a>, <a title="Constructors.this.global.Template" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.impl0">impl0</a><span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd" title="Constructors.this.global.ClassDef">cd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isInterface" title="=&gt; Boolean">isInterface</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.isPrimitiveValueClass" title="(sym: Constructors.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd" title="Constructors.this.global.ClassDef">cd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          if<span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd" title="Constructors.this.global.ClassDef">cd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.AnyValClass" title="=&gt; Constructors.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd" title="Constructors.this.global.ClassDef">cd</a>
          <span class="delimiter">}</span>
          else <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.checkUninitializedReads" title="(cd: Constructors.this.global.ClassDef)Unit">checkUninitializedReads</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd" title="Constructors.this.global.ClassDef">cd</a><span class="delimiter">)</span>
            val <a title="Constructors.this.TemplateTransformer" id="scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tplTransformer">tplTransformer</a> = new <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer" title="Constructors.this.TemplateTransformer">TemplateTransformer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.unit" title="Constructors.this.global.CompilationUnit">unit</a>, <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.impl0" title="Constructors.this.global.Template">impl0</a><span class="delimiter">)</span>
            <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; Constructors.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.ClassDef" title="(tree: Constructors.this.global.Tree, mods: Constructors.this.global.Modifiers, name: Constructors.this.global.Name, tparams: List[Constructors.this.global.TypeDef], impl: Constructors.this.global.Template)Constructors.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.cd" title="Constructors.this.global.ClassDef">cd</a>, <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.mods0" title="Constructors.this.global.Modifiers">mods0</a>, <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.name0" title="Constructors.this.global.TypeName">name0</a>, <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tparams0" title="List[Constructors.this.global.TypeDef]">tparams0</a>, <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tplTransformer" title="Constructors.this.TemplateTransformer">tplTransformer</a>.<a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.transformed" title="=&gt; Constructors.this.global.Template">transformed</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        case _ =&gt;
          super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span> <span class="comment">// ConstructorTransformer</span>

  <span class="comment">/*
   * Summary
   * -------
   *
   * The following gets elided unless they're actually needed:
   *   (a) parameter-accessor fields for non-val, non-var, constructor-param-symbols, as well as
   *   (b) outer accessors of a final class which don't override anything.
   *
   *
   * Gory details
   * ------------
   *
   * The constructors phase elides
   *
   *  (a) parameter-accessor fields for non-val, non-var, constructor-param-symbols
   *      provided they're only accessed within the primary constructor;
   *
   * as well as
   *
   *  (b) outer accessors directly owned by the class of interest,
   *      provided that class is final, they don't override anything, and moreover they aren't accessed anywhere.
   *      An outer accessor is backed by a param-accessor field.
   *      If an outer-accessor can be elided then its supporting field can be elided as well.
   *
   * Once the potential candidates for elision are known (as described above) it remains to visit
   * those program locations where they might be accessed, and only those.
   *
   * What trees can be visited at this point?
   * To recap, by the time the constructors phase runs, local definitions have been hoisted out of their original owner.
   * Moreover, by the time elision is about to happen, the `intoConstructors` rewriting
   * of template-level statements has taken place (the resulting trees can be found in `constrStatBuf`).
   *
   * That means:
   *
   *   - nested classes are to be found in `defBuf`
   *
   *   - value and method definitions are also in `defBuf` and none of them contains local methods or classes.
   *
   *   - auxiliary constructors are to be found in `auxConstructorBuf`
   *
   * Coming back to the question which trees may contain accesses:
   *
   *   (c) regarding parameter-accessor fields, all candidates in (a) are necessarily private-local,
   *       and thus may only be accessed from value or method definitions owned by the current class
   *       (ie there's no point drilling down into nested classes).
   *
   *   (d) regarding candidates in (b), they are accesible from all places listed in (c) and in addition
   *       from nested classes (nested at any number of levels).
   *
   * In all cases, we're done with traversing as soon as all candidates have been ruled out.
   *
   * Finally, the whole affair of eliding is avoided for DelayedInit subclasses,
   * given that for them usually nothing gets elided anyway.
   * That's a consequence from re-locating the post-super-calls statements from their original location
   * (the primary constructor) into a dedicated synthetic method that an anon-closure may invoke, as required by DelayedInit.
   *
   */</span>
  private trait <a title="trait OmittablesHelper extends AnyRef" id="scala.tools.nsc.transform;Constructors;OmittablesHelper">OmittablesHelper</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a> self: TemplateTransformer =&gt;

    <span class="comment">/*
     * Initially populated with all elision candidates.
     * Trees are traversed, and those candidates are removed which are actually needed.
     * After that, `omittables` doesn't shrink anymore: each symbol it contains can be unlinked from clazz.info.decls.
     */</span>
    val <a title="scala.collection.mutable.Set[Constructors.this.global.Symbol]" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables">omittables</a> = mutable.<a href="../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set" title="scala.collection.mutable.Set.type">Set</a>.<a href="../../../collection/mutable/Set.scala.html#scala.collection.mutable.Set.empty" title="[A]=&gt; scala.collection.mutable.Set[A]">empty</a><span title="scala.collection.mutable.Set[Constructors.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">]</span>

    def <a title="()Unit" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables">populateOmittables</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables" title="=&gt; scala.collection.mutable.Set[Constructors.this.global.Symbol]">omittables</a>.<a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

      if<span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.isDelayedInitSubclass" title="=&gt; Boolean">isDelayedInitSubclass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        return
      <span class="delimiter">}</span>

      def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isParamCandidateForElision">isParamCandidateForElision</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isParamCandidateForElision.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isParamCandidateForElision.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isParamAccessor" title="=&gt; Boolean">isParamAccessor</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isParamCandidateForElision.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isPrivateLocal" title="=&gt; Boolean">isPrivateLocal</a><span class="delimiter">)</span>
      def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isOuterCandidateForElision">isOuterCandidateForElision</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isOuterCandidateForElision.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isOuterCandidateForElision.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOuterAccessor" title="=&gt; Boolean">isOuterAccessor</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isOuterCandidateForElision.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Constructors.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isEffectivelyFinal" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isOuterCandidateForElision.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOverridingSymbol" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span>

      val paramCandidatesForElision: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[Constructors.this.global.Symbol]">Set</a><span class="delimiter">[</span> <span class="comment">/*Field*/</span>  Symbol<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; Constructors.this.global.Scope">decls</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toSet" title="scala.collection.immutable.Set[Constructors.this.global.Symbol]">toSet</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="Set[Constructors.this.global.Symbol]" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.paramCandidatesForElision">filter</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isParamCandidateForElision" title="(sym: Constructors.this.global.Symbol)Boolean">isParamCandidateForElision</a><span class="delimiter">)</span>
      val outerCandidatesForElision: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[Constructors.this.global.Symbol]">Set</a><span class="delimiter">[</span> <span class="comment">/*Method*/</span> Symbol<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; Constructors.this.global.Scope">decls</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toSet" title="scala.collection.immutable.Set[Constructors.this.global.Symbol]">toSet</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="Set[Constructors.this.global.Symbol]" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.outerCandidatesForElision">filter</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.isOuterCandidateForElision" title="(sym: Constructors.this.global.Symbol)Boolean">isOuterCandidateForElision</a><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables" title="=&gt; scala.collection.mutable.Set[Constructors.this.global.Symbol]">omittables</a> <a href="../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[Constructors.this.global.Symbol])OmittablesHelper.this.omittables.type">++=</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.paramCandidatesForElision" title="Set[Constructors.this.global.Symbol]">paramCandidatesForElision</a>
      <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables" title="=&gt; scala.collection.mutable.Set[Constructors.this.global.Symbol]">omittables</a> <a href="../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[Constructors.this.global.Symbol])OmittablesHelper.this.omittables.type">++=</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.outerCandidatesForElision" title="Set[Constructors.this.global.Symbol]">outerCandidatesForElision</a>

      val <a title="Map[Constructors.this.global.Symbol,Constructors.this.global.DefDef]" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor">bodyOfOuterAccessor</a>: <a href="../../../collection/immutable/Map.scala.html#scala.collection.immutable;Map" title="Map[Constructors.this.global.Symbol,Constructors.this.global.DefDef]">Map</a><span class="delimiter">[</span>Symbol, DefDef<span class="delimiter">]</span> =
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.collect" title="(pf: PartialFunction[Constructors.this.global.Tree,(Constructors.this.global.Symbol, Constructors.this.global.DefDef)])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ListBuffer[Constructors.this.global.Tree],(Constructors.this.global.Symbol, Constructors.this.global.DefDef),scala.collection.mutable.ListBuffer[(Constructors.this.global.Symbol, Constructors.this.global.DefDef)]])scala.collection.mutable.ListBuffer[(Constructors.this.global.Symbol, Constructors.this.global.DefDef)]">collect</a> <a title="&lt;$anon: Constructors.this.global.Tree =&gt; (Constructors.this.global.Symbol, Constructors.this.global.DefDef)&gt; extends scala.runtime.AbstractPartialFunction[Constructors.this.global.Tree,(Constructors.this.global.Symbol, Constructors.this.global.DefDef)] with Serializable" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Constructors.this.global.DefDef" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor;$anonfun.isDefinedAt.dd">dd</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef" title="Constructors.this.global.DefDef">DefDef</a> if <a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Constructors.this.global.Symbol)Boolean">outerCandidatesForElision</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor;$anonfun.isDefinedAt.dd" title="Constructors.this.global.DefDef">dd</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor;$anonfun.isDefinedAt.dd" title="Constructors.this.global.DefDef">dd</a>.<a href="../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: Constructors.this.global.Symbol)ArrowAssoc[Constructors.this.global.Symbol]">symbol</a> <a href="../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: Constructors.this.global.DefDef)(Constructors.this.global.Symbol, Constructors.this.global.DefDef)">-&gt;</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor;$anonfun.isDefinedAt.dd" title="Constructors.this.global.DefDef">dd</a> <span class="delimiter">}</span>.<a href="../../../collection/generic/TraversableForwarder.scala.html#scala.collection.generic;TraversableForwarder.toMap" title="(implicit ev: &lt;:&lt;[(Constructors.this.global.Symbol, Constructors.this.global.DefDef),(Constructors.this.global.Symbol, Constructors.this.global.DefDef)])scala.collection.immutable.Map[Constructors.this.global.Symbol,Constructors.this.global.DefDef]">toMap</a>

      <span class="comment">// no point traversing further once omittables is empty, all candidates ruled out already.</span>
      object <a title="detectUsages.type" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.detectUsages">detectUsages</a> extends <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser" title="Constructors.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
        private def <a title="(sym: Constructors.this.global.Symbol)Unit" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.markUsage">markUsage</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.markUsage.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables" title="=&gt; scala.collection.mutable.Set[Constructors.this.global.Symbol]">omittables</a> <a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.-=(70ec98e56e)" title="(elem: Constructors.this.global.Symbol)OmittablesHelper.this.omittables.type">-=</a> <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.debuglogResult" title="(msg: =&gt; String)(result: Constructors.this.global.Symbol)Constructors.this.global.Symbol">debuglogResult</a><span class="delimiter">(</span><span title="String(&quot;omittables -= &quot;)" class="string">&quot;omittables -= &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.markUsage.sym" title="Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="comment">// recursive call to mark as needed the field supporting the outer-accessor-method.</span>
          <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.bodyOfOuterAccessor" title="Map[Constructors.this.global.Symbol,Constructors.this.global.DefDef]">bodyOfOuterAccessor</a> <a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.get" title="(key: Constructors.this.global.Symbol)Option[Constructors.this.global.DefDef]">get</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.markUsage.sym" title="Constructors.this.global.Symbol">sym</a> <a href="../../../Option.scala.html#scala;Option.foreach" title="(f: Constructors.this.global.DefDef =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span>this <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse" title="(tree: Constructors.this.global.Tree)Unit">traverse</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.markUsage.$anonfun.x$2" title="Constructors.this.global.DefDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef.rhs" title="=&gt; Constructors.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        override def <a title="(tree: Constructors.this.global.Tree)Unit" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse">traverse</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables" title="=&gt; scala.collection.mutable.Set[Constructors.this.global.Symbol]">omittables</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          def <a title="=&gt; Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.sym">sym</a> = <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>
          <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.tree" title="Constructors.this.global.Tree">tree</a> match <span class="delimiter">{</span>
            <span class="comment">// don't mark as &quot;needed&quot; the field supporting this outer-accessor, ie not just yet.</span>
            case _: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef" title="Constructors.this.global.DefDef">DefDef</a> if <a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Constructors.this.global.Symbol)Boolean">outerCandidatesForElision</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.sym" title="=&gt; Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            case _: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="Constructors.this.global.Select">Select</a> if <a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Constructors.this.global.Symbol)Boolean">omittables</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.sym" title="=&gt; Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span>                =&gt; <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.markUsage" title="(sym: Constructors.this.global.Symbol)Unit">markUsage</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.sym" title="=&gt; Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span> ; super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Constructors.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>
            case _                                           =&gt; super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Constructors.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        def <a title="(xs: Seq[Constructors.this.global.Tree])Unit" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.walk">walk</a><span class="delimiter">(</span><a title="Seq[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.walk.xs">xs</a>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[Constructors.this.global.Tree]">Seq</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.walk.xs" title="Seq[Constructors.this.global.Tree]">xs</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.iterator" title="=&gt; Iterator[Constructors.this.global.Tree]">iterator</a> <a href="../../../collection/Iterator.scala.html#scala.collection;Iterator.foreach" title="(f: Constructors.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.traverse" title="(tree: Constructors.this.global.Tree)Unit">traverse</a>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.omittables" title="=&gt; scala.collection.mutable.Set[Constructors.this.global.Symbol]">omittables</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.detectUsages" title="detectUsages.type">detectUsages</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.walk" title="(xs: Seq[Constructors.this.global.Tree])Unit">walk</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a>
        <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables.detectUsages" title="detectUsages.type">detectUsages</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables;detectUsages.walk" title="(xs: Seq[Constructors.this.global.Tree])Unit">walk</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.auxConstructorBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">auxConstructorBuf</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.mustBeKept">mustBeKept</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;OmittablesHelper.mustBeKept.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Constructors.this.global.Symbol)Boolean">omittables</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.mustBeKept.sym" title="Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span>

  <span class="delimiter">}</span> <span class="comment">// OmittablesHelper</span>

  <span class="comment">/*
   *  TemplateTransformer rewrites DelayedInit subclasses.
   *  The list of statements that will end up in the primary constructor can be split into:
   *
   *    (a) up to and including the super-constructor call.
   *        These statements can occur only in the (bytecode-level) primary constructor.
   *
   *    (b) remaining statements
   *
   *  The purpose of DelayedInit is leaving (b) out of the primary constructor and have their execution &quot;delayed&quot;.
   *
   *  The rewriting to achieve &quot;delayed initialization&quot; involves:
   *    (c) an additional, synthetic, public method encapsulating (b)
   *    (d) an additional, synthetic closure whose argless apply() just invokes (c)
   *    (e) after executing the statements in (a),
   *        the primary constructor instantiates (d) and passes it as argument
   *        to a `delayedInit()` invocation on the current instance.
   *        In turn, `delayedInit()` is a method defined as abstract in the `DelayedInit` trait
   *        so that it can be overridden (for an example see `scala.App`)
   *
   *  The following helper methods prepare Trees as part of this rewriting:
   *
   *    (f) `delayedEndpointDef()` prepares (c).
   *        A transformer, `constrStatTransformer`, is used to re-locate statements (b) from template-level
   *        to become statements in method (c). The main task here is re-formulating accesses to params
   *        of the primary constructors (to recap, (c) has zero-params) in terms of param-accessor fields.
   *        In a Delayed-Init subclass, each class-constructor gets a param-accessor field because `mustbeKept()` forces it.
   *
   *    (g) `delayedInitClosure()` prepares (d)
   *
   *    (h) `delayedInitCall()`    prepares the `delayedInit()` invocation referred to in (e)
   *
   *  Both (c) and (d) are added to the Template returned by `transformClassTemplate()`
   *
   *  A note of historic interest: Previously the rewriting for DelayedInit would include in the closure body
   *  all of the delayed initialization sequence, which in turn required:
   *    - reformulating &quot;accesses-on-this&quot; into &quot;accesses-on-outer&quot;, and
   *    - adding public getters and setters.
   *
   *  @param stats the statements in (b) above
   *
   *  @return the DefDef for (c) above
   *
   * */</span>
  private trait <a title="trait DelayedInitHelper extends AnyRef" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper">DelayedInitHelper</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a> self: TemplateTransformer =&gt;

    private def <a title="(stats: List[Constructors.this.global.Tree])Constructors.this.global.DefDef" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef">delayedEndpointDef</a><span class="delimiter">(</span><a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.stats">stats</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef" title="Constructors.this.global.DefDef">DefDef</a> = <span class="delimiter">{</span>

      val <a title="Constructors.this.global.TermName" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.methodName">methodName</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.currentUnit" title="=&gt; Constructors.this.global.CompilationUnit">currentUnit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.freshTermName" title="(prefix: String)Constructors.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;delayedEndpoint$&quot;)" class="string">&quot;delayedEndpoint$&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullNameAsName" title="(separator: Char)Constructors.this.global.Name">fullNameAsName</a><span class="delimiter">(</span><span title="Char('$')" class="char">'$'</span><span class="delimiter">)</span>.<span title="()String">toString</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>
      val <a title="Constructors.this.global.MethodSymbol" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.methodSym">methodSym</a>  = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newMethod" title="(name: Constructors.this.global.TermName, pos: Constructors.this.global.Position, newFlags: Long)Constructors.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.methodName" title="Constructors.this.global.TermName">methodName</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>, SYNTHETIC <span title="Long(2097184L)">|</span> FINAL<span class="delimiter">)</span>
      <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.methodSym" title="Constructors.this.global.MethodSymbol">methodSym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfoAndEnter" title="(info: Constructors.this.global.Type)methodSym.type">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType" title="(params: List[Constructors.this.global.Symbol], resultType: Constructors.this.global.Type)Constructors.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.UnitTpe" title="=&gt; Constructors.this.global.Type">UnitTpe</a><span class="delimiter">)</span>

      <span class="comment">// changeOwner needed because the `stats` contained in the DefDef were owned by the template, not long ago.</span>
      val <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.blk">blk</a>       = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Block" title="(stats: List[Constructors.this.global.Tree], expr: Constructors.this.global.Tree)Constructors.this.global.Block">Block</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.stats" title="List[Constructors.this.global.Tree]">stats</a>, <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkZero" title="(tp: Constructors.this.global.gen.global.Type)Constructors.this.global.gen.global.Tree">mkZero</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.UnitTpe" title="=&gt; Constructors.this.global.Type">UnitTpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.changeOwner" title="(pairs: (Constructors.this.global.Symbol, Constructors.this.global.Symbol)*)Constructors.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: Constructors.this.global.Symbol)ArrowAssoc[Constructors.this.global.Symbol]">symbol</a> <a href="../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: Constructors.this.global.MethodSymbol)(Constructors.this.global.Symbol, Constructors.this.global.MethodSymbol)">-&gt;</a> <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.methodSym" title="Constructors.this.global.MethodSymbol">methodSym</a><span class="delimiter">)</span>
      val delayedDD = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="Constructors.this.global.analyzer.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.delayedDD">typed</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.DefDef.apply(7526f3aad6)" title="(sym: Constructors.this.global.Symbol, vparamss: List[List[Constructors.this.global.ValDef]], rhs: Constructors.this.global.Tree)Constructors.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.methodSym" title="Constructors.this.global.MethodSymbol">methodSym</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.blk" title="Constructors.this.global.Tree">blk</a><span class="delimiter">)</span> <span class="delimiter">}</span>

      <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef.delayedDD" title="Constructors.this.global.analyzer.global.Tree">delayedDD</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Constructors.this.global.DefDef" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef" title="Constructors.this.global.DefDef">DefDef</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>

    private def <a title="(delayedEndPointSym: Constructors.this.global.MethodSymbol)Constructors.this.global.ClassDef" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure">delayedInitClosure</a><span class="delimiter">(</span><a title="Constructors.this.global.MethodSymbol" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.delayedEndPointSym">delayedEndPointSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;MethodSymbol" title="Constructors.this.global.MethodSymbol">MethodSymbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ClassDef" title="Constructors.this.global.ClassDef">ClassDef</a> = <span class="delimiter">{</span>
      val <a title="Constructors.this.global.analyzer.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass">satelliteClass</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: Constructors.this.global.Position)(tree: Constructors.this.global.ClassDef)Constructors.this.global.ClassDef">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="Constructors.this.global.ClassSymbol" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass">closureClass</a>   = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newClass" title="(name: Constructors.this.global.TypeName, pos: Constructors.this.global.Position, newFlags: Long)Constructors.this.global.ClassSymbol">newClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.delayedInitArg" title="=&gt; Constructors.this.global.nme.NameType">delayedInitArg</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;TermName.toTypeName" title="=&gt; Constructors.this.global.TypeName">toTypeName</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>, SYNTHETIC <span title="Long(2097184L)">|</span> FINAL<span class="delimiter">)</span>
          val <a title="List[Constructors.this.global.Type]" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureParents">closureParents</a> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Constructors.this.global.Type*)List[Constructors.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;VarArityClass.apply" title="(i: Int)Constructors.this.global.Symbol">AbstractFunctionClass</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.Type">tpe</a><span class="delimiter">)</span>

          <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfoAndEnter" title="(info: Constructors.this.global.Type)closureClass.type">setInfoAndEnter</a> new <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;ClassInfoType" title="Constructors.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureParents" title="List[Constructors.this.global.Type]">closureParents</a>, <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes.newScope" title="=&gt; Constructors.this.global.Scope">newScope</a>, <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a><span class="delimiter">)</span>

          val outerField: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;TermSymbol" title="Constructors.this.global.TermSymbol">TermSymbol</a> = <span class="delimiter">(</span>
            <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a>
              <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newValue" title="(name: Constructors.this.global.TermName, pos: Constructors.this.global.Position, newFlags: Long)Constructors.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.OUTER" title="=&gt; Constructors.this.global.nme.NameType">OUTER</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>, PrivateLocal <span title="Long(537395204L)">|</span> PARAMACCESSOR<span class="delimiter">)</span>
              <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfoAndEnter" title="Constructors.this.global.TermSymbol" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.outerField">setInfoAndEnter</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.Type">tpe</a>
          <span class="delimiter">)</span>
          val applyMethod: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;MethodSymbol" title="Constructors.this.global.MethodSymbol">MethodSymbol</a> = <span class="delimiter">(</span>
            <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a>
              <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.newMethod" title="(name: Constructors.this.global.TermName, pos: Constructors.this.global.Position, newFlags: Long)Constructors.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.apply" title="=&gt; Constructors.this.global.nme.NameType">apply</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>, <span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.setInfoAndEnter" title="Constructors.this.global.MethodSymbol" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethod">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType" title="(params: List[Constructors.this.global.Symbol], resultType: Constructors.this.global.Type)Constructors.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ObjectTpe" title="=&gt; Constructors.this.global.Type">ObjectTpe</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          val <a title="Constructors.this.global.ValDef" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.outerFieldDef">outerFieldDef</a>     = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.ValDef.apply(88055a62f0)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.outerField" title="Constructors.this.global.TermSymbol">outerField</a><span class="delimiter">)</span>
          val <a title="Constructors.this.global.analyzer.Typer" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClassTyper">closureClassTyper</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.atOwner(11dce10693)" title="(owner: Constructors.this.global.analyzer.global.Symbol)Constructors.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a><span class="delimiter">)</span>
          val <a title="Constructors.this.global.analyzer.Typer" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodTyper">applyMethodTyper</a>  = <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClassTyper" title="Constructors.this.global.analyzer.Typer">closureClassTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.atOwner(11dce10693)" title="(owner: Constructors.this.global.analyzer.global.Symbol)Constructors.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethod" title="Constructors.this.global.MethodSymbol">applyMethod</a><span class="delimiter">)</span>

          def <a title="=&gt; Constructors.this.global.analyzer.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodStat">applyMethodStat</a> =
            <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodTyper" title="Constructors.this.global.analyzer.Typer">applyMethodTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
              <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.atPos" title="(pos: Constructors.this.global.Position)(tree: Constructors.this.global.Apply)Constructors.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                val <a title="Constructors.this.global.Select" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodStat.receiver">receiver</a> = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Select(dd97d6dc80)" title="(qualifier: Constructors.this.global.Tree, sym: Constructors.this.global.Symbol)Constructors.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.This(3731e4786e)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.Tree">This</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.outerField" title="Constructors.this.global.TermSymbol">outerField</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: Constructors.this.global.Tree, args: List[Constructors.this.global.Tree])Constructors.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Select(dd97d6dc80)" title="(qualifier: Constructors.this.global.Tree, sym: Constructors.this.global.Symbol)Constructors.this.global.Select">Select</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodStat.receiver" title="Constructors.this.global.Select">receiver</a>, <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.delayedEndPointSym" title="Constructors.this.global.MethodSymbol">delayedEndPointSym</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          val <a title="Constructors.this.global.DefDef" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodDef">applyMethodDef</a> = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.DefDef.apply(7526f3aad6)" title="(sym: Constructors.this.global.Symbol, vparamss: List[List[Constructors.this.global.ValDef]], rhs: Constructors.this.global.Tree)Constructors.this.global.DefDef">DefDef</a><span class="delimiter">(</span>
            sym = <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethod" title="Constructors.this.global.MethodSymbol">applyMethod</a>,
            vparamss = <a href="../package.scala.html#scala.tools.nsc.package.ListOfNil" title="=&gt; List[List[Nothing]]">ListOfNil</a>,
            rhs = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Block(29b0c14cf1)" title="(stats: Constructors.this.global.Tree*)Constructors.this.global.Block">Block</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodStat" title="=&gt; Constructors.this.global.analyzer.global.Tree">applyMethodStat</a>, <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedRef(23ce0e46ac)" title="(sym: Constructors.this.global.gen.global.Symbol)Constructors.this.global.gen.global.RefTree">mkAttributedRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.BoxedUnit_UNIT" title="=&gt; Constructors.this.global.TermSymbol">BoxedUnit_UNIT</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees.ClassDef(be3c445d12)" title="(sym: Constructors.this.global.Symbol, constrMods: Constructors.this.global.Modifiers, vparamss: List[List[Constructors.this.global.ValDef]], body: List[Constructors.this.global.Tree], superPos: Constructors.this.global.Position)Constructors.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span>
            sym = <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.closureClass" title="Constructors.this.global.ClassSymbol">closureClass</a>,
            constrMods = <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees.Modifiers(0bd5630316)" title="(flags: Constructors.this.global.FlagSet)Constructors.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>,
            vparamss = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: List[Constructors.this.global.ValDef]*)List[List[Constructors.this.global.ValDef]]">List</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Constructors.this.global.ValDef*)List[Constructors.this.global.ValDef]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.outerFieldDef" title="Constructors.this.global.ValDef">outerFieldDef</a><span class="delimiter">)</span><span class="delimiter">)</span>,
            body = <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass.applyMethodDef" title="Constructors.this.global.DefDef">applyMethodDef</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: Constructors.this.global.DefDef)List[Constructors.this.global.DefDef]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>,
            superPos = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure.satelliteClass" title="Constructors.this.global.analyzer.global.Tree">satelliteClass</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Constructors.this.global.ClassDef" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ClassDef" title="Constructors.this.global.ClassDef">ClassDef</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>

    private def <a title="(closure: Constructors.this.global.Tree)Constructors.this.global.analyzer.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitCall">delayedInitCall</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitCall.closure">closure</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedPos(b526320510)" title="(pos: Constructors.this.global.analyzer.global.Position)(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkMethodCall(4bf8c8a6fa)" title="(receiver: Constructors.this.global.gen.global.Tree, method: Constructors.this.global.gen.global.Symbol, targs: List[Constructors.this.global.gen.global.Type], args: List[Constructors.this.global.gen.global.Tree])Constructors.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.This(3731e4786e)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.Tree">This</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.delayedInitMethod" title="=&gt; Constructors.this.global.TermSymbol">delayedInitMethod</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Constructors.this.global.Tree*)List[Constructors.this.global.Tree]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.New(05bd7cb144)" title="(tpe: Constructors.this.global.Type, args: Constructors.this.global.Tree*)Constructors.this.global.Tree">New</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitCall.closure" title="Constructors.this.global.Tree">closure</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.Type">tpe</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.This(3731e4786e)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.Tree">This</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    def <a title="()Unit" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit">rewriteDelayedInit</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">/* XXX This is not corect: remainingConstrStats.nonEmpty excludes too much,
       * but excluding it includes too much.  The constructor sequence being mimicked
       * needs to be reproduced with total fidelity.
       *
       * See test case files/run/bug4680.scala, the output of which is wrong in many
       * particulars.
       */</span>
      val needsDelayedInit = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.isDelayedInitSubclass" title="=&gt; Boolean">isDelayedInitSubclass</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.needsDelayedInit">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats_=" title="=&gt; List[Constructors.this.global.Tree]">remainingConstrStats</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>

      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.needsDelayedInit" title="Boolean">needsDelayedInit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Constructors.this.global.DefDef" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.delayedHook">delayedHook</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef" title="Constructors.this.global.DefDef">DefDef</a> = <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedEndpointDef" title="(stats: List[Constructors.this.global.Tree])Constructors.this.global.DefDef">delayedEndpointDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats_=" title="=&gt; List[Constructors.this.global.Tree]">remainingConstrStats</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)DelayedInitHelper.this.defBuf.type">+=</a> <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.delayedHook" title="Constructors.this.global.DefDef">delayedHook</a>
        val <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.hookCallerClass">hookCallerClass</a> = <span class="delimiter">{</span>
          <span class="comment">// transform to make the closure-class' default constructor assign the the outer instance to its param-accessor field.</span>
          val <a title="Constructors.this.ConstructorTransformer" id="scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.hookCallerClass.drillDown">drillDown</a> = new <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer" title="Constructors.this.ConstructorTransformer">ConstructorTransformer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.unit" title="=&gt; Constructors.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.hookCallerClass.drillDown" title="Constructors.this.ConstructorTransformer">drillDown</a> <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a> <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitClosure" title="(delayedEndPointSym: Constructors.this.global.MethodSymbol)Constructors.this.global.ClassDef">delayedInitClosure</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.delayedHook" title="Constructors.this.global.DefDef">delayedHook</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Constructors.this.global.MethodSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;MethodSymbol" title="Constructors.this.global.MethodSymbol">MethodSymbol</a><span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)DelayedInitHelper.this.defBuf.type">+=</a> <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.hookCallerClass" title="Constructors.this.global.Tree">hookCallerClass</a>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats_=" title="(x$1: List[Constructors.this.global.Tree])Unit">remainingConstrStats</a> = <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.delayedInitCall" title="(closure: Constructors.this.global.Tree)Constructors.this.global.analyzer.global.Tree">delayedInitCall</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit.hookCallerClass" title="Constructors.this.global.Tree">hookCallerClass</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: Constructors.this.global.analyzer.global.Tree)List[Constructors.this.global.analyzer.global.Tree]">::</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span> <span class="comment">// DelayedInitHelper</span>

  private trait <a title="trait GuardianOfCtorStmts extends AnyRef" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts">GuardianOfCtorStmts</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a> self: TemplateTransformer =&gt;

    <span class="comment">/* Return a single list of statements, merging the generic class constructor with the
     * specialized stats. The original statements are retyped in the current class, and
     * assignments to generic fields that have a corresponding specialized assignment in
     * `specializedStats` are replaced by the specialized assignment.
     */</span>
    private def <a title="(genericClazz: Constructors.this.global.Symbol, originalStats: List[Constructors.this.global.Tree], specializedStats: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors">mergeConstructors</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.genericClazz">genericClazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.originalStats">originalStats</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedStats">specializedStats</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val <a title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specBuf">specBuf</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specBuf" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">specBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.++=" title="(xs: scala.collection.TraversableOnce[Constructors.this.global.Tree])specBuf.type">++=</a> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedStats" title="List[Constructors.this.global.Tree]">specializedStats</a>

      def <a title="(sym: Constructors.this.global.Symbol)Option[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor">specializedAssignFor</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#scala;Option" title="Option[Constructors.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
        <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedStats" title="List[Constructors.this.global.Tree]">specializedStats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.find" title="(p: Constructors.this.global.Tree =&gt; Boolean)Option[Constructors.this.global.Tree]">find</a> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor.$anonfun.x0$1" title="Boolean" class="delimiter">{</a>
          case Assign<span class="delimiter">(</span><a title="Constructors.this.global.Select" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor.$anonfun.sel">sel</a> @ Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
            <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor.$anonfun.sel" title="Constructors.this.global.Select">sel</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isSpecialized" title="=&gt; Boolean">isSpecialized</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.unspecializedName" title="(name: Constructors.this.global.Name)Constructors.this.global.Name">unspecializedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor.$anonfun.sel" title="Constructors.this.global.Select">sel</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.getterName" title="=&gt; Constructors.this.global.TermName">getterName</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.getterName" title="=&gt; Constructors.this.global.TermName">getterName</a><span class="delimiter">)</span>
          case _ =&gt; false
        <span class="delimiter">}</span>

      <span class="comment">/* Rewrite calls to ScalaRunTime.array_update to the proper apply method in scala.Array.
       * Erasure transforms Array.update to ScalaRunTime.update when the element type is a type
       * variable, but after specialization this is a concrete primitive type, so it would
       * be an error to pass it to array_update(.., .., Object).
       */</span>
      def <a title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate">rewriteArrayUpdate</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        val <a title="Constructors.this.global.TermSymbol" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.arrayUpdateMethod">arrayUpdateMethod</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; Constructors.this.global.Run">currentRun</a>.<a href="../Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; Constructors.this.global.definitions.RunDefinitions">runDefinitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.arrayUpdateMethod" title="=&gt; Constructors.this.global.TermSymbol">arrayUpdateMethod</a>
        val <a title="Constructors.this.global.Transformer" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter">adapter</a> = new <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer" title="&lt;$anon: Constructors.this.global.Transformer&gt; extends Constructors.this.global.Transformer" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon">Transformer</a> <span class="delimiter">{</span>
          override def <a title="(t: Constructors.this.global.Tree)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform">transform</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.t">t</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.t" title="Constructors.this.global.Tree">t</a> match <span class="delimiter">{</span>
            case Apply<span class="delimiter">(</span><a title="Constructors.this.global.Select" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.fun">fun</a> @ Select<span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.receiver">receiver</a>, <a title="Constructors.this.global.Name" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.method">method</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#scala.collection.generic;SeqFactory.unapplySeq" title="(x: List[Constructors.this.global.Tree])Some[List[Constructors.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.xs">xs</a>, <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.idx">idx</a>, <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.v">v</a><span class="delimiter">)</span><span class="delimiter">)</span> if <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.fun" title="Constructors.this.global.Select">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.arrayUpdateMethod" title="Constructors.this.global.TermSymbol">arrayUpdateMethod</a> =&gt;
              <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: Constructors.this.global.Tree, args: List[Constructors.this.global.Tree])Constructors.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedSelect" title="(qual: Constructors.this.global.gen.global.Tree, sym: Constructors.this.global.gen.global.Symbol)Constructors.this.global.gen.global.RefTree">mkAttributedSelect</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.xs" title="Constructors.this.global.Tree">xs</a>, <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.arrayUpdateMethod" title="Constructors.this.global.TermSymbol">arrayUpdateMethod</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Constructors.this.global.Tree*)List[Constructors.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.idx" title="Constructors.this.global.Tree">idx</a>, <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.v" title="Constructors.this.global.Tree">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case _ =&gt; super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter;$anon.transform.t" title="Constructors.this.global.Tree">t</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.adapter" title="Constructors.this.global.Transformer">adapter</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;merging: &quot;)" class="string">&quot;merging: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.originalStats" title="List[Constructors.this.global.Tree]">originalStats</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nwith\n&quot;)" class="string">&quot;\nwith\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedStats" title="List[Constructors.this.global.Tree]">specializedStats</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      val <a title="List[d.global.Tree forSome { val d: Constructors.this.global.specializeTypes.Duplicator }]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res">res</a> = for <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.s">s</a> &lt;- <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Constructors.this.global.Tree =&gt; (Constructors.this.global.Tree, Constructors.this.global.Tree))(implicit bf: scala.collection.generic.CanBuildFrom[List[Constructors.this.global.Tree],(Constructors.this.global.Tree, Constructors.this.global.Tree),List[(Constructors.this.global.Tree, Constructors.this.global.Tree)]])List[(Constructors.this.global.Tree, Constructors.this.global.Tree)]">originalStats</a>; <a title="s.type" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat">stat</a> = <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.s" title="Constructors.this.global.Tree">s</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.duplicate" title="=&gt; s.type">duplicate</a><span class="delimiter">)</span> yield <span class="delimiter">{</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;merge: looking at &quot;)" class="string">&quot;merge: looking at &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a><span class="delimiter">)</span>
        val <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1">stat1</a> = <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a> match <span class="delimiter">{</span>
          case Assign<span class="delimiter">(</span><a title="Constructors.this.global.Select" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1.sel">sel</a> @ Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a title="Constructors.this.global.Name" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1.field">field</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt;
            <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specializedAssignFor" title="(sym: Constructors.this.global.Symbol)Option[Constructors.this.global.Tree]">specializedAssignFor</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1.sel" title="Constructors.this.global.Select">sel</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Constructors.this.global.Tree)Constructors.this.global.Tree">getOrElse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a><span class="delimiter">)</span>
          case _ =&gt; <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;replaced &quot;)" class="string">&quot;replaced &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specBuf" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">specBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.-=(41b24ae2ea)" title="(elem: Constructors.this.global.Tree)specBuf.type">-=</a> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a>
        <span class="delimiter">}</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat" title="Constructors.this.global.Tree">stat</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Constructors.this.global.Symbol)List[Constructors.this.global.Symbol]">ctorParams</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.genericClazz" title="Constructors.this.global.Symbol">genericClazz</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo" title="=&gt; GuardianOfCtorStmts.this.ConstrInfo">constrInfo</a>.<a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrParams" title="=&gt; List[Constructors.this.global.Symbol]">constrParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <span class="comment">// this is just to make private fields public</span>
          <span class="delimiter">(</span>new <a href="../Global.scala.html#scala.tools.nsc;Global.specializeTypes" title="Constructors.this.global.specializeTypes.type">specializeTypes</a>.<a href="SpecializeTypes.scala.html#scala.tools.nsc.transform;SpecializeTypes;ImplementationAdapter" title="Constructors.this.global.specializeTypes.ImplementationAdapter">ImplementationAdapter</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Constructors.this.global.Symbol)List[Constructors.this.global.Symbol]">ctorParams</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.genericClazz" title="Constructors.this.global.Symbol">genericClazz</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo" title="=&gt; GuardianOfCtorStmts.this.ConstrInfo">constrInfo</a>.<a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrParams" title="=&gt; List[Constructors.this.global.Symbol]">constrParams</a>, null, true<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a><span class="delimiter">)</span>

          val <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat2">stat2</a> = <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.rewriteArrayUpdate" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">rewriteArrayUpdate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a><span class="delimiter">)</span>
          <span class="comment">// statements coming from the original class need retyping in the current context</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;retyping &quot;)" class="string">&quot;retyping &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat2" title="Constructors.this.global.Tree">stat2</a><span class="delimiter">)</span>

          val <a title="Constructors.this.global.specializeTypes.Duplicator" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.d">d</a> = new <a href="../Global.scala.html#scala.tools.nsc;Global.specializeTypes" title="Constructors.this.global.specializeTypes.type">specializeTypes</a>.<a href="SpecializeTypes.scala.html#scala.tools.nsc.transform;SpecializeTypes;Duplicator" title="Constructors.this.global.specializeTypes.Duplicator">Duplicator</a><span class="delimiter">(</span><a href="../../../collection/generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (Constructors.this.global.Symbol, Constructors.this.global.Type)*)scala.collection.immutable.Map[Constructors.this.global.Symbol,Constructors.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Constructors.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.d" title="Constructors.this.global.specializeTypes.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#scala.tools.nsc.typechecker;Duplicators.retyped" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context1" title="=&gt; Constructors.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="d.Context">Context</a><span class="delimiter">]</span>,
                    <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat2" title="Constructors.this.global.Tree">stat2</a>,
                    <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.genericClazz" title="Constructors.this.global.Symbol">genericClazz</a>,
                    <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>,
                    <a href="../../../Predef.scala.html#scala.Predef.Map" title="=&gt; scala.collection.immutable.Map.type">Map</a>.<a href="../../../collection/immutable/Map.scala.html#scala.collection.immutable.Map.empty" title="scala.collection.immutable.Map[d.global.Symbol,Nothing]">empty</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else
          <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res.$anonfun.stat1" title="Constructors.this.global.Tree">stat1</a>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specBuf" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">specBuf</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#scala.collection.generic;TraversableForwarder.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;residual specialized constructor statements: &quot;)" class="string">&quot;residual specialized constructor statements: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.specBuf" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">specBuf</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors.res" title="List[d.global.Tree forSome { val d: Constructors.this.global.specializeTypes.Duplicator }]">res</a>
    <span class="delimiter">}</span>

    <span class="comment">/* Add an 'if' around the statements coming after the super constructor. This
     * guard is necessary if the code uses specialized fields. A specialized field is
     * initialized in the subclass constructor, but the accessors are (already) overridden
     * and pointing to the (empty) fields. To fix this, a class with specialized fields
     * will not run its constructor statements if the instance is specialized. The specialized
     * subclass includes a copy of those constructor statements, and runs them. To flag that a class
     * has specialized fields, and their initialization should be deferred to the subclass, method
     * 'specInstance$' is added in phase specialize.
     */</span>
    def <a title="(stats: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer">guardSpecializedInitializer</a><span class="delimiter">(</span><a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats">stats</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.nospecialization" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings;BooleanSetting.value" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a> else <span class="delimiter">{</span>
      <span class="comment">// // split the statements in presuper and postsuper</span>
      <span class="comment">// var (prefix, postfix) = stats0.span(tree =&gt; !((tree.symbol ne null) &amp;&amp; tree.symbol.isConstructor))</span>
      <span class="comment">// if (postfix.nonEmpty) {</span>
      <span class="comment">//   prefix = prefix :+ postfix.head</span>
      <span class="comment">//   postfix = postfix.tail</span>
      <span class="comment">// }</span>

      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.shouldGuard" title="=&gt; Boolean">shouldGuard</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.usesSpecializedField_=" title="=&gt; Boolean">usesSpecializedField</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// save them for duplication in the specialized subclass</span>
        <a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: Constructors.this.global.Symbol, value: List[Constructors.this.global.Tree])Unit">guardedCtorStats</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a>
        <a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: Constructors.this.global.Symbol, value: List[Constructors.this.global.Symbol])Unit">ctorParams</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo" title="=&gt; GuardianOfCtorStmts.this.ConstrInfo">constrInfo</a>.<a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrParams" title="=&gt; List[Constructors.this.global.Symbol]">constrParams</a>

        val <a title="Constructors.this.global.If" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.tree">tree</a> =
          <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;If" title="(cond: Constructors.this.global.Tree, thenp: Constructors.this.global.Tree, elsep: Constructors.this.global.Tree)Constructors.this.global.If">If</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: Constructors.this.global.Tree, args: List[Constructors.this.global.Tree])Constructors.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="Constructors.this.CODE.type">CODE</a>.<a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.NOT" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Select">NOT</a> <span class="delimiter">(</span>
               <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: Constructors.this.global.Tree, args: List[Constructors.this.global.Tree])Constructors.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedRef(23ce0e46ac)" title="(sym: Constructors.this.global.gen.global.Symbol)Constructors.this.global.gen.global.RefTree">mkAttributedRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.specializedFlag" title="=&gt; Constructors.this.global.Symbol">specializedFlag</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
              List<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Block" title="(stats: List[Constructors.this.global.Tree], expr: Constructors.this.global.Tree)Constructors.this.global.Block">Block</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: Constructors.this.global.Constant)Constructors.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#scala.reflect.internal;Constants;Constant" title="(value: Any)Constructors.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Constructors.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>

        <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Constructors.this.global.analyzer.global.Tree*)List[Constructors.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.tree" title="Constructors.this.global.If">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasFlag(f19781a561)" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// add initialization from its generic class constructor</span>
        val <a title="Constructors.this.global.Name" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.genericName">genericName</a>  = <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.unspecializedName" title="(name: Constructors.this.global.Name)Constructors.this.global.Name">unspecializedName</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; GuardianOfCtorStmts.this.clazz.NameType">name</a><span class="delimiter">)</span>
        val <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.genericClazz">genericClazz</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Constructors.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decl" title="(name: Constructors.this.global.Name)Constructors.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.genericName" title="Constructors.this.global.Name">genericName</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.toTypeName" title="=&gt; Constructors.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.genericClazz" title="Constructors.this.global.Symbol">genericClazz</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Constructors.this.global.NoSymbol">NoSymbol</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <a href="#scala.tools.nsc.transform;Constructors.guardedCtorStats" title="=&gt; scala.collection.mutable.Map[Constructors.this.global.Symbol,List[Constructors.this.global.Tree]]">guardedCtorStats</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.get" title="(key: Constructors.this.global.Symbol)Option[List[Constructors.this.global.Tree]]">get</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.genericClazz" title="Constructors.this.global.Symbol">genericClazz</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case Some<span class="delimiter">(</span><a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats1">stats1</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.mergeConstructors" title="(genericClazz: Constructors.this.global.Symbol, originalStats: List[Constructors.this.global.Tree], specializedStats: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]">mergeConstructors</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.genericClazz" title="Constructors.this.global.Symbol">genericClazz</a>, <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats1" title="List[Constructors.this.global.Tree]">stats1</a>, <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a><span class="delimiter">)</span>
          case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt; <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer.stats" title="List[Constructors.this.global.Tree]">stats</a>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span> <span class="comment">// GuardianOfCtorStmts</span>

  private class <a title="class TemplateTransformer extends Constructors.this.StaticsTransformer with Constructors.this.DelayedInitHelper with Constructors.this.OmittablesHelper with Constructors.this.GuardianOfCtorStmts" id="scala.tools.nsc.transform;Constructors;TemplateTransformer">TemplateTransformer</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer" title="Constructors.this.TemplateTransformer" class="delimiter">(</a>val <a title="Constructors.this.global.CompilationUnit" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="Constructors.this.global.CompilationUnit">CompilationUnit</a>, val <a title="Constructors.this.global.Template" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.impl">impl</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Template" title="Constructors.this.global.Template">Template</a><span class="delimiter">)</span>
    extends <a href="Statics.scala.html#scala.tools.nsc.transform;Statics;StaticsTransformer" title="Constructors.this.StaticsTransformer">StaticsTransformer</a>
    with    <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper" title="Constructors.this.DelayedInitHelper">DelayedInitHelper</a>
    with    <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper" title="Constructors.this.OmittablesHelper">OmittablesHelper</a>
    with    <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts" title="Constructors.this.GuardianOfCtorStmts">GuardianOfCtorStmts</a> <span class="delimiter">{</span>

    val <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz">clazz</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Constructors.this.global.Symbol">owner</a>  <span class="comment">// the transformed class</span>
    val <a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.stats">stats</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Template.body" title="=&gt; List[Constructors.this.global.Tree]">body</a>          <span class="comment">// the transformed template body</span>
    val <a title="Constructors.this.global.analyzer.Typer" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper">localTyper</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.typer" title="Constructors.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.atOwner(91fc1f4aed)" title="(tree: Constructors.this.global.analyzer.global.Tree, owner: Constructors.this.global.analyzer.global.Symbol)Constructors.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span>

    val <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.specializedFlag">specializedFlag</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decl" title="(name: Constructors.this.global.Name)Constructors.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.SPECIALIZED_INSTANCE" title="=&gt; Constructors.this.global.nme.NameType">SPECIALIZED_INSTANCE</a><span class="delimiter">)</span>
    val shouldGuard = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.specializedFlag" title="=&gt; Constructors.this.global.Symbol">specializedFlag</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Constructors.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.shouldGuard">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasFlag(f19781a561)" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>

    val isDelayedInitSubclass = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isSubClass" title="Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.isDelayedInitSubclass">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.DelayedInitClass" title="=&gt; Constructors.this.global.ClassSymbol">DelayedInitClass</a><span class="delimiter">)</span>

    case class <a title="class ConstrInfo extends AnyRef with Product with Serializable" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.ConstrInfo.readResolve">ConstrInfo</a><a href="../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a>
      <a title="Constructors.this.global.DefDef" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constr">constr</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;DefDef" title="Constructors.this.global.DefDef">DefDef</a>,               <span class="comment">// The primary constructor</span>
      <a title="List[Constructors.this.global.Symbol]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrParams">constrParams</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,   <span class="comment">// ... and its parameters</span>
      <a title="Constructors.this.global.Block" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrBody">constrBody</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Block" title="Constructors.this.global.Block">Block</a>             <span class="comment">// ... and its body</span>
    <span class="delimiter">)</span>
    <span class="comment">// decompose primary constructor into the three entities above.</span>
    val <a title="TemplateTransformer.this.ConstrInfo" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo">constrInfo</a>: <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.ConstrInfo.readResolve" title="TemplateTransformer.this.ConstrInfo">ConstrInfo</a> = <span class="delimiter">{</span>
      val ddef = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.stats" title="=&gt; List[Constructors.this.global.Tree]">stats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.find" title="Option[Constructors.this.global.Tree]">find</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.ddef.$anonfun.x$6" title="Constructors.this.global.Tree">_</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPrimaryConstructor" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Option[Constructors.this.global.Tree]">ddef</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><span title="Constructors.this.global.DefDef">ddef</span> @ DefDef<span class="delimiter">(</span>_, _, _, <a href="../../../collection/generic/SeqFactory.scala.html#scala.collection.generic;SeqFactory.unapplySeq" title="(x: List[List[Constructors.this.global.ValDef]])Some[List[List[Constructors.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Constructors.this.global.ValDef]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.vparams">vparams</a><span class="delimiter">)</span>, _, <a title="Constructors.this.global.Block" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.rhs">rhs</a> @ Block<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.ConstrInfo.readResolve" title="(constr: Constructors.this.global.DefDef, constrParams: List[Constructors.this.global.Symbol], constrBody: Constructors.this.global.Block)TemplateTransformer.this.ConstrInfo">ConstrInfo</a><span class="delimiter">(</span><span title="Constructors.this.global.DefDef">ddef</span>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.vparams" title="List[Constructors.this.global.ValDef]">vparams</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Constructors.this.global.ValDef =&gt; Constructors.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Constructors.this.global.ValDef],Constructors.this.global.Symbol,List[Constructors.this.global.Symbol]])List[Constructors.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.$anonfun.x$7" title="Constructors.this.global.ValDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.rhs" title="Constructors.this.global.Block">rhs</a><span class="delimiter">)</span>
        case <a title="Option[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo.x">x</a> =&gt;
          <a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporting.abort" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;no constructor in template: impl = &quot;)" class="string">&quot;no constructor in template: impl = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    import <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrInfo" title="=&gt; TemplateTransformer.this.ConstrInfo">constrInfo</a>._

    <span class="comment">// The parameter accessor fields which are members of the class</span>
    val <a title="List[Constructors.this.global.Symbol]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.paramAccessors">paramAccessors</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.constrParamAccessors" title="=&gt; List[Constructors.this.global.Symbol]">constrParamAccessors</a>

    <span class="comment">// The constructor parameter corresponding to an accessor</span>
    def <a title="(acc: Constructors.this.global.Symbol)Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameter">parameter</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameter.acc">acc</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed" title="(name: Constructors.this.global.Name)Constructors.this.global.Symbol">parameterNamed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameter.acc" title="Constructors.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names.AnyNameOps" title="implicit scala.reflect.internal.Names.AnyNameOps : (name: Constructors.this.global.Name)Constructors.this.global.NameOps[Constructors.this.global.Name]">unexpandedName</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;NameOps.getterName" title="=&gt; Constructors.this.global.TermName">getterName</a><span class="delimiter">)</span>

    <span class="comment">// The constructor parameter with given name. This means the parameter</span>
    <span class="comment">// has given name, or starts with given name, and continues with a `$` afterwards.</span>
    def <a title="(name: Constructors.this.global.Name)Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed">parameterNamed</a><span class="delimiter">(</span><a title="Constructors.this.global.Name" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.name">name</a>: <a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="Constructors.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      def <a title="(param: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.matchesName">matchesName</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.matchesName.param">param</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.matchesName.param" title="Constructors.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; param.NameType">name</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.name" title="Constructors.this.global.Name">name</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.matchesName.param" title="Constructors.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; param.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.startsWith(26524096c6)" title="(name: String)Boolean">startsWith</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.any2stringadd(6b32434ac5)" title="(self: Constructors.this.global.Name)any2stringadd[Constructors.this.global.Name]">name</a> <a href="../../../Predef.scala.html#scala.Predef;any2stringadd.+" title="(other: String)String">+</a> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.NAME_JOIN_STRING" title="=&gt; String">NAME_JOIN_STRING</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrParams" title="=&gt; List[Constructors.this.global.Symbol]">constrParams</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: Constructors.this.global.Symbol =&gt; Boolean)List[Constructors.this.global.Symbol]">filter</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.matchesName" title="(param: Constructors.this.global.Symbol)Boolean">matchesName</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>    =&gt; <a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporting.abort" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.any2stringadd(6b32434ac5)" title="(self: Constructors.this.global.Name)any2stringadd[Constructors.this.global.Name]">name</a> <a href="../../../Predef.scala.html#scala.Predef;any2stringadd.+" title="(other: String)String">+</a> <span title="String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrParams" title="=&gt; List[Constructors.this.global.Symbol]">constrParams</a><span class="delimiter">)</span>
        case <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.p">p</a> :: _ =&gt; <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed.p" title="Constructors.this.global.Symbol">p</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/*
     * `usesSpecializedField` makes a difference in deciding whether constructor-statements
     * should be guarded in a `shouldGuard` class, ie in a class that's the generic super-class of
     * one or more specialized sub-classes.
     *
     * Given that `usesSpecializedField` isn't read for any other purpose than the one described above,
     * we skip setting `usesSpecializedField` in case the current class isn't `shouldGuard` to start with.
     * That way, trips to a map in `specializeTypes` are saved.
     */</span>
    var <a title="Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.usesSpecializedField_=">usesSpecializedField</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false

    <span class="comment">// A transformer for expressions that go into the constructor</span>
    private class <a title="class IntoCtorTransformer extends Constructors.this.global.Transformer" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer">IntoCtorTransformer</a> extends <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees;Transformer" title="Constructors.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

      private def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isParamRef">isParamRef</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isParamRef.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isParamRef.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isParamAccessor" title="=&gt; Boolean">isParamAccessor</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isParamRef.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Constructors.this.global.Symbol">owner</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      <span class="comment">// Terminology: a stationary location is never written after being read.</span>
      private def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef">isStationaryParamRef</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isParamRef" title="(sym: Constructors.this.global.Symbol)Boolean">isParamRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef.sym" title="Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isGetter" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessed" title="=&gt; Constructors.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isVariable" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef.sym" title="Constructors.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isSetter" title="=&gt; Boolean">isSetter</a>
      <span class="delimiter">)</span>

      private def <a title="(s: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.possiblySpecialized">possiblySpecialized</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.possiblySpecialized.s">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../Global.scala.html#scala.tools.nsc;Global.specializeTypes" title="Constructors.this.global.specializeTypes.type">specializeTypes</a>.<a href="SpecializeTypes.scala.html#scala.tools.nsc.transform;SpecializeTypes.specializedTypeVars(ca31ad47e4)" title="(sym: Constructors.this.global.specializeTypes.global.Symbol)scala.collection.immutable.Set[Constructors.this.global.specializeTypes.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.possiblySpecialized.s" title="Constructors.this.global.Symbol">s</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a>

      <span class="comment">/*
       * whether `sym` denotes a param-accessor (ie a field) that fulfills all of:
       *   (a) has stationary value, ie the same value provided via the corresponding ctor-arg; and
       *   (b) isn't subject to specialization. We might be processing statements for:
       *         (b.1) the constructur in the generic   (super-)class; or
       *         (b.2) the constructor in the specialized (sub-)class.
       *   (c) isn't part of a DelayedInit subclass.
       */</span>
      private def <a title="(sym: Constructors.this.global.Symbol)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.canBeSupplanted">canBeSupplanted</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.canBeSupplanted.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.isDelayedInitSubclass" title="=&gt; Boolean">isDelayedInitSubclass</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.isStationaryParamRef" title="(sym: Constructors.this.global.Symbol)Boolean">isStationaryParamRef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.canBeSupplanted.sym" title="Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.possiblySpecialized" title="(s: Constructors.this.global.Symbol)Boolean">possiblySpecialized</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.canBeSupplanted.sym" title="Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

      override def <a title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform">transform</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a> match <span class="delimiter">{</span>

        case Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#scala.collection.generic;SeqFactory.unapplySeq" title="(x: List[Constructors.this.global.Tree])Some[List[Constructors.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="comment">// references to parameter accessor methods of own class become references to parameters</span>
          <span class="comment">// outer accessors become references to $outer parameter</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.canBeSupplanted" title="(sym: Constructors.this.global.Symbol)Boolean">canBeSupplanted</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedIdent" title="(sym: Constructors.this.global.gen.global.Symbol)Constructors.this.global.gen.global.RefTree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameter" title="(acc: Constructors.this.global.Symbol)Constructors.this.global.Symbol">parameter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessed" title="=&gt; Constructors.this.global.Symbol">accessed</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)Constructors.this.global.gen.global.RefTree">setPos</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>
          else if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.outerSource" title="=&gt; Constructors.this.global.Symbol">outerSource</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isImplClass" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedIdent" title="(sym: Constructors.this.global.gen.global.Symbol)Constructors.this.global.gen.global.RefTree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameterNamed" title="(name: Constructors.this.global.Name)Constructors.this.global.Symbol">parameterNamed</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.OUTER" title="=&gt; Constructors.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)Constructors.this.global.gen.global.RefTree">setPos</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>
          else
            super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>

        case Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span> if <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.canBeSupplanted" title="(sym: Constructors.this.global.Symbol)Boolean">canBeSupplanted</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// references to parameter accessor field of own class become references to parameters</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkAttributedIdent" title="(sym: Constructors.this.global.gen.global.Symbol)Constructors.this.global.gen.global.RefTree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameter" title="(acc: Constructors.this.global.Symbol)Constructors.this.global.Symbol">parameter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)Constructors.this.global.gen.global.RefTree">setPos</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a>

        case Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> if <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.shouldGuard" title="=&gt; Boolean">shouldGuard</a> =&gt; <span class="comment">// reasoning behind this guard in the docu of `usesSpecializedField`</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.possiblySpecialized" title="(s: Constructors.this.global.Symbol)Boolean">possiblySpecialized</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.usesSpecializedField_=" title="(x$1: Boolean)Unit">usesSpecializedField</a> = true
          <span class="delimiter">}</span>
          super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>

        case _ =&gt;
          super.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform.tree" title="Constructors.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    private val <a title="TemplateTransformer.this.IntoCtorTransformer" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructorTransformer">intoConstructorTransformer</a> = new <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer" title="TemplateTransformer.this.IntoCtorTransformer">IntoCtorTransformer</a>

    <span class="comment">// Move tree into constructor, take care of changing owner from `oldowner` to constructor symbol</span>
    def <a title="(oldowner: Constructors.this.global.Symbol, tree: Constructors.this.global.Tree)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructor">intoConstructor</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructor.oldowner">oldowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructor.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructorTransformer" title="=&gt; TemplateTransformer.this.IntoCtorTransformer">intoConstructorTransformer</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;IntoCtorTransformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructor.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.changeOwner" title="(pairs: (Constructors.this.global.Symbol, Constructors.this.global.Symbol)*)Constructors.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: Constructors.this.global.Symbol)ArrowAssoc[Constructors.this.global.Symbol]">oldowner</a> <a href="../../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: Constructors.this.global.Symbol)(Constructors.this.global.Symbol, Constructors.this.global.Symbol)">-&gt;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constr" title="=&gt; Constructors.this.global.DefDef">constr</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span>

    <span class="comment">// Should tree be moved in front of super constructor call?</span>
    def <a title="(tree: Constructors.this.global.Tree)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.canBeMoved">canBeMoved</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.canBeMoved.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.canBeMoved.tree" title="Constructors.this.global.Tree">tree</a> match <span class="delimiter">{</span>
      case ValDef<span class="delimiter">(</span><a title="Constructors.this.global.Modifiers" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.canBeMoved.mods">mods</a>, _, _, _<span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.canBeMoved.mods" title="Constructors.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Modifiers.hasFlag" title="(flag: Long)Boolean">hasFlag</a> PRESUPER <span title="Long(137975824384L)">|</span> PARAMACCESSOR<span class="delimiter">)</span>
      case _                     =&gt; false
    <span class="delimiter">}</span>

    <span class="comment">// Create an assignment to class field `to` with rhs `from`</span>
    def <a title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Tree)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign">mkAssign</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign.to">to</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign.from">from</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a> =
      <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedPos(b526320510)" title="(pos: Constructors.this.global.analyzer.global.Position)(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign.to" title="Constructors.this.global.Symbol">to</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Constructors.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Assign" title="(lhs: Constructors.this.global.Tree, rhs: Constructors.this.global.Tree)Constructors.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Select(dd97d6dc80)" title="(qualifier: Constructors.this.global.Tree, sym: Constructors.this.global.Symbol)Constructors.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.This(3731e4786e)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.Tree">This</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign.to" title="Constructors.this.global.Symbol">to</a><span class="delimiter">)</span>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign.from" title="Constructors.this.global.Tree">from</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="comment">// Create code to copy parameter to parameter accessor field.</span>
    <span class="comment">// If parameter is $outer, check that it is not null so that we NPE</span>
    <span class="comment">// here instead of at some unknown future $outer access.</span>
    def <a title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Symbol)Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam">copyParam</a><span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.to">to</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a>, <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.from">from</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Constructors.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      import <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE" title="Constructors.this.CODE.type">CODE</a>._
      val <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.result">result</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign" title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Tree)Constructors.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.to" title="Constructors.this.global.Symbol">to</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Ident(e8c336bf3b)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.from" title="Constructors.this.global.Symbol">from</a><span class="delimiter">)</span><span class="delimiter">)</span>

      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.from" title="Constructors.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; from.NameType">name</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Constructors.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.OUTER" title="=&gt; Constructors.this.global.nme.NameType">OUTER</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a>
          <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.from" title="Constructors.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; Constructors.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPrimitiveValueClass" title="=&gt; Boolean">isPrimitiveValueClass</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.result" title="Constructors.this.global.Tree">result</a>
      else <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedPos(b526320510)" title="(pos: Constructors.this.global.analyzer.global.Position)(tree: Constructors.this.global.analyzer.global.Tree)Constructors.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.to" title="Constructors.this.global.Symbol">to</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Constructors.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// `throw null` has the same effect as `throw new NullPointerException`, see JVM spec on instruction `athrow`</span>
        <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.IF" title="(tree: Constructors.this.global.Tree)Constructors.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.mkTreeMethodsFromSymbol" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSymbol : (target: Constructors.this.global.Symbol)Constructors.this.CODE.TreeMethods">from</a> <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;TreeMethods.OBJ_EQ" title="(other: Constructors.this.global.Tree)Constructors.this.global.Apply">OBJ_EQ</a> <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE.NULL" title="=&gt; Constructors.this.global.Literal">NULL</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;IfStart.THEN" title="(x: Constructors.this.global.Tree)Constructors.this.CODE.IfStart">THEN</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Throw" title="(expr: Constructors.this.global.Tree)Constructors.this.global.Throw">Throw</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.gen" title="Constructors.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkZero" title="(tp: Constructors.this.global.gen.global.Type)Constructors.this.global.gen.global.Tree">mkZero</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ThrowableTpe" title="=&gt; Constructors.this.global.Type">ThrowableTpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#scala.tools.nsc.ast;TreeDSL.CODE;IfStart.ELSE" title="(elsep: Constructors.this.global.Tree)Constructors.this.global.If">ELSE</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam.result" title="Constructors.this.global.Tree">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// The list of definitions that go into class</span>
    val <a title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf">defBuf</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

    <span class="comment">// The auxiliary constructors, separate from the defBuf since they should</span>
    <span class="comment">// follow the primary constructor</span>
    val <a title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.auxConstructorBuf">auxConstructorBuf</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

    <span class="comment">// The list of statements that go into the constructor after and including the superclass constructor call</span>
    val <a title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.constrStatBuf">constrStatBuf</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

    <span class="comment">// The list of early initializer statements that go into constructor before the superclass constructor call</span>
    val <a title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.constrPrefixBuf">constrPrefixBuf</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

    <span class="comment">// The early initialized field definitions of the class (these are the class members)</span>
    val <a title="List[Constructors.this.global.treeInfo.global.ValDef]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.presupers">presupers</a> = <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees.treeInfo" title="Constructors.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#scala.reflect.internal;TreeInfo.preSuperFields" title="(stats: List[Constructors.this.global.treeInfo.global.Tree])List[Constructors.this.global.treeInfo.global.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.stats" title="=&gt; List[Constructors.this.global.Tree]">stats</a><span class="delimiter">)</span>

    <span class="comment">// The list of statements that go into the class initializer</span>
    val <a title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.classInitStatBuf">classInitStatBuf</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

    <span class="comment">// generate code to copy pre-initialized fields</span>
    for <span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span> &lt;- <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrBody" title="=&gt; Constructors.this.global.Block">constrBody</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Constructors.this.global.Tree =&gt; Any)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrStatBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.constrStatBuf.type">+=</a> <span title="Constructors.this.global.Tree">stat</span>
      <span title="Constructors.this.global.Tree">stat</span> match <span class="delimiter">{</span>
        case ValDef<span class="delimiter">(</span><span title="Constructors.this.global.Modifiers">mods</span>, <a title="Constructors.this.global.TermName" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.name">name</a>, _, _<span class="delimiter">)</span> if <span class="delimiter">(</span><span title="Constructors.this.global.Modifiers">mods</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Modifiers.hasFlag" title="(flag: Long)Boolean">hasFlag</a> <span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span> =&gt;
          <span class="comment">// stat is the constructor-local definition of the field value</span>
          val fields = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.presupers" title="=&gt; List[Constructors.this.global.treeInfo.global.ValDef]">presupers</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="List[Constructors.this.global.treeInfo.global.ValDef]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.fields">filter</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.fields.$anonfun.x$8" title="Constructors.this.global.treeInfo.global.ValDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;NameTree.getterName" title="=&gt; Constructors.this.global.treeInfo.global.TermName">getterName</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.name" title="Constructors.this.global.TermName">name</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.fields" title="List[Constructors.this.global.treeInfo.global.ValDef]">fields</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          val <a title="Constructors.this.global.treeInfo.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.to">to</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.fields" title="List[Constructors.this.global.treeInfo.global.ValDef]">fields</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; Constructors.this.global.treeInfo.global.ValDef">head</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.treeInfo.global.Symbol">symbol</a>
          if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.to" title="Constructors.this.global.treeInfo.global.Symbol">to</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.treeInfo.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;ConstantType" title="Constructors.this.global.ConstantType">ConstantType</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrStatBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.constrStatBuf.type">+=</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign" title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Tree)Constructors.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.to" title="Constructors.this.global.treeInfo.global.Symbol">to</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.Ident(e8c336bf3b)" title="(sym: Constructors.this.global.Symbol)Constructors.this.global.Ident">Ident</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case _ =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// Triage all template definitions to go into defBuf/auxConstructorBuf, constrStatBuf, or constrPrefixBuf.</span>
    for <span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span> &lt;- <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Constructors.this.global.Tree =&gt; Any)Unit">stats</a><span class="delimiter">)</span> <span title="Constructors.this.global.Tree">stat</span> match <span class="delimiter">{</span>
      case DefDef<span class="delimiter">(</span>_,_,_,_,_,<span title="Constructors.this.global.Tree">rhs</span><span class="delimiter">)</span> =&gt;
        <span class="comment">// methods with constant result type get literals as their body</span>
        <span class="comment">// all methods except the primary constructor go into template</span>
        <span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.Type">tpe</a> match <span class="delimiter">{</span>
          case MethodType<span class="delimiter">(</span><a href="../../../collection/generic/SeqFactory.scala.html#scala.collection.generic;SeqFactory.unapplySeq" title="(x: List[Constructors.this.global.Symbol])Some[List[Constructors.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Constructors.this.global.ConstantType" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.tp">tp</a> @ ConstantType<span class="delimiter">(</span><a title="Constructors.this.global.Constant" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.c">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.defBuf.type">+=</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveDefDef" title="(ddef: Constructors.this.global.Tree)(applyToRhs: Constructors.this.global.Tree =&gt; Constructors.this.global.Tree)Constructors.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: Constructors.this.global.Constant)Constructors.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.c" title="Constructors.this.global.Constant">c</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)Constructors.this.global.Literal">setPos</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.$anonfun.x$9" title="Constructors.this.global.Tree">_</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Constructors.this.global.Position">pos</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.setType" title="(tp: Constructors.this.global.Type)Constructors.this.global.Literal">setType</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.tp" title="Constructors.this.global.ConstantType">tp</a><span class="delimiter">)</span>
          case _ =&gt;
            if <span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isPrimaryConstructor" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            else if <span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isConstructor" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.auxConstructorBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">auxConstructorBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.auxConstructorBuf.type">+=</a> <span title="Constructors.this.global.Tree">stat</span>
            else <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.defBuf.type">+=</a> <span title="Constructors.this.global.Tree">stat</span>
        <span class="delimiter">}</span>
      case ValDef<span class="delimiter">(</span><span title="Constructors.this.global.Modifiers">mods</span>, _, _, <span title="Constructors.this.global.Tree">rhs</span><span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span title="Constructors.this.global.Modifiers">mods</span>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.hasStaticFlag" title="=&gt; Boolean">hasStaticFlag</a> =&gt;
        <span class="comment">// val defs with constant right-hand sides are eliminated.</span>
        <span class="comment">// for all other val defs, an empty valdef goes into the template and</span>
        <span class="comment">// the initializer goes as an assignment into the constructor</span>
        <span class="comment">// if the val def is an early initialized or a parameter accessor, it goes</span>
        <span class="comment">// before the superclass constructor call, otherwise it goes after.</span>
        <span class="comment">// Lazy vals don't get the assignment in the constructor.</span>
        if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Constructors.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;ConstantType" title="Constructors.this.global.ConstantType">ConstantType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          if <span class="delimiter">(</span><span title="Constructors.this.global.Tree">rhs</span> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Constructors.this.global.EmptyTree.type">EmptyTree</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isLazy" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.rhs1">rhs1</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructor" title="(oldowner: Constructors.this.global.Symbol, tree: Constructors.this.global.Tree)Constructors.this.global.Tree">intoConstructor</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>, <span title="Constructors.this.global.Tree">rhs</span><span class="delimiter">)</span>
            <span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.canBeMoved" title="(tree: Constructors.this.global.Tree)Boolean">canBeMoved</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrPrefixBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrPrefixBuf</a> else <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrStatBuf</a><span class="delimiter">)</span> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">+=</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign" title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Tree)Constructors.this.global.Tree">mkAssign</a><span class="delimiter">(</span>
              <span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.rhs1" title="Constructors.this.global.Tree">rhs1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.defBuf.type">+=</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveValDef" title="(vdef: Constructors.this.global.Tree)(applyToRhs: Constructors.this.global.Tree =&gt; Constructors.this.global.Tree)Constructors.this.global.ValDef">deriveValDef</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.$anonfun.x$10">_</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Constructors.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case ValDef<span class="delimiter">(</span>_, _, _, <span title="Constructors.this.global.Tree">rhs</span><span class="delimiter">)</span> =&gt;
        <span class="comment">// Add static initializer statements to classInitStatBuf and remove the rhs from the val def.</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.classInitStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">classInitStatBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.classInitStatBuf.type">+=</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.mkAssign" title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Tree)Constructors.this.global.Tree">mkAssign</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>, <span title="Constructors.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.defBuf.type">+=</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveValDef" title="(vdef: Constructors.this.global.Tree)(applyToRhs: Constructors.this.global.Tree =&gt; Constructors.this.global.Tree)Constructors.this.global.ValDef">deriveValDef</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.$anonfun.x$11">_</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Constructors.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>

      case ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="comment">// classes are treated recursively, and left in the template</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.defBuf.type">+=</a> new <a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer" title="Constructors.this.ConstructorTransformer">ConstructorTransformer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.unit" title="=&gt; Constructors.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>.<a href="#scala.tools.nsc.transform;Constructors;ConstructorTransformer.transform" title="(tree: Constructors.this.global.Tree)Constructors.this.global.Tree">transform</a><span class="delimiter">(</span><span title="Constructors.this.global.Tree">stat</span><span class="delimiter">)</span>
      case _ =&gt;
        <span class="comment">// all other statements go into the constructor</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrStatBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.constrStatBuf.type">+=</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.intoConstructor" title="(oldowner: Constructors.this.global.Symbol, tree: Constructors.this.global.Tree)Constructors.this.global.Tree">intoConstructor</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>, <span title="Constructors.this.global.Tree">stat</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.populateOmittables" title="()Unit">populateOmittables</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// Initialize all parameters fields that must be kept.</span>
    val paramInits = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramAccessors" title="=&gt; List[Constructors.this.global.Symbol]">paramAccessors</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: Constructors.this.global.Symbol =&gt; Boolean)List[Constructors.this.global.Symbol]">filter</a> <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.mustBeKept" title="(sym: Constructors.this.global.Symbol)Boolean">mustBeKept</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits">map</a> <span class="delimiter">{</span> <a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.acc">acc</a> =&gt;
      <span class="comment">// Check for conflicting symbol amongst parents: see bug #1960.</span>
      <span class="comment">// It would be better to mangle the constructor parameter name since</span>
      <span class="comment">// it can only be used internally, but I think we need more robust name</span>
      <span class="comment">// mangling before we introduce more of it.</span>
      val conflict = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.nonPrivateMember" title="(name: Constructors.this.global.Name)Constructors.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.acc" title="Constructors.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; acc.NameType">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.filter" title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict">filter</a> <span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict.$anonfun.s">s</a> =&gt; <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict.$anonfun.s" title="Constructors.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isGetter" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict.$anonfun.s" title="Constructors.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOuterField" title="=&gt; Boolean">isOuterField</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict.$anonfun.s" title="Constructors.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; Constructors.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isTrait" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict" title="Constructors.this.global.Symbol">conflict</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Constructors.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.error" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.acc" title="Constructors.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Constructors.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;parameter '%s' requires field but conflicts with %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.acc" title="Constructors.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; acc.NameType">name</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.conflict" title="Constructors.this.global.Symbol">conflict</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.fullLocationString" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.copyParam" title="(to: Constructors.this.global.Symbol, from: Constructors.this.global.Symbol)Constructors.this.global.Tree">copyParam</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.acc" title="Constructors.this.global.Symbol">acc</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.parameter" title="(acc: Constructors.this.global.Symbol)Constructors.this.global.Symbol">parameter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits.$anonfun.acc" title="Constructors.this.global.Symbol">acc</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* Return a pair consisting of (all statements up to and including superclass and trait constr calls, rest) */</span>
    def <a title="(stats: List[Constructors.this.global.Tree])(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper">splitAtSuper</a><span class="delimiter">(</span><a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.stats">stats</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Constructors.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      def <a title="(tree: Constructors.this.global.Tree)Boolean" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr">isConstr</a><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Constructors.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr.tree" title="Constructors.this.global.Tree">tree</a> match <span class="delimiter">{</span>
        case Block<span class="delimiter">(</span>_, <a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr.expr">expr</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr" title="(tree: Constructors.this.global.Tree)Boolean">isConstr</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr.expr" title="Constructors.this.global.Tree">expr</a><span class="delimiter">)</span>  <span class="comment">// SI-6481 account for named argument blocks</span>
        case _              =&gt; <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr.tree" title="Constructors.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isConstructor" title="=&gt; Boolean">isConstructor</a>
      <span class="delimiter">}</span>
      val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[Constructors.this.global.Tree], _2: List[Constructors.this.global.Tree])(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.pre">pre</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.rest0">rest0</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.stats" title="List[Constructors.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.span" title="(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])">span</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr" title="(tree: Constructors.this.global.Tree)Boolean">isConstr</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.x$13.$anonfun.x$12" title="Constructors.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[Constructors.this.global.Tree], _2: List[Constructors.this.global.Tree])(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.supercalls">supercalls</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.rest">rest</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.rest0" title="List[Constructors.this.global.Tree]">rest0</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.span" title="(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])">span</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.isConstr" title="(tree: Constructors.this.global.Tree)Boolean">isConstr</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.x$15.$anonfun.x$14" title="Constructors.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[Constructors.this.global.Tree], _2: List[Constructors.this.global.Tree])(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])" class="delimiter">(</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.pre" title="List[Constructors.this.global.Tree]">pre</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.supercalls" title="List[Constructors.this.global.Tree]">supercalls</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper.rest" title="List[Constructors.this.global.Tree]">rest</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.uptoSuperStats">uptoSuperStats</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats0">remainingConstrStats0</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.splitAtSuper" title="(stats: List[Constructors.this.global.Tree])(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree])">splitAtSuper</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(List[Constructors.this.global.Tree], List[Constructors.this.global.Tree]) @unchecked" class="delimiter">(</a><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrStatBuf</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[Constructors.this.global.Tree]">toList</a><span class="delimiter">)</span>
    var <a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats_=">remainingConstrStats</a> = <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats0" title="=&gt; List[Constructors.this.global.Tree]">remainingConstrStats0</a>

    <a href="#scala.tools.nsc.transform;Constructors;DelayedInitHelper.rewriteDelayedInit" title="()Unit">rewriteDelayedInit</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// Assemble final constructor</span>
    <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: Constructors.this.global.Tree)TemplateTransformer.this.defBuf.type">+=</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveDefDef" title="(ddef: Constructors.this.global.Tree)(applyToRhs: Constructors.this.global.Tree =&gt; Constructors.this.global.Tree)Constructors.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constr" title="=&gt; Constructors.this.global.DefDef">constr</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.x$18">_</a> =&gt;
      <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;Transformer.treeCopy" title="=&gt; Constructors.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Block" title="(tree: Constructors.this.global.Tree, stats: List[Constructors.this.global.Tree], expr: Constructors.this.global.Tree)Constructors.this.global.Block">Block</a><span class="delimiter">(</span>
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrBody" title="=&gt; Constructors.this.global.Block">constrBody</a>,
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.paramInits" title="=&gt; List[Constructors.this.global.Tree]">paramInits</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.constrPrefixBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">constrPrefixBuf</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[Constructors.this.global.Tree]">toList</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]">:::</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.uptoSuperStats" title="=&gt; List[Constructors.this.global.Tree]">uptoSuperStats</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]">:::</a>
          <a href="#scala.tools.nsc.transform;Constructors;GuardianOfCtorStmts.guardSpecializedInitializer" title="(stats: List[Constructors.this.global.Tree])List[Constructors.this.global.Tree]">guardSpecializedInitializer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.remainingConstrStats_=" title="=&gt; List[Constructors.this.global.Tree]">remainingConstrStats</a><span class="delimiter">)</span>,
        <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer;ConstrInfo.constrBody" title="=&gt; Constructors.this.global.Block">constrBody</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Block.expr" title="=&gt; Constructors.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">// Followed by any auxiliary constructors</span>
    <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.++=" title="(xs: scala.collection.TraversableOnce[Constructors.this.global.Tree])TemplateTransformer.this.defBuf.type">++=</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.auxConstructorBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">auxConstructorBuf</a>

    <span class="comment">// Unlink all fields that can be dropped from class scope</span>
    for <span class="delimiter">(</span><a title="Constructors.this.global.Symbol" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.sym">sym</a> &lt;- <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: Constructors.this.global.Symbol =&gt; Unit)Unit">decls</a> ; if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.mustBeKept" title="(sym: Constructors.this.global.Symbol)Boolean">mustBeKept</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.sym" title="Constructors.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.clazz" title="=&gt; Constructors.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Constructors.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; Constructors.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.unlink(f75a85baae)" title="(sym: Constructors.this.global.Symbol)Unit">unlink</a> <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.<local TemplateTransformer>.$anonfun.sym" title="Constructors.this.global.Symbol">sym</a>

    <span class="comment">// Eliminate all field definitions that can be dropped from template</span>
    val <a title="Constructors.this.global.Template" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.templateWithoutOmittables">templateWithoutOmittables</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Template" title="Constructors.this.global.Template">Template</a> = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.deriveTemplate" title="(templ: Constructors.this.global.Tree)(applyToBody: List[Constructors.this.global.Tree] =&gt; List[Constructors.this.global.Tree])Constructors.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.impl" title="=&gt; Constructors.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[Constructors.this.global.Tree]" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.templateWithoutOmittables.$anonfun.x$22">_</a> =&gt; <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.defBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">defBuf</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[Constructors.this.global.Tree]">toList</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: Constructors.this.global.Tree =&gt; Boolean)List[Constructors.this.global.Tree]">filter</a> <span class="delimiter">(</span><a title="Constructors.this.global.Tree" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.templateWithoutOmittables.$anonfun.$anonfun.stat">stat</a> =&gt; <a href="#scala.tools.nsc.transform;Constructors;OmittablesHelper.mustBeKept" title="(sym: Constructors.this.global.Symbol)Boolean">mustBeKept</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.templateWithoutOmittables.$anonfun.$anonfun.stat" title="Constructors.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Constructors.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">//  Add the static initializers</span>
    val <a title="Constructors.this.global.Template" id="scala.tools.nsc.transform;Constructors;TemplateTransformer.transformed">transformed</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Template" title="Constructors.this.global.Template">Template</a> = <a href="Statics.scala.html#scala.tools.nsc.transform;Statics;StaticsTransformer.addStaticInits" title="(template: Constructors.this.global.Template, newStaticInits: scala.collection.mutable.Buffer[Constructors.this.global.Tree], localTyper: Constructors.this.global.analyzer.Typer)Constructors.this.global.Template">addStaticInits</a><span class="delimiter">(</span><a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.templateWithoutOmittables" title="=&gt; Constructors.this.global.Template">templateWithoutOmittables</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.classInitStatBuf" title="=&gt; scala.collection.mutable.ListBuffer[Constructors.this.global.Tree]">classInitStatBuf</a>, <a href="#scala.tools.nsc.transform;Constructors;TemplateTransformer.localTyper" title="=&gt; Constructors.this.global.analyzer.Typer">localTyper</a><span class="delimiter">)</span>

  <span class="delimiter">}</span> <span class="comment">// TemplateTransformer</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
