<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/interactive/Global.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2009-2013 Typesafe/Scala Solutions and LAMP/EPFL
 * @author Martin Odersky
 */</span>
package scala.tools.nsc
package interactive

import java.io.<span class="delimiter">{</span> PrintWriter, StringWriter, FileReader, FileWriter <span class="delimiter">}</span>
import scala.collection.mutable
import mutable.<span class="delimiter">{</span>LinkedHashMap, SynchronizedMap, HashSet, SynchronizedSet<span class="delimiter">}</span>
import scala.util.control.ControlThrowable
import scala.tools.nsc.io.AbstractFile
import scala.reflect.internal.util.<span class="delimiter">{</span> SourceFile, BatchSourceFile, Position, NoPosition <span class="delimiter">}</span>
import scala.tools.nsc.reporters._
import scala.tools.nsc.symtab._
import scala.tools.nsc.typechecker.Analyzer
import symtab.<a href="../symtab/package.scala.html#scala.tools.nsc.symtab.package.Flags" title="=&gt; reflect.internal.Flags.type">Flags</a>.<span class="delimiter">{</span>ACCESSOR, PARAMACCESSOR<span class="delimiter">}</span>
import scala.annotation.<span class="delimiter">{</span> elidable, tailrec <span class="delimiter">}</span>
import scala.<a href="../../../language.scala.html#scala.language" title="language.type">language</a>.implicitConversions
import scala.tools.nsc.typechecker.Typers
import scala.util.control.<a href="../../../util/control/Breaks.scala.html#scala.util.control.Breaks" title="scala.util.control.Breaks.type">Breaks</a>._

<span class="comment">/**
 * This trait allows the IDE to have an instance of the PC that
 * does not clear the comments table at every new typer run (those
 * being many and close between in this context).
 */</span>

trait <a title="trait CommentPreservingTypers extends AnyRef with scala.tools.nsc.typechecker.Typers" id="scala.tools.nsc.interactive;CommentPreservingTypers">CommentPreservingTypers</a> extends <a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers" title="scala.tools.nsc.typechecker.Typers">Typers</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  override def <a title="()Unit" id="scala.tools.nsc.interactive;CommentPreservingTypers.resetDocComments">resetDocComments</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

trait <a title="trait InteractiveAnalyzer extends AnyRef with scala.tools.nsc.typechecker.Analyzer" id="scala.tools.nsc.interactive;InteractiveAnalyzer">InteractiveAnalyzer</a> extends <a href="../typechecker/Analyzer.scala.html#scala.tools.nsc.typechecker;Analyzer" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a> <span class="delimiter">{</span>
  val <a title="=&gt; scala.tools.nsc.interactive.Global" id="scala.tools.nsc.interactive;InteractiveAnalyzer.global">global</a> : <a href="#scala.tools.nsc.interactive.Global" title="scala.tools.nsc.interactive.Global">Global</a>
  import <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer.global" title="=&gt; scala.tools.nsc.interactive.Global">global</a>._

  override def <a title="(context: InteractiveAnalyzer.this.Context)InteractiveAnalyzer.this.InteractiveTyper" id="scala.tools.nsc.interactive;InteractiveAnalyzer.newTyper">newTyper</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.Context" id="scala.tools.nsc.interactive;InteractiveAnalyzer.newTyper.context">context</a>: <a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="InteractiveAnalyzer.this.Context">Context</a><span class="delimiter">)</span>: <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper" title="InteractiveAnalyzer.this.InteractiveTyper">InteractiveTyper</a> = new <a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="&lt;$anon: InteractiveAnalyzer.this.Typer with InteractiveAnalyzer.this.InteractiveTyper&gt; extends InteractiveAnalyzer.this.Typer with InteractiveAnalyzer.this.InteractiveTyper" id="scala.tools.nsc.interactive;InteractiveAnalyzer.newTyper;$anon">Typer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer.newTyper.context" title="InteractiveAnalyzer.this.Context">context</a><span class="delimiter">)</span> with <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper" title="InteractiveAnalyzer.this.InteractiveTyper">InteractiveTyper</a>
  override def <a title="(context: InteractiveAnalyzer.this.Context)InteractiveAnalyzer.this.InteractiveNamer" id="scala.tools.nsc.interactive;InteractiveAnalyzer.newNamer">newNamer</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.Context" id="scala.tools.nsc.interactive;InteractiveAnalyzer.newNamer.context">context</a>: <a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="InteractiveAnalyzer.this.Context">Context</a><span class="delimiter">)</span>: <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer" title="InteractiveAnalyzer.this.InteractiveNamer">InteractiveNamer</a> = new <a href="../typechecker/Namers.scala.html#scala.tools.nsc.typechecker;Namers;Namer" title="&lt;$anon: InteractiveAnalyzer.this.Namer with InteractiveAnalyzer.this.InteractiveNamer&gt; extends InteractiveAnalyzer.this.Namer with InteractiveAnalyzer.this.InteractiveNamer" id="scala.tools.nsc.interactive;InteractiveAnalyzer.newNamer;$anon">Namer</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer.newNamer.context" title="InteractiveAnalyzer.this.Context">context</a><span class="delimiter">)</span> with <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer" title="InteractiveAnalyzer.this.InteractiveNamer">InteractiveNamer</a>

  trait <a title="trait InteractiveTyper extends InteractiveAnalyzer.this.Typer" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper">InteractiveTyper</a> extends <a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="InteractiveAnalyzer.this.Typer">Typer</a> <span class="delimiter">{</span>
    override def <a title="=&gt; Boolean" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.canAdaptConstantTypeToLiteral">canAdaptConstantTypeToLiteral</a> = false
    override def <a title="=&gt; Boolean" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.canTranslateEmptyListToNil">canTranslateEmptyListToNil</a>    = false
    override def <a title="(tree: InteractiveAnalyzer.this.global.Tree, qual: InteractiveAnalyzer.this.global.Tree, name: InteractiveAnalyzer.this.global.Name)InteractiveAnalyzer.this.global.Tree" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree">missingSelectErrorTree</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.global.Tree" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="InteractiveAnalyzer.this.global.Tree">Tree</a>, <a title="InteractiveAnalyzer.this.global.Tree" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.qual">qual</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="InteractiveAnalyzer.this.global.Tree">Tree</a>, <a title="InteractiveAnalyzer.this.global.Name" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.name">name</a>: <a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="InteractiveAnalyzer.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="InteractiveAnalyzer.this.global.Tree">Tree</a> = <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.tree" title="InteractiveAnalyzer.this.global.Tree">tree</a> match <span class="delimiter">{</span>
      case Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span>             =&gt; <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees.treeCopy" title="=&gt; InteractiveAnalyzer.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.Select" title="(tree: InteractiveAnalyzer.this.global.Tree, qualifier: InteractiveAnalyzer.this.global.Tree, selector: InteractiveAnalyzer.this.global.Name)InteractiveAnalyzer.this.global.Select">Select</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.tree" title="InteractiveAnalyzer.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.qual" title="InteractiveAnalyzer.this.global.Tree">qual</a>, <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.name" title="InteractiveAnalyzer.this.global.Name">name</a><span class="delimiter">)</span>
      case SelectFromTypeTree<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees.treeCopy" title="=&gt; InteractiveAnalyzer.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#scala.reflect.api;Trees;TreeCopierOps.SelectFromTypeTree" title="(tree: InteractiveAnalyzer.this.global.Tree, qualifier: InteractiveAnalyzer.this.global.Tree, selector: InteractiveAnalyzer.this.global.Name)InteractiveAnalyzer.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.tree" title="InteractiveAnalyzer.this.global.Tree">tree</a>, <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.qual" title="InteractiveAnalyzer.this.global.Tree">qual</a>, <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveTyper.missingSelectErrorTree.name" title="InteractiveAnalyzer.this.global.Name">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  trait <a title="trait InteractiveNamer extends InteractiveAnalyzer.this.Namer" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer">InteractiveNamer</a> extends <a href="../typechecker/Namers.scala.html#scala.tools.nsc.typechecker;Namers;Namer" title="InteractiveAnalyzer.this.Namer">Namer</a> <span class="delimiter">{</span>
    override def <a title="(meth: InteractiveAnalyzer.this.global.Symbol, default: InteractiveAnalyzer.this.global.Symbol)Unit" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter">saveDefaultGetter</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.global.Symbol" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.meth">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="InteractiveAnalyzer.this.global.Symbol">Symbol</a>, <a title="InteractiveAnalyzer.this.global.Symbol" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.default">default</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="InteractiveAnalyzer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// save the default getters as attachments in the method symbol. if compiling the</span>
      <span class="comment">// same local block several times (which can happen in interactive mode) we might</span>
      <span class="comment">// otherwise not find the default symbol, because the second time it the method</span>
      <span class="comment">// symbol will be re-entered in the scope but the default parameter will not.</span>
      <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.meth" title="InteractiveAnalyzer.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.attachments" title="=&gt; scala.reflect.macros.Attachments{type Pos = InteractiveAnalyzer.this.global.Position}">attachments</a>.<a href="../../../reflect/macros/Attachments.scala.html#scala.reflect.macros;Attachments.get" title="[T](implicit evidence$2: scala.reflect.ClassTag[T])Option[T]">get</a><a href="../../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(implicit evidence$2: scala.reflect.ClassTag[InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment])Option[InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment]" class="delimiter">[</a><a href="../typechecker/NamesDefaults.scala.html#scala.tools.nsc.typechecker;NamesDefaults;DefaultsOfLocalMethodAttachment" title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment">DefaultsOfLocalMethodAttachment</a><span class="delimiter">]</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><a title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.att">att</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.att" title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment">att</a>.<a href="../typechecker/NamesDefaults.scala.html#scala.tools.nsc.typechecker;NamesDefaults;DefaultsOfLocalMethodAttachment.defaultGetters" title="=&gt; scala.collection.mutable.Set[InteractiveAnalyzer.this.global.Symbol]">defaultGetters</a> <a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.+=(70ec98e56e)" title="(elem: InteractiveAnalyzer.this.global.Symbol)att.defaultGetters.type">+=</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.default" title="InteractiveAnalyzer.this.global.Symbol">default</a>
        case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>      =&gt; <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.meth" title="InteractiveAnalyzer.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.updateAttachment" title="(attachment: InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment)(implicit evidence$1: scala.reflect.ClassTag[InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment])meth.type">updateAttachment</a><a href="../../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(runtimeClass1: Class[_])scala.reflect.ClassTag[InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment]" class="delimiter">(</a>new <a href="../typechecker/NamesDefaults.scala.html#scala.tools.nsc.typechecker;NamesDefaults;DefaultsOfLocalMethodAttachment" title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment">DefaultsOfLocalMethodAttachment</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.saveDefaultGetter.default" title="InteractiveAnalyzer.this.global.Symbol">default</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="comment">// this logic is needed in case typer was interrupted half</span>
    <span class="comment">// way through and then comes back to do the tree again. In</span>
    <span class="comment">// that case the definitions that were already attributed as</span>
    <span class="comment">// well as any default parameters of such methods need to be</span>
    <span class="comment">// re-entered in the current scope.</span>
    override def <a title="(sym: InteractiveAnalyzer.this.global.Symbol)InteractiveAnalyzer.this.Context" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym">enterExistingSym</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.global.Symbol" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="InteractiveAnalyzer.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="InteractiveAnalyzer.this.Context">Context</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a> <span title="(x$1: Any)Boolean">!=</span> null <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; InteractiveAnalyzer.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isTerm" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere" title="(sym: InteractiveAnalyzer.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isLazy" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.lazyAccessor" title="=&gt; InteractiveAnalyzer.this.global.Symbol">lazyAccessor</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.andAlso" title="(f: InteractiveAnalyzer.this.global.Symbol =&gt; Unit)InteractiveAnalyzer.this.global.Symbol">andAlso</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere" title="(sym: InteractiveAnalyzer.this.global.Symbol)Unit">enterIfNotThere</a>

        for <span class="delimiter">(</span><a title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.$anonfun.defAtt">defAtt</a> &lt;- <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.attachments" title="=&gt; scala.reflect.macros.Attachments{type Pos = InteractiveAnalyzer.this.global.Position}">attachments</a>.<a href="../../../reflect/macros/Attachments.scala.html#scala.reflect.macros;Attachments.get" title="[T](implicit evidence$2: scala.reflect.ClassTag[T])Option[T]">get</a><a href="../../../Option.scala.html#scala;Option.foreach" title="(f: InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment =&gt; Unit)Unit" class="delimiter">[</a><a href="../typechecker/NamesDefaults.scala.html#scala.tools.nsc.typechecker;NamesDefaults;DefaultsOfLocalMethodAttachment" title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment">DefaultsOfLocalMethodAttachment</a><span class="delimiter">]</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.$anonfun.defAtt" title="InteractiveAnalyzer.this.DefaultsOfLocalMethodAttachment">defAtt</a>.<a href="../typechecker/NamesDefaults.scala.html#scala.tools.nsc.typechecker;NamesDefaults;DefaultsOfLocalMethodAttachment.defaultGetters" title="=&gt; scala.collection.mutable.Set[InteractiveAnalyzer.this.global.Symbol]">defaultGetters</a> <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: InteractiveAnalyzer.this.global.Symbol =&gt; Unit)Unit">foreach</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere" title="(sym: InteractiveAnalyzer.this.global.Symbol)Unit">enterIfNotThere</a>
      <span class="delimiter">}</span>
      super.<a href="../typechecker/Namers.scala.html#scala.tools.nsc.typechecker;Namers;Namer.enterExistingSym" title="(sym: InteractiveAnalyzer.this.global.Symbol)InteractiveAnalyzer.this.Context">enterExistingSym</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterExistingSym.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    override def <a title="(sym: InteractiveAnalyzer.this.global.Symbol)Unit" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere">enterIfNotThere</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.global.Symbol" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="InteractiveAnalyzer.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="InteractiveAnalyzer.this.global.Scope" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.scope">scope</a> = <a href="../typechecker/Namers.scala.html#scala.tools.nsc.typechecker;Namers;Namer.context" title="=&gt; InteractiveAnalyzer.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.scope" title="=&gt; InteractiveAnalyzer.this.global.Scope">scope</a>
      @tailrec def <a title="(e: InteractiveAnalyzer.this.global.ScopeEntry)Unit" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search">search</a><span class="delimiter">(</span><a title="InteractiveAnalyzer.this.global.ScopeEntry" id="scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search.e">e</a>: <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;ScopeEntry" title="InteractiveAnalyzer.this.global.ScopeEntry">ScopeEntry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search.e" title="InteractiveAnalyzer.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search.e" title="InteractiveAnalyzer.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;ScopeEntry.owner" title="=&gt; InteractiveAnalyzer.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.scope" title="InteractiveAnalyzer.this.global.Scope">scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.scope" title="InteractiveAnalyzer.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.enter" title="(sym: InteractiveAnalyzer.this.global.Symbol)InteractiveAnalyzer.this.global.Symbol">enter</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a>
        else if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search.e" title="InteractiveAnalyzer.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;ScopeEntry.sym" title="=&gt; InteractiveAnalyzer.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a><span class="delimiter">)</span>  <span class="comment">// otherwise, aborts since we found sym</span>
          <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search" title="(e: InteractiveAnalyzer.this.global.ScopeEntry)Unit">search</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search.e" title="InteractiveAnalyzer.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;ScopeEntry.tail" title="=&gt; InteractiveAnalyzer.this.global.ScopeEntry">tail</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.search" title="(e: InteractiveAnalyzer.this.global.ScopeEntry)Unit">search</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.scope" title="InteractiveAnalyzer.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.lookupEntry" title="(name: InteractiveAnalyzer.this.global.Name)InteractiveAnalyzer.this.global.ScopeEntry">lookupEntry</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer;InteractiveNamer.enterIfNotThere.sym" title="InteractiveAnalyzer.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** The main class of the presentation compiler in an interactive environment such as an IDE
 */</span>
class <a title="class Global extends scala.tools.nsc.Global with scala.tools.nsc.interactive.CompilerControl with scala.tools.nsc.interactive.ContextTrees with scala.tools.nsc.interactive.RichCompilationUnits with scala.tools.nsc.interactive.Picklers" id="scala.tools.nsc.interactive.Global">Global</a><a href="#scala.tools.nsc.interactive.Global" title="scala.tools.nsc.interactive.Global" class="delimiter">(</a><a title="scala.tools.nsc.Settings" id="scala.tools.nsc.interactive;Global.settings">settings</a>: <a href="../Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="scala.tools.nsc.interactive;Global._reporter">_reporter</a>: <a href="../reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter" title="scala.tools.nsc.reporters.Reporter">Reporter</a>, <a title="String" id="scala.tools.nsc.interactive.Global.<init>$default$3">projectName</a>: <span title="String">String</span> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> extends <span class="delimiter">{</span>
  <span class="comment">/* Is the compiler initializing? Early def, so that the field is true during the
   *  execution of the super constructor.
   */</span>
  private var <a title="Boolean" id="scala.tools.nsc.interactive;Global.initializing">initializing</a> = true
  override val <a title="Boolean" id="scala.tools.nsc.interactive;Global.useOffsetPositions">useOffsetPositions</a> = false
<span class="delimiter">}</span> with scala.tools.nsc.<a href="../Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>, <a href="#scala.tools.nsc.interactive;Global._reporter" title="scala.tools.nsc.reporters.Reporter">_reporter</a><span class="delimiter">)</span>
  with <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl" title="scala.tools.nsc.interactive.CompilerControl">CompilerControl</a>
  with <a href="ContextTrees.scala.html#scala.tools.nsc.interactive;ContextTrees" title="scala.tools.nsc.interactive.ContextTrees">ContextTrees</a>
  with <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits" title="scala.tools.nsc.interactive.RichCompilationUnits">RichCompilationUnits</a>
  with <a href="Picklers.scala.html#scala.tools.nsc.interactive;Picklers" title="scala.tools.nsc.interactive.Picklers">Picklers</a> <span class="delimiter">{</span>

  import <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Global.this.definitions.type">definitions</a>._

  if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Ymacroexpand" title="=&gt; Global.this.settings.ChoiceSetting">Ymacroexpand</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.isSetByUser" title="=&gt; Boolean">isSetByUser</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Ymacroexpand" title="=&gt; Global.this.settings.ChoiceSetting">Ymacroexpand</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: Global.this.settings.Ymacroexpand.T)Unit">value</a> = <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.MacroExpand" title="Global.this.settings.MacroExpand.type">MacroExpand</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.MacroExpand.Discard" title="=&gt; String">Discard</a>

  val <a title="Boolean" id="scala.tools.nsc.interactive;Global.debugIDE">debugIDE</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.YpresentationDebug" title="=&gt; Global.this.settings.BooleanSetting">YpresentationDebug</a>.<a href="../settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings;BooleanSetting.value" title="=&gt; Boolean">value</a>
  val <a title="Boolean" id="scala.tools.nsc.interactive;Global.verboseIDE">verboseIDE</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.YpresentationVerbose" title="=&gt; Global.this.settings.BooleanSetting">YpresentationVerbose</a>.<a href="../settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings;BooleanSetting.value" title="=&gt; Boolean">value</a>

  private def <a title="=&gt; Global.this.settings.YpresentationReplay.T" id="scala.tools.nsc.interactive;Global.replayName">replayName</a> = <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.YpresentationReplay" title="=&gt; Global.this.settings.StringSetting">YpresentationReplay</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value" title="=&gt; Global.this.settings.YpresentationReplay.T">value</a>
  private def <a title="=&gt; Global.this.settings.YpresentationLog.T" id="scala.tools.nsc.interactive;Global.logName">logName</a> = <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.YpresentationLog" title="=&gt; Global.this.settings.StringSetting">YpresentationLog</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value" title="=&gt; Global.this.settings.YpresentationLog.T">value</a>
  private def <a title="=&gt; Int" id="scala.tools.nsc.interactive;Global.afterTypeDelay">afterTypeDelay</a> = <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.YpresentationDelay" title="=&gt; Global.this.settings.IntSetting">YpresentationDelay</a>.<a href="../settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings;IntSetting.value" title="=&gt; Int">value</a>
  private final val <a title="Int(10)" id="scala.tools.nsc.interactive;Global.SleepTime">SleepTime</a> = <span title="Int(10)" class="int">10</span>

  val <a title="scala.tools.nsc.interactive.LogReplay" id="scala.tools.nsc.interactive;Global.log(a908de84e7)">log</a> =
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.replayName" title="=&gt; Global.this.settings.YpresentationReplay.T">replayName</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> new <a href="Replayer.scala.html#scala.tools.nsc.interactive;Replayer" title="scala.tools.nsc.interactive.Replayer">Replayer</a><span class="delimiter">(</span>new <span title="java.io.FileReader">FileReader</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.replayName" title="=&gt; Global.this.settings.YpresentationReplay.T">replayName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.logName" title="=&gt; Global.this.settings.YpresentationLog.T">logName</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> new <a href="Replayer.scala.html#scala.tools.nsc.interactive;Logger" title="scala.tools.nsc.interactive.Logger">Logger</a><span class="delimiter">(</span>new <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.logName" title="=&gt; Global.this.settings.YpresentationLog.T">logName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    else <a href="Replayer.scala.html#scala.tools.nsc.interactive.NullLogger" title="scala.tools.nsc.interactive.NullLogger.type">NullLogger</a>

  import <a href="#scala.tools.nsc.interactive;Global.log(a908de84e7)" title="=&gt; scala.tools.nsc.interactive.LogReplay">log</a>.logreplay
  <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;logger: &quot;)" class="string">&quot;logger: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.log(a908de84e7)" title="=&gt; scala.tools.nsc.interactive.LogReplay">log</a>.<span title="()Class[_]">getClass</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; writing to &quot;)" class="string">&quot; writing to &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>new java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.logName" title="=&gt; Global.this.settings.YpresentationLog.T">logName</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()String">getAbsolutePath</span><span class="delimiter">)</span>
  <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;classpath: &quot;)" class="string">&quot;classpath: &quot;</span><span title="(x$1: Any)String">+</span><a href="../Global.scala.html#scala.tools.nsc;Global.classPath" title="=&gt; Global.this.PlatformClassPath">classPath</a><span class="delimiter">)</span>

  private var <a title="Long" id="scala.tools.nsc.interactive;Global.curTime_=">curTime</a> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span>
  private def <a title="=&gt; String" id="scala.tools.nsc.interactive;Global.timeStep">timeStep</a> = <span class="delimiter">{</span>
    val <a title="Long" id="scala.tools.nsc.interactive;Global.timeStep.last">last</a> = <a href="#scala.tools.nsc.interactive;Global.curTime_=" title="=&gt; Long">curTime</a>
    <a href="#scala.tools.nsc.interactive;Global.curTime_=" title="(x$1: Long)Unit">curTime</a> = <span title="System.type">System</span>.<span title="()Long">nanoTime</span>
    <span title="String(&quot;, delay = &quot;)" class="string">&quot;, delay = &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.curTime_=" title="=&gt; Long">curTime</a> <a href="../../../Long.scala.html#scala;Long.-(89ec8b5973)" title="(x: Long)Long">-</a> <a href="#scala.tools.nsc.interactive;Global.timeStep.last" title="Long">last</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#scala;Long./(cfb0bf761c)" title="(x: Int)Long">/</a> <span title="Int(1000000)" class="int">1000000</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;ms&quot;)" class="string">&quot;ms&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Print msg only when debugIDE is true. */</span>
  @inline final def <a title="(msg: =&gt; String)Unit" id="scala.tools.nsc.interactive;Global.debugLog">debugLog</a><span class="delimiter">(</span><a title="=&gt; String" id="scala.tools.nsc.interactive;Global.debugLog.msg">msg</a>: =&gt; String<span class="delimiter">)</span> =
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.debugIDE" title="=&gt; Boolean">debugIDE</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s] %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive.Global.<init>$default$3" title="String">projectName</a>, <a href="#scala.tools.nsc.interactive;Global.debugLog.msg" title="=&gt; String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Inform with msg only when verboseIDE is true. */</span>
  @inline final def <a title="(msg: =&gt; String)Unit" id="scala.tools.nsc.interactive;Global.informIDE">informIDE</a><span class="delimiter">(</span><a title="=&gt; String" id="scala.tools.nsc.interactive;Global.informIDE.msg">msg</a>: =&gt; String<span class="delimiter">)</span> =
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.verboseIDE" title="=&gt; Boolean">verboseIDE</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s][%s]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive.Global.<init>$default$3" title="String">projectName</a>, <a href="#scala.tools.nsc.interactive;Global.informIDE.msg" title="=&gt; String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">// don't keep the original owner in presentation compiler runs</span>
  <span class="comment">// (the map will grow indefinitely, and the only use case is the backend)</span>
  override protected def <a title="(sym: Global.this.Symbol)Unit" id="scala.tools.nsc.interactive;Global.saveOriginalOwner">saveOriginalOwner</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.saveOriginalOwner.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span> <span class="delimiter">}</span>

  override def <a title="=&gt; Boolean" id="scala.tools.nsc.interactive;Global.forInteractive">forInteractive</a> = true
  override protected def <a title="=&gt; Boolean" id="scala.tools.nsc.interactive;Global.synchronizeNames">synchronizeNames</a> = true

  override def <a title="(pre: Global.this.Type, clazz: Global.this.Symbol)Global.this.AsSeenFromMap" id="scala.tools.nsc.interactive;Global.newAsSeenFromMap">newAsSeenFromMap</a><span class="delimiter">(</span><a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.newAsSeenFromMap.pre">pre</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a>, <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.newAsSeenFromMap.clazz">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;AsSeenFromMap" title="Global.this.AsSeenFromMap">AsSeenFromMap</a> =
    new <a href="#scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap" title="Global.this.InteractiveAsSeenFromMap">InteractiveAsSeenFromMap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.newAsSeenFromMap.pre" title="Global.this.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global.newAsSeenFromMap.clazz" title="Global.this.Symbol">clazz</a><span class="delimiter">)</span>

  class <a title="class InteractiveAsSeenFromMap extends Global.this.AsSeenFromMap" id="scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap">InteractiveAsSeenFromMap</a><a href="#scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap" title="Global.this.InteractiveAsSeenFromMap" class="delimiter">(</a><a title="Global.this.Type" id="scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap.pre">pre</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a>, <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap.clazz">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a><span class="delimiter">)</span> extends <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;AsSeenFromMap" title="Global.this.AsSeenFromMap">AsSeenFromMap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap.pre" title="Global.this.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global;InteractiveAsSeenFromMap.clazz" title="Global.this.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/** The method formerly known as 'instParamsRelaxed' goes here if it's still necessary,
     *  which it is currently supposed it is not.
     *
     *  If it is, change AsSeenFromMap method correspondingTypeArgument to call an overridable
     *  method rather than aborting in the failure case.
     */</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map of all loaded files to the rich compilation units that correspond to them.
   */</span>
  val <a title="&lt;refinement of tools.nsc.io.AbstractFile =&gt; Global.this.RichCompilationUnit with tools.nsc.io.AbstractFile =&gt; Global.this.RichCompilationUnit&gt; extends scala.collection.mutable.LinkedHashMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.unitOfFile">unitOfFile</a> = new <a title="&lt;$anon: tools.nsc.io.AbstractFile =&gt; Global.this.RichCompilationUnit with tools.nsc.io.AbstractFile =&gt; Global.this.RichCompilationUnit&gt; extends scala.collection.mutable.LinkedHashMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon">LinkedHashMap</a><span class="delimiter">[</span>AbstractFile, RichCompilationUnit<span class="delimiter">]</span> with
                       <a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap" title="scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">SynchronizedMap</a><span class="delimiter">[</span>AbstractFile, RichCompilationUnit<span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="(key: tools.nsc.io.AbstractFile, value: Global.this.RichCompilationUnit)Option[Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.put">put</a><span class="delimiter">(</span><a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.key">key</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.value">value</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="Option[Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.r">r</a> = super.<a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.put" title="(key: tools.nsc.io.AbstractFile, value: Global.this.RichCompilationUnit)Option[Global.this.RichCompilationUnit]">put</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.key" title="tools.nsc.io.AbstractFile">key</a>, <a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.value" title="Global.this.RichCompilationUnit">value</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.r" title="Option[Global.this.RichCompilationUnit]">r</a>.<a href="../../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;added unit for &quot;)" class="string">&quot;added unit for &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.key" title="tools.nsc.io.AbstractFile">key</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.put.r" title="Option[Global.this.RichCompilationUnit]">r</a>
    <span class="delimiter">}</span>
    override def <a title="(key: tools.nsc.io.AbstractFile)Option[Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove">remove</a><span class="delimiter">(</span><a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove.key">key</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="Option[Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove.r">r</a> = super.<a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.remove" title="(key: tools.nsc.io.AbstractFile)Option[Global.this.RichCompilationUnit]">remove</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove.key" title="tools.nsc.io.AbstractFile">key</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove.r" title="Option[Global.this.RichCompilationUnit]">r</a>.<a href="../../../Option.scala.html#scala;Option.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;removed unit for &quot;)" class="string">&quot;removed unit for &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove.key" title="tools.nsc.io.AbstractFile">key</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.unitOfFile;$anon.remove.r" title="Option[Global.this.RichCompilationUnit]">r</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A set containing all those files that need to be removed
   *  Units are removed by getUnit, typically once a unit is finished compiled.
   */</span>
  protected val <a title="scala.collection.mutable.Set[tools.nsc.io.AbstractFile]" id="scala.tools.nsc.interactive;Global.toBeRemoved">toBeRemoved</a>: mutable.<a href="../../../collection/mutable/Set.scala.html#scala.collection.mutable;Set" title="scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">Set</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> =
    new <a href="../../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.<init>(6ebd503a32)" title="&lt;$anon: tools.nsc.io.AbstractFile =&gt; Boolean with tools.nsc.io.AbstractFile =&gt; Boolean&gt; extends scala.collection.mutable.HashSet[tools.nsc.io.AbstractFile] with scala.collection.mutable.SynchronizedSet[tools.nsc.io.AbstractFile]" id="scala.tools.nsc.interactive;Global.toBeRemoved;$anon">HashSet</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> with <a href="../../../collection/mutable/SynchronizedSet.scala.html#scala.collection.mutable;SynchronizedSet" title="scala.collection.mutable.SynchronizedSet[tools.nsc.io.AbstractFile]">SynchronizedSet</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span>

  <span class="comment">/** A set containing all those files that need to be removed after a full background compiler run
   */</span>
  protected val <a title="scala.collection.mutable.Set[tools.nsc.io.AbstractFile]" id="scala.tools.nsc.interactive;Global.toBeRemovedAfterRun">toBeRemovedAfterRun</a>: mutable.<a href="../../../collection/mutable/Set.scala.html#scala.collection.mutable;Set" title="scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">Set</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> =
    new <a href="../../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.<init>(6ebd503a32)" title="&lt;$anon: tools.nsc.io.AbstractFile =&gt; Boolean with tools.nsc.io.AbstractFile =&gt; Boolean&gt; extends scala.collection.mutable.HashSet[tools.nsc.io.AbstractFile] with scala.collection.mutable.SynchronizedSet[tools.nsc.io.AbstractFile]" id="scala.tools.nsc.interactive;Global.toBeRemovedAfterRun;$anon">HashSet</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> with <a href="../../../collection/mutable/SynchronizedSet.scala.html#scala.collection.mutable;SynchronizedSet" title="scala.collection.mutable.SynchronizedSet[tools.nsc.io.AbstractFile]">SynchronizedSet</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span>

  class <a title="class ResponseMap extends scala.collection.mutable.HashMap[scala.reflect.internal.util.SourceFile,Set[Global.this.Response[Global.this.Tree]]]" id="scala.tools.nsc.interactive;Global;ResponseMap">ResponseMap</a> extends mutable.<a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap" title="scala.collection.mutable.HashMap[scala.reflect.internal.util.SourceFile,Set[Global.this.Response[Global.this.Tree]]]">HashMap</a><span class="delimiter">[</span>SourceFile, Set<span class="delimiter">[</span>Response<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="(key: scala.reflect.internal.util.SourceFile)Set[Global.this.Response[Global.this.Tree]]" id="scala.tools.nsc.interactive;Global;ResponseMap.default">default</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global;ResponseMap.default.key">key</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[Global.this.Response[Global.this.Tree]]">Set</a><span class="delimiter">[</span>Response<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: Global.this.Response[Global.this.Tree]*)scala.collection.immutable.Set[Global.this.Response[Global.this.Tree]]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
    override def <a title="(binding: (scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]]))ResponseMap.this.type" id="scala.tools.nsc.interactive;Global;ResponseMap.+=(3019272a69)">+=</a> <span class="delimiter">(</span><a title="(scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]])" id="scala.tools.nsc.interactive;Global;ResponseMap.+=(3019272a69).binding">binding</a>: <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]])" class="delimiter">(</a>SourceFile, Set<span class="delimiter">[</span>Response<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.interruptsEnabled_=" title="=&gt; Boolean">interruptsEnabled</a>, <span title="String(&quot;delayed operation within an ask&quot;)" class="string">&quot;delayed operation within an ask&quot;</span><span class="delimiter">)</span>
      super.<a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.+=(612b940fe8)" title="(kv: (scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]]))ResponseMap.this.type">+=</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;ResponseMap.+=(3019272a69).binding" title="(scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]])">binding</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map that associates with each abstract file the set of responses that are waiting
   *  (via waitLoadedTyped) for the unit associated with the abstract file to be loaded and completely typechecked.
   */</span>
  protected val <a title="Global.this.ResponseMap" id="scala.tools.nsc.interactive;Global.waitLoadedTypeResponses">waitLoadedTypeResponses</a> = new <a href="#scala.tools.nsc.interactive;Global;ResponseMap" title="Global.this.ResponseMap">ResponseMap</a>

  <span class="comment">/** A map that associates with each abstract file the set of responses that ware waiting
   *  (via build) for the unit associated with the abstract file to be parsed and entered
   */</span>
  protected var <a title="Global.this.ResponseMap" id="scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=">getParsedEnteredResponses</a> = new <a href="#scala.tools.nsc.interactive;Global;ResponseMap" title="Global.this.ResponseMap">ResponseMap</a>

  private def <a title="(rmap: Global.this.ResponseMap)Unit" id="scala.tools.nsc.interactive;Global.cleanResponses">cleanResponses</a><span class="delimiter">(</span><a title="Global.this.ResponseMap" id="scala.tools.nsc.interactive;Global.cleanResponses.rmap">rmap</a>: <a href="#scala.tools.nsc.interactive;Global;ResponseMap" title="Global.this.ResponseMap">ResponseMap</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    for <span class="delimiter">(</span><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.source">source</a>, <a title="Set[Global.this.Response[Global.this.Tree]]" id="scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.rs">rs</a><span class="delimiter">)</span> &lt;- <a href="#scala.tools.nsc.interactive;Global.cleanResponses.rmap" title="Global.this.ResponseMap">rmap</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: ((scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]])) =&gt; Any)Unit">toList</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      for <span class="delimiter">(</span><a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.$anonfun.r">r</a> &lt;- <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.Response[Global.this.Tree] =&gt; Unit)Unit">rs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.$anonfun.r" title="Global.this.Response[Global.this.Tree]">r</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a> new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;NoSuchUnitError" title="scala.tools.nsc.interactive.NoSuchUnitError">NoSuchUnitError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.source" title="scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.$anonfun.r" title="Global.this.Response[Global.this.Tree]">r</a>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.isComplete" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: scala.reflect.internal.util.SourceFile, value: Set[Global.this.Response[Global.this.Tree]])Unit">rmap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.-(daf7108c0f)" title="(elem: Global.this.Response[Global.this.Tree])scala.collection.immutable.Set[Global.this.Response[Global.this.Tree]]">-=</a> <a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.$anonfun.r" title="Global.this.Response[Global.this.Tree]">r</a>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: scala.reflect.internal.util.SourceFile)Set[Global.this.Response[Global.this.Tree]]">rmap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span>.<a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.cleanResponses.rmap" title="Global.this.ResponseMap">rmap</a> <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.-=(e1f1766304)" title="(key: scala.reflect.internal.util.SourceFile)rmap.type">-=</a> <a href="#scala.tools.nsc.interactive;Global.cleanResponses.$anonfun.source" title="scala.reflect.internal.util.SourceFile">source</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  override lazy val <a title="&lt;refinement of scala.tools.nsc.interactive.InteractiveAnalyzer&gt; extends AnyRef with scala.tools.nsc.interactive.InteractiveAnalyzer" id="scala.tools.nsc.interactive;Global.analyzer">analyzer</a> = new <a title="&lt;$anon: scala.tools.nsc.interactive.InteractiveAnalyzer&gt; extends AnyRef with scala.tools.nsc.interactive.InteractiveAnalyzer" id="scala.tools.nsc.interactive;Global.analyzer;$anon" class="delimiter">{</a>
    val <a title="Global.this.type" id="scala.tools.nsc.interactive;Global.analyzer;$anon.global">global</a>: Global.this.type = <a href="#scala.tools.nsc.interactive.Global" title="Global.this.type">Global</a>.this
  <span class="delimiter">}</span> with <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer" title="scala.tools.nsc.interactive.InteractiveAnalyzer">InteractiveAnalyzer</a>

  private def <a title="()Unit" id="scala.tools.nsc.interactive;Global.cleanAllResponses">cleanAllResponses</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.cleanResponses" title="(rmap: Global.this.ResponseMap)Unit">cleanResponses</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTypeResponses" title="=&gt; Global.this.ResponseMap">waitLoadedTypeResponses</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.cleanResponses" title="(rmap: Global.this.ResponseMap)Unit">cleanResponses</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=" title="=&gt; Global.this.ResponseMap">getParsedEnteredResponses</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(rmap: Global.this.ResponseMap)Unit" id="scala.tools.nsc.interactive;Global.checkNoOutstanding">checkNoOutstanding</a><span class="delimiter">(</span><a title="Global.this.ResponseMap" id="scala.tools.nsc.interactive;Global.checkNoOutstanding.rmap">rmap</a>: <a href="#scala.tools.nsc.interactive;Global;ResponseMap" title="Global.this.ResponseMap">ResponseMap</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> =
    for <span class="delimiter">(</span><span class="delimiter">(</span>_, <a title="Set[Global.this.Response[Global.this.Tree]]" id="scala.tools.nsc.interactive;Global.checkNoOutstanding.$anonfun.rs">rs</a><span class="delimiter">)</span> &lt;- <a href="#scala.tools.nsc.interactive;Global.checkNoOutstanding.rmap" title="Global.this.ResponseMap">rmap</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: ((scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]])) =&gt; Unit)Unit">toList</a>; <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.checkNoOutstanding.$anonfun.$anonfun.r">r</a> &lt;- <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.Response[Global.this.Tree] =&gt; Unit)Unit">rs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;ERROR: missing response, request will be discarded&quot;)" class="string">&quot;ERROR: missing response, request will be discarded&quot;</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.checkNoOutstanding.$anonfun.$anonfun.r" title="Global.this.Response[Global.this.Tree]">r</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a> new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;MissingResponse" title="scala.tools.nsc.interactive.MissingResponse">MissingResponse</a>
    <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.tools.nsc.interactive;Global.checkNoResponsesOutstanding">checkNoResponsesOutstanding</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.checkNoOutstanding" title="(rmap: Global.this.ResponseMap)Unit">checkNoOutstanding</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTypeResponses" title="=&gt; Global.this.ResponseMap">waitLoadedTypeResponses</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.checkNoOutstanding" title="(rmap: Global.this.ResponseMap)Unit">checkNoOutstanding</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=" title="=&gt; Global.this.ResponseMap">getParsedEnteredResponses</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The compilation unit corresponding to a source file
   *  if it does not yet exist create a new one atomically
   *  Note: We want to remove this.
   */</span>
  protected<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(source: scala.reflect.internal.util.SourceFile)Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.getOrCreateUnitOf">getOrCreateUnitOf</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getOrCreateUnitOf.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a><span class="delimiter">)</span>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a> =
    <a href="#scala.tools.nsc.interactive;Global.unitOfFile" title="=&gt; scala.collection.mutable.LinkedHashMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">unitOfFile</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.getOrElse" title="(key: tools.nsc.io.AbstractFile, default: =&gt; Global.this.RichCompilationUnit)Global.this.RichCompilationUnit">getOrElse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getOrCreateUnitOf.source" title="scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>, <span class="delimiter">{</span> <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;precondition violated: &quot;)" class="string">&quot;precondition violated: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getOrCreateUnitOf.source" title="scala.reflect.internal.util.SourceFile">source</a><span title="(x$1: Any)String">+</span><span title="String(&quot; is not loaded&quot;)" class="string">&quot; is not loaded&quot;</span><span class="delimiter">)</span>; new <a href="../../../package.scala.html#scala.package;Exception" title="Exception">Exception</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>; new <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getOrCreateUnitOf.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** Work through toBeRemoved list to remove any units.
   *  Then return optionally unit associated with given source.
   */</span>
  protected<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]" id="scala.tools.nsc.interactive;Global.getUnit">getUnit</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getUnit.s">s</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#scala;Option" title="Option[Global.this.RichCompilationUnit]">Option</a><span class="delimiter">[</span>RichCompilationUnit<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.toBeRemoved" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemoved</a>.<span title="(x$1: Unit)Unit">synchronized</span> <span class="delimiter">{</span>
      for <span class="delimiter">(</span><a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.interactive;Global.getUnit.$anonfun.f">f</a> &lt;- <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: tools.nsc.io.AbstractFile =&gt; Unit)Unit">toBeRemoved</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;removed: &quot;)" class="string">&quot;removed: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getUnit.s" title="scala.reflect.internal.util.SourceFile">s</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.unitOfFile" title="=&gt; scala.collection.mutable.LinkedHashMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">unitOfFile</a> <a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.-=(fecff5bb34)" title="(key: tools.nsc.io.AbstractFile)scala.tools.nsc.interactive.Global.&lt;refinement&gt;.type">-=</a> <a href="#scala.tools.nsc.interactive;Global.getUnit.$anonfun.f" title="tools.nsc.io.AbstractFile">f</a>
        <a href="#scala.tools.nsc.interactive;Global.allSources_=" title="(x$1: List[scala.reflect.internal.util.SourceFile])Unit">allSources</a> = <a href="#scala.tools.nsc.interactive;Global.allSources_=" title="=&gt; List[scala.reflect.internal.util.SourceFile]">allSources</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: scala.reflect.internal.util.SourceFile =&gt; Boolean)List[scala.reflect.internal.util.SourceFile]">filter</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getUnit.$anonfun.$anonfun.x$3" title="scala.reflect.internal.util.SourceFile">_</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.interactive;Global.getUnit.$anonfun.f" title="tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.interactive;Global.toBeRemoved" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemoved</a>.<a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.tools.nsc.interactive;Global.unitOfFile" title="=&gt; scala.collection.mutable.LinkedHashMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">unitOfFile</a> <a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.get" title="(key: tools.nsc.io.AbstractFile)Option[Global.this.RichCompilationUnit]">get</a> <a href="#scala.tools.nsc.interactive;Global.getUnit.s" title="scala.reflect.internal.util.SourceFile">s</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A list giving all files to be typechecked in the order they should be checked.
   */</span>
  protected var <a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.allSources_=">allSources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>

  private var <a title="Option[Throwable]" id="scala.tools.nsc.interactive;Global.lastException_=">lastException</a>: <a href="../../../Option.scala.html#scala;Option" title="Option[Throwable]">Option</a><span class="delimiter">[</span>Throwable<span class="delimiter">]</span> = <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>

  <span class="comment">/** A list of files that crashed the compiler. They will be ignored during background
   *  compilation until they are removed from this list.
   */</span>
  private var <a title="Set[tools.nsc.io.AbstractFile]" id="scala.tools.nsc.interactive;Global.ignoredFiles_=">ignoredFiles</a>: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[tools.nsc.io.AbstractFile]">Set</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: tools.nsc.io.AbstractFile*)scala.collection.immutable.Set[tools.nsc.io.AbstractFile]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Flush the buffer of sources that are ignored during background compilation. */</span>
  def <a title="()Unit" id="scala.tools.nsc.interactive;Global.clearIgnoredFiles">clearIgnoredFiles</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.ignoredFiles_=" title="(x$1: Set[tools.nsc.io.AbstractFile])Unit">ignoredFiles</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: tools.nsc.io.AbstractFile*)scala.collection.immutable.Set[tools.nsc.io.AbstractFile]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Remove a crashed file from the ignore buffer. Background compilation will take it into account
   *  and errors will be reported against it. */</span>
  def <a title="(file: tools.nsc.io.AbstractFile)Unit" id="scala.tools.nsc.interactive;Global.enableIgnoredFile">enableIgnoredFile</a><span class="delimiter">(</span><a title="tools.nsc.io.AbstractFile" id="scala.tools.nsc.interactive;Global.enableIgnoredFile.file">file</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.ignoredFiles_=" title="(x$1: Set[tools.nsc.io.AbstractFile])Unit">ignoredFiles</a> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.-(daf7108c0f)" title="(elem: tools.nsc.io.AbstractFile)scala.collection.immutable.Set[tools.nsc.io.AbstractFile]">-=</a> <a href="#scala.tools.nsc.interactive;Global.enableIgnoredFile.file" title="tools.nsc.io.AbstractFile">file</a>
    <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Removed crashed file %s. Still in the ignored buffer: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.enableIgnoredFile.file" title="tools.nsc.io.AbstractFile">file</a>, <a href="#scala.tools.nsc.interactive;Global.ignoredFiles_=" title="=&gt; Set[tools.nsc.io.AbstractFile]">ignoredFiles</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The currently active typer run */</span>
  private var <a title="Global.this.TyperRun" id="scala.tools.nsc.interactive;Global.currentTyperRun_=">currentTyperRun</a>: <a href="#scala.tools.nsc.interactive;Global;TyperRun" title="Global.this.TyperRun">TyperRun</a> = _
  <a href="#scala.tools.nsc.interactive;Global.newTyperRun" title="()Unit">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Is a background compiler run needed?
   *  Note: outOfDate is true as long as there is a background compile scheduled or going on.
   */</span>
  private var <a title="Boolean" id="scala.tools.nsc.interactive;Global.outOfDate_=">outOfDate</a> = false

  def <a title="=&gt; Boolean" id="scala.tools.nsc.interactive;Global.isOutOfDate">isOutOfDate</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="=&gt; Boolean">outOfDate</a>

  def <a title="()Unit" id="scala.tools.nsc.interactive;Global.demandNewCompilerRun">demandNewCompilerRun</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="=&gt; Boolean">outOfDate</a><span class="delimiter">)</span> throw new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;FreshRunReq" title="scala.tools.nsc.interactive.FreshRunReq">FreshRunReq</a> <span class="comment">// cancel background compile</span>
    else <a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="(x$1: Boolean)Unit">outOfDate</a> = true            <span class="comment">// proceed normally and enable new background compile</span>
  <span class="delimiter">}</span>

  protected<span class="delimiter">[</span>interactive<span class="delimiter">]</span> var <a title="Int" id="scala.tools.nsc.interactive;Global.minRunId_=">minRunId</a> = <span title="Int(1)" class="int">1</span>

  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> var <a title="Boolean" id="scala.tools.nsc.interactive;Global.interruptsEnabled_=">interruptsEnabled</a> = true

  private val <a title="Global.this.Response[_]" id="scala.tools.nsc.interactive;Global.NoResponse">NoResponse</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[_]">Response</a><span class="delimiter">[</span>_<span class="delimiter">]</span> = new <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="scala.tools.nsc.interactive.Response[Any]">Response</a><span class="delimiter">[</span>Any<span class="delimiter">]</span>

  <span class="comment">/** The response that is currently pending, i.e. the compiler
   *  is working on providing an asnwer for it.
   */</span>
  private var <a title="Global.this.Response[_]" id="scala.tools.nsc.interactive;Global.pendingResponse_=">pendingResponse</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[_]">Response</a><span class="delimiter">[</span>_<span class="delimiter">]</span> = <a href="#scala.tools.nsc.interactive;Global.NoResponse" title="=&gt; Global.this.Response[_]">NoResponse</a>

  <span class="comment">// ----------- Overriding hooks in nsc.Global -----------------------</span>

  <span class="comment">/** Called from parser, which signals hereby that a method definition has been parsed.
   */</span>
  override def <a title="(pos: Global.this.Position)Unit" id="scala.tools.nsc.interactive;Global.signalParseProgress">signalParseProgress</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.signalParseProgress.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">// We only want to be interruptible when running on the PC thread.</span>
    if<span class="delimiter">(</span><a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.onCompilerThread" title="=&gt; Boolean">onCompilerThread</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.checkForMoreWork" title="(pos: Global.this.Position)Unit">checkForMoreWork</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalParseProgress.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Called from typechecker, which signals hereby that a node has been completely typechecked.
   *  If the node includes unit.targetPos, abandons run and returns newly attributed tree.
   *  Otherwise, if there's some higher priority work to be done, also abandons run with a FreshRunReq.
   *  @param  context  The context that typechecked the node
   *  @param  old      The original node
   *  @param  result   The transformed node
   */</span>
  override def <a title="(context: Global.this.Context, old: Global.this.Tree, result: Global.this.Tree)Unit" id="scala.tools.nsc.interactive;Global.signalDone">signalDone</a><span class="delimiter">(</span><a title="Global.this.Context" id="scala.tools.nsc.interactive;Global.signalDone.context">context</a>: <a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="Global.this.Context">Context</a>, <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.signalDone.old">old</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a>, <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.signalDone.result">result</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val canObserveTree = <span class="delimiter">(</span>
         <a href="#scala.tools.nsc.interactive;Global.interruptsEnabled_=" title="=&gt; Boolean">interruptsEnabled</a>
      <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global.analyzer" title="=&gt; scala.tools.nsc.interactive.InteractiveAnalyzer{val global: Global.this.type}">analyzer</a>.<a href="../typechecker/Namers.scala.html#scala.tools.nsc.typechecker;Namers.lockedCount" title="=&gt; Int">lockedCount</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>
      <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.nsc.interactive;Global.signalDone.canObserveTree">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.signalDone.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.bufferErrors" title="=&gt; Boolean">bufferErrors</a> <span class="comment">// SI-7558 look away during exploratory typing in &quot;silent mode&quot;</span>
    <span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.canObserveTree" title="Boolean">canObserveTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.unit" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.exists" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#scala.tools.nsc.interactive;Global.signalDone.result" title="Global.this.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;InternalPositionImpl.isOpaqueRange" title="=&gt; Boolean">isOpaqueRange</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.result" title="Global.this.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.Position">pos</a> <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;InternalPositionImpl.includes" title="(pos: scala.reflect.internal.util.Position)Boolean">includes</a> <a href="#scala.tools.nsc.interactive;Global.signalDone.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.unit" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.targetPos" title="=&gt; Global.this.analyzer.global.Position">targetPos</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        var located = new <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions;TypedLocator" title="Global.this.TypedLocator">TypedLocator</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.unit" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.targetPos" title="=&gt; Global.this.analyzer.global.Position">targetPos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions;Locator.locateIn" title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.signalDone.located">locateIn</a> <a href="#scala.tools.nsc.interactive;Global.signalDone.result" title="Global.this.Tree">result</a>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.located" title="Global.this.Tree">located</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;something\'s wrong: no &quot;)" class="string">&quot;something's wrong: no &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.signalDone.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.unit" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a><span title="(x$1: Any)String">+</span><span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.signalDone.result" title="Global.this.Tree">result</a><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.signalDone.result" title="Global.this.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.Position">pos</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.signalDone.located" title="Global.this.Tree">located</a> = <a href="#scala.tools.nsc.interactive;Global.signalDone.result" title="Global.this.Tree">result</a>
        <span class="delimiter">}</span>
        throw new <a href="#scala.tools.nsc.interactive;Global;TyperResult" title="Global.this.TyperResult">TyperResult</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.located" title="Global.this.Tree">located</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      else <span class="delimiter">{</span>
        try <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.checkForMoreWork" title="(pos: Global.this.Position)Unit">checkForMoreWork</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.signalDone.old" title="Global.this.Tree">old</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> catch <span class="delimiter">{</span>
          case <span title="Global.this.ValidateException">ex</span>: <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions;ValidateException" title="Global.this.ValidateException">ValidateException</a> =&gt; <span class="comment">// Ignore, this will have been reported elsewhere</span>
            <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;validate exception caught: &quot;)" class="string">&quot;validate exception caught: &quot;</span><span title="(x$1: Any)String">+</span><span title="Global.this.ValidateException">ex</span><span class="delimiter">)</span>
          case <span title="Throwable">ex</span>: <span title="Throwable">Throwable</span> =&gt;
            <a href="#scala.tools.nsc.interactive;Global.log(a908de84e7)" title="=&gt; scala.tools.nsc.interactive.LogReplay">log</a>.<a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.flush" title="()Unit">flush</a><span class="delimiter">(</span><span class="delimiter">)</span>
            throw <span title="Throwable">ex</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Called from typechecker every time a context is created.
   *  Registers the context in a context tree
   */</span>
  override def <a title="(c: Global.this.Context)Unit" id="scala.tools.nsc.interactive;Global.registerContext">registerContext</a><span class="delimiter">(</span><a title="Global.this.Context" id="scala.tools.nsc.interactive;Global.registerContext.c">c</a>: <a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context" title="Global.this.Context">Context</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.interactive;Global.registerContext.c" title="Global.this.Context">c</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.unit" title="=&gt; Global.this.analyzer.global.CompilationUnit">unit</a> match <span class="delimiter">{</span>
    case <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.registerContext.u">u</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a> =&gt; <a href="ContextTrees.scala.html#scala.tools.nsc.interactive;ContextTrees.addContext(a1a4bfd054)" title="(contexts: Global.this.Contexts, context: Global.this.Context)Unit">addContext</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.registerContext.u" title="Global.this.RichCompilationUnit">u</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.contexts" title="=&gt; Global.this.Contexts">contexts</a>, <a href="#scala.tools.nsc.interactive;Global.registerContext.c" title="Global.this.Context">c</a><span class="delimiter">)</span>
    case _ =&gt;
  <span class="delimiter">}</span>

  <span class="comment">/** The top level classes and objects currently seen in the presentation compiler
   */</span>
  private val <a title="scala.collection.mutable.LinkedHashSet[Global.this.Symbol]" id="scala.tools.nsc.interactive;Global.currentTopLevelSyms">currentTopLevelSyms</a> = new mutable.<a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet" title="scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">LinkedHashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

  <span class="comment">/** The top level classes and objects no longer seen in the presentation compiler
   */</span>
  val <a title="&lt;refinement of Global.this.Symbol =&gt; Boolean with Global.this.Symbol =&gt; Boolean&gt; extends scala.collection.mutable.LinkedHashSet[Global.this.Symbol] with scala.collection.mutable.SynchronizedSet[Global.this.Symbol]" id="scala.tools.nsc.interactive;Global.deletedTopLevelSyms">deletedTopLevelSyms</a> = new <a title="&lt;$anon: Global.this.Symbol =&gt; Boolean with Global.this.Symbol =&gt; Boolean&gt; extends scala.collection.mutable.LinkedHashSet[Global.this.Symbol] with scala.collection.mutable.SynchronizedSet[Global.this.Symbol]" id="scala.tools.nsc.interactive;Global.deletedTopLevelSyms;$anon">mutable</a>.<a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet" title="scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">LinkedHashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> with mutable.<a href="../../../collection/mutable/SynchronizedSet.scala.html#scala.collection.mutable;SynchronizedSet" title="scala.collection.mutable.SynchronizedSet[Global.this.Symbol]">SynchronizedSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

  <span class="comment">/** Called from typechecker every time a top-level class or object is entered.
   */</span>
  override def <a title="(sym: Global.this.Symbol)Unit" id="scala.tools.nsc.interactive;Global.registerTopLevelSym">registerTopLevelSym</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.registerTopLevelSym.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.interactive;Global.currentTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">currentTopLevelSyms</a> <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet.+=(1ef7fe1102)" title="(elem: Global.this.Symbol)Global.this.currentTopLevelSyms.type">+=</a> <a href="#scala.tools.nsc.interactive;Global.registerTopLevelSym.sym" title="Global.this.Symbol">sym</a> <span class="delimiter">}</span>

  protected type <a title="&lt;refinement of scala.tools.nsc.GlobalSymbolLoaders&gt; extends scala.tools.nsc.GlobalSymbolLoaders" id="scala.tools.nsc.interactive;Global;SymbolLoadersInInteractive">SymbolLoadersInInteractive</a> = <a href="#scala.tools.nsc.interactive;Global;<refinement>" title="&lt;refinement of scala.tools.nsc.GlobalSymbolLoaders&gt; extends scala.tools.nsc.GlobalSymbolLoaders">GlobalSymbolLoaders</a> <span class="delimiter">{</span>
    val global: Global.this.type
    val platform: Global.this.platform.type
  <span class="delimiter">}</span>
  <span class="comment">/** Symbol loaders in the IDE parse all source files loaded from a package for
   *  top-level idents. Therefore, we can detect top-level symbols that have a name
   *  different from their source file
   */</span>
  override lazy val <a title="Global.this.SymbolLoadersInInteractive" id="scala.tools.nsc.interactive;Global.loaders">loaders</a>: <a href="#scala.tools.nsc.interactive;Global;<refinement>" title="Global.this.SymbolLoadersInInteractive">SymbolLoadersInInteractive</a> = new <a title="&lt;$anon: scala.tools.nsc.symtab.BrowsingLoaders&gt; extends scala.tools.nsc.symtab.BrowsingLoaders" id="scala.tools.nsc.interactive;Global.loaders;$anon" class="delimiter">{</a>
    val <a title="Global.this.type" id="scala.tools.nsc.interactive;Global.loaders;$anon.global">global</a>: Global.this.type = <a href="#scala.tools.nsc.interactive.Global" title="Global.this.type">Global</a>.this
    val <a title="scala.tools.nsc.Global.&lt;refinement&gt;.type" id="scala.tools.nsc.interactive;Global.loaders;$anon.platform">platform</a>: Global.this.platform.type = <a href="#scala.tools.nsc.interactive.Global" title="Global.this.type">Global</a>.this.<a href="../Global.scala.html#scala.tools.nsc;Global.platform" title="=&gt; Global.this.ThisPlatform">platform</a>
  <span class="delimiter">}</span> with <a href="../symtab/BrowsingLoaders.scala.html#scala.tools.nsc.symtab;BrowsingLoaders" title="scala.tools.nsc.symtab.BrowsingLoaders">BrowsingLoaders</a>

  <span class="comment">// ----------------- Polling ---------------------------------------</span>

  case class <a title="class WorkEvent extends AnyRef with Product with Serializable" id="scala.tools.nsc.interactive;Global.WorkEvent.readResolve">WorkEvent</a><a href="../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="Int" id="scala.tools.nsc.interactive;Global;WorkEvent.atNode">atNode</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Long" id="scala.tools.nsc.interactive;Global;WorkEvent.atMillis">atMillis</a>: <a href="../../../Long.scala.html#scala;Long" title="Long">Long</a><span class="delimiter">)</span>

  private var <a title="Int" id="scala.tools.nsc.interactive;Global.moreWorkAtNode_=">moreWorkAtNode</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a> = -<span title="Int(-1)" class="int">1</span>
  private var <a title="Int" id="scala.tools.nsc.interactive;Global.nodesSeen_=">nodesSeen</a> = <span title="Int(0)" class="int">0</span>
  private var <a title="Boolean" id="scala.tools.nsc.interactive;Global.lastWasReload_=">lastWasReload</a> = false

  <span class="comment">/** The number of pollForWorks after which the presentation compiler yields.
   *  Yielding improves responsiveness on systems with few cores because it
   *  gives the UI thread a chance to get new tasks and interrupt the presentation
   *  compiler with them.
   */</span>
  private final val <a title="Int(10)" id="scala.tools.nsc.interactive;Global.yieldPeriod">yieldPeriod</a> = <span title="Int(10)" class="int">10</span>

  <span class="comment">/** Called from runner thread and signalDone:
   *  Poll for interrupts and execute them immediately.
   *  Then, poll for exceptions and execute them.
   *  Then, poll for work reload/typedTreeAt/doFirst commands during background checking.
   *  @param pos   The position of the tree if polling while typechecking, NoPosition otherwise
   *
   */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(pos: Global.this.Position)Unit" id="scala.tools.nsc.interactive;Global.pollForWork">pollForWork</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.pollForWork.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    var <a title="Boolean" id="scala.tools.nsc.interactive;Global.pollForWork.loop">loop</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true
    while <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.loop" title="Boolean">loop</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../util/control/Breaks.scala.html#scala.util.control;Breaks.breakable" title="(op: =&gt; Unit)Unit">breakable</a><a href="#scala.tools.nsc.interactive;Global.pollForWork.while$1" title="()Unit" class="delimiter">{</a>
        <a href="#scala.tools.nsc.interactive;Global.pollForWork.loop" title="Boolean">loop</a> = false
        if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.interruptsEnabled_=" title="=&gt; Boolean">interruptsEnabled</a><span class="delimiter">)</span> return
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.pos" title="Global.this.Position">pos</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global.nodesSeen_=" title="=&gt; Int">nodesSeen</a> <a href="../../../Int.scala.html#scala;Int.%(1409840560)" title="(x: Int)Int">%</a> <span title="Int(10)">yieldPeriod</span> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          <span title="Thread.type">Thread</span>.<span title="()Unit">`yield`</span><span class="delimiter">(</span><span class="delimiter">)</span>

        def <a title="()Option[Global.this.WorkEvent]" id="scala.tools.nsc.interactive;Global.pollForWork.nodeWithWork">nodeWithWork</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#scala;Option" title="Option[Global.this.WorkEvent]">Option</a><span class="delimiter">[</span>WorkEvent<span class="delimiter">]</span> =
          if <span class="delimiter">(</span><a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#scala.tools.nsc.util;WorkScheduler.moreWork" title="=&gt; Boolean">moreWork</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global.pendingResponse_=" title="=&gt; Global.this.Response[_]">pendingResponse</a>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.isCancelled" title="=&gt; Boolean">isCancelled</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala;Some" title="(x: Global.this.WorkEvent)Some[Global.this.WorkEvent]">Some</a><span class="delimiter">(</span>new <a href="#scala.tools.nsc.interactive;Global.WorkEvent.readResolve" title="Global.this.WorkEvent">WorkEvent</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.nodesSeen_=" title="=&gt; Int">nodesSeen</a>, <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span><span class="delimiter">)</span>
          else <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>

        <a href="#scala.tools.nsc.interactive;Global.nodesSeen_=" title="(x$1: Int)Unit">nodesSeen</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.logreplay(3039e73d00)" title="(event: String, x: =&gt; Option[Global.this.WorkEvent])(implicit evidence$1: scala.tools.nsc.interactive.Pickler[Global.this.WorkEvent])Option[Global.this.WorkEvent]">logreplay</a><a href="Picklers.scala.html#scala.tools.nsc.interactive;Picklers.workEvent" title="=&gt; scala.tools.nsc.interactive.Pickler[Global.this.WorkEvent]" class="delimiter">(</a><span title="String(&quot;atnode&quot;)" class="string">&quot;atnode&quot;</span>, <a href="#scala.tools.nsc.interactive;Global.pollForWork.nodeWithWork" title="()Option[Global.this.WorkEvent]">nodeWithWork</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case Some<span class="delimiter">(</span>WorkEvent<span class="delimiter">(</span><a title="Int" id="scala.tools.nsc.interactive;Global.pollForWork.id">id</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;some work at node &quot;)" class="string">&quot;some work at node &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.id" title="Int">id</a><span title="(x$1: Any)String">+</span><span title="String(&quot; current = &quot;)" class="string">&quot; current = &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.nodesSeen_=" title="=&gt; Int">nodesSeen</a><span class="delimiter">)</span>
          <span class="comment">//        assert(id &gt;= nodesSeen)</span>
          <a href="#scala.tools.nsc.interactive;Global.moreWorkAtNode_=" title="(x$1: Int)Unit">moreWorkAtNode</a> = <a href="#scala.tools.nsc.interactive;Global.pollForWork.id" title="Int">id</a>
          case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
        <span class="delimiter">}</span>

        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.nodesSeen_=" title="=&gt; Int">nodesSeen</a> <a href="../../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <a href="#scala.tools.nsc.interactive;Global.moreWorkAtNode_=" title="=&gt; Int">moreWorkAtNode</a><span class="delimiter">)</span> <span class="delimiter">{</span>

          <a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.logreplay(3039e73d00)" title="(event: String, x: =&gt; Option[scala.tools.nsc.util.InterruptReq])(implicit evidence$1: scala.tools.nsc.interactive.Pickler[scala.tools.nsc.util.InterruptReq])Option[scala.tools.nsc.util.InterruptReq]">logreplay</a><a href="Picklers.scala.html#scala.tools.nsc.interactive;Picklers.interruptReq" title="=&gt; scala.tools.nsc.interactive.Pickler[scala.tools.nsc.util.InterruptReq]" class="delimiter">(</a><span title="String(&quot;asked&quot;)" class="string">&quot;asked&quot;</span>, <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#scala.tools.nsc.util;WorkScheduler.pollInterrupt" title="()Option[scala.tools.nsc.util.InterruptReq]">pollInterrupt</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="scala.tools.nsc.util.InterruptReq" id="scala.tools.nsc.interactive;Global.pollForWork.ir">ir</a><span class="delimiter">)</span> =&gt;
              try <span class="delimiter">{</span>
                <a href="#scala.tools.nsc.interactive;Global.interruptsEnabled_=" title="(x$1: Boolean)Unit">interruptsEnabled</a> = false
                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;ask started&quot;)" class="string">&quot;ask started&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.timeStep" title="=&gt; String">timeStep</a><span class="delimiter">)</span>
                <a href="#scala.tools.nsc.interactive;Global.pollForWork.ir" title="scala.tools.nsc.util.InterruptReq">ir</a>.<a href="../util/InterruptReq.scala.html#scala.tools.nsc.util;InterruptReq.execute" title="()Unit">execute</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> finally <span class="delimiter">{</span>
                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;ask finished&quot;)" class="string">&quot;ask finished&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.timeStep" title="=&gt; String">timeStep</a><span class="delimiter">)</span>
                <a href="#scala.tools.nsc.interactive;Global.interruptsEnabled_=" title="(x$1: Boolean)Unit">interruptsEnabled</a> = true
              <span class="delimiter">}</span>
            <a href="#scala.tools.nsc.interactive;Global.pollForWork.loop" title="Boolean">loop</a> = true; <a href="../../../util/control/Breaks.scala.html#scala.util.control;Breaks.break" title="()Nothing">break</a>
            case _ =&gt;
          <span class="delimiter">}</span>

          if <span class="delimiter">(</span><a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.logreplay(e544a181e0)" title="(event: String, x: =&gt; Boolean)Boolean">logreplay</a><span class="delimiter">(</span><span title="String(&quot;cancelled&quot;)" class="string">&quot;cancelled&quot;</span>, <a href="#scala.tools.nsc.interactive;Global.pendingResponse_=" title="=&gt; Global.this.Response[_]">pendingResponse</a>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.isCancelled" title="=&gt; Boolean">isCancelled</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            throw <a href="#scala.tools.nsc.interactive.CancelException.readResolve" title="scala.tools.nsc.interactive.CancelException.type">CancelException</a>
          <span class="delimiter">}</span>

          <a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.logreplay(3039e73d00)" title="(event: String, x: =&gt; Option[Throwable])(implicit evidence$1: scala.tools.nsc.interactive.Pickler[Throwable])Option[Throwable]">logreplay</a><a href="Picklers.scala.html#scala.tools.nsc.interactive;Picklers.throwable" title="=&gt; scala.tools.nsc.interactive.Pickler[Throwable]" class="delimiter">(</a><span title="String(&quot;exception thrown&quot;)" class="string">&quot;exception thrown&quot;</span>, <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#scala.tools.nsc.util;WorkScheduler.pollThrowable" title="()Option[Throwable]">pollThrowable</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>: <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;FreshRunReq" title="scala.tools.nsc.interactive.FreshRunReq">FreshRunReq</a><span class="delimiter">)</span> =&gt;
              <a href="#scala.tools.nsc.interactive;Global.newTyperRun" title="()Unit">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.interactive;Global.minRunId_=" title="(x$1: Int)Unit">minRunId</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.currentRunId" title="=&gt; Int">currentRunId</a>
            <a href="#scala.tools.nsc.interactive;Global.demandNewCompilerRun" title="()Unit">demandNewCompilerRun</a><span class="delimiter">(</span><span class="delimiter">)</span>

            case Some<span class="delimiter">(</span><a href="CompilerControl.scala.html#scala.tools.nsc.interactive.ShutdownReq" title="scala.tools.nsc.interactive.ShutdownReq.type">ShutdownReq</a><span class="delimiter">)</span> =&gt;
              <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<span title="(x$1: Nothing)Nothing">synchronized</span> <span class="delimiter">{</span> <span class="comment">// lock the work queue so no more items are posted while we clean it up</span>
                val <a title="Seq[Unit]" id="scala.tools.nsc.interactive;Global.pollForWork.units">units</a> = <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#scala.tools.nsc.util;WorkScheduler.dequeueAll" title="(f: (() =&gt; Unit) =&gt; Option[Unit])Seq[Unit]">dequeueAll</a> <a href="#scala.tools.nsc.interactive;Global.pollForWork.units.$anonfun.x0$1" title="Some[Unit]" class="delimiter">{</a>
                  case <a title="Global.this.WorkItem" id="scala.tools.nsc.interactive;Global.pollForWork.units.$anonfun.item">item</a>: <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;WorkItem" title="Global.this.WorkItem">WorkItem</a> =&gt; <a href="../../../Option.scala.html#scala;Some" title="(x: Unit)Some[Unit]">Some</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.units.$anonfun.item" title="Global.this.WorkItem">item</a>.<a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;WorkItem.raiseMissing" title="()Unit">raiseMissing</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  case _ =&gt; <a href="../../../Option.scala.html#scala;Some" title="(x: Unit)Some[Unit]">Some</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>

                <span class="comment">// don't forget to service interrupt requests</span>
                <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#scala.tools.nsc.util;WorkScheduler.dequeueAllInterrupts" title="(f: scala.tools.nsc.util.InterruptReq =&gt; Unit)Unit">dequeueAllInterrupts</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.$anonfun.x$4" title="scala.tools.nsc.util.InterruptReq">_</a>.<a href="../util/InterruptReq.scala.html#scala.tools.nsc.util;InterruptReq.execute" title="()Unit">execute</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;ShutdownReq: cleaning work queue (%d items)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.units" title="Seq[Unit]">units</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Cleanup up responses (%d loadedType pending, %d parsedEntered pending)&quot;</a>
                         .<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTypeResponses" title="=&gt; Global.this.ResponseMap">waitLoadedTypeResponses</a>.<a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.size" title="=&gt; Int">size</a>, <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=" title="=&gt; Global.this.ResponseMap">getParsedEnteredResponses</a>.<a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#scala.tools.nsc.interactive;Global.checkNoResponsesOutstanding" title="()Unit">checkNoResponsesOutstanding</a><span class="delimiter">(</span><span class="delimiter">)</span>

                <a href="#scala.tools.nsc.interactive;Global.log(a908de84e7)" title="=&gt; scala.tools.nsc.interactive.LogReplay">log</a>.<a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.flush" title="()Unit">flush</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler_=" title="(x$1: scala.tools.nsc.util.WorkScheduler)Unit">scheduler</a> = new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;NoWorkScheduler" title="Global.this.NoWorkScheduler">NoWorkScheduler</a>
                throw <a href="CompilerControl.scala.html#scala.tools.nsc.interactive.ShutdownReq" title="scala.tools.nsc.interactive.ShutdownReq.type">ShutdownReq</a>
              <span class="delimiter">}</span>

            case Some<span class="delimiter">(</span><span title="Throwable">ex</span>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.interactive;Global.log(a908de84e7)" title="=&gt; scala.tools.nsc.interactive.LogReplay">log</a>.<a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.flush" title="()Unit">flush</a><span class="delimiter">(</span><span class="delimiter">)</span>; throw <span title="Throwable">ex</span>
            case _ =&gt;
          <span class="delimiter">}</span>

          <a href="#scala.tools.nsc.interactive;Global.lastWasReload_=" title="(x$1: Boolean)Unit">lastWasReload</a> = false

          <a href="Replayer.scala.html#scala.tools.nsc.interactive;LogReplay.logreplay(3039e73d00)" title="(event: String, x: =&gt; Option[() =&gt; Unit])(implicit evidence$1: scala.tools.nsc.interactive.Pickler[() =&gt; Unit])Option[() =&gt; Unit]">logreplay</a><a href="Picklers.scala.html#scala.tools.nsc.interactive;Picklers.action" title="=&gt; scala.tools.nsc.interactive.Pickler[() =&gt; Unit]" class="delimiter">(</a><span title="String(&quot;workitem&quot;)" class="string">&quot;workitem&quot;</span>, <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.scheduler" title="=&gt; scala.tools.nsc.util.WorkScheduler">scheduler</a>.<a href="../util/WorkScheduler.scala.html#scala.tools.nsc.util;WorkScheduler.nextWorkItem" title="()Option[() =&gt; Unit]">nextWorkItem</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case Some<span class="delimiter">(</span><a title="() =&gt; Unit" id="scala.tools.nsc.interactive;Global.pollForWork.action">action</a><span class="delimiter">)</span> =&gt;
              try <span class="delimiter">{</span>
                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;picked up work item at &quot;)" class="string">&quot;picked up work item at &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.pos" title="Global.this.Position">pos</a><span title="(x$1: Any)String">+</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.action" title="() =&gt; Unit">action</a><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.timeStep" title="=&gt; String">timeStep</a><span class="delimiter">)</span>
                <a href="../../../Function0.scala.html#scala;Function0.apply" title="()Unit">action</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;done with work item: &quot;)" class="string">&quot;done with work item: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.action" title="() =&gt; Unit">action</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> finally <span class="delimiter">{</span>
                <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;quitting work item: &quot;)" class="string">&quot;quitting work item: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.pollForWork.action" title="() =&gt; Unit">action</a><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.timeStep" title="=&gt; String">timeStep</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  protected def <a title="(pos: Global.this.Position)Unit" id="scala.tools.nsc.interactive;Global.checkForMoreWork">checkForMoreWork</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.checkForMoreWork.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Global.this.TyperRun" id="scala.tools.nsc.interactive;Global.checkForMoreWork.typerRun">typerRun</a> = <a href="#scala.tools.nsc.interactive;Global.currentTyperRun_=" title="=&gt; Global.this.TyperRun">currentTyperRun</a>
    <a href="#scala.tools.nsc.interactive;Global.pollForWork" title="(pos: Global.this.Position)Unit">pollForWork</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.checkForMoreWork.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.checkForMoreWork.typerRun" title="Global.this.TyperRun">typerRun</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.interactive;Global.currentTyperRun_=" title="=&gt; Global.this.TyperRun">currentTyperRun</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.demandNewCompilerRun" title="()Unit">demandNewCompilerRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// ----------------- The Background Runner Thread -----------------------</span>

  private var <a title="Int" id="scala.tools.nsc.interactive;Global.threadId_=">threadId</a> = <span title="Int(0)" class="int">0</span>

  <span class="comment">/** The current presentation compiler runner */</span>
  @volatile private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> var <a title="Thread" id="scala.tools.nsc.interactive;Global.compileRunner_=">compileRunner</a>: <span title="Thread">Thread</span> = <a href="#scala.tools.nsc.interactive;Global.newRunnerThread" title="()Thread">newRunnerThread</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Check that the currenyly executing thread is the presentation compiler thread.
   *
   *  Compiler initialization may happen on a different thread (signalled by globalPhase being NoPhase)
   */</span>
  @elidable<span class="delimiter">(</span>elidable.WARNING<span class="delimiter">)</span>
  override def <a title="()Unit" id="scala.tools.nsc.interactive;Global.assertCorrectThread">assertCorrectThread</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../Global.scala.html#scala.tools.nsc;Global.assert(0f40bc559c)" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.initializing" title="=&gt; Boolean">initializing</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.onCompilerThread" title="=&gt; Boolean">onCompilerThread</a>,
        <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Race condition detected: You are running a presentation compiler method outside the PC thread.[phase: %s]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.globalPhase" title="=&gt; scala.tools.nsc.Phase">globalPhase</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
        <span title="String(&quot; Please file a ticket with the current stack trace at https://www.assembla.com/spaces/scala-ide/support/tickets&quot;)" class="string">&quot; Please file a ticket with the current stack trace at https://www.assembla.com/spaces/scala-ide/support/tickets&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Create a new presentation compiler runner.
   */</span>
  private def <a title="()Thread" id="scala.tools.nsc.interactive;Global.newRunnerThread">newRunnerThread</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Thread">Thread</span> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.threadId_=" title="(x$1: Int)Unit">threadId</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <a href="#scala.tools.nsc.interactive;Global.compileRunner_=" title="(x$1: Thread)Unit">compileRunner</a> = new <a href="PresentationCompilerThread.scala.html#scala.tools.nsc.interactive;PresentationCompilerThread" title="scala.tools.nsc.interactive.PresentationCompilerThread">PresentationCompilerThread</a><span class="delimiter">(</span>this, <a href="#scala.tools.nsc.interactive.Global.<init>$default$3" title="String">projectName</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.compileRunner_=" title="=&gt; Thread">compileRunner</a>.<span title="(x$1: Boolean)Unit">setDaemon</span><span class="delimiter">(</span>true<span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.compileRunner_=" title="=&gt; Thread">compileRunner</a>
  <span class="delimiter">}</span>

  private def <a title="(unit: Global.this.RichCompilationUnit)Unit" id="scala.tools.nsc.interactive;Global.ensureUpToDate">ensureUpToDate</a><span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.ensureUpToDate.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span> =
    if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.ensureUpToDate.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.isUpToDate" title="=&gt; Boolean">isUpToDate</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global.ensureUpToDate.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status" title="=&gt; Int">status</a> <a href="../../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(-1)">JustParsed</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.reset" title="(unit: Global.this.RichCompilationUnit)Unit">reset</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.ensureUpToDate.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span> <span class="comment">// reparse previously typechecked units.</span>

  <span class="comment">/** Compile all loaded source files in the order given by `allSources`.
   */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> final def <a title="()Unit" id="scala.tools.nsc.interactive;Global.backgroundCompile">backgroundCompile</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;Starting new presentation compiler type checking pass&quot;)" class="string">&quot;Starting new presentation compiler type checking pass&quot;</span><span class="delimiter">)</span>
    <a href="../Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter.reset" title="()Unit">reset</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// remove any files in first that are no longer maintained by presentation compiler (i.e. closed)</span>
    <a href="#scala.tools.nsc.interactive;Global.allSources_=" title="(x$1: List[scala.reflect.internal.util.SourceFile])Unit">allSources</a> = <a href="#scala.tools.nsc.interactive;Global.allSources_=" title="=&gt; List[scala.reflect.internal.util.SourceFile]">allSources</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: scala.reflect.internal.util.SourceFile =&gt; Boolean)List[scala.reflect.internal.util.SourceFile]">filter</a> <span class="delimiter">(</span><span title="scala.reflect.internal.util.SourceFile">s</span> =&gt; <a href="#scala.tools.nsc.interactive;Global.unitOfFile" title="=&gt; scala.collection.mutable.LinkedHashMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit] with scala.collection.mutable.SynchronizedMap[tools.nsc.io.AbstractFile,Global.this.RichCompilationUnit]">unitOfFile</a> <a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.contains" title="(key: tools.nsc.io.AbstractFile)Boolean">contains</a> <span class="delimiter">(</span><span title="scala.reflect.internal.util.SourceFile">s</span>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">// ensure all loaded units are parsed</span>
    for <span class="delimiter">(</span><span title="scala.reflect.internal.util.SourceFile">s</span> &lt;- <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: scala.reflect.internal.util.SourceFile =&gt; Unit)Unit">allSources</a>; <span title="Global.this.RichCompilationUnit">unit</span> &lt;- <a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><a href="../../../Option.scala.html#scala;Option.foreach" title="(f: Global.this.RichCompilationUnit =&gt; Unit)Unit" class="delimiter">(</a><span title="scala.reflect.internal.util.SourceFile">s</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// checkForMoreWork(NoPosition)  // disabled, as any work done here would be in an inconsistent state</span>
      <a href="#scala.tools.nsc.interactive;Global.ensureUpToDate" title="(unit: Global.this.RichCompilationUnit)Unit">ensureUpToDate</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.parseAndEnter" title="(unit: Global.this.RichCompilationUnit)Unit">parseAndEnter</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered" title="()Unit">serviceParsedEntered</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// sleep window</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.afterTypeDelay" title="=&gt; Int">afterTypeDelay</a> <a href="../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global.lastWasReload_=" title="=&gt; Boolean">lastWasReload</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val limit = <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#scala;Long.+(cfb0bf761c)" title="Long" id="scala.tools.nsc.interactive;Global.backgroundCompile.limit">+</a> <a href="#scala.tools.nsc.interactive;Global.afterTypeDelay" title="=&gt; Int">afterTypeDelay</a>
      while <span class="delimiter">(</span><span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#scala;Long.<(2dca8a685a)" title="(x: Long)Boolean">&lt;</a> <a href="#scala.tools.nsc.interactive;Global.backgroundCompile.limit" title="Long">limit</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.backgroundCompile.while$2" title="()Unit" class="delimiter">{</a>
        <span title="Thread.type">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><span class="delimiter">(</span><span title="Long(10L)">SleepTime</span><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.checkForMoreWork" title="(pos: Global.this.Position)Unit">checkForMoreWork</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// ensure all loaded units are typechecked</span>
    for <span class="delimiter">(</span><span title="scala.reflect.internal.util.SourceFile">s</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: scala.reflect.internal.util.SourceFile =&gt; Unit)Unit">allSources</a>; if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: tools.nsc.io.AbstractFile)Boolean">ignoredFiles</a><span class="delimiter">(</span><span title="scala.reflect.internal.util.SourceFile">s</span>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span>; <span title="Global.this.RichCompilationUnit">unit</span> &lt;- <a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><a href="../../../Option.scala.html#scala;Option.foreach" title="(f: Global.this.RichCompilationUnit =&gt; Unit)Unit" class="delimiter">(</a><span title="scala.reflect.internal.util.SourceFile">s</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      try <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span title="Global.this.RichCompilationUnit">unit</span>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.isUpToDate" title="=&gt; Boolean">isUpToDate</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.problems" title="=&gt; scala.collection.mutable.ArrayBuffer[scala.tools.nsc.interactive.Problem]">problems</a>.<a href="../../../collection/IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.isEmpty" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">YpresentationStrict</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.interactive;Global.typeCheck" title="(unit: Global.this.RichCompilationUnit)Unit">typeCheck</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span><span class="delimiter">)</span>
          else <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has syntax errors. Skipped typechecking&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span><span class="delimiter">)</span><span class="delimiter">)</span>
        else <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;already up to date: &quot;)" class="string">&quot;already up to date: &quot;</span><span title="(x$1: Any)String">+</span><span title="Global.this.RichCompilationUnit">unit</span><span class="delimiter">)</span>
        for <span class="delimiter">(</span><span title="Global.this.Response[Global.this.Tree]">r</span> &lt;- <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: scala.reflect.internal.util.SourceFile)Set[Global.this.Response[Global.this.Tree]]">waitLoadedTypeResponses</a><a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.Response[Global.this.Tree] =&gt; Unit)Unit" class="delimiter">(</a><span title="Global.this.RichCompilationUnit">unit</span>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Global.this.Response[Global.this.Tree]">r</span> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.set" title="(x: Global.this.Tree)Unit">set</a> <span title="Global.this.RichCompilationUnit">unit</span>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a>
        <a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered" title="()Unit">serviceParsedEntered</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> catch <span class="delimiter">{</span>
        case <span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>: <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;FreshRunReq" title="scala.tools.nsc.interactive.FreshRunReq">FreshRunReq</a> =&gt; throw <span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>           <span class="comment">// propagate a new run request</span>
        case <a href="CompilerControl.scala.html#scala.tools.nsc.interactive.ShutdownReq" title="scala.tools.nsc.interactive.ShutdownReq.type">ShutdownReq</a>     =&gt; throw <a href="CompilerControl.scala.html#scala.tools.nsc.interactive.ShutdownReq" title="scala.tools.nsc.interactive.ShutdownReq.type">ShutdownReq</a>  <span class="comment">// propagate a shutdown request</span>
        case <span title="scala.util.control.ControlThrowable">ex</span>: <a href="../../../util/control/ControlThrowable.scala.html#scala.util.control;ControlThrowable" title="scala.util.control.ControlThrowable">ControlThrowable</a> =&gt; throw <span title="scala.util.control.ControlThrowable">ex</span>
        case <span title="Throwable">ex</span>: <span title="Throwable">Throwable</span> =&gt;
          <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s]: exception during background compile: &quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="Throwable">ex</span><span class="delimiter">)</span>
          <span title="Throwable">ex</span>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
          for <span class="delimiter">(</span><span title="Global.this.Response[Global.this.Tree]">r</span> &lt;- <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.apply" title="(key: scala.reflect.internal.util.SourceFile)Set[Global.this.Response[Global.this.Tree]]">waitLoadedTypeResponses</a><a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.Response[Global.this.Tree] =&gt; Unit)Unit" class="delimiter">(</a><span title="Global.this.RichCompilationUnit">unit</span>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Global.this.Response[Global.this.Tree]">r</span>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a><span class="delimiter">(</span><span title="Throwable">ex</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered" title="()Unit">serviceParsedEntered</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <a href="#scala.tools.nsc.interactive;Global.lastException_=" title="(x$1: Option[Throwable])Unit">lastException</a> = <a href="../../../Option.scala.html#scala;Some" title="(x: Throwable)Some[Throwable]">Some</a><span class="delimiter">(</span><span title="Throwable">ex</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.ignoredFiles_=" title="(x$1: Set[tools.nsc.io.AbstractFile])Unit">ignoredFiles</a> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.+(daf7108c0f)" title="(elem: tools.nsc.io.AbstractFile)scala.collection.immutable.Set[tools.nsc.io.AbstractFile]">+=</a> <span title="Global.this.RichCompilationUnit">unit</span>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>
          <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[%s] marking unit as crashed (crashedFiles: %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span>, <a href="#scala.tools.nsc.interactive;Global.ignoredFiles_=" title="=&gt; Set[tools.nsc.io.AbstractFile]">ignoredFiles</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.error" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><span title="Global.this.RichCompilationUnit">unit</span>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.Position">pos</a>, <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Presentation compiler crashed while type checking this file: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><span title="Throwable">ex</span>.<span title="()String">toString</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// move units removable after this run to the &quot;to-be-removed&quot; buffer</span>
    <a href="#scala.tools.nsc.interactive;Global.toBeRemoved" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemoved</a> <a href="../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[tools.nsc.io.AbstractFile])Global.this.toBeRemoved.type">++=</a> <a href="#scala.tools.nsc.interactive;Global.toBeRemovedAfterRun" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemovedAfterRun</a>

    <span class="comment">// clean out stale waiting responses</span>
    <a href="#scala.tools.nsc.interactive;Global.cleanAllResponses" title="()Unit">cleanAllResponses</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// wind down</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTypeResponses" title="=&gt; Global.this.ResponseMap">waitLoadedTypeResponses</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=" title="=&gt; Global.this.ResponseMap">getParsedEnteredResponses</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// need another cycle to treat those</span>
      <a href="#scala.tools.nsc.interactive;Global.newTyperRun" title="()Unit">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.backgroundCompile" title="()Unit">backgroundCompile</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="(x$1: Boolean)Unit">outOfDate</a> = false
      <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;Everything is now up to date&quot;)" class="string">&quot;Everything is now up to date&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Service all pending getParsedEntered requests
   */</span>
  private def <a title="()Unit" id="scala.tools.nsc.interactive;Global.serviceParsedEntered">serviceParsedEntered</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    var <a title="Boolean" id="scala.tools.nsc.interactive;Global.serviceParsedEntered.atOldRun">atOldRun</a> = true
    for <span class="delimiter">(</span><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.serviceParsedEntered.$anonfun.source">source</a>, <a title="Set[Global.this.Response[Global.this.Tree]]" id="scala.tools.nsc.interactive;Global.serviceParsedEntered.$anonfun.rs">rs</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: ((scala.reflect.internal.util.SourceFile, Set[Global.this.Response[Global.this.Tree]])) =&gt; Unit)Unit">getParsedEnteredResponses</a>; <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.serviceParsedEntered.$anonfun.$anonfun.r">r</a> &lt;- <a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.Response[Global.this.Tree] =&gt; Unit)Unit">rs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered.atOldRun" title="Boolean">atOldRun</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.interactive;Global.newTyperRun" title="()Unit">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered.atOldRun" title="Boolean">atOldRun</a> = false <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow" title="(source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Tree])Unit">getParsedEnteredNow</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered.$anonfun.source" title="scala.reflect.internal.util.SourceFile">source</a>, <a href="#scala.tools.nsc.interactive;Global.serviceParsedEntered.$anonfun.$anonfun.r" title="Global.this.Response[Global.this.Tree]">r</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=" title="=&gt; Global.this.ResponseMap">getParsedEnteredResponses</a>.<a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Reset unit to unloaded state */</span>
  private def <a title="(unit: Global.this.RichCompilationUnit)Unit" id="scala.tools.nsc.interactive;Global.reset">reset</a><span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.reset.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.depends" title="=&gt; scala.collection.mutable.HashSet[Global.this.Symbol]">depends</a>.<a href="../../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.defined" title="=&gt; scala.collection.mutable.HashSet[Global.this.Symbol]">defined</a>.<a href="../../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics" title="unit.synthetics.type">synthetics</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.synthetics.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.toCheck" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.checkedFeatures_=" title="(x$1: scala.collection.immutable.Set[Global.this.Symbol])Unit">checkedFeatures</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: Global.this.Symbol*)scala.collection.immutable.Set[Global.this.Symbol]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.targetPos_=" title="(p: Global.this.Position)Unit">targetPos</a> = <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.contexts" title="=&gt; Global.this.Contexts">contexts</a>.<a href="../../../collection/mutable/ArrayBuffer.scala.html#scala.collection.mutable;ArrayBuffer.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.problems" title="=&gt; scala.collection.mutable.ArrayBuffer[scala.tools.nsc.interactive.Problem]">problems</a>.<a href="../../../collection/mutable/ArrayBuffer.scala.html#scala.collection.mutable;ArrayBuffer.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body_=" title="(x$1: Global.this.Tree)Unit">body</a> = <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status_=" title="(x$1: Int)Unit">status</a> = <span title="Int(-2)">NotLoaded</span>
    <a href="#scala.tools.nsc.interactive;Global.reset.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.transformed" title="=&gt; scala.collection.mutable.AnyRefMap[Global.this.Tree,Global.this.Tree]">transformed</a>.<a href="../../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Parse unit and create a name index, unless this has already been done before */</span>
  private def <a title="(unit: Global.this.RichCompilationUnit)Unit" id="scala.tools.nsc.interactive;Global.parseAndEnter">parseAndEnter</a><span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.parseAndEnter.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> =
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status" title="=&gt; Int">status</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(-2)">NotLoaded</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;parsing: &quot;)" class="string">&quot;parsing: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.currentTyperRun_=" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="../Global.scala.html#scala.tools.nsc;Global;Run.compileLate(fd63475fde)" title="(unit: Global.this.CompilationUnit)Unit">compileLate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.debugIDE" title="=&gt; Boolean">debugIDE</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter.hasErrors" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.validatePositions" title="(tree: Global.this.Tree)Unit">validatePositions</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.isJava" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms" title="(unit: Global.this.RichCompilationUnit)Unit">syncTopLevelSyms</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.parseAndEnter.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status_=" title="(x$1: Int)Unit">status</a> = <span title="Int(-1)">JustParsed</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Make sure unit is typechecked
   */</span>
  private def <a title="(unit: Global.this.RichCompilationUnit)Unit" id="scala.tools.nsc.interactive;Global.typeCheck">typeCheck</a><span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.typeCheck.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;type checking: &quot;)" class="string">&quot;type checking: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.parseAndEnter" title="(unit: Global.this.RichCompilationUnit)Unit">parseAndEnter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status_=" title="(x$1: Int)Unit">status</a> = <span title="Int(0)">PartiallyChecked</span>
    <a href="#scala.tools.nsc.interactive;Global.currentTyperRun_=" title="=&gt; Global.this.TyperRun">currentTyperRun</a>.<a href="#scala.tools.nsc.interactive;Global;TyperRun.typeCheck" title="(unit: Global.this.CompilationUnit)Unit">typeCheck</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.lastBody_=" title="(x$1: Global.this.Tree)Unit">lastBody</a> = <a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a>
    <a href="#scala.tools.nsc.interactive;Global.typeCheck.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status_=" title="(x$1: Int)Unit">status</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.currentRunId" title="=&gt; Int">currentRunId</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Update deleted and current top-level symbols sets */</span>
  def <a title="(unit: Global.this.RichCompilationUnit)Unit" id="scala.tools.nsc.interactive;Global.syncTopLevelSyms">syncTopLevelSyms</a><span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.syncTopLevelSyms.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val deleted = <a href="#scala.tools.nsc.interactive;Global.currentTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">currentTopLevelSyms</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="scala.collection.mutable.LinkedHashSet[Global.this.Symbol]" id="scala.tools.nsc.interactive;Global.syncTopLevelSyms.deleted">filter</a> <span class="delimiter">{</span> <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.syncTopLevelSyms.deleted.$anonfun.sym">sym</a> =&gt;
      <span class="comment">/** We sync after namer phase and it resets all the top-level symbols
       *  that survive the new parsing
       *  round to NoPeriod.
       */</span>
      <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.deleted.$anonfun.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.sourceFile" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.deleted.$anonfun.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.validTo" title="=&gt; Global.this.Period">validTo</a> <a href="../../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)">NoPeriod</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.runId" title="(period: Global.this.Period)Global.this.RunId">runId</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.deleted.$anonfun.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.validTo" title="=&gt; Global.this.Period">validTo</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="../Global.scala.html#scala.tools.nsc;Global.currentRunId" title="=&gt; Int">currentRunId</a>
    <span class="delimiter">}</span>
    for <span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.syncTopLevelSyms.$anonfun.d">d</a> &lt;- <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet.foreach" title="(f: Global.this.Symbol =&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol])Unit">deleted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.$anonfun.d" title="Global.this.Symbol">d</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Global.this.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; Global.this.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.unlink(f75a85baae)" title="(sym: Global.this.Symbol)Unit">unlink</a> <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.$anonfun.d" title="Global.this.Symbol">d</a>
      <a href="#scala.tools.nsc.interactive;Global.deletedTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol] with scala.collection.mutable.SynchronizedSet[Global.this.Symbol]">deletedTopLevelSyms</a> <a href="../../../collection/mutable/SynchronizedSet.scala.html#scala.collection.mutable;SynchronizedSet.+=(8aa414f49f)" title="(elem: Global.this.Symbol)scala.tools.nsc.interactive.Global.&lt;refinement&gt;.type">+=</a> <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.$anonfun.d" title="Global.this.Symbol">d</a>
      <a href="#scala.tools.nsc.interactive;Global.currentTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">currentTopLevelSyms</a> <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet.-=(1ef7fe1102)" title="(elem: Global.this.Symbol)Global.this.currentTopLevelSyms.type">-=</a> <a href="#scala.tools.nsc.interactive;Global.syncTopLevelSyms.$anonfun.d" title="Global.this.Symbol">d</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Move list of files to front of allSources */</span>
  def <a title="(fs: List[scala.reflect.internal.util.SourceFile])Unit" id="scala.tools.nsc.interactive;Global.moveToFront">moveToFront</a><span class="delimiter">(</span><a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.moveToFront.fs">fs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.allSources_=" title="(x$1: List[scala.reflect.internal.util.SourceFile])Unit">allSources</a> = <a href="#scala.tools.nsc.interactive;Global.moveToFront.fs" title="List[scala.reflect.internal.util.SourceFile]">fs</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.:::" title="(prefix: List[scala.reflect.internal.util.SourceFile])List[scala.reflect.internal.util.SourceFile]">:::</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.allSources_=" title="=&gt; List[scala.reflect.internal.util.SourceFile]">allSources</a> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.diff" title="(that: scala.collection.GenSeq[scala.reflect.internal.util.SourceFile])List[scala.reflect.internal.util.SourceFile]">diff</a> <a href="#scala.tools.nsc.interactive;Global.moveToFront.fs" title="List[scala.reflect.internal.util.SourceFile]">fs</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// ----------------- Implementations of client commands -----------------------</span>

  def <a title="[T](result: Global.this.Response[T])(op: =&gt; T)Unit" id="scala.tools.nsc.interactive;Global.respond">respond</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.interactive;Global.respond;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Global.this.Response[T]" id="scala.tools.nsc.interactive;Global.respond.result">result</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[T]">Response</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="scala.tools.nsc.interactive;Global.respond.op">op</a>: =&gt; T<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> =
    <a href="#scala.tools.nsc.interactive;Global.respondGradually" title="(response: Global.this.Response[T])(op: =&gt; Stream[T])Unit">respondGradually</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.respond.result" title="Global.this.Response[T]">result</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable.Stream.apply" title="(xs: T*)scala.collection.immutable.Stream[T]">Stream</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.respond.op" title="=&gt; T">op</a><span class="delimiter">)</span><span class="delimiter">)</span>

  def <a title="[T](response: Global.this.Response[T])(op: =&gt; Stream[T])Unit" id="scala.tools.nsc.interactive;Global.respondGradually">respondGradually</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.interactive;Global.respondGradually;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Global.this.Response[T]" id="scala.tools.nsc.interactive;Global.respondGradually.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[T]">Response</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Stream[T]" id="scala.tools.nsc.interactive;Global.respondGradually.op">op</a>: =&gt; Stream<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    val <a title="scala.tools.nsc.interactive.Response[_]" id="scala.tools.nsc.interactive;Global.respondGradually.prevResponse">prevResponse</a> = <a href="#scala.tools.nsc.interactive;Global.pendingResponse_=" title="=&gt; Global.this.Response[_]">pendingResponse</a>
    try <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.pendingResponse_=" title="(x$1: Global.this.Response[_])Unit">pendingResponse</a> = <a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a>
      if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.isCancelled" title="=&gt; Boolean">isCancelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        var <a title="Stream[T]" id="scala.tools.nsc.interactive;Global.respondGradually.results">results</a> = <a href="#scala.tools.nsc.interactive;Global.respondGradually.op" title="=&gt; Stream[T]">op</a>
        while <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.isCancelled" title="=&gt; Boolean">isCancelled</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global.respondGradually.results" title="Stream[T]">results</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.respondGradually.while$3" title="()Unit" class="delimiter">{</a>
          val <a title="T" id="scala.tools.nsc.interactive;Global.respondGradually.result">result</a> = <a href="#scala.tools.nsc.interactive;Global.respondGradually.results" title="Stream[T]">results</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; T">head</a>
          <a href="#scala.tools.nsc.interactive;Global.respondGradually.results" title="Stream[T]">results</a> = <a href="#scala.tools.nsc.interactive;Global.respondGradually.results" title="Stream[T]">results</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; scala.collection.immutable.Stream[T]">tail</a>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.respondGradually.results" title="Stream[T]">results</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.set" title="(x: T)Unit">set</a> <a href="#scala.tools.nsc.interactive;Global.respondGradually.result" title="T">result</a>
            <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;responded&quot;)" class="string">&quot;responded&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.timeStep" title="=&gt; String">timeStep</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.setProvisionally" title="(x: T)Unit">setProvisionally</a> <a href="#scala.tools.nsc.interactive;Global.respondGradually.result" title="T">result</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a href="#scala.tools.nsc.interactive.CancelException.readResolve" title="scala.tools.nsc.interactive.CancelException.type">CancelException</a> =&gt;
        <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;cancelled&quot;)" class="string">&quot;cancelled&quot;</span><span class="delimiter">)</span>
      case <span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>: <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;FreshRunReq" title="scala.tools.nsc.interactive.FreshRunReq">FreshRunReq</a> =&gt;
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.debugIDE" title="=&gt; Boolean">debugIDE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;FreshRunReq thrown during response&quot;)" class="string">&quot;FreshRunReq thrown during response&quot;</span><span class="delimiter">)</span>
          <span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a> <span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>
        throw <span title="scala.tools.nsc.interactive.FreshRunReq">ex</span>

      case <span title="scala.tools.nsc.interactive.ShutdownReq.type">ex</span> @ <a href="CompilerControl.scala.html#scala.tools.nsc.interactive.ShutdownReq" title="scala.tools.nsc.interactive.ShutdownReq.type">ShutdownReq</a> =&gt;
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.debugIDE" title="=&gt; Boolean">debugIDE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;ShutdownReq thrown during response&quot;)" class="string">&quot;ShutdownReq thrown during response&quot;</span><span class="delimiter">)</span>
          <span title="scala.tools.nsc.interactive.ShutdownReq.type">ex</span>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a> <span title="scala.tools.nsc.interactive.ShutdownReq.type">ex</span>
        throw <span title="scala.tools.nsc.interactive.ShutdownReq.type">ex</span>

      case <span title="Throwable">ex</span>: <span title="Throwable">Throwable</span> =&gt;
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.debugIDE" title="=&gt; Boolean">debugIDE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception thrown during response: &quot;)" class="string">&quot;exception thrown during response: &quot;</span><span title="(x$1: Any)String">+</span><span title="Throwable">ex</span><span class="delimiter">)</span>
          <span title="Throwable">ex</span>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.nsc.interactive;Global.respondGradually.response" title="Global.this.Response[T]">response</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a> <span title="Throwable">ex</span>
    <span class="delimiter">}</span> finally <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.pendingResponse_=" title="(x$1: Global.this.Response[_])Unit">pendingResponse</a> = <a href="#scala.tools.nsc.interactive;Global.respondGradually.prevResponse" title="scala.tools.nsc.interactive.Response[_]">prevResponse</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(source: scala.reflect.internal.util.SourceFile)Unit" id="scala.tools.nsc.interactive;Global.reloadSource">reloadSource</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.reloadSource.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.reloadSource.unit">unit</a> = new <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reloadSource.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span>
    <a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.update" title="(key: tools.nsc.io.AbstractFile, value: Global.this.RichCompilationUnit)Unit">unitOfFile</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reloadSource.source" title="scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.interactive;Global.reloadSource.unit" title="Global.this.RichCompilationUnit">unit</a>
    <a href="#scala.tools.nsc.interactive;Global.toBeRemoved" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemoved</a> <a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.-=(70ec98e56e)" title="(elem: tools.nsc.io.AbstractFile)Global.this.toBeRemoved.type">-=</a> <a href="#scala.tools.nsc.interactive;Global.reloadSource.source" title="scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>
    <a href="#scala.tools.nsc.interactive;Global.toBeRemovedAfterRun" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemovedAfterRun</a> <a href="../../../collection/mutable/SetLike.scala.html#scala.collection.mutable;SetLike.-=(70ec98e56e)" title="(elem: tools.nsc.io.AbstractFile)Global.this.toBeRemovedAfterRun.type">-=</a> <a href="#scala.tools.nsc.interactive;Global.reloadSource.source" title="scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a>
    <a href="#scala.tools.nsc.interactive;Global.reset" title="(unit: Global.this.RichCompilationUnit)Unit">reset</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reloadSource.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="comment">//parseAndEnter(unit)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Make sure a set of compilation units is loaded and parsed */</span>
  private def <a title="(sources: List[scala.reflect.internal.util.SourceFile])Unit" id="scala.tools.nsc.interactive;Global.reloadSources">reloadSources</a><span class="delimiter">(</span><a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.reloadSources.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.newTyperRun" title="()Unit">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.minRunId_=" title="(x$1: Int)Unit">minRunId</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.currentRunId" title="=&gt; Int">currentRunId</a>
    <a href="#scala.tools.nsc.interactive;Global.reloadSources.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: scala.reflect.internal.util.SourceFile =&gt; Unit)Unit">foreach</a> <a href="#scala.tools.nsc.interactive;Global.reloadSource" title="(source: scala.reflect.internal.util.SourceFile)Unit">reloadSource</a>
    <a href="#scala.tools.nsc.interactive;Global.moveToFront" title="(fs: List[scala.reflect.internal.util.SourceFile])Unit">moveToFront</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reloadSources.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Make sure a set of compilation units is loaded and parsed */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(sources: List[scala.reflect.internal.util.SourceFile], response: Global.this.Response[Unit])Unit" id="scala.tools.nsc.interactive;Global.reload">reload</a><span class="delimiter">(</span><a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.reload.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span>, <a title="Global.this.Response[Unit]" id="scala.tools.nsc.interactive;Global.reload.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Unit]">Response</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;reload: &quot;)" class="string">&quot;reload: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.reload.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.lastWasReload_=" title="(x$1: Boolean)Unit">lastWasReload</a> = true
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[Unit])(op: =&gt; Unit)Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reload.response" title="Global.this.Response[Unit]">response</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reloadSources" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">reloadSources</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.reload.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.demandNewCompilerRun" title="()Unit">demandNewCompilerRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(sources: List[scala.reflect.internal.util.SourceFile], response: Global.this.Response[Unit])Unit" id="scala.tools.nsc.interactive;Global.filesDeleted">filesDeleted</a><span class="delimiter">(</span><a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.filesDeleted.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span>, <a title="Global.this.Response[Unit]" id="scala.tools.nsc.interactive;Global.filesDeleted.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Unit]">Response</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;files deleted: &quot;)" class="string">&quot;files deleted: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.filesDeleted.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a><span class="delimiter">)</span>
    val <a title="scala.collection.immutable.Set[scala.reflect.io.AbstractFile]" id="scala.tools.nsc.interactive;Global.filesDeleted.deletedFiles">deletedFiles</a> = <a href="#scala.tools.nsc.interactive;Global.filesDeleted.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: scala.reflect.internal.util.SourceFile =&gt; scala.reflect.io.AbstractFile)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.internal.util.SourceFile],scala.reflect.io.AbstractFile,List[scala.reflect.io.AbstractFile]])List[scala.reflect.io.AbstractFile]">map</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.reflect.io.AbstractFile,List[scala.reflect.io.AbstractFile]]" class="delimiter">(</a><a href="#scala.tools.nsc.interactive;Global.filesDeleted.deletedFiles.$anonfun.x$7" title="scala.reflect.internal.util.SourceFile">_</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toSet" title="scala.collection.immutable.Set[scala.reflect.io.AbstractFile]">toSet</a>
    val deletedSyms = <a href="#scala.tools.nsc.interactive;Global.currentTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">currentTopLevelSyms</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="scala.collection.mutable.LinkedHashSet[Global.this.Symbol]" id="scala.tools.nsc.interactive;Global.filesDeleted.deletedSyms">filter</a> <span class="delimiter">{</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.filesDeleted.deletedSyms.$anonfun.sym">sym</a> =&gt; <a href="#scala.tools.nsc.interactive;Global.filesDeleted.deletedFiles" title="scala.collection.immutable.Set[scala.reflect.io.AbstractFile]">deletedFiles</a> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.contains" title="(elem: scala.reflect.io.AbstractFile)Boolean">contains</a> <a href="#scala.tools.nsc.interactive;Global.filesDeleted.deletedSyms.$anonfun.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.sourceFile" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a><span class="delimiter">}</span>
    for <span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.filesDeleted.$anonfun.d">d</a> &lt;- <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet.foreach" title="(f: Global.this.Symbol =&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol])Unit">deletedSyms</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.filesDeleted.$anonfun.d" title="Global.this.Symbol">d</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Global.this.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decls" title="=&gt; Global.this.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.unlink(f75a85baae)" title="(sym: Global.this.Symbol)Unit">unlink</a> <a href="#scala.tools.nsc.interactive;Global.filesDeleted.$anonfun.d" title="Global.this.Symbol">d</a>
      <a href="#scala.tools.nsc.interactive;Global.deletedTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol] with scala.collection.mutable.SynchronizedSet[Global.this.Symbol]">deletedTopLevelSyms</a> <a href="../../../collection/mutable/SynchronizedSet.scala.html#scala.collection.mutable;SynchronizedSet.+=(8aa414f49f)" title="(elem: Global.this.Symbol)scala.tools.nsc.interactive.Global.&lt;refinement&gt;.type">+=</a> <a href="#scala.tools.nsc.interactive;Global.filesDeleted.$anonfun.d" title="Global.this.Symbol">d</a>
      <a href="#scala.tools.nsc.interactive;Global.currentTopLevelSyms" title="=&gt; scala.collection.mutable.LinkedHashSet[Global.this.Symbol]">currentTopLevelSyms</a> <a href="../../../collection/mutable/LinkedHashSet.scala.html#scala.collection.mutable;LinkedHashSet.-=(1ef7fe1102)" title="(elem: Global.this.Symbol)Global.this.currentTopLevelSyms.type">-=</a> <a href="#scala.tools.nsc.interactive;Global.filesDeleted.$anonfun.d" title="Global.this.Symbol">d</a>
    <span class="delimiter">}</span>
    <a href="#scala.tools.nsc.interactive;Global.filesDeleted.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: scala.reflect.internal.util.SourceFile =&gt; Option[Global.this.RichCompilationUnit])Unit">foreach</a> <span class="delimiter">(</span><a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.removeUnitOf" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">removeUnitOf</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.filesDeleted.$anonfun.x$8" title="scala.reflect.internal.util.SourceFile">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.minRunId_=" title="(x$1: Int)Unit">minRunId</a> = <a href="../Global.scala.html#scala.tools.nsc;Global.currentRunId" title="=&gt; Int">currentRunId</a>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[Unit])(op: =&gt; Unit)Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.filesDeleted.response" title="Global.this.Response[Unit]">response</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.demandNewCompilerRun" title="()Unit">demandNewCompilerRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Arrange for unit to be removed after run, to give a chance to typecheck the unit fully.
   *  If we do just removeUnit, some problems with default parameters can ensue.
   *  Calls to this method could probably be replaced by removeUnit once default parameters are handled more robustly.
   */</span>
  private def <a title="(sources: List[scala.reflect.internal.util.SourceFile])Unit" id="scala.tools.nsc.interactive;Global.afterRunRemoveUnitsOf">afterRunRemoveUnitsOf</a><span class="delimiter">(</span><a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.afterRunRemoveUnitsOf.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.toBeRemovedAfterRun" title="=&gt; scala.collection.mutable.Set[tools.nsc.io.AbstractFile]">toBeRemovedAfterRun</a> <a href="../../../collection/generic/Growable.scala.html#scala.collection.generic;Growable.++=" title="(xs: scala.collection.TraversableOnce[tools.nsc.io.AbstractFile])Global.this.toBeRemovedAfterRun.type">++=</a> <a href="#scala.tools.nsc.interactive;Global.afterRunRemoveUnitsOf.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: scala.reflect.internal.util.SourceFile =&gt; scala.reflect.io.AbstractFile)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.internal.util.SourceFile],scala.reflect.io.AbstractFile,scala.collection.TraversableOnce[tools.nsc.io.AbstractFile]])scala.collection.TraversableOnce[tools.nsc.io.AbstractFile]">map</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.afterRunRemoveUnitsOf.$anonfun.x$9" title="scala.reflect.internal.util.SourceFile">_</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A fully attributed tree located at position `pos` */</span>
  private def <a title="(pos: Global.this.Position)Global.this.Tree" id="scala.tools.nsc.interactive;Global.typedTreeAt">typedTreeAt</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.typedTreeAt.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a> = <a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
    case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
      <a href="#scala.tools.nsc.interactive;Global.reloadSources" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">reloadSources</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: scala.reflect.internal.util.SourceFile*)List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
      try <a href="#scala.tools.nsc.interactive;Global.typedTreeAt" title="(pos: Global.this.Position)Global.this.Tree">typedTreeAt</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
      finally <a href="#scala.tools.nsc.interactive;Global.afterRunRemoveUnitsOf" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">afterRunRemoveUnitsOf</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: scala.reflect.internal.util.SourceFile*)List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case Some<span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.typedTreeAt.unit">unit</a><span class="delimiter">)</span> =&gt;
      <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;typedTreeAt &quot;)" class="string">&quot;typedTreeAt &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.parseAndEnter" title="(unit: Global.this.RichCompilationUnit)Unit">parseAndEnter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
      val <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typedTreeAt.tree">tree</a> = <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.locateTree" title="(pos: Global.this.Position)Global.this.Tree">locateTree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;at pos &quot;)" class="string">&quot;at pos &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a><span title="(x$1: Any)String">+</span><span title="String(&quot; was found: &quot;)" class="string">&quot; was found: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a>.<span title="()Class[_]">getClass</span><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;InternalPositionImpl.show" title="=&gt; String">show</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a> match <span class="delimiter">{</span>
        case Import<span class="delimiter">(</span><a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typedTreeAt.expr">expr</a>, _<span class="delimiter">)</span> =&gt;
          <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;import found&quot;)" class="string">&quot;import found&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.expr" title="Global.this.Tree">expr</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a><span title="(x$1: Any)String">+</span><span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.expr" title="Global.this.Tree">expr</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.expr" title="Global.this.Tree">expr</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.members" title="=&gt; Global.this.Scope">members</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case _ =&gt;
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.stabilizedType" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;already attributed: &quot;)" class="string">&quot;already attributed: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.Symbol">symbol</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.tree" title="Global.this.Tree">tree</a>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.targetPos_=" title="(p: Global.this.Position)Unit">targetPos</a> = <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a>
        try <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;starting targeted type check&quot;)" class="string">&quot;starting targeted type check&quot;</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.typeCheck" title="(unit: Global.this.RichCompilationUnit)Unit">typeCheck</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
<span class="comment">//          println(&quot;tree not found at &quot;+pos)</span>
          <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a>
        <span class="delimiter">}</span> catch <span class="delimiter">{</span>
          case <a title="Global.this.TyperResult" id="scala.tools.nsc.interactive;Global.typedTreeAt.ex">ex</a>: <a href="#scala.tools.nsc.interactive;Global;TyperResult" title="Global.this.TyperResult">TyperResult</a> =&gt; new <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions;Locator" title="Global.this.Locator">Locator</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions;Locator.locateIn" title="(root: Global.this.Tree)Global.this.Tree">locateIn</a> <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.ex" title="Global.this.TyperResult">ex</a>.<a href="#scala.tools.nsc.interactive;Global;TyperResult.tree" title="=&gt; Global.this.Tree">tree</a>
        <span class="delimiter">}</span> finally <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.typedTreeAt.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.targetPos_=" title="(p: Global.this.Position)Unit">targetPos</a> = <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A fully attributed tree corresponding to the entire compilation unit  */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(source: scala.reflect.internal.util.SourceFile, forceReload: Boolean)Global.this.Tree" id="scala.tools.nsc.interactive;Global.typedTree">typedTree</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.typedTree.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Boolean" id="scala.tools.nsc.interactive;Global.typedTree.forceReload">forceReload</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;typedTree &quot;)" class="string">&quot;typedTree &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.typedTree.source" title="scala.reflect.internal.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; forceReload: &quot;)" class="string">&quot; forceReload: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.typedTree.forceReload" title="Boolean">forceReload</a><span class="delimiter">)</span>
    val <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.typedTree.unit">unit</a> = <a href="#scala.tools.nsc.interactive;Global.getOrCreateUnitOf" title="(source: scala.reflect.internal.util.SourceFile)Global.this.RichCompilationUnit">getOrCreateUnitOf</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree.forceReload" title="Boolean">forceReload</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.reset" title="(unit: Global.this.RichCompilationUnit)Unit">reset</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.parseAndEnter" title="(unit: Global.this.RichCompilationUnit)Unit">parseAndEnter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.status" title="=&gt; Int">status</a> <a href="../../../Int.scala.html#scala;Int.<=(5f58a84eb3)" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)">PartiallyChecked</span><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.typeCheck" title="(unit: Global.this.RichCompilationUnit)Unit">typeCheck</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.typedTree.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Set sync var `response` to a fully attributed tree located at position `pos`  */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(pos: Global.this.Position, response: Global.this.Response[Global.this.Tree])Unit" id="scala.tools.nsc.interactive;Global.getTypedTreeAt">getTypedTreeAt</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.getTypedTreeAt.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a>, <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.getTypedTreeAt.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Global.this.Tree]">Response</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getTypedTreeAt.response" title="Global.this.Response[Global.this.Tree]">response</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTreeAt" title="(pos: Global.this.Position)Global.this.Tree">typedTreeAt</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getTypedTreeAt.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Set sync var `response` to a fully attributed tree corresponding to the
   *  entire compilation unit  */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(source: scala.reflect.internal.util.SourceFile, forceReload: Boolean, response: Global.this.Response[Global.this.Tree])Unit" id="scala.tools.nsc.interactive;Global.getTypedTree">getTypedTree</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getTypedTree.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Boolean" id="scala.tools.nsc.interactive;Global.getTypedTree.forceReload">forceReload</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.getTypedTree.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Global.this.Tree]">Response</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getTypedTree.response" title="Global.this.Response[Global.this.Tree]">response</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typedTree" title="(source: scala.reflect.internal.util.SourceFile, forceReload: Boolean)Global.this.Tree">typedTree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getTypedTree.source" title="scala.reflect.internal.util.SourceFile">source</a>, <a href="#scala.tools.nsc.interactive;Global.getTypedTree.forceReload" title="Boolean">forceReload</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="[T](sources: List[scala.reflect.internal.util.SourceFile])(f: (scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit) =&gt; T)T" id="scala.tools.nsc.interactive;Global.withTempUnits">withTempUnits</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.interactive;Global.withTempUnits;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.withTempUnits.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">[</span>SourceFile<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit) =&gt; T" id="scala.tools.nsc.interactive;Global.withTempUnits.f">f</a>: <span class="delimiter">(</span>SourceFile =&gt; RichCompilationUnit<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#scala.tools.nsc.interactive;Global.withTempUnits;T" title="T">T</a> = <span class="delimiter">{</span>
    val <a title="scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.withTempUnits.unitOfSrc">unitOfSrc</a>: SourceFile =&gt; RichCompilationUnit = <a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.withTempUnits.unitOfSrc.$anonfun.src">src</a> =&gt; <a href="../../../collection/mutable/SynchronizedMap.scala.html#scala.collection.mutable;SynchronizedMap.apply" title="(key: tools.nsc.io.AbstractFile)Global.this.RichCompilationUnit">unitOfFile</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnits.unitOfSrc.$anonfun.src" title="scala.reflect.internal.util.SourceFile">src</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.withTempUnits.sources" title="List[scala.reflect.internal.util.SourceFile]">sources</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filterNot" title="(p: scala.reflect.internal.util.SourceFile =&gt; Boolean)List[scala.reflect.internal.util.SourceFile]">filterNot</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnits.$anonfun.x$10" title="scala.reflect.internal.util.SourceFile">_</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#scala;Option.isDefined" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a> =&gt;
        <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit)T">f</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnits.unitOfSrc" title="scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit">unitOfSrc</a><span class="delimiter">)</span>
      case <a title="List[scala.reflect.internal.util.SourceFile]" id="scala.tools.nsc.interactive;Global.withTempUnits.unknown">unknown</a> =&gt;
        <a href="#scala.tools.nsc.interactive;Global.reloadSources" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">reloadSources</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnits.unknown" title="List[scala.reflect.internal.util.SourceFile]">unknown</a><span class="delimiter">)</span>
        try <span class="delimiter">{</span>
          <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit)T">f</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnits.unitOfSrc" title="scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit">unitOfSrc</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> finally
          <a href="#scala.tools.nsc.interactive;Global.afterRunRemoveUnitsOf" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">afterRunRemoveUnitsOf</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnits.unknown" title="List[scala.reflect.internal.util.SourceFile]">unknown</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="[T](source: scala.reflect.internal.util.SourceFile)(f: Global.this.RichCompilationUnit =&gt; T)T" id="scala.tools.nsc.interactive;Global.withTempUnit">withTempUnit</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.interactive;Global.withTempUnit;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.withTempUnit.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Global.this.RichCompilationUnit =&gt; T" id="scala.tools.nsc.interactive;Global.withTempUnit.f">f</a>: RichCompilationUnit =&gt; T<span class="delimiter">)</span>: <a href="#scala.tools.nsc.interactive;Global.withTempUnit;T" title="T">T</a> =
    <a href="#scala.tools.nsc.interactive;Global.withTempUnits" title="(sources: List[scala.reflect.internal.util.SourceFile])(f: (scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit) =&gt; T)T">withTempUnits</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: scala.reflect.internal.util.SourceFile*)List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnit.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span> <a title="scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.withTempUnit.$anonfun.srcToUnit">srcToUnit</a> =&gt;
      <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Global.this.RichCompilationUnit)T">f</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: scala.reflect.internal.util.SourceFile)Global.this.RichCompilationUnit">srcToUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.withTempUnit.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Find a 'mirror' of symbol `sym` in unit `unit`. Pre: `unit is loaded. */</span>
  private def <a title="(sym: Global.this.Symbol, unit: Global.this.RichCompilationUnit)Global.this.Symbol" id="scala.tools.nsc.interactive;Global.findMirrorSymbol">findMirrorSymbol</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
    val <a title="List[Global.this.Symbol]" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.originalTypeParams">originalTypeParams</a> = <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.typeParams" title="=&gt; List[Global.this.Symbol]">typeParams</a>
    <a href="#scala.tools.nsc.interactive;Global.ensureUpToDate" title="(unit: Global.this.RichCompilationUnit)Unit">ensureUpToDate</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.parseAndEnter" title="(unit: Global.this.RichCompilationUnit)Unit">parseAndEnter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
    val <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.pre">pre</a> = <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps.adaptToNewRunMap.apply" title="(tp: Global.this.Type)Global.this.Type">adaptToNewRunMap</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.ThisType.apply(a489b0ed7a)" title="(sym: Global.this.Symbol)Global.this.Type">ThisType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.rawsym">rawsym</a> = <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.pre" title="Global.this.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; Global.this.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Global.this.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.decl" title="(name: Global.this.Name)Global.this.Symbol">decl</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
    val newsym = <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.rawsym" title="Global.this.Symbol">rawsym</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.filter" title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym">filter</a> <span class="delimiter">{</span> <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.alt">alt</a> =&gt;
      <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isType" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
        try <span class="delimiter">{</span>
          val tp1 = <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.pre" title="Global.this.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.memberType" title="(sym: Global.this.Symbol)Global.this.Type">memberType</a><a href="#scala.tools.nsc.interactive;Global.addOnTypeError" title="(x: =&gt; Global.this.Type)Global.this.OnTypeError[Global.this.Type]" class="delimiter">(</a><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.alt" title="Global.this.Symbol">alt</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global;OnTypeError.onTypeError" title="Global.this.Type" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp1">onTypeError</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="Global.this.NoType.type">NoType</a>
          val tp2 = <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps.adaptToNewRunMap.apply" title="(tp: Global.this.Type)Global.this.Type">adaptToNewRunMap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Global.this.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.substSym" title="Global.this.Type" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp2">substSym</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.originalTypeParams" title="List[Global.this.Symbol]">originalTypeParams</a>, <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.typeParams" title="=&gt; List[Global.this.Symbol]">typeParams</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.matchesType" title="(tp1: Global.this.Type, tp2: Global.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp1" title="Global.this.Type">tp1</a>, <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp2" title="Global.this.Type">tp2</a>, alwaysMatchSimple = false<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
            <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;findMirrorSymbol matchesType(&quot;)">findMirrorSymbol matchesType($</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp1" title="Global.this.Type">tp1</a><span title="String(&quot;, &quot;)">, $</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp2" title="Global.this.Type">tp2</a><span title="String(&quot;) failed&quot;)" class="string">) failed&quot;</span><span class="delimiter">)</span>
            val tp3 = <a href="../../../reflect/internal/tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps.adaptToNewRunMap.apply" title="(tp: Global.this.Type)Global.this.Type">adaptToNewRunMap</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Global.this.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.substSym" title="Global.this.Type" id="scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp3">substSym</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.originalTypeParams" title="List[Global.this.Symbol]">originalTypeParams</a>, <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.alt" title="Global.this.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.typeParams" title="=&gt; List[Global.this.Symbol]">typeParams</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.matchesType" title="(tp1: Global.this.Type, tp2: Global.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp1" title="Global.this.Type">tp1</a>, <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp3" title="Global.this.Type">tp3</a>, alwaysMatchSimple = false<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
              <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;findMirrorSymbol fallback matchesType(&quot;)">findMirrorSymbol fallback matchesType($</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp1" title="Global.this.Type">tp1</a><span title="String(&quot;, &quot;)">, $</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym.$anonfun.tp3" title="Global.this.Type">tp3</a><span title="String(&quot;) failed&quot;)" class="string">) failed&quot;</span><span class="delimiter">)</span>
              false
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        catch <span class="delimiter">{</span>
          case <span title="scala.util.control.ControlThrowable">ex</span>: <a href="../../../util/control/ControlThrowable.scala.html#scala.util.control;ControlThrowable" title="scala.util.control.ControlThrowable">ControlThrowable</a> =&gt; throw <span title="scala.util.control.ControlThrowable">ex</span>
          case <span title="Throwable">ex</span>: <span title="Throwable">Throwable</span> =&gt;
            <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;error in findMirrorSymbol: &quot;)" class="string">&quot;error in findMirrorSymbol: &quot;</span> <span title="(x$1: Any)String">+</span> <span title="Throwable">ex</span><span class="delimiter">)</span>
            <span title="Throwable">ex</span>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
            false
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym" title="Global.this.Symbol">newsym</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.rawsym" title="Global.this.Symbol">rawsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.exists" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.rawsym" title="Global.this.Symbol">rawsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOverloaded" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.rawsym" title="Global.this.Symbol">rawsym</a>
      else <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;mirror not found &quot;)" class="string">&quot;mirror not found &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.pre" title="Global.this.Type">pre</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym" title="Global.this.Symbol">newsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOverloaded" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#scala.tools.nsc.settings;StandardScalaSettings.uniqid" title="=&gt; Global.this.settings.BooleanSetting">uniqid</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: Global.this.settings.uniqid.T)Unit">value</a> = true
      <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;mirror ambiguous &quot;)" class="string">&quot;mirror ambiguous &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.sym" title="Global.this.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.source" title="=&gt; scala.reflect.internal.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.pre" title="Global.this.Type">pre</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym" title="Global.this.Symbol">newsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.alternatives" title="=&gt; List[Global.this.Symbol]">alternatives</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;mirror found for &quot;)" class="string">&quot;mirror found for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym" title="Global.this.Symbol">newsym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym" title="Global.this.Symbol">newsym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Global.this.Position">pos</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol.newsym" title="Global.this.Symbol">newsym</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Implements CompilerControl.askLinkPos */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(sym: Global.this.Symbol, source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Position])Unit" id="scala.tools.nsc.interactive;Global.getLinkPos">getLinkPos</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.getLinkPos.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getLinkPos.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Global.this.Response[Global.this.Position]" id="scala.tools.nsc.interactive;Global.getLinkPos.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Global.this.Position]">Response</a><span class="delimiter">[</span>Position<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;getLinkPos &quot;)" class="string">&quot;getLinkPos &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.sym" title="Global.this.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[Global.this.Position])(op: =&gt; Global.this.Position)Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.response" title="Global.this.Response[Global.this.Position]">response</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global.withTempUnit" title="(source: scala.reflect.internal.util.SourceFile)(f: Global.this.RichCompilationUnit =&gt; Global.this.Position)Global.this.Position">withTempUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.getLinkPos.$anonfun.u">u</a> =&gt;
          <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol" title="(sym: Global.this.Symbol, unit: Global.this.RichCompilationUnit)Global.this.Symbol">findMirrorSymbol</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global.getLinkPos.$anonfun.u" title="Global.this.RichCompilationUnit">u</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Global.this.Position">pos</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;link not in class &quot;)" class="string">&quot;link not in class &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.sym" title="Global.this.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.source" title="scala.reflect.internal.util.SourceFile">source</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.getLinkPos.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(sym: Global.this.Symbol, unit: Global.this.RichCompilationUnit)Unit" id="scala.tools.nsc.interactive;Global.forceDocComment">forceDocComment</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.forceDocComment.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.forceDocComment.unit">unit</a>: <a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit" title="Global.this.RichCompilationUnit">RichCompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.forceDocComment.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.foreachPartial" title="(pf: PartialFunction[Global.this.Tree,Global.this.Tree])Unit">foreachPartial</a> <a title="&lt;$anon: Global.this.Tree =&gt; Global.this.Tree&gt; extends scala.runtime.AbstractPartialFunction[Global.this.Tree,Global.this.Tree] with Serializable" id="scala.tools.nsc.interactive;Global.forceDocComment;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case DocDef<span class="delimiter">(</span><a title="Global.this.DocComment" id="scala.tools.nsc.interactive;Global.forceDocComment;$anonfun.isDefinedAt.comment">comment</a>, <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.forceDocComment;$anonfun.isDefinedAt.defn">defn</a><span class="delimiter">)</span> if <a href="#scala.tools.nsc.interactive;Global.forceDocComment;$anonfun.isDefinedAt.defn" title="Global.this.Tree">defn</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.Symbol">symbol</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.interactive;Global.forceDocComment.sym" title="Global.this.Symbol">sym</a> =&gt;
        <a href="../ast/DocComments.scala.html#scala.tools.nsc.ast;DocComments.fillDocComment" title="(sym: Global.this.Symbol, comment: Global.this.DocComment)Unit">fillDocComment</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.forceDocComment;$anonfun.isDefinedAt.defn" title="Global.this.Tree">defn</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.Symbol">symbol</a>, <a href="#scala.tools.nsc.interactive;Global.forceDocComment;$anonfun.isDefinedAt.comment" title="Global.this.DocComment">comment</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a>
      case _: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;ValOrDefDef" title="Global.this.ValOrDefDef">ValOrDefDef</a> =&gt;
        <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Implements CompilerControl.askDocComment */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(sym: Global.this.Symbol, source: scala.reflect.internal.util.SourceFile, site: Global.this.Symbol, fragments: List[(Global.this.Symbol, scala.reflect.internal.util.SourceFile)], response: Global.this.Response[(String, String, Global.this.Position)])Unit" id="scala.tools.nsc.interactive;Global.getDocComment">getDocComment</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.getDocComment.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getDocComment.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.getDocComment.site">site</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="List[(Global.this.Symbol, scala.reflect.internal.util.SourceFile)]" id="scala.tools.nsc.interactive;Global.getDocComment.fragments">fragments</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[(Global.this.Symbol, scala.reflect.internal.util.SourceFile)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol,SourceFile<span class="delimiter">)</span><span class="delimiter">]</span>,
                                         <a title="Global.this.Response[(String, String, Global.this.Position)]" id="scala.tools.nsc.interactive;Global.getDocComment.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[(String, String, Global.this.Position)]">Response</a><span class="delimiter">[</span><span class="delimiter">(</span>String, String, Position<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;getDocComment &quot;)">getDocComment $</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.sym" title="Global.this.Symbol">sym</a><span title="String(&quot; at &quot;)"> at $</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.source" title="scala.reflect.internal.util.SourceFile">source</a><span title="String(&quot;, site &quot;)">, site $</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.site" title="Global.this.Symbol">site</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[(String, String, Global.this.Position)])(op: =&gt; (String, String, Global.this.Position))Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.response" title="Global.this.Response[(String, String, Global.this.Position)]">response</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.withTempUnits" title="(sources: List[scala.reflect.internal.util.SourceFile])(f: (scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit) =&gt; (String, String, Global.this.Position))(String, String, Global.this.Position)">withTempUnits</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.fragments" title="List[(Global.this.Symbol, scala.reflect.internal.util.SourceFile)]">fragments</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#scala.collection.generic;GenericTraversableTemplate.unzip" title="(implicit asPair: ((Global.this.Symbol, scala.reflect.internal.util.SourceFile)) =&gt; (Global.this.Symbol, scala.reflect.internal.util.SourceFile))(List[Global.this.Symbol], List[scala.reflect.internal.util.SourceFile])">unzip</a>.<a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="=&gt; List[scala.reflect.internal.util.SourceFile]">_2</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="scala.reflect.internal.util.SourceFile =&gt; Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.getDocComment.$anonfun.units">units</a> =&gt;
        for<span class="delimiter">(</span><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.sym">sym</a>, <a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.src">src</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: ((Global.this.Symbol, scala.reflect.internal.util.SourceFile)) =&gt; Unit)Unit">fragments</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          val <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.mirror">mirror</a> = <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol" title="(sym: Global.this.Symbol, unit: Global.this.RichCompilationUnit)Global.this.Symbol">findMirrorSymbol</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.sym" title="Global.this.Symbol">sym</a>, <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: scala.reflect.internal.util.SourceFile)Global.this.RichCompilationUnit">units</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.src" title="scala.reflect.internal.util.SourceFile">src</a><span class="delimiter">)</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.mirror" title="Global.this.Symbol">mirror</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.forceDocComment" title="(sym: Global.this.Symbol, unit: Global.this.RichCompilationUnit)Unit">forceDocComment</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.mirror" title="Global.this.Symbol">mirror</a>, <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: scala.reflect.internal.util.SourceFile)Global.this.RichCompilationUnit">units</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.$anonfun.src" title="scala.reflect.internal.util.SourceFile">src</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        val <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.getDocComment.$anonfun.mirror">mirror</a> = <a href="#scala.tools.nsc.interactive;Global.findMirrorSymbol" title="(sym: Global.this.Symbol, unit: Global.this.RichCompilationUnit)Global.this.Symbol">findMirrorSymbol</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.sym" title="Global.this.Symbol">sym</a>, <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: scala.reflect.internal.util.SourceFile)Global.this.RichCompilationUnit">units</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.mirror" title="Global.this.Symbol">mirror</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../../../Tuple3.scala.html#scala;Tuple3" title="(_1: String, _2: String, _3: reflect.internal.util.NoPosition.type)(String, String, reflect.internal.util.NoPosition.type)" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="../../../reflect/internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>
        else <span class="delimiter">{</span>
          <a href="../../../Tuple3.scala.html#scala;Tuple3" title="(_1: String, _2: String, _3: Global.this.Position)(String, String, Global.this.Position)" class="delimiter">(</a><a href="../ast/DocComments.scala.html#scala.tools.nsc.ast;DocComments.expandedDocComment" title="(sym: Global.this.Symbol, site: Global.this.Symbol, docStr: String)String">expandedDocComment</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.mirror" title="Global.this.Symbol">mirror</a>, <a href="#scala.tools.nsc.interactive;Global.getDocComment.site" title="Global.this.Symbol">site</a><span class="delimiter">)</span>, <a href="../ast/DocComments.scala.html#scala.tools.nsc.ast;DocComments.rawDocComment" title="(sym: Global.this.Symbol)String">rawDocComment</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.mirror" title="Global.this.Symbol">mirror</a><span class="delimiter">)</span>, <a href="../ast/DocComments.scala.html#scala.tools.nsc.ast;DocComments.docCommentPos" title="(sym: Global.this.Symbol)Global.this.Position">docCommentPos</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getDocComment.$anonfun.mirror" title="Global.this.Symbol">mirror</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="comment">// New typer run to remove temp units and drop per-run caches that might refer to symbols entered from temp units.</span>
    <a href="#scala.tools.nsc.interactive;Global.newTyperRun" title="()Unit">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(tree: Global.this.Tree)Global.this.Type" id="scala.tools.nsc.interactive;Global.stabilizedType">stabilizedType</a><span class="delimiter">(</span><a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.stabilizedType.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a> = <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a> match <span class="delimiter">{</span>
    case Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> if <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees.treeInfo" title="Global.this.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#scala.reflect.internal;TreeInfo.admitsTypeSelection" title="(tree: Global.this.treeInfo.global.Tree)Boolean">admitsTypeSelection</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a><span class="delimiter">)</span> =&gt;
      <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.singleType" title="(pre: Global.this.Type, sym: Global.this.Symbol)Global.this.Type">singleType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoPrefix" title="Global.this.NoPrefix.type">NoPrefix</a>, <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.Symbol">symbol</a><span class="delimiter">)</span>
    case Select<span class="delimiter">(</span><span title="Global.this.Tree">qual</span>, _<span class="delimiter">)</span> if <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees.treeInfo" title="Global.this.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#scala.reflect.internal;TreeInfo.admitsTypeSelection" title="(tree: Global.this.treeInfo.global.Tree)Boolean">admitsTypeSelection</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a><span class="delimiter">)</span> =&gt;
      <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.singleType" title="(pre: Global.this.Type, sym: Global.this.Symbol)Global.this.Type">singleType</a><span class="delimiter">(</span><span title="Global.this.Tree">qual</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>, <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.Symbol">symbol</a><span class="delimiter">)</span>
    case Import<span class="delimiter">(</span><span title="Global.this.Tree">expr</span>, <a title="List[Global.this.ImportSelector]" id="scala.tools.nsc.interactive;Global.stabilizedType.selectors">selectors</a><span class="delimiter">)</span> =&gt;
      <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Global.this.Type">info</a> match <span class="delimiter">{</span>
        case ImportType<span class="delimiter">(</span><span title="Global.this.Tree">expr</span><span class="delimiter">)</span> =&gt; <span title="Global.this.Tree">expr</span> match <span class="delimiter">{</span>
          case <a title="Global.this.Select" id="scala.tools.nsc.interactive;Global.stabilizedType.s">s</a>@Select<span class="delimiter">(</span><span title="Global.this.Tree">qual</span>, <a title="Global.this.Name" id="scala.tools.nsc.interactive;Global.stabilizedType.name">name</a><span class="delimiter">)</span> if <a href="../ast/Trees.scala.html#scala.tools.nsc.ast;Trees.treeInfo" title="Global.this.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#scala.reflect.internal;TreeInfo.admitsTypeSelection" title="(tree: Global.this.treeInfo.global.Tree)Boolean">admitsTypeSelection</a><span class="delimiter">(</span><span title="Global.this.Tree">expr</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.singleType" title="(pre: Global.this.Type, sym: Global.this.Symbol)Global.this.Type">singleType</a><span class="delimiter">(</span><span title="Global.this.Tree">qual</span>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>, <a href="#scala.tools.nsc.interactive;Global.stabilizedType.s" title="Global.this.Select">s</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;SymTree.symbol" title="=&gt; Global.this.Symbol">symbol</a><span class="delimiter">)</span>
          case <a title="Global.this.Ident" id="scala.tools.nsc.interactive;Global.stabilizedType.i">i</a> : <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Ident" title="Global.this.Ident">Ident</a> =&gt; <a href="#scala.tools.nsc.interactive;Global.stabilizedType.i" title="Global.this.Ident">i</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>
          case _ =&gt; <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>
        <span class="delimiter">}</span>
        case _ =&gt; <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>
      <span class="delimiter">}</span>

    case _ =&gt; <a href="#scala.tools.nsc.interactive;Global.stabilizedType.tree" title="Global.this.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>
  <span class="delimiter">}</span>

  import <a href="#scala.tools.nsc.interactive;Global.analyzer" title="=&gt; scala.tools.nsc.interactive.InteractiveAnalyzer{val global: Global.this.type}">analyzer</a>.<span class="delimiter">{</span>SearchResult, ImplicitSearch<span class="delimiter">}</span>

  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(pos: Global.this.Position, response: Global.this.Response[List[Global.this.Member]])Unit" id="scala.tools.nsc.interactive;Global.getScopeCompletion">getScopeCompletion</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.getScopeCompletion.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a>, <a title="Global.this.Response[List[Global.this.Member]]" id="scala.tools.nsc.interactive;Global.getScopeCompletion.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[List[Global.this.Member]]">Response</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Member<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;getScopeCompletion&quot;)" class="string">&quot;getScopeCompletion&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.getScopeCompletion.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[List[Global.this.Member]])(op: =&gt; List[Global.this.Member])Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getScopeCompletion.response" title="Global.this.Response[List[Global.this.Member]]">response</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.interactive;Global.scopeMembers" title="(pos: Global.this.Position)List[Global.this.ScopeMember]">scopeMembers</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getScopeCompletion.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private class <a title="class Members[M &lt;: Global.this.Member] extends scala.collection.mutable.LinkedHashMap[Global.this.Name,Set[M]]" id="scala.tools.nsc.interactive;Global;Members">Members</a><span class="delimiter">[</span><a title=" &lt;: Global.this.Member" id="scala.tools.nsc.interactive;Global;Members;M">M</a> &lt;: Member<span class="delimiter">]</span> extends <a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap" title="scala.collection.mutable.LinkedHashMap[Global.this.Name,Set[M]]">LinkedHashMap</a><span class="delimiter">[</span>Name, Set<span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="(key: Global.this.Name)scala.collection.immutable.Set[M]" id="scala.tools.nsc.interactive;Global;Members.default">default</a><span class="delimiter">(</span><a title="Global.this.Name" id="scala.tools.nsc.interactive;Global;Members.default.key">key</a>: <a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name" title="Global.this.Name">Name</a><span class="delimiter">)</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: M*)scala.collection.immutable.Set[M]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>

    private def <a title="(sym: Global.this.Symbol, symtpe: Global.this.Type, ms: Set[M])Option[M]" id="scala.tools.nsc.interactive;Global;Members.matching">matching</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global;Members.matching.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global;Members.matching.symtpe">symtpe</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a>, <a title="Set[M]" id="scala.tools.nsc.interactive;Global;Members.matching.ms">ms</a>: <a href="../../../collection/immutable/Set.scala.html#scala.collection.immutable;Set" title="Set[M]">Set</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#scala;Option" title="Option[M]">Option</a><span class="delimiter">[</span>M<span class="delimiter">]</span> = <a href="#scala.tools.nsc.interactive;Global;Members.matching.ms" title="Set[M]">ms</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.find" title="(p: M =&gt; Boolean)Option[M]">find</a> <span class="delimiter">{</span> <a title="M" id="scala.tools.nsc.interactive;Global;Members.matching.$anonfun.m">m</a> =&gt;
      <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.matching.$anonfun.m" title="M">m</a>.<a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;Member.sym" title="=&gt; Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; m.sym.NameType">name</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.interactive;Global;Members.matching.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.matching.$anonfun.m" title="M">m</a>.<a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;Member.sym" title="=&gt; Global.this.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isType" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.matching.$anonfun.m" title="M">m</a>.<a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;Member.tpe" title="=&gt; Global.this.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.matches" title="(that: Global.this.Type)Boolean">matches</a> <a href="#scala.tools.nsc.interactive;Global;Members.matching.symtpe" title="Global.this.Type">symtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    private def <a title="(m: M, sym: Global.this.Symbol, implicitlyAdded: Boolean)Boolean" id="scala.tools.nsc.interactive;Global;Members.keepSecond">keepSecond</a><span class="delimiter">(</span><a title="M" id="scala.tools.nsc.interactive;Global;Members.keepSecond.m">m</a>: <a href="#scala.tools.nsc.interactive;Global;Members;M" title="M">M</a>, <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global;Members.keepSecond.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Boolean" id="scala.tools.nsc.interactive;Global;Members.keepSecond.implicitlyAdded">implicitlyAdded</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> =
      <a href="#scala.tools.nsc.interactive;Global;Members.keepSecond.m" title="M">m</a>.<a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;Member.sym" title="=&gt; Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasFlag(26ea2e307b)" title="(mask: Int)Boolean">hasFlag</a><span class="delimiter">(</span>ACCESSOR <span title="Int(671088640)">|</span> PARAMACCESSOR<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global;Members.keepSecond.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasFlag(26ea2e307b)" title="(mask: Int)Boolean">hasFlag</a><span class="delimiter">(</span>ACCESSOR <span title="Int(671088640)">|</span> PARAMACCESSOR<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global;Members.keepSecond.implicitlyAdded" title="Boolean">implicitlyAdded</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global;Members.keepSecond.m" title="M">m</a>.<a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;Member.implicitlyAdded" title="=&gt; Boolean">implicitlyAdded</a><span class="delimiter">)</span>

    def <a title="(sym: Global.this.Symbol, pre: Global.this.Type, implicitlyAdded: Boolean)(toMember: (Global.this.Symbol, Global.this.Type) =&gt; M)Unit" id="scala.tools.nsc.interactive;Global;Members.add">add</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global;Members.add.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global;Members.add.pre">pre</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a>, <a title="Boolean" id="scala.tools.nsc.interactive;Global;Members.add.implicitlyAdded">implicitlyAdded</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Global.this.Symbol, Global.this.Type) =&gt; M" id="scala.tools.nsc.interactive;Global;Members.add.toMember">toMember</a>: <span class="delimiter">(</span>Symbol, Type<span class="delimiter">)</span> =&gt; M<span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isGetter" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isSetter" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessed" title="=&gt; Global.this.Symbol">accessed</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.nsc.interactive;Global;Members.add" title="(sym: Global.this.Symbol, pre: Global.this.Type, implicitlyAdded: Boolean)(toMember: (Global.this.Symbol, Global.this.Type) =&gt; M)Unit">add</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.accessed" title="=&gt; Global.this.Symbol">accessed</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.pre" title="Global.this.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.implicitlyAdded" title="Boolean">implicitlyAdded</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.toMember" title="(Global.this.Symbol, Global.this.Type) =&gt; M">toMember</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.decodedName" title="=&gt; Name.this.ThisNameType">decodedName</a>.<a href="../../../reflect/internal/Names.scala.html#scala.reflect.internal;Names;Name.containsName(cc1011f1a1)" title="(subname: String)Boolean">containsName</a><span class="delimiter">(</span><span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#scala.reflect.internal;HasFlags.isSynthetic" title="=&gt; Boolean">isSynthetic</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasRawInfo" title="=&gt; Boolean">hasRawInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val symtpe = <a href="#scala.tools.nsc.interactive;Global;Members.add.pre" title="Global.this.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.memberType" title="(sym: Global.this.Symbol)Global.this.Type">memberType</a><a href="#scala.tools.nsc.interactive;Global.addOnTypeError" title="(x: =&gt; Global.this.Type)Global.this.OnTypeError[Global.this.Type]" class="delimiter">(</a><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global;OnTypeError.onTypeError" title="Global.this.Type" id="scala.tools.nsc.interactive;Global;Members.add.symtpe">onTypeError</a> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.ErrorType" title="Global.this.ErrorType.type">ErrorType</a>
        <a href="#scala.tools.nsc.interactive;Global;Members.matching" title="(sym: Global.this.Symbol, symtpe: Global.this.Type, ms: Set[M])Option[M]">matching</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.symtpe" title="Global.this.Type">symtpe</a>, this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case Some<span class="delimiter">(</span><a title="M" id="scala.tools.nsc.interactive;Global;Members.add.m">m</a><span class="delimiter">)</span> =&gt;
            if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.keepSecond" title="(m: M, sym: Global.this.Symbol, implicitlyAdded: Boolean)Boolean">keepSecond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.m" title="M">m</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.implicitlyAdded" title="Boolean">implicitlyAdded</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//print(&quot; -+ &quot;+sym.name)</span>
              this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.-(daf7108c0f)" title="(elem: M)scala.collection.immutable.Set[M]">-</a> <a href="#scala.tools.nsc.interactive;Global;Members.add.m" title="M">m</a> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.+(daf7108c0f)" title="(elem: M)scala.collection.immutable.Set[M]">+</a> <a href="../../../Function2.scala.html#scala;Function2.apply" title="(v1: Global.this.Symbol, v2: Global.this.Type)M">toMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.symtpe" title="Global.this.Type">symtpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
            <span class="comment">//print(&quot; + &quot;+sym.name)</span>
            this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.name" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.+(daf7108c0f)" title="(elem: M)scala.collection.immutable.Set[M]">+</a> <a href="../../../Function2.scala.html#scala;Function2.apply" title="(v1: Global.this.Symbol, v2: Global.this.Type)M">toMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.add.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global;Members.add.symtpe" title="Global.this.Type">symtpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    def <a title="(other: Global.this.Members[M])Unit" id="scala.tools.nsc.interactive;Global;Members.addNonShadowed">addNonShadowed</a><span class="delimiter">(</span><a title="Global.this.Members[M]" id="scala.tools.nsc.interactive;Global;Members.addNonShadowed.other">other</a>: <a href="#scala.tools.nsc.interactive;Global;Members" title="Global.this.Members[M]">Members</a><span class="delimiter">[</span>M<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      for <span class="delimiter">(</span><span class="delimiter">(</span><a title="Global.this.Name" id="scala.tools.nsc.interactive;Global;Members.addNonShadowed.$anonfun.name">name</a>, <a title="Set[M]" id="scala.tools.nsc.interactive;Global;Members.addNonShadowed.$anonfun.ms">ms</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: ((Global.this.Name, Set[M])) =&gt; Unit)Unit">other</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.addNonShadowed.$anonfun.ms" title="Set[M]">ms</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.addNonShadowed.$anonfun.name" title="Global.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> this<span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;Members.addNonShadowed.$anonfun.name" title="Global.this.Name">name</a><span class="delimiter">)</span> = <a href="#scala.tools.nsc.interactive;Global;Members.addNonShadowed.$anonfun.ms" title="Set[M]">ms</a>
    <span class="delimiter">}</span>

    def <a title="=&gt; List[M]" id="scala.tools.nsc.interactive;Global;Members.allMembers">allMembers</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[M]">List</a><span class="delimiter">[</span>M<span class="delimiter">]</span> = <a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.values" title="=&gt; Iterable[Set[M]]">values</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[Set[M]]">toList</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#scala.collection.generic;GenericTraversableTemplate.flatten" title="(implicit asTraversable: Set[M] =&gt; scala.collection.GenTraversableOnce[M])List[M]">flatten</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Return all members visible without prefix in context enclosing `pos`. */</span>
  private def <a title="(pos: Global.this.Position)List[Global.this.ScopeMember]" id="scala.tools.nsc.interactive;Global.scopeMembers">scopeMembers</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.scopeMembers.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Global.this.ScopeMember]">List</a><span class="delimiter">[</span>ScopeMember<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.typedTreeAt" title="(pos: Global.this.Position)Global.this.Tree">typedTreeAt</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span> <span class="comment">// to make sure context is entered</span>
    val <a title="Global.this.Context" id="scala.tools.nsc.interactive;Global.scopeMembers.context">context</a> = <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.doLocateContext" title="(pos: Global.this.Position)Global.this.Context">doLocateContext</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
    val <a title="Global.this.Members[Global.this.ScopeMember]" id="scala.tools.nsc.interactive;Global.scopeMembers.locals">locals</a> = new <a href="#scala.tools.nsc.interactive;Global;Members" title="Global.this.Members[Global.this.ScopeMember]">Members</a><span class="delimiter">[</span>ScopeMember<span class="delimiter">]</span>
    val <a title="Global.this.Members[Global.this.ScopeMember]" id="scala.tools.nsc.interactive;Global.scopeMembers.enclosing">enclosing</a> = new <a href="#scala.tools.nsc.interactive;Global;Members" title="Global.this.Members[Global.this.ScopeMember]">Members</a><span class="delimiter">[</span>ScopeMember<span class="delimiter">]</span>
    def <a title="(sym: Global.this.Symbol, pre: Global.this.Type, viaImport: Global.this.Tree)Unit" id="scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember">addScopeMember</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.pre">pre</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a>, <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.viaImport">viaImport</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#scala.tools.nsc.interactive;Global.scopeMembers.locals" title="Global.this.Members[Global.this.ScopeMember]">locals</a>.<a href="#scala.tools.nsc.interactive;Global;Members.add" title="(sym: Global.this.Symbol, pre: Global.this.Type, implicitlyAdded: Boolean)(toMember: (Global.this.Symbol, Global.this.Type) =&gt; Global.this.ScopeMember)Unit">add</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.pre" title="Global.this.Type">pre</a>, implicitlyAdded = false<span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.s">s</a>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.st">st</a><span class="delimiter">)</span> =&gt;
        <span class="comment">// imported val and var are always marked as inaccessible, but they could be accessed through their getters. SI-7995</span>
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.s" title="Global.this.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasGetter" title="=&gt; Boolean">hasGetter</a><span class="delimiter">)</span>
          new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;ScopeMember" title="Global.this.ScopeMember">ScopeMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.s" title="Global.this.Symbol">s</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.st" title="Global.this.Type">st</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.isAccessible" title="(sym: Global.this.analyzer.global.Symbol, pre: Global.this.analyzer.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.s" title="Global.this.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;SymbolContextApiImpl.getter" title="=&gt; Global.this.Symbol">getter</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.pre" title="Global.this.Type">pre</a>, superAccess = false<span class="delimiter">)</span>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.viaImport" title="Global.this.Tree">viaImport</a><span class="delimiter">)</span>
        else
          new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;ScopeMember" title="Global.this.ScopeMember">ScopeMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.s" title="Global.this.Symbol">s</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.st" title="Global.this.Type">st</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.isAccessible" title="(sym: Global.this.analyzer.global.Symbol, pre: Global.this.analyzer.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.$anonfun.s" title="Global.this.Symbol">s</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.pre" title="Global.this.Type">pre</a>, superAccess = false<span class="delimiter">)</span>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember.viaImport" title="Global.this.Tree">viaImport</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    def <a title="()Unit" id="scala.tools.nsc.interactive;Global.scopeMembers.localsToEnclosing">localsToEnclosing</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global.scopeMembers.enclosing" title="Global.this.Members[Global.this.ScopeMember]">enclosing</a>.<a href="#scala.tools.nsc.interactive;Global;Members.addNonShadowed" title="(other: Global.this.Members[Global.this.ScopeMember])Unit">addNonShadowed</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.locals" title="Global.this.Members[Global.this.ScopeMember]">locals</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.scopeMembers.locals" title="Global.this.Members[Global.this.ScopeMember]">locals</a>.<a href="../../../collection/mutable/LinkedHashMap.scala.html#scala.collection.mutable;LinkedHashMap.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">//print(&quot;add scope members&quot;)</span>
    var <a title="Global.this.Context" id="scala.tools.nsc.interactive;Global.scopeMembers.cx">cx</a> = <a href="#scala.tools.nsc.interactive;Global.scopeMembers.context" title="Global.this.Context">context</a>
    while <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a> <span title="(x$1: Any)Boolean">!=</span> <a href="ContextTrees.scala.html#scala.tools.nsc.interactive;ContextTrees.NoContext" title="=&gt; Global.this.analyzer.NoContext.type">NoContext</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.scopeMembers.while$4" title="()Unit" class="delimiter">{</a>
      for <span class="delimiter">(</span><span title="Global.this.analyzer.global.Symbol">sym</span> &lt;- <a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.foreach" title="(p: Global.this.analyzer.global.Symbol =&gt; Unit)Unit">scope</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember" title="(sym: Global.this.Symbol, pre: Global.this.Type, viaImport: Global.this.Tree)Unit">addScopeMember</a><span class="delimiter">(</span><span title="Global.this.analyzer.global.Symbol">sym</span>, <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.NoPrefix" title="Global.this.NoPrefix.type">NoPrefix</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.scopeMembers.localsToEnclosing" title="()Unit">localsToEnclosing</a><span class="delimiter">(</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.enclClass" title="=&gt; Global.this.analyzer.Context">enclClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Global.this.analyzer.global.Type" id="scala.tools.nsc.interactive;Global.scopeMembers.pre">pre</a> = <a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.prefix" title="=&gt; Global.this.analyzer.global.Type">prefix</a>
        for <span class="delimiter">(</span><span title="Global.this.analyzer.global.Symbol">sym</span> &lt;- <a href="#scala.tools.nsc.interactive;Global.scopeMembers.pre" title="Global.this.analyzer.global.Type">pre</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.foreach" title="(p: Global.this.analyzer.global.Symbol =&gt; Unit)Unit">members</a><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember" title="(sym: Global.this.Symbol, pre: Global.this.Type, viaImport: Global.this.Tree)Unit">addScopeMember</a><span class="delimiter">(</span><span title="Global.this.analyzer.global.Symbol">sym</span>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.pre" title="Global.this.analyzer.global.Type">pre</a>, <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.scopeMembers.localsToEnclosing" title="()Unit">localsToEnclosing</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a> = <a href="#scala.tools.nsc.interactive;Global.scopeMembers.cx" title="Global.this.Context">cx</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.outer" title="=&gt; Global.this.analyzer.Context">outer</a>
    <span class="delimiter">}</span>
    <span class="comment">//print(&quot;\nadd imported members&quot;)</span>
    for <span class="delimiter">(</span><a title="Global.this.analyzer.ImportInfo" id="scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.imp">imp</a> &lt;- <a href="#scala.tools.nsc.interactive;Global.scopeMembers.context" title="Global.this.Context">context</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Global.this.analyzer.ImportInfo =&gt; Unit)Unit">imports</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Global.this.analyzer.global.Type" id="scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.pre">pre</a> = <a href="#scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.imp" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;ImportInfo.qual" title="=&gt; Global.this.analyzer.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.analyzer.global.Type">tpe</a>
      for <span class="delimiter">(</span><a title="Global.this.analyzer.global.Symbol" id="scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.$anonfun.sym">sym</a> &lt;- <a href="#scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.imp" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.analyzer.global.Symbol =&gt; Unit)Unit">allImportedSymbols</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.scopeMembers.addScopeMember" title="(sym: Global.this.Symbol, pre: Global.this.Type, viaImport: Global.this.Tree)Unit">addScopeMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.$anonfun.sym" title="Global.this.analyzer.global.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.pre" title="Global.this.analyzer.global.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global.scopeMembers.$anonfun.imp" title="Global.this.analyzer.ImportInfo">imp</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;ImportInfo.qual" title="=&gt; Global.this.analyzer.global.Tree">qual</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.scopeMembers.localsToEnclosing" title="()Unit">localsToEnclosing</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">// println()</span>
    val <a title="List[Global.this.ScopeMember]" id="scala.tools.nsc.interactive;Global.scopeMembers.result">result</a> = <a href="#scala.tools.nsc.interactive;Global.scopeMembers.enclosing" title="Global.this.Members[Global.this.ScopeMember]">enclosing</a>.<a href="#scala.tools.nsc.interactive;Global;Members.allMembers" title="=&gt; List[Global.this.ScopeMember]">allMembers</a>
<span class="comment">//    if (debugIDE) for (m &lt;- result) println(m)</span>
    <a href="#scala.tools.nsc.interactive;Global.scopeMembers.result" title="List[Global.this.ScopeMember]">result</a>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(pos: Global.this.Position, response: Global.this.Response[List[Global.this.Member]])Unit" id="scala.tools.nsc.interactive;Global.getTypeCompletion">getTypeCompletion</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.getTypeCompletion.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a>, <a title="Global.this.Response[List[Global.this.Member]]" id="scala.tools.nsc.interactive;Global.getTypeCompletion.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[List[Global.this.Member]]">Response</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Member<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.informIDE" title="(msg: =&gt; String)Unit">informIDE</a><span class="delimiter">(</span><span title="String(&quot;getTypeCompletion &quot;)" class="string">&quot;getTypeCompletion &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.interactive;Global.getTypeCompletion.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.respondGradually" title="(response: Global.this.Response[List[Global.this.Member]])(op: =&gt; Stream[List[Global.this.Member]])Unit">respondGradually</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getTypeCompletion.response" title="Global.this.Response[List[Global.this.Member]]">response</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.interactive;Global.typeMembers" title="(pos: Global.this.Position)Stream[List[Global.this.TypeMember]]">typeMembers</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getTypeCompletion.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="comment">//if (debugIDE) typeMembers(pos)</span>
  <span class="delimiter">}</span>

  private def <a title="(pos: Global.this.Position)Stream[List[Global.this.TypeMember]]" id="scala.tools.nsc.interactive;Global.typeMembers">typeMembers</a><span class="delimiter">(</span><a title="Global.this.Position" id="scala.tools.nsc.interactive;Global.typeMembers.pos">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Global.this.Position">Position</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable;Stream" title="Stream[List[Global.this.TypeMember]]">Stream</a><span class="delimiter">[</span>List<span class="delimiter">[</span>TypeMember<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// Choosing which tree will tell us the type members at the given position:</span>
    <span class="comment">//   If pos leads to an Import, type the expr</span>
    <span class="comment">//   If pos leads to a Select, type the qualifier as long as it is not erroneous</span>
    <span class="comment">//     (this implies discarding the possibly incomplete name in the Select node)</span>
    <span class="comment">//   Otherwise, type the tree found at 'pos' directly.</span>
    val <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.tree0">tree0</a> = <a href="#scala.tools.nsc.interactive;Global.typedTreeAt" title="(pos: Global.this.Position)Global.this.Tree">typedTreeAt</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <a title="Global.this.Select" id="scala.tools.nsc.interactive;Global.typeMembers.tree0.sel">sel</a> @ Select<span class="delimiter">(</span><a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.tree0.qual">qual</a>, _<span class="delimiter">)</span> if <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0.sel" title="Global.this.Select">sel</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types.ErrorType" title="Global.this.ErrorType.type">ErrorType</a> =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0.qual" title="Global.this.Tree">qual</a>
      case Import<span class="delimiter">(</span><a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.tree0.expr">expr</a>, _<span class="delimiter">)</span>                               =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0.expr" title="Global.this.Tree">expr</a>
      case <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.tree0.t">t</a>                                             =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0.t" title="Global.this.Tree">t</a>
    <span class="delimiter">}</span>
    val <a title="Global.this.Context" id="scala.tools.nsc.interactive;Global.typeMembers.context">context</a> = <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.doLocateContext" title="(pos: Global.this.Position)Global.this.Context">doLocateContext</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.pos" title="Global.this.Position">pos</a><span class="delimiter">)</span>

    val <a title="Boolean" id="scala.tools.nsc.interactive;Global.typeMembers.shouldTypeQualifier">shouldTypeQualifier</a> = <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0" title="Global.this.Tree">tree0</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a> match <span class="delimiter">{</span>
      case null           =&gt; true
      case <a title="Global.this.MethodType" id="scala.tools.nsc.interactive;Global.typeMembers.shouldTypeQualifier.mt">mt</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType" title="Global.this.MethodType">MethodType</a> =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.shouldTypeQualifier.mt" title="Global.this.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;MethodType.isImplicit" title="=&gt; Boolean">isImplicit</a>
      case _              =&gt; false
    <span class="delimiter">}</span>

    <span class="comment">// TODO: guard with try/catch to deal with ill-typed qualifiers.</span>
    val <a title="Global.this.analyzer.global.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.tree">tree</a> = if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.shouldTypeQualifier" title="Boolean">shouldTypeQualifier</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.analyzer" title="=&gt; scala.tools.nsc.interactive.InteractiveAnalyzer{val global: Global.this.type}">analyzer</a> <a href="#scala.tools.nsc.interactive;InteractiveAnalyzer.newTyper" title="(context: Global.this.analyzer.Context)Global.this.analyzer.InteractiveTyper">newTyper</a> <a href="#scala.tools.nsc.interactive;Global.typeMembers.context" title="Global.this.Context">context</a> <a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typedQualifier(60ebfc8632)" title="(tree: Global.this.analyzer.global.Tree)Global.this.analyzer.global.Tree">typedQualifier</a> <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0" title="Global.this.Tree">tree0</a> else <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree0" title="Global.this.Tree">tree0</a>

    <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;typeMembers at &quot;)" class="string">&quot;typeMembers at &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.analyzer.global.Type">tpe</a><span class="delimiter">)</span>
    val <a title="Boolean" id="scala.tools.nsc.interactive;Global.typeMembers.superAccess">superAccess</a> = <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Super" title="Global.this.Super">Super</a><span class="delimiter">]</span>
    val <a title="Global.this.Members[Global.this.TypeMember]" id="scala.tools.nsc.interactive;Global.typeMembers.members">members</a> = new <a href="#scala.tools.nsc.interactive;Global;Members" title="Global.this.Members[Global.this.TypeMember]">Members</a><span class="delimiter">[</span>TypeMember<span class="delimiter">]</span>

    def <a title="(sym: Global.this.Symbol, pre: Global.this.Type, inherited: Boolean, viaView: Global.this.Symbol)Unit" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember">addTypeMember</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.pre">pre</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Global.this.Type">Type</a>, <a title="Boolean" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.inherited">inherited</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.viaView">viaView</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val implicitlyAdded = <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.viaView" title="Global.this.Symbol">viaView</a> <a title="Boolean" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.implicitlyAdded">!=</a> <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a>
      <a href="#scala.tools.nsc.interactive;Global.typeMembers.members" title="Global.this.Members[Global.this.TypeMember]">members</a>.<a href="#scala.tools.nsc.interactive;Global;Members.add" title="(sym: Global.this.Symbol, pre: Global.this.Type, implicitlyAdded: Boolean)(toMember: (Global.this.Symbol, Global.this.Type) =&gt; Global.this.TypeMember)Unit">add</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.pre" title="Global.this.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.implicitlyAdded" title="Boolean">implicitlyAdded</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.s">s</a>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.st">st</a><span class="delimiter">)</span> =&gt;
        new <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl;TypeMember" title="Global.this.TypeMember">TypeMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.s" title="Global.this.Symbol">s</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.st" title="Global.this.Type">st</a>,
          <a href="#scala.tools.nsc.interactive;Global.typeMembers.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.isAccessible" title="(sym: Global.this.analyzer.global.Symbol, pre: Global.this.analyzer.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.s" title="Global.this.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.hasGetter" title="=&gt; Boolean">hasGetter</a><span class="delimiter">)</span> <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.s" title="Global.this.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.getter(6ecbd459f2)" title="(base: Global.this.Symbol)Global.this.Symbol">getter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.s" title="Global.this.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a><span class="delimiter">)</span> else <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.$anonfun.s" title="Global.this.Symbol">s</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.pre" title="Global.this.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.superAccess" title="Boolean">superAccess</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.implicitlyAdded" title="Boolean">implicitlyAdded</a><span class="delimiter">)</span>,
          <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.inherited" title="Boolean">inherited</a>,
          <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember.viaView" title="Global.this.Symbol">viaView</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Create a function application of a given view function to `tree` and typechecked it.
     */</span>
    def <a title="(view: Global.this.analyzer.SearchResult)Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.viewApply">viewApply</a><span class="delimiter">(</span><a title="Global.this.analyzer.SearchResult" id="scala.tools.nsc.interactive;Global.typeMembers.viewApply.view">view</a>: <a href="../typechecker/Implicits.scala.html#scala.tools.nsc.typechecker;Implicits;SearchResult" title="Global.this.analyzer.SearchResult">SearchResult</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.viewApply.view" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#scala.tools.nsc.typechecker;Implicits;SearchResult.tree" title="=&gt; Global.this.analyzer.global.Tree">tree</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.analyzer" title="=&gt; scala.tools.nsc.interactive.InteractiveAnalyzer{val global: Global.this.type}">analyzer</a>.<a href="#scala.tools.nsc.interactive;InteractiveAnalyzer.newTyper" title="(context: Global.this.analyzer.Context)Global.this.analyzer.InteractiveTyper">newTyper</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.makeImplicit" title="(reportAmbiguousErrors: Boolean)Global.this.analyzer.Context">makeImplicit</a><span class="delimiter">(</span>reportAmbiguousErrors = false<span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="../typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.typed(60ebfc8632)" title="(tree: Global.this.analyzer.global.Tree)Global.this.analyzer.global.Tree">typed</a><a href="#scala.tools.nsc.interactive;Global.addOnTypeError" title="(x: =&gt; Global.this.analyzer.global.Tree)Global.this.OnTypeError[Global.this.analyzer.global.Tree]" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: Global.this.Tree, args: List[Global.this.Tree])Global.this.Apply">Apply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.viewApply.view" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#scala.tools.nsc.typechecker;Implicits;SearchResult.tree" title="=&gt; Global.this.analyzer.global.Tree">tree</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Global.this.analyzer.global.Tree*)List[Global.this.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.setPos" title="(newpos: scala.reflect.internal.util.Position)Global.this.Apply">setPos</a> <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Global.this.analyzer.global.Position">pos</a><span class="delimiter">)</span>
        .<a href="#scala.tools.nsc.interactive;Global;OnTypeError.onTypeError" title="(alt: =&gt; Global.this.analyzer.global.Tree)Global.this.analyzer.global.Tree">onTypeError</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="Global.this.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    val <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.typeMembers.pre">pre</a> = <a href="#scala.tools.nsc.interactive;Global.stabilizedType" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a><span class="delimiter">)</span>

    val <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.typeMembers.ownerTpe">ownerTpe</a> = <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.analyzer.global.Type">tpe</a> match <span class="delimiter">{</span>
      case ImportType<span class="delimiter">(</span><a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.ownerTpe.expr">expr</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.ownerTpe.expr" title="Global.this.Tree">expr</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>
      case null =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.pre" title="Global.this.Type">pre</a>
      case MethodType<span class="delimiter">(</span><a href="../../../collection/generic/SeqFactory.scala.html#scala.collection.generic;SeqFactory.unapplySeq" title="(x: List[Global.this.Symbol])Some[List[Global.this.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.typeMembers.ownerTpe.rtpe">rtpe</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.ownerTpe.rtpe" title="Global.this.Type">rtpe</a>
      case _ =&gt; <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.analyzer.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="comment">//print(&quot;add members&quot;)</span>
    for <span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.typeMembers.$anonfun.sym">sym</a> &lt;- <a href="#scala.tools.nsc.interactive;Global.typeMembers.ownerTpe" title="Global.this.Type">ownerTpe</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.foreach" title="(p: Global.this.Symbol =&gt; Unit)Unit">members</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember" title="(sym: Global.this.Symbol, pre: Global.this.Type, inherited: Boolean, viaView: Global.this.Symbol)Unit">addTypeMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.pre" title="Global.this.Type">pre</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.sym" title="Global.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Global.this.Symbol">owner</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.tools.nsc.interactive;Global.typeMembers.ownerTpe" title="Global.this.Type">ownerTpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; Global.this.Symbol">typeSymbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Global.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
    <a href="#scala.tools.nsc.interactive;Global.typeMembers.members" title="Global.this.Members[Global.this.TypeMember]">members</a>.<a href="#scala.tools.nsc.interactive;Global;Members.allMembers" title="=&gt; List[Global.this.TypeMember]">allMembers</a> <a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable.Stream;ConsWrapper.#::" title="(hd: List[Global.this.TypeMember])scala.collection.immutable.Stream[List[Global.this.TypeMember]]">#::</a> <a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable.Stream.consWrapper" title="(stream: =&gt; scala.collection.immutable.Stream[List[Global.this.TypeMember]])scala.collection.immutable.Stream.ConsWrapper[List[Global.this.TypeMember]]" class="delimiter">{</a>
      <span class="comment">//print(&quot;\nadd enrichment&quot;)</span>
      val <a title="List[Global.this.analyzer.SearchResult]" id="scala.tools.nsc.interactive;Global.typeMembers.applicableViews">applicableViews</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Global.this.analyzer.SearchResult]">List</a><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span> =
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.ownerTpe" title="Global.this.Type">ownerTpe</a>.<a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;Type.isErroneous" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> List<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>
        else new <a href="../typechecker/Implicits.scala.html#scala.tools.nsc.typechecker;Implicits;ImplicitSearch" title="Global.this.analyzer.ImplicitSearch">ImplicitSearch</a><span class="delimiter">(</span>
          <a href="#scala.tools.nsc.interactive;Global.typeMembers.tree" title="Global.this.analyzer.global.Tree">tree</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.functionType" title="(formals: List[Global.this.Type], restpe: Global.this.Type)Global.this.Type">functionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Global.this.Type*)List[Global.this.Type]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.ownerTpe" title="Global.this.Type">ownerTpe</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.AnyTpe" title="=&gt; Global.this.Type">AnyTpe</a><span class="delimiter">)</span>, isView = true,
          context0 = <a href="#scala.tools.nsc.interactive;Global.typeMembers.context" title="Global.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.makeImplicit" title="(reportAmbiguousErrors: Boolean)Global.this.analyzer.Context">makeImplicit</a><span class="delimiter">(</span>reportAmbiguousErrors = false<span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../typechecker/Implicits.scala.html#scala.tools.nsc.typechecker;Implicits;ImplicitSearch.allImplicits" title="=&gt; List[Global.this.analyzer.SearchResult]">allImplicits</a>
      for <span class="delimiter">(</span><a title="Global.this.analyzer.SearchResult" id="scala.tools.nsc.interactive;Global.typeMembers.$anonfun.view">view</a> &lt;- <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Global.this.analyzer.SearchResult =&gt; Unit)Unit">applicableViews</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global.typeMembers.$anonfun.vtree">vtree</a> = <a href="#scala.tools.nsc.interactive;Global.typeMembers.viewApply" title="(view: Global.this.analyzer.SearchResult)Global.this.Tree">viewApply</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.view" title="Global.this.analyzer.SearchResult">view</a><span class="delimiter">)</span>
        val <a title="Global.this.Type" id="scala.tools.nsc.interactive;Global.typeMembers.$anonfun.vpre">vpre</a> = <a href="#scala.tools.nsc.interactive;Global.stabilizedType" title="(tree: Global.this.Tree)Global.this.Type">stabilizedType</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.vtree" title="Global.this.Tree">vtree</a><span class="delimiter">)</span>
        for <span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global.typeMembers.$anonfun.$anonfun.sym">sym</a> &lt;- <a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.vtree" title="Global.this.Tree">vtree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; Global.this.Type">tpe</a>.<a href="../../../reflect/internal/Scopes.scala.html#scala.reflect.internal;Scopes;Scope.foreach" title="(p: Global.this.Symbol =&gt; Unit)Unit">members</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.typeMembers.addTypeMember" title="(sym: Global.this.Symbol, pre: Global.this.Type, inherited: Boolean, viaView: Global.this.Symbol)Unit">addTypeMember</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.$anonfun.sym" title="Global.this.Symbol">sym</a>, <a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.vpre" title="Global.this.Type">vpre</a>, inherited = false, <a href="#scala.tools.nsc.interactive;Global.typeMembers.$anonfun.view" title="Global.this.analyzer.SearchResult">view</a>.<a href="../typechecker/Implicits.scala.html#scala.tools.nsc.typechecker;Implicits;SearchResult.tree" title="=&gt; Global.this.analyzer.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Global.this.analyzer.global.Symbol">symbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">//println()</span>
      <a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable.Stream.apply" title="(xs: List[Global.this.TypeMember]*)scala.collection.immutable.Stream[List[Global.this.TypeMember]]">Stream</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.typeMembers.members" title="Global.this.Members[Global.this.TypeMember]">members</a>.<a href="#scala.tools.nsc.interactive;Global;Members.allMembers" title="=&gt; List[Global.this.TypeMember]">allMembers</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Implements CompilerControl.askLoadedTyped */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Tree], keepLoaded: Boolean, onSameThread: Boolean)Unit" id="scala.tools.nsc.interactive;Global.waitLoadedTyped">waitLoadedTyped</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.waitLoadedTyped.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.waitLoadedTyped.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Global.this.Tree]">Response</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Boolean" id="scala.tools.nsc.interactive;Global.waitLoadedTyped$default$3">keepLoaded</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false, <a title="Boolean" id="scala.tools.nsc.interactive;Global.waitLoadedTyped$default$4">onSameThread</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.waitLoadedTyped.unit">unit</a><span class="delimiter">)</span> =&gt;
        if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="RichCompilationUnits.scala.html#scala.tools.nsc.interactive;RichCompilationUnits;RichCompilationUnit.isUpToDate" title="=&gt; Boolean">isUpToDate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;already typed&quot;)" class="string">&quot;already typed&quot;</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.response" title="Global.this.Response[Global.this.Tree]">response</a> <a href="Response.scala.html#scala.tools.nsc.interactive;Response.set" title="(x: Global.this.Tree)Unit">set</a> <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a>
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: tools.nsc.io.AbstractFile)Boolean">ignoredFiles</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile.file" title="=&gt; scala.reflect.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.response" title="Global.this.Response[Global.this.Tree]">response</a>.<a href="Response.scala.html#scala.tools.nsc.interactive;Response.raise" title="(exc: Throwable)Unit">raise</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.lastException_=" title="=&gt; Option[Throwable]">lastException</a>.<a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Throwable)Throwable">getOrElse</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive.CancelException.readResolve" title="scala.tools.nsc.interactive.CancelException.type">CancelException</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped$default$4" title="Boolean">onSameThread</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.getTypedTree" title="(source: scala.reflect.internal.util.SourceFile, forceReload: Boolean, response: Global.this.Response[Global.this.Tree])Unit">getTypedTree</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a>, forceReload = false, <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.response" title="Global.this.Response[Global.this.Tree]">response</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;wait for later&quot;)" class="string">&quot;wait for later&quot;</span><span class="delimiter">)</span>
          <a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="(x$1: Boolean)Unit">outOfDate</a> = true
          <a href="../../../collection/mutable/HashMap.scala.html#scala.collection.mutable;HashMap.update" title="(key: scala.reflect.internal.util.SourceFile, value: Set[Global.this.Response[Global.this.Tree]])Unit">waitLoadedTypeResponses</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.+(daf7108c0f)" title="(elem: Global.this.Response[Global.this.Tree])scala.collection.immutable.Set[Global.this.Response[Global.this.Tree]]">+=</a> <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.response" title="Global.this.Response[Global.this.Tree]">response</a>
        <span class="delimiter">}</span>
      case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
        <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;load unit and type&quot;)" class="string">&quot;load unit and type&quot;</span><span class="delimiter">)</span>
        try <a href="#scala.tools.nsc.interactive;Global.reloadSources" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">reloadSources</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: scala.reflect.internal.util.SourceFile*)List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
        finally <span class="delimiter">{</span>
          <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped" title="(source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Tree], keepLoaded: Boolean, onSameThread: Boolean)Unit">waitLoadedTyped</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a>, <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.response" title="Global.this.Response[Global.this.Tree]">response</a>, <a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped$default$4" title="Boolean">onSameThread</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped$default$3" title="Boolean">keepLoaded</a><span class="delimiter">)</span> <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.removeUnitOf" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">removeUnitOf</a><span title="Unit" class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.waitLoadedTyped.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Implements CompilerControl.askParsedEntered */</span>
  private<span class="delimiter">[</span>interactive<span class="delimiter">]</span> def <a title="(source: scala.reflect.internal.util.SourceFile, keepLoaded: Boolean, response: Global.this.Response[Global.this.Tree], onSameThread: Boolean)Unit" id="scala.tools.nsc.interactive;Global.getParsedEntered">getParsedEntered</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getParsedEntered.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Boolean" id="scala.tools.nsc.interactive;Global.getParsedEntered.keepLoaded">keepLoaded</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.getParsedEntered.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Global.this.Tree]">Response</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Boolean" id="scala.tools.nsc.interactive;Global.getParsedEntered$default$4">onSameThread</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.getUnit" title="(s: scala.reflect.internal.util.SourceFile)Option[Global.this.RichCompilationUnit]">getUnit</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.getParsedEntered.unit">unit</a><span class="delimiter">)</span> =&gt;
        <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow" title="(source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Tree])Unit">getParsedEnteredNow</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.source" title="scala.reflect.internal.util.SourceFile">source</a>, <a href="#scala.tools.nsc.interactive;Global.getParsedEntered.response" title="Global.this.Response[Global.this.Tree]">response</a><span class="delimiter">)</span>
      case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> =&gt;
        try <span class="delimiter">{</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.keepLoaded" title="Boolean">keepLoaded</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="=&gt; Boolean">outOfDate</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.nsc.interactive;Global.getParsedEntered$default$4" title="Boolean">onSameThread</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.interactive;Global.reloadSources" title="(sources: List[scala.reflect.internal.util.SourceFile])Unit">reloadSources</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: scala.reflect.internal.util.SourceFile*)List[scala.reflect.internal.util.SourceFile]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> finally <span class="delimiter">{</span>
          if <span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.keepLoaded" title="Boolean">keepLoaded</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc.interactive;Global.outOfDate_=" title="=&gt; Boolean">outOfDate</a> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.nsc.interactive;Global.getParsedEntered$default$4" title="Boolean">onSameThread</a><span class="delimiter">)</span>
            <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow" title="(source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Tree])Unit">getParsedEnteredNow</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.source" title="scala.reflect.internal.util.SourceFile">source</a>, <a href="#scala.tools.nsc.interactive;Global.getParsedEntered.response" title="Global.this.Response[Global.this.Tree]">response</a><span class="delimiter">)</span>
          else
            <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredResponses_=" title="=&gt; Global.this.ResponseMap">getParsedEnteredResponses</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEntered.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.+(daf7108c0f)" title="(elem: Global.this.Response[Global.this.Tree])scala.collection.immutable.Set[Global.this.Response[Global.this.Tree]]">+=</a> <a href="#scala.tools.nsc.interactive;Global.getParsedEntered.response" title="Global.this.Response[Global.this.Tree]">response</a>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Parses and enters given source file, stroring parse tree in response */</span>
  private def <a title="(source: scala.reflect.internal.util.SourceFile, response: Global.this.Response[Global.this.Tree])Unit" id="scala.tools.nsc.interactive;Global.getParsedEnteredNow">getParsedEnteredNow</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.SourceFile" id="scala.tools.nsc.interactive;Global.getParsedEnteredNow.source">source</a>: <a href="../../../reflect/internal/util/SourceFile.scala.html#scala.reflect.internal.util;SourceFile" title="scala.reflect.internal.util.SourceFile">SourceFile</a>, <a title="Global.this.Response[Global.this.Tree]" id="scala.tools.nsc.interactive;Global.getParsedEnteredNow.response">response</a>: <a href="Response.scala.html#scala.tools.nsc.interactive;Response" title="Global.this.Response[Global.this.Tree]">Response</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.respond" title="(result: Global.this.Response[Global.this.Tree])(op: =&gt; Global.this.Tree)Unit">respond</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow.response" title="Global.this.Response[Global.this.Tree]">response</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="CompilerControl.scala.html#scala.tools.nsc.interactive;CompilerControl.onUnitOf" title="(source: scala.reflect.internal.util.SourceFile)(op: Global.this.RichCompilationUnit =&gt; Global.this.Tree)Global.this.Tree">onUnitOf</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow.source" title="scala.reflect.internal.util.SourceFile">source</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="Global.this.RichCompilationUnit" id="scala.tools.nsc.interactive;Global.getParsedEnteredNow.$anonfun.unit">unit</a> =&gt;
        <a href="#scala.tools.nsc.interactive;Global.parseAndEnter" title="(unit: Global.this.RichCompilationUnit)Unit">parseAndEnter</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow.$anonfun.unit" title="Global.this.RichCompilationUnit">unit</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global.getParsedEnteredNow.$anonfun.unit" title="Global.this.RichCompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit.body" title="=&gt; Global.this.Tree">body</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// ---------------- Helper classes ---------------------------</span>

  <span class="comment">/** The typer run */</span>
  class <a title="class TyperRun extends Global.this.Run" id="scala.tools.nsc.interactive;Global;TyperRun">TyperRun</a> extends <a href="../Global.scala.html#scala.tools.nsc;Global;Run" title="Global.this.Run">Run</a> <span class="delimiter">{</span>
    <span class="comment">// units is always empty</span>

    <span class="comment">/** canRedefine is used to detect double declarations of classes and objects
     *  in multiple source files.
     *  Since the IDE rechecks units several times in the same run, these tests
     *  are disabled by always returning true here.
     */</span>
    override def <a title="(sym: Global.this.Symbol)Boolean" id="scala.tools.nsc.interactive;Global;TyperRun.canRedefine">canRedefine</a><span class="delimiter">(</span><a title="Global.this.Symbol" id="scala.tools.nsc.interactive;Global;TyperRun.canRedefine.sym">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Global.this.Symbol">Symbol</a><span class="delimiter">)</span> = true

    def <a title="(unit: Global.this.CompilationUnit)Unit" id="scala.tools.nsc.interactive;Global;TyperRun.typeCheck">typeCheck</a><span class="delimiter">(</span><a title="Global.this.CompilationUnit" id="scala.tools.nsc.interactive;Global;TyperRun.typeCheck.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="Global.this.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global;TyperRun.applyPhase" title="(phase: scala.tools.nsc.Phase, unit: Global.this.CompilationUnit)Unit">applyPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global;Run.typerPhase" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>, <a href="#scala.tools.nsc.interactive;Global;TyperRun.typeCheck.unit" title="Global.this.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Apply a phase to a compilation unit
     *  @return true iff typechecked correctly
     */</span>
    private def <a title="(phase: scala.tools.nsc.Phase, unit: Global.this.CompilationUnit)Unit" id="scala.tools.nsc.interactive;Global;TyperRun.applyPhase">applyPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="scala.tools.nsc.interactive;Global;TyperRun.applyPhase.phase">phase</a>: <a href="../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase" title="scala.tools.nsc.Phase">Phase</a>, <a title="Global.this.CompilationUnit" id="scala.tools.nsc.interactive;Global;TyperRun.applyPhase.unit">unit</a>: <a href="../CompilationUnits.scala.html#scala.tools.nsc;CompilationUnits;CompilationUnit" title="Global.this.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.enteringPhase" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">enteringPhase</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global;TyperRun.applyPhase.phase" title="scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.tools.nsc.interactive;Global;TyperRun.applyPhase.phase" title="scala.tools.nsc.Phase">phase</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Global.this.GlobalPhase" class="delimiter">[</span><a href="../Global.scala.html#scala.tools.nsc;Global;GlobalPhase" title="Global.this.GlobalPhase">GlobalPhase</a><span class="delimiter">]</span> <a href="../Global.scala.html#scala.tools.nsc;Global;GlobalPhase.applyPhase" title="(unit: Global.this.CompilationUnit)Unit">applyPhase</a> <a href="#scala.tools.nsc.interactive;Global;TyperRun.applyPhase.unit" title="Global.this.CompilationUnit">unit</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.tools.nsc.interactive;Global.newTyperRun">newTyperRun</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.nsc.interactive;Global.currentTyperRun_=" title="(x$1: Global.this.TyperRun)Unit">currentTyperRun</a> = new <a href="#scala.tools.nsc.interactive;Global;TyperRun" title="Global.this.TyperRun">TyperRun</a>
  <span class="delimiter">}</span>

  class <a title="class TyperResult extends Throwable with scala.util.control.ControlThrowable" id="scala.tools.nsc.interactive;Global;TyperResult">TyperResult</a><a href="#scala.tools.nsc.interactive;Global;TyperResult" title="Global.this.TyperResult" class="delimiter">(</a>val <a title="Global.this.Tree" id="scala.tools.nsc.interactive;Global;TyperResult.tree">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Global.this.Tree">Tree</a><span class="delimiter">)</span> extends <a href="../../../util/control/ControlThrowable.scala.html#scala.util.control;ControlThrowable" title="scala.util.control.ControlThrowable">ControlThrowable</a>

  <a href="../Global.scala.html#scala.tools.nsc;Global.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../Global.scala.html#scala.tools.nsc;Global.globalPhase" title="=&gt; scala.tools.nsc.Phase">globalPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#scala.reflect.internal;Phase.id" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  implicit def <a title="[T](x: =&gt; T)Global.this.OnTypeError[T]" id="scala.tools.nsc.interactive;Global.addOnTypeError">addOnTypeError</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.interactive;Global.addOnTypeError;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="scala.tools.nsc.interactive;Global.addOnTypeError.x">x</a>: =&gt; T<span class="delimiter">)</span>: <a href="#scala.tools.nsc.interactive;Global;OnTypeError" title="Global.this.OnTypeError[T]">OnTypeError</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = new <a href="#scala.tools.nsc.interactive;Global;OnTypeError" title="Global.this.OnTypeError[T]">OnTypeError</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.addOnTypeError.x" title="=&gt; T">x</a><span class="delimiter">)</span>

  <span class="comment">// OnTypeError should still catch TypeError because of cyclic references,</span>
  <span class="comment">// but DivergentImplicit shouldn't leak anymore here</span>
  class <a title="class OnTypeError[T] extends AnyRef" id="scala.tools.nsc.interactive;Global;OnTypeError">OnTypeError</a><span class="delimiter">[</span><a title="" id="scala.tools.nsc.interactive;Global;OnTypeError;T">T</a><span class="delimiter">]</span><a href="#scala.tools.nsc.interactive;Global;OnTypeError" title="Global.this.OnTypeError[T]" class="delimiter">(</a><a title="=&gt; T" id="scala.tools.nsc.interactive;Global;OnTypeError.op">op</a>: =&gt; T<span class="delimiter">)</span> <span class="delimiter">{</span>
    def <a title="(alt: =&gt; T)T" id="scala.tools.nsc.interactive;Global;OnTypeError.onTypeError">onTypeError</a><span class="delimiter">(</span><a title="=&gt; T" id="scala.tools.nsc.interactive;Global;OnTypeError.onTypeError.alt">alt</a>: =&gt; T<span class="delimiter">)</span> = try <span class="delimiter">{</span>
      <a href="#scala.tools.nsc.interactive;Global;OnTypeError.op" title="=&gt; T">op</a>
    <span class="delimiter">}</span> catch <span class="delimiter">{</span>
      case <a title="Global.this.TypeError" id="scala.tools.nsc.interactive;Global;OnTypeError.onTypeError.ex">ex</a>: <a href="../../../reflect/internal/Types.scala.html#scala.reflect.internal;Types;TypeError" title="Global.this.TypeError">TypeError</a> =&gt;
        <a href="#scala.tools.nsc.interactive;Global.debugLog" title="(msg: =&gt; String)Unit">debugLog</a><span class="delimiter">(</span><span title="String(&quot;type error caught: &quot;)" class="string">&quot;type error caught: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.nsc.interactive;Global;OnTypeError.onTypeError.ex" title="Global.this.TypeError">ex</a><span class="delimiter">)</span>
        <a href="#scala.tools.nsc.interactive;Global;OnTypeError.onTypeError.alt" title="=&gt; T">alt</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// We need to force a number of symbols that might be touched by a parser.</span>
  <span class="comment">// Otherwise thread safety property of parseTree method would be violated.</span>
  protected def <a title="()Unit" id="scala.tools.nsc.interactive;Global.forceSymbolsUsedByParser">forceSymbolsUsedByParser</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    val symbols =
      <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: Global.this.Symbol{def name: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; def rawname: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol{type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}}*)scala.collection.immutable.Set[Global.this.Symbol{def name: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; def rawname: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol{type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}}]">Set</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.UnitClass" title="=&gt; Global.this.ClassSymbol">UnitClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.BooleanClass" title="=&gt; Global.this.ClassSymbol">BooleanClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.ByteClass" title="=&gt; Global.this.ClassSymbol">ByteClass</a>,
          <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.ShortClass" title="=&gt; Global.this.ClassSymbol">ShortClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.IntClass" title="=&gt; Global.this.ClassSymbol">IntClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.LongClass" title="=&gt; Global.this.ClassSymbol">LongClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.FloatClass" title="=&gt; Global.this.ClassSymbol">FloatClass</a>,
          <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;ValueClassDefinitions.DoubleClass" title="=&gt; Global.this.ClassSymbol">DoubleClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.NilModule" title="=&gt; Global.this.ModuleSymbol">NilModule</a>, <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ListClass" title="=&gt; Global.this.ClassSymbol">ListClass</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#scala.collection;SetLike.++(07e1553119)" title="scala.collection.immutable.Set[Global.this.Symbol{def name: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; def rawname: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol{type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}}]" id="scala.tools.nsc.interactive;Global.forceSymbolsUsedByParser.symbols">++</a> <a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.TupleClass" title="=&gt; Global.this.definitions.VarArityClass">TupleClass</a>.<a href="../../../reflect/internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;VarArityClass.seq" title="=&gt; IndexedSeq[Global.this.ClassSymbol]">seq</a>
    <a href="#scala.tools.nsc.interactive;Global.forceSymbolsUsedByParser.symbols" title="scala.collection.immutable.Set[Global.this.Symbol{def name: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; def rawname: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol{type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}}]">symbols</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: Global.this.Symbol{def name: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; def rawname: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol{type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}} =&gt; Global.this.Symbol{def name: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; def rawname: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol{type TypeOfClonedSymbol &gt;: Global.this.TermSymbol with Global.this.ClassSymbol &lt;: Global.this.Symbol; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}; type NameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name{def next: Global.this.Name; type ThisNameType &gt;: Global.this.TermName with Global.this.TypeName &lt;: Global.this.Name}})Unit">foreach</a><span class="delimiter">(</span><a href="#scala.tools.nsc.interactive;Global.forceSymbolsUsedByParser.$anonfun.x$14" title="&lt;refinement of Global.this.Symbol&gt; extends Global.this.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.initialize" title="=&gt; scala.tools.nsc.interactive.Global.&lt;refinement&gt;.type">initialize</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <a href="#scala.tools.nsc.interactive;Global.forceSymbolsUsedByParser" title="()Unit">forceSymbolsUsedByParser</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** Start the compiler background thread and turn on thread confinement checks */</span>
  private def <a title="()Unit" id="scala.tools.nsc.interactive;Global.finishInitialization">finishInitialization</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="comment">// this flag turns on `assertCorrectThread checks`</span>
    <a href="#scala.tools.nsc.interactive;Global.initializing" title="(x$1: Boolean)Unit">initializing</a> = false

    <span class="comment">// Only start the thread if initialization was successful. A crash while forcing symbols (for example</span>
    <span class="comment">// if the Scala library is not on the classpath) can leave running threads behind. See Scala IDE #1002016</span>
    <a href="#scala.tools.nsc.interactive;Global.compileRunner_=" title="=&gt; Thread">compileRunner</a>.<span title="()Unit">start</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The compiler has been initialized. Constructors are evaluated in textual order,
   *  if we reached here, all super constructors and the primary constructor
   *  have been executed.
   */</span>
  <a href="#scala.tools.nsc.interactive;Global.finishInitialization" title="()Unit">finishInitialization</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="scala.tools.nsc.interactive.CancelException.type" id="scala.tools.nsc.interactive.CancelException.readResolve">CancelException</a> extends <a href="../../../package.scala.html#scala.package;Exception" title="Exception">Exception</a>

        </pre>
    </body>
</html>
