<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/nsc/MainGenericRunner.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2006-2013 LAMP/EPFL
 * @author  Lex Spoon
 */</span>

package scala
package tools.nsc

import io.<span class="delimiter">{</span> File <span class="delimiter">}</span>
import util.<span class="delimiter">{</span> ClassPath, ScalaClassLoader <span class="delimiter">}</span>
import <a href="GenericRunnerCommand.scala.html#scala.tools.nsc.GenericRunnerCommand" title="scala.tools.nsc.GenericRunnerCommand.type">GenericRunnerCommand</a>._

object <a title="scala.tools.nsc.JarRunner.type" id="scala.tools.nsc.JarRunner">JarRunner</a> extends <a href="ObjectRunner.scala.html#scala.tools.nsc;CommonRunner" title="scala.tools.nsc.CommonRunner">CommonRunner</a> <span class="delimiter">{</span>
  def <a title="(settings: scala.tools.nsc.GenericRunnerSettings, jarPath: String, arguments: Seq[String])Either[Throwable,Boolean]" id="scala.tools.nsc.JarRunner.runJar">runJar</a><span class="delimiter">(</span><a title="scala.tools.nsc.GenericRunnerSettings" id="scala.tools.nsc.JarRunner.runJar.settings">settings</a>: <a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings" title="scala.tools.nsc.GenericRunnerSettings">GenericRunnerSettings</a>, <a title="String" id="scala.tools.nsc.JarRunner.runJar.jarPath">jarPath</a>: <span title="String">String</span>, <a title="Seq[String]" id="scala.tools.nsc.JarRunner.runJar.arguments">arguments</a>: <a href="../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../util/Either.scala.html#scala.util;Either" title="Either[Throwable,Boolean]">Either</a><span class="delimiter">[</span>Throwable, Boolean<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.tools.nsc.io.Jar" id="scala.tools.nsc.JarRunner.runJar.jar">jar</a>       = new io.<a href="io/Jar.scala.html#scala.tools.nsc.io;Jar" title="scala.tools.nsc.io.Jar">Jar</a><span class="delimiter">(</span><a href="#scala.tools.nsc.JarRunner.runJar.jarPath" title="String">jarPath</a><span class="delimiter">)</span>
    val mainClass = <a href="#scala.tools.nsc.JarRunner.runJar.jar" title="scala.tools.nsc.io.Jar">jar</a>.<a href="io/Jar.scala.html#scala.tools.nsc.io;Jar.mainClass" title="=&gt; Option[String]">mainClass</a> <a href="../../Option.scala.html#scala;Option.getOrElse" title="String" id="scala.tools.nsc.JarRunner.runJar.mainClass">getOrElse</a> sys.<a href="../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Cannot find main class for jar: &quot;)" class="string">&quot;Cannot find main class for jar: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.nsc.JarRunner.runJar.jarPath" title="String">jarPath</a><span class="delimiter">)</span>
    val jarURLs   = <a href="util/ClassPath.scala.html#scala.tools.nsc.util.ClassPath" title="scala.tools.nsc.util.ClassPath.type">ClassPath</a> <a href="util/ClassPath.scala.html#scala.tools.nsc.util.ClassPath.expandManifestPath" title="List[java.net.URL]" id="scala.tools.nsc.JarRunner.runJar.jarURLs">expandManifestPath</a> <a href="#scala.tools.nsc.JarRunner.runJar.jarPath" title="String">jarPath</a>
    val <a title="List[java.net.URL]" id="scala.tools.nsc.JarRunner.runJar.urls">urls</a>      = if <span class="delimiter">(</span><a href="#scala.tools.nsc.JarRunner.runJar.jarURLs" title="List[java.net.URL]">jarURLs</a>.<a href="../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../reflect/io/File.scala.html#scala.reflect.io.File.apply" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">File</a><a href="../../io/Codec.scala.html#scala.io;LowPriorityCodecImplicits.fallbackSystemCodec" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">jarPath</a><span class="delimiter">)</span>.<a href="../../reflect/io/Path.scala.html#scala.reflect.io;Path.toURL" title="=&gt; java.net.URL">toURL</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.+:" title="(elem: java.net.URL)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],java.net.URL,List[java.net.URL]])List[java.net.URL]">+:</a> <a href="#scala.tools.nsc.JarRunner.runJar.settings" title="scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings.classpathURLs" title="=&gt; List[java.net.URL]">classpathURLs</a> else <a href="#scala.tools.nsc.JarRunner.runJar.jarURLs" title="List[java.net.URL]">jarURLs</a>

    if <span class="delimiter">(</span><a href="#scala.tools.nsc.JarRunner.runJar.settings" title="scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean" title="implicit scala.reflect.internal.settings.MutableSettings.reflectSettingToBoolean : (s: scala.reflect.internal.settings.MutableSettings#BooleanSetting)Boolean">Ylogcp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../Console.scala.html#scala.Console.err" title="=&gt; java.io.PrintStream">err</a>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Running jar with these URLs as the classpath:&quot;)" class="string">&quot;Running jar with these URLs as the classpath:&quot;</span><span class="delimiter">)</span>
      <a href="#scala.tools.nsc.JarRunner.runJar.urls" title="List[java.net.URL]">urls</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: java.net.URL =&gt; Unit)Unit">foreach</a> <a href="../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a>
    <span class="delimiter">}</span>

    <a href="ObjectRunner.scala.html#scala.tools.nsc;CommonRunner.runAndCatch" title="(urls: List[java.net.URL], objectName: String, arguments: Seq[String])Either[Throwable,Boolean]">runAndCatch</a><span class="delimiter">(</span><a href="#scala.tools.nsc.JarRunner.runJar.urls" title="List[java.net.URL]">urls</a>, <a href="#scala.tools.nsc.JarRunner.runJar.mainClass" title="String">mainClass</a>, <a href="#scala.tools.nsc.JarRunner.runJar.arguments" title="Seq[String]">arguments</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** An object that runs Scala code.  It has three possible
 *  sources for the code to run: pre-compiled code, a script file,
 *  or interactive entry.
 */</span>
class <a title="class MainGenericRunner extends AnyRef" id="scala.tools.nsc;MainGenericRunner">MainGenericRunner</a> <a href="#scala.tools.nsc;MainGenericRunner" title="scala.tools.nsc.MainGenericRunner" class="delimiter">{</a>
  def <a title="(str: String, e: Option[Throwable], isFailure: Boolean)Boolean" id="scala.tools.nsc;MainGenericRunner.errorFn">errorFn</a><span class="delimiter">(</span><a title="String" id="scala.tools.nsc;MainGenericRunner.errorFn.str">str</a>: <span title="String">String</span>, <a title="Option[Throwable]" id="scala.tools.nsc;MainGenericRunner.errorFn$default$2">e</a>: <a href="../../Option.scala.html#scala;Option" title="Option[Throwable]">Option</a><span class="delimiter">[</span>Throwable<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>, <a title="Boolean" id="scala.tools.nsc;MainGenericRunner.errorFn$default$3">isFailure</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true<span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">str</a>.<a href="../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../Console.scala.html#scala.Console.err" title="=&gt; java.io.PrintStream">err</a> <span title="(x$1: String)Unit">println</span> <a href="#scala.tools.nsc;MainGenericRunner.errorFn.str" title="String">str</a>
    <a href="#scala.tools.nsc;MainGenericRunner.errorFn$default$2" title="Option[Throwable]">e</a> <a href="../../Option.scala.html#scala;Option.foreach" title="(f: Throwable =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.errorFn.$anonfun.x$2" title="Throwable">_</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc;MainGenericRunner.errorFn$default$3" title="Boolean">isFailure</a>
  <span class="delimiter">}</span>

  def <a title="(args: Array[String])Boolean" id="scala.tools.nsc;MainGenericRunner.process">process</a><span class="delimiter">(</span><a title="Array[String]" id="scala.tools.nsc;MainGenericRunner.process.args">args</a>: <a href="../../Array.scala.html#scala;Array" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="scala.tools.nsc.GenericRunnerCommand" id="scala.tools.nsc;MainGenericRunner.process.command">command</a> = new <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand" title="scala.tools.nsc.GenericRunnerCommand">GenericRunnerCommand</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">args</a>.<a href="../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[String]">toList</a>, <span class="delimiter">(</span>x: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc;MainGenericRunner.errorFn" title="(str: String, e: Option[Throwable], isFailure: Boolean)Boolean">errorFn</a><span title="Unit" class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.command.$anonfun.x" title="String">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    import <a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<span class="delimiter">{</span> settings, howToRun, thingToRun, shortUsageMsg, shouldStopWithInfo <span class="delimiter">}</span>
    def <a title="=&gt; scala.tools.nsc.Global" id="scala.tools.nsc;MainGenericRunner.process.sampleCompiler">sampleCompiler</a> = new <a href="Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a><span class="delimiter">)</span>   <span class="comment">// def so it's not created unless needed</span>

    def <a title="()Boolean" id="scala.tools.nsc;MainGenericRunner.process.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      def <a title="=&gt; Boolean" id="scala.tools.nsc;MainGenericRunner.process.run.isE">isE</a>   = <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings.execute" title="=&gt; command.settings.StringSetting">execute</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.isDefault" title="=&gt; Boolean">isDefault</a>
      def <a title="=&gt; command.settings.execute.T" id="scala.tools.nsc;MainGenericRunner.process.run.dashe">dashe</a> = <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings.execute" title="=&gt; command.settings.StringSetting">execute</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value" title="=&gt; command.settings.execute.T">value</a>

      def <a title="=&gt; Boolean" id="scala.tools.nsc;MainGenericRunner.process.run.isI">isI</a>   = <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings.loadfiles" title="=&gt; command.settings.MultiStringSetting">loadfiles</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.isDefault" title="=&gt; Boolean">isDefault</a>
      def <a title="=&gt; command.settings.loadfiles.T" id="scala.tools.nsc;MainGenericRunner.process.run.dashi">dashi</a> = <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings.loadfiles" title="=&gt; command.settings.MultiStringSetting">loadfiles</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value" title="=&gt; command.settings.loadfiles.T">value</a>

      <span class="comment">// Deadlocks on startup under -i unless we disable async.</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.run.isI" title="=&gt; Boolean">isI</a><span class="delimiter">)</span>
        <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.Yreplsync" title="=&gt; command.settings.BooleanSetting">Yreplsync</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: command.settings.Yreplsync.T)Unit">value</a> = true

      def <a title="=&gt; String" id="scala.tools.nsc;MainGenericRunner.process.run.combinedCode">combinedCode</a>  = <span class="delimiter">{</span>
        val <a title="List[String]" id="scala.tools.nsc;MainGenericRunner.process.run.combinedCode.files">files</a>   = if <span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.run.isI" title="=&gt; Boolean">isI</a><span class="delimiter">)</span> <a href="#scala.tools.nsc;MainGenericRunner.process.run.dashi" title="=&gt; command.settings.loadfiles.T">dashi</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="String" id="scala.tools.nsc;MainGenericRunner.process.run.combinedCode.files.$anonfun.file">file</a> =&gt; <a href="../../reflect/io/File.scala.html#scala.reflect.io.File.apply" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">File</a><a href="../../io/Codec.scala.html#scala.io;LowPriorityCodecImplicits.fallbackSystemCodec" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">file</a><span class="delimiter">)</span>.<a href="../../reflect/io/Streamable.scala.html#scala.reflect.io.Streamable;Chars.slurp(612e557918)" title="()String">slurp</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> else <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
        val <a title="List[command.settings.execute.T]" id="scala.tools.nsc;MainGenericRunner.process.run.combinedCode.str">str</a>     = if <span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.run.isE" title="=&gt; Boolean">isE</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: command.settings.execute.T*)List[command.settings.execute.T]">List</a><span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.run.dashe" title="=&gt; command.settings.execute.T">dashe</a><span class="delimiter">)</span> else <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>

        <a href="#scala.tools.nsc;MainGenericRunner.process.run.combinedCode.files" title="List[String]">files</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="#scala.tools.nsc;MainGenericRunner.process.run.combinedCode.str" title="List[command.settings.execute.T]">str</a> <a href="../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <span title="String(&quot;\n\n&quot;)" class="string">&quot;\n\n&quot;</span>
      <span class="delimiter">}</span>

      def <a title="()Either[Throwable,Boolean]" id="scala.tools.nsc;MainGenericRunner.process.run.runTarget">runTarget</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../util/Either.scala.html#scala.util;Either" title="Either[Throwable,Boolean]">Either</a><span class="delimiter">[</span>Throwable, Boolean<span class="delimiter">]</span> = <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.howToRun" title="=&gt; scala.tools.nsc.GenericRunnerCommand.HowToRun">howToRun</a> match <span class="delimiter">{</span>
        case <a href="GenericRunnerCommand.scala.html#scala.tools.nsc.GenericRunnerCommand.AsObject" title="scala.tools.nsc.GenericRunnerCommand.AsObject.type">AsObject</a> =&gt;
          <a href="ObjectRunner.scala.html#scala.tools.nsc.ObjectRunner" title="scala.tools.nsc.ObjectRunner.type">ObjectRunner</a>.<a href="ObjectRunner.scala.html#scala.tools.nsc;CommonRunner.runAndCatch" title="(urls: List[java.net.URL], objectName: String, arguments: Seq[String])Either[Throwable,Boolean]">runAndCatch</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#scala.tools.nsc;GenericRunnerSettings.classpathURLs" title="=&gt; List[java.net.URL]">classpathURLs</a>, <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.thingToRun" title="=&gt; String">thingToRun</a>, <a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.arguments" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
        case <a href="GenericRunnerCommand.scala.html#scala.tools.nsc.GenericRunnerCommand.AsScript" title="scala.tools.nsc.GenericRunnerCommand.AsScript.type">AsScript</a> =&gt;
          <a href="ScriptRunner.scala.html#scala.tools.nsc.ScriptRunner" title="scala.tools.nsc.ScriptRunner.type">ScriptRunner</a>.<a href="ScriptRunner.scala.html#scala.tools.nsc;ScriptRunner.runScriptAndCatch" title="(settings: scala.tools.nsc.GenericRunnerSettings, scriptFile: String, scriptArgs: List[String])Either[Throwable,Boolean]">runScriptAndCatch</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>, <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.thingToRun" title="=&gt; String">thingToRun</a>, <a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.arguments" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
        case <a href="GenericRunnerCommand.scala.html#scala.tools.nsc.GenericRunnerCommand.AsJar" title="scala.tools.nsc.GenericRunnerCommand.AsJar.type">AsJar</a>    =&gt;
          <a href="#scala.tools.nsc.JarRunner" title="scala.tools.nsc.JarRunner.type">JarRunner</a>.<a href="#scala.tools.nsc.JarRunner.runJar" title="(settings: scala.tools.nsc.GenericRunnerSettings, jarPath: String, arguments: Seq[String])Either[Throwable,Boolean]">runJar</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>, <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.thingToRun" title="=&gt; String">thingToRun</a>, <a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.arguments" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
        case <a href="GenericRunnerCommand.scala.html#scala.tools.nsc.GenericRunnerCommand.Error" title="scala.tools.nsc.GenericRunnerCommand.Error.type">Error</a> =&gt;
          <a href="../../util/Either.scala.html#scala.util;Right" title="(b: Boolean)scala.util.Right[Nothing,Boolean]">Right</a><span class="delimiter">(</span>false<span class="delimiter">)</span>
        case _  =&gt;
          <span class="comment">// We start the repl when no arguments are given.</span>
          <a href="../../util/Either.scala.html#scala.util;Right" title="(b: Boolean)scala.util.Right[Nothing,Boolean]">Right</a><span class="delimiter">(</span>new interpreter.<a href="interpreter/ILoop.scala.html#scala.tools.nsc.interpreter;ILoop" title="scala.tools.nsc.interpreter.ILoop">ILoop</a> <a href="interpreter/ILoop.scala.html#scala.tools.nsc.interpreter;ILoop.process" title="(settings: scala.tools.nsc.Settings)Boolean">process</a> <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** If -e and -i were both given, we want to execute the -e code after the
       *  -i files have been included, so they are read into strings and prepended to
       *  the code given in -e.  The -i option is documented to only make sense
       *  interactively so this is a pretty reasonable assumption.
       *
       *  This all needs a rewrite though.
       */</span>
      if <span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.run.isE" title="=&gt; Boolean">isE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="ScriptRunner.scala.html#scala.tools.nsc.ScriptRunner" title="scala.tools.nsc.ScriptRunner.type">ScriptRunner</a>.<a href="ScriptRunner.scala.html#scala.tools.nsc;ScriptRunner.runCommand" title="(settings: scala.tools.nsc.GenericRunnerSettings, command: String, scriptArgs: List[String])Boolean">runCommand</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.settings" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>, <a href="#scala.tools.nsc;MainGenericRunner.process.run.combinedCode" title="=&gt; String">combinedCode</a>, <a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.thingToRun" title="=&gt; String">thingToRun</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.+:" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.arguments" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      else <a href="#scala.tools.nsc;MainGenericRunner.process.run.runTarget" title="()Either[Throwable,Boolean]">runTarget</a><span class="delimiter">(</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Left<span class="delimiter">(</span><a title="Throwable" id="scala.tools.nsc;MainGenericRunner.process.run.ex">ex</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc;MainGenericRunner.errorFn" title="(str: String, e: Option[Throwable], isFailure: Boolean)Boolean">errorFn</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="../../Option.scala.html#scala;Some" title="(x: Throwable)Some[Throwable]">Some</a><span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.run.ex" title="Throwable">ex</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// there must be a useful message of hope to offer here</span>
        case Right<span class="delimiter">(</span><a title="Boolean" id="scala.tools.nsc;MainGenericRunner.process.run.b">b</a><span class="delimiter">)</span> =&gt; <a href="#scala.tools.nsc;MainGenericRunner.process.run.b" title="Boolean">b</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.ok" title="=&gt; Boolean">ok</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc;MainGenericRunner.errorFn" title="(str: String, e: Option[Throwable], isFailure: Boolean)Boolean">errorFn</a><span class="delimiter">(</span><a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">f</a>&quot;%n$<a href="GenericRunnerCommand.scala.html#scala.tools.nsc;GenericRunnerCommand.shortUsageMsg" title="Any" id="scala.tools.nsc;MainGenericRunner.process.arg$macro$28">shortUsageMsg</a><span class="string">&quot;</span><span class="delimiter">)</span>
    else if <span class="delimiter">(</span><a href="CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.shouldStopWithInfo" title="=&gt; Boolean">shouldStopWithInfo</a><span class="delimiter">)</span>
      <a href="#scala.tools.nsc;MainGenericRunner.errorFn$default$2" title="Option[Throwable] @scala.reflect.internal.annotations.uncheckedBounds" id="scala.tools.nsc;MainGenericRunner.process.x$6">errorFn</a><span class="delimiter">(</span><a href="#scala.tools.nsc;MainGenericRunner.process.command" title="scala.tools.nsc.GenericRunnerCommand">command</a> <a href="CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.getInfoMessage" title="String" id="scala.tools.nsc;MainGenericRunner.process.x$4">getInfoMessage</a> <a href="#scala.tools.nsc;MainGenericRunner.process.sampleCompiler" title="=&gt; scala.tools.nsc.Global">sampleCompiler</a>, isFailure = false<span class="delimiter">)</span>
    else
      <a href="#scala.tools.nsc;MainGenericRunner.process.run" title="()Boolean">run</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

object <a title="scala.tools.nsc.MainGenericRunner.type" id="scala.tools.nsc.MainGenericRunner">MainGenericRunner</a> extends <a href="#scala.tools.nsc;MainGenericRunner" title="scala.tools.nsc.MainGenericRunner">MainGenericRunner</a> <span class="delimiter">{</span>
  def <a title="(args: Array[String])Unit" id="scala.tools.nsc.MainGenericRunner.main">main</a><span class="delimiter">(</span><a title="Array[String]" id="scala.tools.nsc.MainGenericRunner.main.args">args</a>: <a href="../../Array.scala.html#scala;Array" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.nsc;MainGenericRunner.process" title="(args: Array[String])Boolean">process</a><span class="delimiter">(</span><a href="#scala.tools.nsc.MainGenericRunner.main.args" title="Array[String]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> sys.<a href="../../sys/package.scala.html#scala.sys.package.exit(5279cf6f06)" title="(status: Int)Nothing">exit</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
