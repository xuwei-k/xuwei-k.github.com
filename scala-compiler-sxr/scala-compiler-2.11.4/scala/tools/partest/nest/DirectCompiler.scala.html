<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/partest/nest/DirectCompiler.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NEST (New Scala Test)
 * Copyright 2007-2013 LAMP/EPFL
 * @author Philipp Haller
 */</span>

package scala.tools.partest
package nest

import scala.tools.nsc.<span class="delimiter">{</span> Global, Settings, CompilerCommand, FatalError <span class="delimiter">}</span>
import scala.tools.nsc.reporters.<span class="delimiter">{</span> Reporter, ConsoleReporter <span class="delimiter">}</span>
import scala.tools.nsc.util.<span class="delimiter">{</span> FakePos, stackTraceString <span class="delimiter">}</span>
import scala.tools.nsc.<a href="../../nsc/Properties.scala.html#scala.tools.nsc.Properties" title="scala.tools.nsc.Properties.type">Properties</a>.<span class="delimiter">{</span> setProp, propOrEmpty <span class="delimiter">}</span>
import scala.reflect.io.AbstractFile
import scala.reflect.internal.util.Position
import java.io.<span class="delimiter">{</span> BufferedReader, PrintWriter, FileReader, Writer, FileWriter <span class="delimiter">}</span>

class <a title="class ExtConsoleReporter extends scala.tools.nsc.reporters.ConsoleReporter" id="scala.tools.partest.nest;ExtConsoleReporter">ExtConsoleReporter</a><a href="#scala.tools.partest.nest;ExtConsoleReporter" title="scala.tools.partest.nest.ExtConsoleReporter" class="delimiter">(</a><a title="scala.tools.nsc.Settings" id="scala.tools.partest.nest;ExtConsoleReporter.settings">settings</a>: <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a>, val <a title="java.io.PrintWriter" id="scala.tools.partest.nest;ExtConsoleReporter.writer">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">)</span> extends <a href="../../nsc/reporters/ConsoleReporter.scala.html#scala.tools.nsc.reporters;ConsoleReporter" title="scala.tools.nsc.reporters.ConsoleReporter">ConsoleReporter</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;ExtConsoleReporter.settings" title="scala.tools.nsc.Settings">settings</a>, <a href="../../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../../Console.scala.html#scala.Console.in" title="=&gt; java.io.BufferedReader">in</a>, <a href="#scala.tools.partest.nest;ExtConsoleReporter.writer" title="java.io.PrintWriter">writer</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <a href="../../nsc/reporters/ConsoleReporter.scala.html#scala.tools.nsc.reporters;ConsoleReporter.shortname_=" title="(x$1: Boolean)Unit">shortname</a> = true
  <span class="comment">// override def error(pos: Position, msg: String): Unit</span>
<span class="delimiter">}</span>

class <a title="class TestSettings extends scala.tools.nsc.Settings" id="scala.tools.partest.nest;TestSettings">TestSettings</a><a href="#scala.tools.partest.nest;TestSettings" title="scala.tools.partest.nest.TestSettings" class="delimiter">(</a><a title="String" id="scala.tools.partest.nest;TestSettings.cp">cp</a>: <span title="String">String</span>, <a title="String =&gt; Unit" id="scala.tools.partest.nest;TestSettings.error">error</a>: String =&gt; Unit<span class="delimiter">)</span> extends <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;TestSettings.error" title="String =&gt; Unit">error</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  def this<span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;TestSettings.<init>(5a548693d0).cp">cp</a>: <span title="String">String</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="#scala.tools.partest.nest;TestSettings.<init>(5a548693d0).cp" title="String">cp</a>, <a title="String" id="scala.tools.partest.nest;TestSettings.<init>(5a548693d0).$anonfun.x$1">_</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <a href="../../nsc/settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.nowarnings" title="=&gt; TestSettings.this.BooleanSetting">nowarnings</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: Boolean)Unit">value</a>  = false
  <a href="../../nsc/settings/StandardScalaSettings.scala.html#scala.tools.nsc.settings;StandardScalaSettings.encoding" title="=&gt; TestSettings.this.StringSetting">encoding</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: TestSettings.this.encoding.T)Unit">value</a>    = <span title="String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span>
  <a href="../../nsc/settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.classpath" title="=&gt; TestSettings.this.PathSetting">classpath</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: TestSettings.this.classpath.T)Unit">value</a>   = <a href="#scala.tools.partest.nest;TestSettings.cp" title="String">cp</a>
<span class="delimiter">}</span>

class <a title="class PartestGlobal extends scala.tools.nsc.Global" id="scala.tools.partest.nest;PartestGlobal">PartestGlobal</a><a href="#scala.tools.partest.nest;PartestGlobal" title="scala.tools.partest.nest.PartestGlobal" class="delimiter">(</a><a title="scala.tools.nsc.Settings" id="scala.tools.partest.nest;PartestGlobal.settings">settings</a>: <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="scala.tools.partest.nest;PartestGlobal.reporter">reporter</a>: <a href="../../nsc/reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter" title="scala.tools.nsc.reporters.Reporter">Reporter</a><span class="delimiter">)</span> extends <a href="../../nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;PartestGlobal.settings" title="scala.tools.nsc.Settings">settings</a>, <a href="#scala.tools.partest.nest;PartestGlobal.reporter" title="scala.tools.nsc.reporters.Reporter">reporter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="comment">// override def abort(msg: String): Nothing</span>
  <span class="comment">// override def globalError(msg: String): Unit</span>
  <span class="comment">// override def supplementErrorMessage(msg: String): String</span>
<span class="delimiter">}</span>
class <a title="class DirectCompiler extends AnyRef" id="scala.tools.partest.nest;DirectCompiler">DirectCompiler</a><a href="#scala.tools.partest.nest;DirectCompiler" title="scala.tools.partest.nest.DirectCompiler" class="delimiter">(</a>val <a title="scala.tools.partest.nest.Runner" id="scala.tools.partest.nest;DirectCompiler.runner">runner</a>: <a href="Runner.scala.html#scala.tools.partest.nest;Runner" title="scala.tools.partest.nest.Runner">Runner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  def <a title="(settings: scala.tools.nsc.Settings, reporter: scala.tools.nsc.reporters.Reporter)scala.tools.partest.nest.PartestGlobal" id="scala.tools.partest.nest;DirectCompiler.newGlobal(f5fa7cf573)">newGlobal</a><span class="delimiter">(</span><a title="scala.tools.nsc.Settings" id="scala.tools.partest.nest;DirectCompiler.newGlobal(f5fa7cf573).settings">settings</a>: <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="scala.tools.partest.nest;DirectCompiler.newGlobal(f5fa7cf573).reporter">reporter</a>: <a href="../../nsc/reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter" title="scala.tools.nsc.reporters.Reporter">Reporter</a><span class="delimiter">)</span>: <a href="#scala.tools.partest.nest;PartestGlobal" title="scala.tools.partest.nest.PartestGlobal">PartestGlobal</a> =
    new <a href="#scala.tools.partest.nest;PartestGlobal" title="scala.tools.partest.nest.PartestGlobal">PartestGlobal</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(f5fa7cf573).settings" title="scala.tools.nsc.Settings">settings</a>, <a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(f5fa7cf573).reporter" title="scala.tools.nsc.reporters.Reporter">reporter</a><span class="delimiter">)</span>

  def <a title="(settings: scala.tools.nsc.Settings, logWriter: java.io.FileWriter)scala.tools.nsc.Global" id="scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba)">newGlobal</a><span class="delimiter">(</span><a title="scala.tools.nsc.Settings" id="scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba).settings">settings</a>: <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a>, <a title="java.io.FileWriter" id="scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba).logWriter">logWriter</a>: <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">)</span>: <a href="../../nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a> =
    <a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(f5fa7cf573)" title="(settings: scala.tools.nsc.Settings, reporter: scala.tools.nsc.reporters.Reporter)scala.tools.partest.nest.PartestGlobal">newGlobal</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba).settings" title="scala.tools.nsc.Settings">settings</a>, new <a href="#scala.tools.partest.nest;ExtConsoleReporter" title="scala.tools.partest.nest.ExtConsoleReporter">ExtConsoleReporter</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba).settings" title="scala.tools.nsc.Settings">settings</a>, new <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba).logWriter" title="java.io.FileWriter">logWriter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>


  <span class="comment">/** Massage args to merge plugins and fix paths.
   *  Plugin path can be relative to test root, or cwd is out.
   *  While we're at it, mix in the baseline options, too.
   *  That's how ant passes in the plugins dir.
   */</span>
  private def <a title="(args: List[String], out: scala.reflect.io.AbstractFile, srcdir: scala.reflect.io.AbstractFile)Seq[String]" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath">updatePluginPath</a><span class="delimiter">(</span><a title="List[String]" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.args">args</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="scala.reflect.io.AbstractFile" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.out">out</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="scala.reflect.io.AbstractFile">AbstractFile</a>, <a title="scala.reflect.io.AbstractFile" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.srcdir">srcdir</a>: <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile" title="scala.reflect.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="tools.nsc.io.Directory" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.dir">dir</a> = <a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.testRoot" title="=&gt; tools.nsc.io.Directory">testRoot</a>
    <span class="comment">// The given path, or the output dir if &quot;.&quot;, or a temp dir if output is virtual (since plugin loading doesn't like virtual)</span>
    def <a title="(p: String)scala.reflect.io.Path" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd">pathOrCwd</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.p">p</a>: <span title="String">String</span><span class="delimiter">)</span> =
      if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.p" title="String">p</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="String" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.plugxml">plugxml</a> = <span title="String(&quot;scalac-plugin.xml&quot;)" class="string">&quot;scalac-plugin.xml&quot;</span>
        val <a title="scala.reflect.io.Path" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.pout">pout</a> = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.out" title="scala.reflect.io.AbstractFile">out</a>.<a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.isVirtual" title="=&gt; Boolean">isVirtual</a><span class="delimiter">)</span> <a href="../package.scala.html#scala.tools.partest.package.Directory" title="=&gt; reflect.io.Directory.type">Directory</a>.<a href="../../../reflect/io/Directory.scala.html#scala.reflect.io.Directory.makeTemp" title="(prefix: String, suffix: String, dir: java.io.File)scala.reflect.io.Directory">makeTemp</a><span class="delimiter">(</span><span class="delimiter">)</span> else <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(b8c32fbd51)" title="(path: String)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.out" title="scala.reflect.io.AbstractFile">out</a>.<a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.path" title="=&gt; String">path</a><span class="delimiter">)</span>
        val <a title="scala.reflect.io.Path" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.srcpath">srcpath</a> = <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(b8c32fbd51)" title="(path: String)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.srcdir" title="scala.reflect.io.AbstractFile">srcdir</a>.<a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io;AbstractFile.path" title="=&gt; String">path</a><span class="delimiter">)</span>
        val <a title="scala.reflect.io.File" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.pd">pd</a> = <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.srcpath" title="scala.reflect.io.Path">srcpath</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">plugxml</a><span class="delimiter">)</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toFile" title="=&gt; scala.reflect.io.File">toFile</a>
        if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.pd" title="scala.reflect.io.File">pd</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.exists" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="../package.scala.html#scala.tools.partest.package.Copier(e71d944439)" title="implicit scala.tools.partest.package.Copier : (f: scala.tools.partest.SFile)scala.tools.partest.Copier">pd</a> <a href="../package.scala.html#scala.tools.partest.package;Copier.copyTo" title="(dest: scala.tools.partest.Path)Unit">copyTo</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.pout" title="scala.reflect.io.Path">pout</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">plugxml</a><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.pout" title="scala.reflect.io.Path">pout</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toAbsolute" title="=&gt; scala.reflect.io.Path">toAbsolute</a>
      <span class="delimiter">}</span> else <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(b8c32fbd51)" title="(path: String)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd.p" title="String">p</a><span class="delimiter">)</span>
    def <a title="(path: String)String" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.absolutize">absolutize</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.absolutize.path">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.pathOrCwd" title="(p: String)scala.reflect.io.Path">pathOrCwd</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.absolutize.path" title="String">path</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case <span title="scala.reflect.io.Path">x</span> if <span title="scala.reflect.io.Path">x</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.isAbsolute" title="=&gt; Boolean">isAbsolute</a> =&gt; <span title="scala.reflect.io.Path">x</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.path" title="=&gt; String">path</a>
      case <span title="scala.reflect.io.Path">x</span>                 =&gt; <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.dir" title="tools.nsc.io.Directory">dir</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <span title="scala.reflect.io.Path">x</span><span class="delimiter">)</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toAbsolute" title="=&gt; scala.reflect.io.Path">toAbsolute</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.path" title="=&gt; String">path</a>
    <span class="delimiter">}</span>

    val <a title="String" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.xprefix">xprefix</a> = <span title="String(&quot;-Xplugin:&quot;)" class="string">&quot;-Xplugin:&quot;</span>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[String], _2: List[String])(List[String], List[String])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[String]" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.xplugs">xplugs</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="List[String]" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.others">others</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.args" title="List[String]">args</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.partition" title="(List[String], List[String])">partition</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.x$3.$anonfun.x$2" title="String">_</a> <span title="(x$1: String)Boolean">startsWith</span> <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.xprefix" title="String">xprefix</a><span class="delimiter">)</span>
    val <a title="List[String]" id="scala.tools.partest.nest;DirectCompiler.updatePluginPath.Xplugin">Xplugin</a> = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.xplugs" title="List[String]">xplugs</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a> else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.xprefix" title="String">xprefix</a> <span title="(x$1: Any)String">+</span>
      <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.xplugs" title="List[String]">xplugs</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a> <a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripPrefix" title="(prefix: String)String">stripPrefix</a> <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.xprefix" title="String">xprefix</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.flatMap" title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">flatMap</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.Xplugin.$anonfun.x$5" title="String">_</a> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">split</a> <a href="../package.scala.html#scala.tools.partest.package.pathSeparator" title="=&gt; String">pathSeparator</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.absolutize" title="(path: String)String">absolutize</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <a href="../package.scala.html#scala.tools.partest.package.pathSeparator" title="=&gt; String">pathSeparator</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;DirectCompiler.runner" title="=&gt; scala.tools.partest.nest.Runner">runner</a>.<a href="Runner.scala.html#scala.tools.partest.nest;Runner.suiteRunner" title="=&gt; scala.tools.partest.nest.SuiteRunner">suiteRunner</a>.<a href="Runner.scala.html#scala.tools.partest.nest;SuiteRunner.scalacExtraArgs" title="=&gt; Seq[String]">scalacExtraArgs</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">++</a> <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">scalacOpts</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">++</a> <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.others" title="List[String]">others</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[String],String,Seq[String]])Seq[String]">++</a> <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath.Xplugin" title="List[String]">Xplugin</a>
  <span class="delimiter">}</span>

  def <a title="(opts0: List[String], sources: List[scala.tools.partest.File])scala.tools.partest.TestState" id="scala.tools.partest.nest;DirectCompiler.compile">compile</a><span class="delimiter">(</span><a title="List[String]" id="scala.tools.partest.nest;DirectCompiler.compile.opts0">opts0</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="List[scala.tools.partest.File]" id="scala.tools.partest.nest;DirectCompiler.compile.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.tools.partest.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = <span class="delimiter">{</span>
    import <a href="#scala.tools.partest.nest;DirectCompiler.runner" title="=&gt; scala.tools.partest.nest.Runner">runner</a>.<span class="delimiter">{</span> sources =&gt; _, _ <span class="delimiter">}</span>
    import <a href="../package.scala.html#scala.tools.partest.package.ClassPath" title="=&gt; tools.nsc.util.ClassPath.type">ClassPath</a>.<span class="delimiter">{</span>join, split<span class="delimiter">}</span>

    <span class="comment">// adding codelib.jar to the classpath</span>
    <span class="comment">// codelib provides the possibility to override standard reify</span>
    <span class="comment">// this shields the massive amount of reification tests from changes in the API</span>
    val <a title="List[scala.tools.partest.Path]" id="scala.tools.partest.nest;DirectCompiler.compile.codeLib">codeLib</a> = <a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.srcCodeLib" title="=&gt; Either[String,tools.nsc.io.File]">srcCodeLib</a>.<a href="../../../util/Either.scala.html#scala.util;Either.fold" title="[X](fa: String =&gt; X, fb: tools.nsc.io.File =&gt; X)X">fold</a><span title="(fa: String =&gt; List[scala.tools.partest.Path], fb: tools.nsc.io.File =&gt; List[scala.tools.partest.Path])List[scala.tools.partest.Path]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.tools.partest.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;DirectCompiler.compile.codeLib.$anonfun.x">x</a> =&gt; <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <a title="tools.nsc.io.File" id="scala.tools.partest.nest;DirectCompiler.compile.codeLib.$anonfun.lib">lib</a> =&gt; <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="[A](xs: A*)List[A]">List</a><span title="(xs: scala.tools.partest.Path*)List[scala.tools.partest.Path]" class="delimiter">[</span><a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path" title="scala.tools.partest.Path">Path</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.codeLib.$anonfun.lib" title="tools.nsc.io.File">lib</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">// add the instrumented library version to classpath -- must come first</span>
    val <a title="List[scala.tools.partest.Path]" id="scala.tools.partest.nest;DirectCompiler.compile.specializedOverride">specializedOverride</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.tools.partest.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="Runner.scala.html#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;specialized&quot;)" class="string">&quot;specialized&quot;</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: tools.nsc.io.File*)List[tools.nsc.io.File]">List</a><span class="delimiter">(</span><a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.srcSpecLib" title="=&gt; Either[String,tools.nsc.io.File]">srcSpecLib</a>.<a href="../../../util/Either.scala.html#scala.util;Either.fold" title="(fa: String =&gt; tools.nsc.io.File, fb: tools.nsc.io.File =&gt; tools.nsc.io.File)tools.nsc.io.File">fold</a><span class="delimiter">(</span>sys.<a href="../../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a>, <a href="../../../Predef.scala.html#scala.Predef.identity" title="(x: tools.nsc.io.File)tools.nsc.io.File">identity</a><span class="delimiter">)</span><span class="delimiter">)</span> else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>

    val classPath: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.tools.partest.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="#scala.tools.partest.nest;DirectCompiler.compile.specializedOverride" title="List[scala.tools.partest.Path]">specializedOverride</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[scala.tools.partest.Path])(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.partest.Path],scala.tools.partest.Path,List[scala.tools.partest.Path]])List[scala.tools.partest.Path]">++</a> <a href="#scala.tools.partest.nest;DirectCompiler.compile.codeLib" title="List[scala.tools.partest.Path]">codeLib</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[scala.tools.partest.Path])(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.partest.Path],scala.tools.partest.Path,List[scala.tools.partest.Path]])List[scala.tools.partest.Path]">++</a> <a href="Runner.scala.html#scala.tools.partest.nest;Runner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.testClassPath" title="=&gt; List[scala.reflect.io.Path]">testClassPath</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="List[scala.tools.partest.Path]" id="scala.tools.partest.nest;DirectCompiler.compile.classPath">++</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="[A](xs: A*)List[A]">List</a><span title="(xs: scala.tools.partest.Path*)List[scala.tools.partest.Path]" class="delimiter">[</span><a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path" title="scala.tools.partest.Path">Path</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.jfile2path" title="implicit scala.reflect.io.Path.jfile2path : (jfile: java.io.File)scala.reflect.io.Path">outDir</a><span class="delimiter">)</span>

    val <a title="scala.tools.partest.nest.TestSettings" id="scala.tools.partest.nest;DirectCompiler.compile.testSettings">testSettings</a> = new <a href="#scala.tools.partest.nest;TestSettings" title="scala.tools.partest.nest.TestSettings">TestSettings</a><span class="delimiter">(</span><a href="FileManager.scala.html#scala.tools.partest.nest.FileManager" title="scala.tools.partest.nest.FileManager.type">FileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest.FileManager.joinPaths" title="(paths: List[scala.tools.partest.Path])String">joinPaths</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.classPath" title="List[scala.tools.partest.Path]">classPath</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="java.io.FileWriter" id="scala.tools.partest.nest;DirectCompiler.compile.logWriter">logWriter</a>    = new <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="Runner.scala.html#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span>
    val <a title="java.io.File" id="scala.tools.partest.nest;DirectCompiler.compile.srcDir">srcDir</a>       = if <span class="delimiter">(</span><a href="Runner.scala.html#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <a href="Runner.scala.html#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a> else <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(2128a15a87)" title="(jfile: java.io.File)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="Runner.scala.html#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.parent" title="=&gt; scala.reflect.io.Directory">parent</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.jfile" title="=&gt; java.io.File">jfile</a>
    val <a title="Seq[String]" id="scala.tools.partest.nest;DirectCompiler.compile.opts">opts</a>         = <a href="#scala.tools.partest.nest;DirectCompiler.updatePluginPath" title="(args: List[String], out: scala.reflect.io.AbstractFile, srcdir: scala.reflect.io.AbstractFile)Seq[String]">updatePluginPath</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.opts0" title="List[String]">opts0</a>, <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io.AbstractFile" title="scala.reflect.io.AbstractFile.type">AbstractFile</a> <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io.AbstractFile.getDirectory(0d7ce10967)" title="(path: scala.reflect.io.Path)scala.reflect.io.AbstractFile">getDirectory</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.jfile2path" title="implicit scala.reflect.io.Path.jfile2path : (jfile: java.io.File)scala.reflect.io.Path">outDir</a>, <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io.AbstractFile" title="scala.reflect.io.AbstractFile.type">AbstractFile</a> <a href="../../../reflect/io/AbstractFile.scala.html#scala.reflect.io.AbstractFile.getDirectory(0d7ce10967)" title="(path: scala.reflect.io.Path)scala.reflect.io.AbstractFile">getDirectory</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.jfile2path" title="implicit scala.reflect.io.Path.jfile2path : (jfile: java.io.File)scala.reflect.io.Path">srcDir</a><span class="delimiter">)</span>
    val <a title="scala.tools.nsc.CompilerCommand" id="scala.tools.partest.nest;DirectCompiler.compile.command">command</a>      = new <a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand" title="scala.tools.nsc.CompilerCommand">CompilerCommand</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.opts" title="Seq[String]">opts</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[String]">toList</a>, <a href="#scala.tools.partest.nest;DirectCompiler.compile.testSettings" title="scala.tools.partest.nest.TestSettings">testSettings</a><span class="delimiter">)</span>
    val <a title="scala.tools.nsc.Global" id="scala.tools.partest.nest;DirectCompiler.compile.global">global</a>       = <a href="#scala.tools.partest.nest;DirectCompiler.newGlobal(20573a87ba)" title="(settings: scala.tools.nsc.Settings, logWriter: java.io.FileWriter)scala.tools.nsc.Global">newGlobal</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.testSettings" title="scala.tools.partest.nest.TestSettings">testSettings</a>, <a href="#scala.tools.partest.nest;DirectCompiler.compile.logWriter" title="java.io.FileWriter">logWriter</a><span class="delimiter">)</span>
    val <a title="scala.tools.partest.nest.ExtConsoleReporter" id="scala.tools.partest.nest;DirectCompiler.compile.reporter">reporter</a>     = <a href="#scala.tools.partest.nest;DirectCompiler.compile.global" title="scala.tools.nsc.Global">global</a>.<a href="../../nsc/Global.scala.html#scala.tools.nsc;Global.reporter" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.tools.partest.nest.ExtConsoleReporter" class="delimiter">[</span><a href="#scala.tools.partest.nest;ExtConsoleReporter" title="scala.tools.partest.nest.ExtConsoleReporter">ExtConsoleReporter</a><span class="delimiter">]</span>
    def <a title="=&gt; Int" id="scala.tools.partest.nest;DirectCompiler.compile.errorCount">errorCount</a>   = <a href="#scala.tools.partest.nest;DirectCompiler.compile.reporter" title="scala.tools.partest.nest.ExtConsoleReporter">reporter</a>.<a href="../../nsc/reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter.ERROR" title="=&gt; reporter.Severity">ERROR</a>.<a href="../../nsc/reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter;Severity.count" title="=&gt; Int">count</a>

    <a href="#scala.tools.partest.nest;DirectCompiler.compile.testSettings" title="scala.tools.partest.nest.TestSettings">testSettings</a>.<a href="../../nsc/settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings.outputDirs" title="=&gt; testSettings.OutputDirs">outputDirs</a> <a href="../../nsc/settings/MutableSettings.scala.html#scala.tools.nsc.settings;MutableSettings;OutputDirs.setSingleOutput(bf0baaa650)" title="(outDir: String)Unit">setSingleOutput</a> <a href="Runner.scala.html#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a>.<span title="()String">getPath</span>

    <span class="comment">// check that option processing succeeded</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.opts0" title="List[String]">opts0</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;DirectCompiler.compile.command" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.ok" title="=&gt; Boolean">ok</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;DirectCompiler.compile.reporter" title="scala.tools.partest.nest.ExtConsoleReporter">reporter</a>.<a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.error" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span>null, <a href="#scala.tools.partest.nest;DirectCompiler.compile.opts0" title="List[String]">opts0</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(581ef61a02)" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;bad options: &quot;)" class="string">&quot;bad options: &quot;</span>, <a href="../package.scala.html#scala.tools.partest.package.space" title="=&gt; String">space</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    def <a title="=&gt; String" id="scala.tools.partest.nest;DirectCompiler.compile.ids">ids</a> = <a href="#scala.tools.partest.nest;DirectCompiler.compile.sources" title="List[scala.tools.partest.File]">sources</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: scala.tools.partest.File =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.partest.File],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">_</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.testIdent" title="=&gt; String">testIdent</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <a href="../package.scala.html#scala.tools.partest.package.space" title="=&gt; String">space</a>
    <a href="../package.scala.html#scala.tools.partest.package.vlog" title="(msg: =&gt; String)Unit">vlog</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;% scalac &quot;)">% scalac $</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.ids" title="=&gt; String">ids</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>

    def <a title="()Product with Serializable with scala.tools.partest.TestState" id="scala.tools.partest.nest;DirectCompiler.compile.execCompile">execCompile</a><span class="delimiter">(</span><span class="delimiter">)</span> =
      if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.command" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.shouldStopWithInfo" title="=&gt; Boolean">shouldStopWithInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.partest.nest;DirectCompiler.compile.logWriter" title="java.io.FileWriter">logWriter</a> <span title="(x$1: CharSequence)java.io.Writer">append</span> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.command" title="scala.tools.nsc.CompilerCommand">command</a> <a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.getInfoMessage" title="(global: scala.tools.nsc.Global)String">getInfoMessage</a> <a href="#scala.tools.partest.nest;DirectCompiler.compile.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;DirectCompiler.runner" title="=&gt; scala.tools.partest.nest.Runner">runner</a> <a href="Runner.scala.html#scala.tools.partest.nest;Runner.genFail" title="(reason: String)scala.tools.partest.TestState.Fail">genFail</a> <span title="String(&quot;compilation stopped with info&quot;)" class="string">&quot;compilation stopped with info&quot;</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        new <a href="#scala.tools.partest.nest;DirectCompiler.compile.global" title="scala.tools.nsc.Global">global</a>.<a href="../../nsc/Global.scala.html#scala.tools.nsc;Global;Run" title="global.Run">Run</a> <a href="../../nsc/Global.scala.html#scala.tools.nsc;Global;Run.compile" title="(filenames: List[String])Unit">compile</a> <a href="#scala.tools.partest.nest;DirectCompiler.compile.sources" title="List[scala.tools.partest.File]">sources</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: scala.tools.partest.File =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.partest.File],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#scala.tools.partest.nest;DirectCompiler.compile.execCompile.$anonfun.x$7" title="scala.tools.partest.File">_</a>.<span title="()String">getPath</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;DirectCompiler.compile.reporter" title="scala.tools.partest.nest.ExtConsoleReporter">reporter</a>.<a href="../../nsc/reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter.hasErrors" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#scala.tools.partest.nest;DirectCompiler.runner" title="=&gt; scala.tools.partest.nest.Runner">runner</a>.<a href="Runner.scala.html#scala.tools.partest.nest;Runner.genPass" title="()scala.tools.partest.TestState.Pass">genPass</a><span class="delimiter">(</span><span class="delimiter">)</span>
        else <span class="delimiter">{</span>
          <a href="#scala.tools.partest.nest;DirectCompiler.compile.reporter" title="scala.tools.partest.nest.ExtConsoleReporter">reporter</a>.<a href="../../nsc/reporters/ConsoleReporter.scala.html#scala.tools.nsc.reporters;ConsoleReporter.printSummary" title="()Unit">printSummary</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.tools.partest.nest;DirectCompiler.compile.reporter" title="scala.tools.partest.nest.ExtConsoleReporter">reporter</a>.<a href="#scala.tools.partest.nest;ExtConsoleReporter.writer" title="=&gt; java.io.PrintWriter">writer</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.tools.partest.nest;DirectCompiler.runner" title="=&gt; scala.tools.partest.nest.Runner">runner</a>.<a href="Runner.scala.html#scala.tools.partest.nest;Runner.genFail" title="(reason: String)scala.tools.partest.TestState.Fail">genFail</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;compilation failed with &quot;)">compilation failed with $</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.errorCount" title="=&gt; Int">errorCount</a><span title="String(&quot; errors&quot;)" class="string"> errors&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    try     <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;DirectCompiler.compile.execCompile" title="()Product with Serializable with scala.tools.partest.TestState">execCompile</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    catch   <span class="delimiter">{</span> case <a title="Throwable" id="scala.tools.partest.nest;DirectCompiler.compile.t">t</a>: <span title="Throwable">Throwable</span> =&gt; <a href="#scala.tools.partest.nest;DirectCompiler.compile.reporter" title="scala.tools.partest.nest.ExtConsoleReporter">reporter</a>.<a href="../../../reflect/internal/Reporting.scala.html#scala.reflect.internal;Reporter.error" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span>null, <a href="#scala.tools.partest.nest;DirectCompiler.compile.t" title="Throwable">t</a>.<span title="()String">getMessage</span><span class="delimiter">)</span> ; <a href="#scala.tools.partest.nest;DirectCompiler.runner" title="=&gt; scala.tools.partest.nest.Runner">runner</a>.<a href="Runner.scala.html#scala.tools.partest.nest;Runner.genCrash" title="(caught: Throwable)scala.tools.partest.TestState.Crash">genCrash</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;DirectCompiler.compile.t" title="Throwable">t</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    finally <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;DirectCompiler.compile.logWriter" title="java.io.FileWriter">logWriter</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
