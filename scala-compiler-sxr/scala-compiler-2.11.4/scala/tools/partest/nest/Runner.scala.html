<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/partest/nest/Runner.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NEST (New Scala Test)
 * Copyright 2007-2013 LAMP/EPFL
 * @author Paul Phillips
 */</span>
package scala.tools.partest
package nest

import java.io.<span class="delimiter">{</span> Console =&gt; _, _ <span class="delimiter">}</span>
import java.net.URL
import java.nio.charset.<span class="delimiter">{</span> Charset, CharsetDecoder, CharsetEncoder, CharacterCodingException, CodingErrorAction =&gt; Action <span class="delimiter">}</span>
import java.util.concurrent.Executors
import java.util.concurrent.<span title="java.util.concurrent.TimeUnit.type">TimeUnit</span>.NANOSECONDS
import scala.collection.mutable.ListBuffer
import scala.concurrent.duration.Duration
import scala.io.Codec
import scala.reflect.internal.FatalError
import scala.reflect.internal.util.ScalaClassLoader
import scala.sys.process.<span class="delimiter">{</span> Process, ProcessLogger <span class="delimiter">}</span>
import scala.tools.nsc.<a href="../../nsc/Properties.scala.html#scala.tools.nsc.Properties" title="scala.tools.nsc.Properties.type">Properties</a>.<span class="delimiter">{</span> envOrElse, isWin, jdkHome, javaHome, propOrElse, propOrEmpty, setProp, versionMsg, javaVmName, javaVmVersion, javaVmInfo <span class="delimiter">}</span>
import scala.tools.nsc.<span class="delimiter">{</span> Settings, CompilerCommand, Global <span class="delimiter">}</span>
import scala.tools.nsc.io.<span class="delimiter">{</span> AbstractFile <span class="delimiter">}</span>
import scala.tools.nsc.reporters.ConsoleReporter
import scala.tools.nsc.util.<span class="delimiter">{</span> Exceptional, stackTraceString <span class="delimiter">}</span>
import scala.util.<span class="delimiter">{</span> Try, Success, Failure <span class="delimiter">}</span>
import <a href="../package.scala.html#scala.tools.partest.package.ClassPath" title="=&gt; tools.nsc.util.ClassPath.type">ClassPath</a>.<span class="delimiter">{</span> join, split <span class="delimiter">}</span>
import <a href="../TestState.scala.html#scala.tools.partest.TestState" title="scala.tools.partest.TestState.type">TestState</a>.<span class="delimiter">{</span> Pass, Fail, Crash, Uninitialized, Updated <span class="delimiter">}</span>

import <a href="FileManager.scala.html#scala.tools.partest.nest.FileManager" title="scala.tools.partest.nest.FileManager.type">FileManager</a>.<span class="delimiter">{</span>compareFiles, compareContents, joinPaths<span class="delimiter">}</span>

class <a title="class TestTranscript extends AnyRef" id="scala.tools.partest.nest;TestTranscript">TestTranscript</a> <a href="#scala.tools.partest.nest;TestTranscript" title="scala.tools.partest.nest.TestTranscript" class="delimiter">{</a>
  import <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.color" title="=&gt; scala.tools.partest.nest.Colors">color</a>._
  private val <a title="scala.collection.mutable.ListBuffer[String]" id="scala.tools.partest.nest;TestTranscript.buf">buf</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: String*)scala.collection.mutable.ListBuffer[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  private def <a title="(s: String)String" id="scala.tools.partest.nest;TestTranscript.pass">pass</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;TestTranscript.pass.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)String">bold</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)String">green</a><span class="delimiter">(</span><span title="String(&quot;% &quot;)" class="string">&quot;% &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;TestTranscript.pass.s" title="String">s</a>
  private def <a title="(s: String)String" id="scala.tools.partest.nest;TestTranscript.fail(eba93c96a6)">fail</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;TestTranscript.fail(eba93c96a6).s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)String">bold</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)String">red</a><span class="delimiter">(</span><span title="String(&quot;% &quot;)" class="string">&quot;% &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;TestTranscript.fail(eba93c96a6).s" title="String">s</a>

  def <a title="(action: String)TestTranscript.this.type" id="scala.tools.partest.nest;TestTranscript.add">add</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;TestTranscript.add.action">action</a>: <span title="String">String</span><span class="delimiter">)</span>: this.type = <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;TestTranscript.buf" title="=&gt; scala.collection.mutable.ListBuffer[String]">buf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: String)TestTranscript.this.buf.type">+=</a> <a href="#scala.tools.partest.nest;TestTranscript.add.action" title="String">action</a> ; this <span class="delimiter">}</span>
  def <a title="(text: String)Unit" id="scala.tools.partest.nest;TestTranscript.append">append</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;TestTranscript.append.text">text</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> val <a title="String" id="scala.tools.partest.nest;TestTranscript.append.s">s</a> = <a href="#scala.tools.partest.nest;TestTranscript.buf" title="=&gt; scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#scala.collection.generic;TraversableForwarder.last" title="=&gt; String">last</a> ; <a href="#scala.tools.partest.nest;TestTranscript.buf" title="=&gt; scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/mutable/BufferLike.scala.html#scala.collection.mutable;BufferLike.trimEnd" title="(n: Int)Unit">trimEnd</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> ; <a href="#scala.tools.partest.nest;TestTranscript.buf" title="=&gt; scala.collection.mutable.ListBuffer[String]">buf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: String)TestTranscript.this.buf.type">+=</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;TestTranscript.append.s" title="String">s</a> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;TestTranscript.append.text" title="String">text</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">// Colorize prompts according to pass/fail</span>
  def <a title="=&gt; List[String]" id="scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d)">fail</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#scala.tools.partest.nest;TestTranscript.buf" title="=&gt; scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[String]">toList</a> match <span class="delimiter">{</span>
    case <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>  =&gt; <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
    case <a title="List[String]" id="scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d).xs">xs</a>   =&gt; <span class="delimiter">(</span><a href="#scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d).xs" title="List[String]">xs</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.init" title="=&gt; List[String]">init</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <a href="#scala.tools.partest.nest;TestTranscript.pass" title="(s: String)String">pass</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.:+" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">:+</a> <a href="#scala.tools.partest.nest;TestTranscript.fail(eba93c96a6)" title="(s: String)String">fail</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d).xs" title="List[String]">xs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.last" title="=&gt; String">last</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** Run a single test. Rubber meets road. */</span>
class <a title="class Runner extends AnyRef" id="scala.tools.partest.nest;Runner">Runner</a><a href="#scala.tools.partest.nest;Runner" title="scala.tools.partest.nest.Runner" class="delimiter">(</a>val <a title="java.io.File" id="scala.tools.partest.nest;Runner.testFile">testFile</a>: <span title="java.io.File">File</span>, val <a title="scala.tools.partest.nest.SuiteRunner" id="scala.tools.partest.nest;Runner.suiteRunner">suiteRunner</a>: <a href="#scala.tools.partest.nest.SuiteRunner" title="scala.tools.partest.nest.SuiteRunner">SuiteRunner</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  import <a href="#scala.tools.partest.nest;Runner.suiteRunner" title="=&gt; scala.tools.partest.nest.SuiteRunner">suiteRunner</a>.<span class="delimiter">{</span>fileManager =&gt; fm, _<span class="delimiter">}</span>
  val <a title="scala.tools.partest.nest.FileManager" id="scala.tools.partest.nest;Runner.fileManager">fileManager</a> = <a href="#scala.tools.partest.nest;SuiteRunner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fm</a>

  import <a href="#scala.tools.partest.nest;Runner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>._

  <span class="comment">// Override to true to have the outcome of this test displayed</span>
  <span class="comment">// whether it passes or not; in general only failures are reported,</span>
  <span class="comment">// except for a . per passing test to show progress.</span>
  def <a title="=&gt; Boolean" id="scala.tools.partest.nest;Runner.isEnumeratedTest">isEnumeratedTest</a> = false

  private var <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner._lastState_=">_lastState</a>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = null
  private val <a title="scala.tools.partest.nest.TestTranscript" id="scala.tools.partest.nest;Runner._transcript">_transcript</a> = new <a href="#scala.tools.partest.nest;TestTranscript" title="scala.tools.partest.nest.TestTranscript">TestTranscript</a>

  def <a title="=&gt; scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner.lastState">lastState</a>                   = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner._lastState_=" title="=&gt; scala.tools.partest.TestState">_lastState</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <a href="../TestState.scala.html#scala.tools.partest.TestState;Uninitialized" title="(testFile: java.io.File)scala.tools.partest.TestState.Uninitialized">Uninitialized</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span> else <a href="#scala.tools.partest.nest;Runner._lastState_=" title="=&gt; scala.tools.partest.TestState">_lastState</a>
  def <a title="(s: scala.tools.partest.TestState)Unit" id="scala.tools.partest.nest;Runner.setLastState">setLastState</a><span class="delimiter">(</span><a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner.setLastState.s">s</a>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a><span class="delimiter">)</span>  = <a href="#scala.tools.partest.nest;Runner._lastState_=" title="(x$1: scala.tools.partest.TestState)Unit">_lastState</a> = <a href="#scala.tools.partest.nest;Runner.setLastState.s" title="scala.tools.partest.TestState">s</a>
  def <a title="=&gt; List[String]" id="scala.tools.partest.nest;Runner.transcript">transcript</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>    = <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a>.<a href="#scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d)" title="=&gt; List[String]">fail</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.fileLines" title="=&gt; List[String]">fileLines</a>
  def <a title="(msg: String)scala.tools.partest.nest.TestTranscript" id="scala.tools.partest.nest;Runner.pushTranscript">pushTranscript</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.pushTranscript.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a> <a href="#scala.tools.partest.nest;TestTranscript.add" title="(action: String)Runner.this._transcript.type">add</a> <a href="#scala.tools.partest.nest;Runner.pushTranscript.msg" title="String">msg</a>

  val <a title="java.io.File" id="scala.tools.partest.nest;Runner.parentFile">parentFile</a> = <a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()java.io.File">getParentFile</span>
  val <a title="String" id="scala.tools.partest.nest;Runner.kind">kind</a>       = <a href="#scala.tools.partest.nest;Runner.parentFile" title="=&gt; java.io.File">parentFile</a>.<span title="()String">getName</span>
  val <a title="String" id="scala.tools.partest.nest;Runner.fileBase">fileBase</a>   = <a href="../package.scala.html#scala.tools.partest.package.basename" title="(name: String)String">basename</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()String">getName</span><span class="delimiter">)</span>
  val <a title="java.io.File" id="scala.tools.partest.nest;Runner.logFile">logFile</a>    = new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.parentFile" title="=&gt; java.io.File">parentFile</a>, <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><a href="#scala.tools.partest.nest;Runner.fileBase" title="=&gt; String">fileBase</a><span title="String(&quot;-&quot;)">-$</span><a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a><span title="String(&quot;.log&quot;)" class="string">.log&quot;</span><span class="delimiter">)</span>
  val outFile    = <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.changeExtension" title="scala.tools.partest.File" id="scala.tools.partest.nest;Runner.outFile">changeExtension</a> <span title="String(&quot;obj&quot;)" class="string">&quot;obj&quot;</span>
  val checkFile  = <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">testFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.changeExtension" title="scala.tools.partest.File" id="scala.tools.partest.nest;Runner.checkFile">changeExtension</a> <span title="String(&quot;check&quot;)" class="string">&quot;check&quot;</span>
  val flagsFile  = <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">testFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.changeExtension" title="scala.tools.partest.File" id="scala.tools.partest.nest;Runner.flagsFile">changeExtension</a> <span title="String(&quot;flags&quot;)" class="string">&quot;flags&quot;</span>
  val <a title="String" id="scala.tools.partest.nest;Runner.testIdent">testIdent</a>  = <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">testFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.testIdent" title="=&gt; String">testIdent</a> <span class="comment">// e.g. pos/t1234</span>

  lazy val <a title="scala.tools.partest.File" id="scala.tools.partest.nest;Runner.outDir">outDir</a> = <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;Runner.outFile" title="=&gt; scala.tools.partest.File">outFile</a>.<span title="()Boolean">mkdirs</span><span class="delimiter">(</span><span class="delimiter">)</span> ; <a href="#scala.tools.partest.nest;Runner.outFile" title="=&gt; scala.tools.partest.File">outFile</a> <span class="delimiter">}</span>

  type <a title="(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner;RanOneTest">RanOneTest</a> = <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a>Boolean, LogContext<span class="delimiter">)</span>

  def <a title="(t: Throwable)Unit" id="scala.tools.partest.nest;Runner.showCrashInfo">showCrashInfo</a><span class="delimiter">(</span><a title="Throwable" id="scala.tools.partest.nest;Runner.showCrashInfo.t">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="System.type">System</span>.<span title="java.io.PrintStream">err</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Crashed running test &quot;)">Crashed running test $</span><a href="#scala.tools.partest.nest;Runner.testIdent" title="=&gt; String">testIdent</a><span title="String(&quot;: &quot;)" class="string">: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.showCrashInfo.t" title="Throwable">t</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../package.scala.html#scala.tools.partest.package.isPartestTerse" title="=&gt; Boolean">isPartestTerse</a><span class="delimiter">)</span>
      <span title="System.type">System</span>.<span title="java.io.PrintStream">err</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="../../nsc/util/package.scala.html#scala.tools.nsc.util.package.stackTraceString" title="(ex: Throwable)String">stackTraceString</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.showCrashInfo.t" title="Throwable">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  protected def <a title="=&gt; PartialFunction[Throwable,scala.tools.partest.TestState]" id="scala.tools.partest.nest;Runner.crashHandler">crashHandler</a>: <a href="../../../PartialFunction.scala.html#scala;PartialFunction" title="PartialFunction[Throwable,scala.tools.partest.TestState]">PartialFunction</a><span class="delimiter">[</span>Throwable, TestState<span class="delimiter">]</span> = <a title="&lt;$anon: Throwable =&gt; scala.tools.partest.TestState&gt; extends scala.runtime.AbstractPartialFunction[Throwable,scala.tools.partest.TestState] with Serializable" id="scala.tools.partest.nest;Runner.crashHandler;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case <span title="InterruptedException">t</span>: <span title="InterruptedException">InterruptedException</span> =&gt;
      <a href="#scala.tools.partest.nest;Runner.genTimeout" title="()scala.tools.partest.TestState.Fail">genTimeout</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>
    case <span title="Throwable">t</span>: <span title="Throwable">Throwable</span> =&gt;
      <a href="#scala.tools.partest.nest;Runner.showCrashInfo" title="(t: Throwable)Unit">showCrashInfo</a><span class="delimiter">(</span><span title="Throwable">t</span><span class="delimiter">)</span>
      <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.appendAll" title="(strings: String*)Unit">appendAll</a><span class="delimiter">(</span><a href="../../nsc/util/package.scala.html#scala.tools.nsc.util.package.stackTraceString" title="(ex: Throwable)String">stackTraceString</a><span class="delimiter">(</span><span title="Throwable">t</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.genCrash" title="(caught: Throwable)scala.tools.partest.TestState.Crash">genCrash</a><span class="delimiter">(</span><span title="Throwable">t</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()scala.tools.partest.TestState.Pass" id="scala.tools.partest.nest;Runner.genPass">genPass</a><span class="delimiter">(</span><span class="delimiter">)</span>                   = <a href="../TestState.scala.html#scala.tools.partest.TestState;Pass" title="(testFile: java.io.File)scala.tools.partest.TestState.Pass">Pass</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span>
  def <a title="(reason: String)scala.tools.partest.TestState.Fail" id="scala.tools.partest.nest;Runner.genFail">genFail</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.genFail.reason">reason</a>: <span title="String">String</span><span class="delimiter">)</span>     = <a href="../TestState.scala.html#scala.tools.partest.TestState;Fail" title="(testFile: java.io.File, reason: String, transcript: Array[String])scala.tools.partest.TestState.Fail">Fail</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>, <a href="#scala.tools.partest.nest;Runner.genFail.reason" title="String">reason</a>, <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a>.<a href="#scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d)" title="=&gt; List[String]">fail</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toArray" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</a><span class="delimiter">)</span>
  def <a title="()scala.tools.partest.TestState.Fail" id="scala.tools.partest.nest;Runner.genTimeout">genTimeout</a><span class="delimiter">(</span><span class="delimiter">)</span>                = <a href="../TestState.scala.html#scala.tools.partest.TestState;Fail" title="(testFile: java.io.File, reason: String, transcript: Array[String])scala.tools.partest.TestState.Fail">Fail</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>, <span title="String(&quot;timed out&quot;)" class="string">&quot;timed out&quot;</span>, <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a>.<a href="#scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d)" title="=&gt; List[String]">fail</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toArray" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</a><span class="delimiter">)</span>
  def <a title="(caught: Throwable)scala.tools.partest.TestState.Crash" id="scala.tools.partest.nest;Runner.genCrash">genCrash</a><span class="delimiter">(</span><a title="Throwable" id="scala.tools.partest.nest;Runner.genCrash.caught">caught</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <a href="../TestState.scala.html#scala.tools.partest.TestState;Crash" title="(testFile: java.io.File, caught: Throwable, transcript: Array[String])scala.tools.partest.TestState.Crash">Crash</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>, <a href="#scala.tools.partest.nest;Runner.genCrash.caught" title="Throwable">caught</a>, <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a>.<a href="#scala.tools.partest.nest;TestTranscript.fail(1c8d00db8d)" title="=&gt; List[String]">fail</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toArray" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</a><span class="delimiter">)</span>
  def <a title="()scala.tools.partest.TestState.Updated" id="scala.tools.partest.nest;Runner.genUpdated">genUpdated</a><span class="delimiter">(</span><span class="delimiter">)</span>                = <a href="../TestState.scala.html#scala.tools.partest.TestState;Updated" title="(testFile: java.io.File)scala.tools.partest.TestState.Updated">Updated</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span>

  private def <a title="(msg: String)Unit" id="scala.tools.partest.nest;Runner.workerError">workerError</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.workerError.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span title="System.type">System</span>.<span title="java.io.PrintStream">err</span>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Error: &quot;)" class="string">&quot;Error: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.workerError.msg" title="String">msg</a><span class="delimiter">)</span>

  def <a title="(files: List[java.io.File])scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner.javac">javac</a><span class="delimiter">(</span><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner.javac.files">files</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = <span class="delimiter">{</span>
    <span class="comment">// compile using command-line javac compiler</span>
    val args = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: String*)Seq[String]">Seq</a><span class="delimiter">(</span>
      <a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$6" title="=&gt; String">javacCmdPath</a>,
      <span title="String(&quot;-d&quot;)" class="string">&quot;-d&quot;</span>,
      <a href="#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a>.<span title="()String">getAbsolutePath</span>,
      <span title="String(&quot;-classpath&quot;)" class="string">&quot;-classpath&quot;</span>,
      <a href="FileManager.scala.html#scala.tools.partest.nest.FileManager.joinPaths" title="(paths: List[scala.tools.partest.Path])String">joinPaths</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: scala.reflect.io.Path)List[scala.reflect.io.Path]">::</a> <a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.testClassPath" title="=&gt; List[scala.reflect.io.Path]">testClassPath</a><span class="delimiter">)</span>
    <span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.++" title="Seq[String]" id="scala.tools.partest.nest;Runner.javac.args">++</a> <a href="#scala.tools.partest.nest;Runner.javac.files" title="List[java.io.File]">files</a>.<a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: java.io.File =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.javac.args.$anonfun.x$2" title="java.io.File">_</a>.<span title="()String">getAbsolutePath</span><span class="delimiter">)</span>

    <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.javac.args" title="Seq[String]">args</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    val <a title="scala.tools.partest.nest.StreamCapture.Captured[Boolean]" id="scala.tools.partest.nest;Runner.javac.captured">captured</a> = <a href="StreamCapture.scala.html#scala.tools.partest.nest.StreamCapture.apply" title="(body: =&gt; Boolean)scala.tools.partest.nest.StreamCapture.Captured[Boolean]">StreamCapture</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runCommand" title="(args: Seq[String], outFile: java.io.File)Boolean">runCommand</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.javac.args" title="Seq[String]">args</a>, <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.javac.captured" title="scala.tools.partest.nest.StreamCapture.Captured[Boolean]">captured</a>.<a href="StreamCapture.scala.html#scala.tools.partest.nest.StreamCapture;Captured.result" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <a href="#scala.tools.partest.nest;Runner.genPass" title="()scala.tools.partest.TestState.Pass">genPass</a><span class="delimiter">(</span><span class="delimiter">)</span> else <span class="delimiter">{</span>
      <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.appendAll" title="(strings: String*)Unit">appendAll</a> <a href="#scala.tools.partest.nest;Runner.javac.captured" title="scala.tools.partest.nest.StreamCapture.Captured[Boolean]">captured</a>.<a href="StreamCapture.scala.html#scala.tools.partest.nest.StreamCapture;Captured.stderr" title="=&gt; String">stderr</a>
      <a href="#scala.tools.partest.nest;Runner.genFail" title="(reason: String)scala.tools.partest.TestState.Fail">genFail</a><span class="delimiter">(</span><span title="String(&quot;java compilation failed&quot;)" class="string">&quot;java compilation failed&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; String" id="scala.tools.partest.nest;Runner.testPrompt">testPrompt</a> = <a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> match <span class="delimiter">{</span>
    case <span title="String(&quot;res&quot;)" class="string">&quot;res&quot;</span>  =&gt; <span title="String(&quot;nsc&gt; &quot;)" class="string">&quot;nsc&gt; &quot;</span>
    case _      =&gt; <span title="String(&quot;% &quot;)" class="string">&quot;% &quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Evaluate an action body and update the test state.
   *  @param failFn optionally map a result to a test state.
   */</span>
  def <a title="[T](body: =&gt; T)(failFn: PartialFunction[T,scala.tools.partest.TestState])T" id="scala.tools.partest.nest;Runner.nextTestAction">nextTestAction</a><span class="delimiter">[</span><a title="" id="scala.tools.partest.nest;Runner.nextTestAction;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="scala.tools.partest.nest;Runner.nextTestAction.body">body</a>: =&gt; T<span class="delimiter">)</span><span class="delimiter">(</span><a title="PartialFunction[T,scala.tools.partest.TestState]" id="scala.tools.partest.nest;Runner.nextTestAction.failFn">failFn</a>: <a href="../../../PartialFunction.scala.html#scala;PartialFunction" title="PartialFunction[T,scala.tools.partest.TestState]">PartialFunction</a><span class="delimiter">[</span>T, TestState<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scala.tools.partest.nest;Runner.nextTestAction;T" title="T">T</a> = <span class="delimiter">{</span>
    val <a title="T" id="scala.tools.partest.nest;Runner.nextTestAction.result">result</a> = <a href="#scala.tools.partest.nest;Runner.nextTestAction.body" title="=&gt; T">body</a>
    <a href="#scala.tools.partest.nest;Runner.setLastState" title="(s: scala.tools.partest.TestState)Unit">setLastState</a><span class="delimiter">(</span> if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.nextTestAction.failFn" title="PartialFunction[T,scala.tools.partest.TestState]">failFn</a> <a href="../../../PartialFunction.scala.html#scala;PartialFunction.isDefinedAt" title="(x: T)Boolean">isDefinedAt</a> <a href="#scala.tools.partest.nest;Runner.nextTestAction.result" title="T">result</a><span class="delimiter">)</span> <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: T)scala.tools.partest.TestState">failFn</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.nextTestAction.result" title="T">result</a><span class="delimiter">)</span> else <a href="#scala.tools.partest.nest;Runner.genPass" title="()scala.tools.partest.TestState.Pass">genPass</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;Runner.nextTestAction.result" title="T">result</a>
  <span class="delimiter">}</span>
  def <a title="(reason: String, body: =&gt; Boolean)Boolean" id="scala.tools.partest.nest;Runner.nextTestActionExpectTrue">nextTestActionExpectTrue</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.nextTestActionExpectTrue.reason">reason</a>: <span title="String">String</span>, <a title="=&gt; Boolean" id="scala.tools.partest.nest;Runner.nextTestActionExpectTrue.body">body</a>: =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
    <a href="#scala.tools.partest.nest;Runner.nextTestAction" title="(body: =&gt; Boolean)(failFn: PartialFunction[Boolean,scala.tools.partest.TestState])Boolean">nextTestAction</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue.body" title="=&gt; Boolean">body</a><span class="delimiter">)</span> <a title="&lt;$anon: Boolean =&gt; scala.tools.partest.TestState&gt; extends scala.runtime.AbstractPartialFunction[Boolean,scala.tools.partest.TestState] with Serializable" id="scala.tools.partest.nest;Runner.nextTestActionExpectTrue;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case false =&gt; <a href="#scala.tools.partest.nest;Runner.genFail" title="(reason: String)scala.tools.partest.TestState.Fail">genFail</a><span title="Boolean(true)" class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue.reason" title="String">reason</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  def <a title="(reason: String)Boolean" id="scala.tools.partest.nest;Runner.nextTestActionFailing">nextTestActionFailing</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.nextTestActionFailing.reason">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue" title="(reason: String, body: =&gt; Boolean)Boolean">nextTestActionExpectTrue</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.nextTestActionFailing.reason" title="String">reason</a>, false<span class="delimiter">)</span>

  private def <a title="(outDir: java.io.File, logFile: java.io.File)List[String]" id="scala.tools.partest.nest;Runner.assembleTestCommand">assembleTestCommand</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;Runner.assembleTestCommand.outDir">outDir</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="scala.tools.partest.nest;Runner.assembleTestCommand.logFile">logFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// check whether there is a &quot;.javaopts&quot; file</span>
    val argsFile  = <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">testFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.changeExtension" title="scala.tools.partest.File" id="scala.tools.partest.nest;Runner.assembleTestCommand.argsFile">changeExtension</a> <span title="String(&quot;javaopts&quot;)" class="string">&quot;javaopts&quot;</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.assembleTestCommand.argString">argString</a> = <a href="../package.scala.html#scala.tools.partest.package.file2String" title="(f: scala.tools.partest.File)String">file2String</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.argsFile" title="scala.tools.partest.File">argsFile</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.argString" title="String">argString</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Found javaopts file '%s', using options: '%s'&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.argsFile" title="scala.tools.partest.File">argsFile</a>, <a href="#scala.tools.partest.nest;Runner.assembleTestCommand.argString" title="String">argString</a><span class="delimiter">)</span><span class="delimiter">)</span>

    val <a title="String" id="scala.tools.partest.nest;Runner.assembleTestCommand.testFullPath">testFullPath</a> = <a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()String">getAbsolutePath</span>

    <span class="comment">// Note! As this currently functions, PartestDefaults.javaOpts must precede argString</span>
    <span class="comment">// because when an option is repeated to java only the last one wins.</span>
    <span class="comment">// That means until now all the .javaopts files were being ignored because</span>
    <span class="comment">// they all attempt to change options which are also defined in</span>
    <span class="comment">// partest.java_opts, leading to debug output like:</span>
    <span class="comment">//</span>
    <span class="comment">// debug: Found javaopts file 'files/shootout/message.scala-2.javaopts', using options: '-Xss32k'</span>
    <span class="comment">// debug: java -Xss32k -Xss2m -Xms256M -Xmx1024M -classpath [...]</span>
    val <a title="List[String]" id="scala.tools.partest.nest;Runner.assembleTestCommand.extras">extras</a> = if <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.isPartestDebug" title="=&gt; Boolean">isPartestDebug</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><span title="String(&quot;-Dpartest.debug=true&quot;)" class="string">&quot;-Dpartest.debug=true&quot;</span><span class="delimiter">)</span> else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
    val propertyOptions = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span>
      <span title="String(&quot;-Dfile.encoding=UTF-8&quot;)" class="string">&quot;-Dfile.encoding=UTF-8&quot;</span>,
      <span title="String(&quot;-Djava.library.path=&quot;)" class="string">&quot;-Djava.library.path=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.logFile" title="java.io.File">logFile</a>.<span title="()java.io.File">getParentFile</span>.<span title="()String">getAbsolutePath</span>,
      <span title="String(&quot;-Dpartest.output=&quot;)" class="string">&quot;-Dpartest.output=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.outDir" title="java.io.File">outDir</a>.<span title="()String">getAbsolutePath</span>,
      <span title="String(&quot;-Dpartest.lib=&quot;)" class="string">&quot;-Dpartest.lib=&quot;</span><span title="(x$1: Any)String">+</span><a href="../package.scala.html#scala.tools.partest.package.temporaryPath2File" title="implicit scala.tools.partest.package.temporaryPath2File : (x: scala.tools.partest.Path)scala.tools.partest.File">libraryUnderTest</a>.<span title="()String">getAbsolutePath</span>,
      <span title="String(&quot;-Dpartest.reflect=&quot;)" class="string">&quot;-Dpartest.reflect=&quot;</span><span title="(x$1: Any)String">+</span><a href="../package.scala.html#scala.tools.partest.package.temporaryPath2File" title="implicit scala.tools.partest.package.temporaryPath2File : (x: scala.tools.partest.Path)scala.tools.partest.File">reflectUnderTest</a>.<span title="()String">getAbsolutePath</span>,
      <span title="String(&quot;-Dpartest.cwd=&quot;)" class="string">&quot;-Dpartest.cwd=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.outDir" title="java.io.File">outDir</a>.<span title="()String">getParent</span>,
      <span title="String(&quot;-Dpartest.test-path=&quot;)" class="string">&quot;-Dpartest.test-path=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.testFullPath" title="String">testFullPath</a>,
      <span title="String(&quot;-Dpartest.testname=&quot;)" class="string">&quot;-Dpartest.testname=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.fileBase" title="=&gt; String">fileBase</a>,
      <span title="String(&quot;-Djavacmd=&quot;)" class="string">&quot;-Djavacmd=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$5" title="=&gt; String">javaCmdPath</a>,
      <span title="String(&quot;-Djavaccmd=&quot;)" class="string">&quot;-Djavaccmd=&quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$6" title="=&gt; String">javacCmdPath</a>,
      <span title="String(&quot;-Duser.language=en&quot;)" class="string">&quot;-Duser.language=en&quot;</span>,
      <span title="String(&quot;-Duser.country=US&quot;)" class="string">&quot;-Duser.country=US&quot;</span>
    <span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="List[String]" id="scala.tools.partest.nest;Runner.assembleTestCommand.propertyOptions">++</a> <a href="#scala.tools.partest.nest;Runner.assembleTestCommand.extras" title="List[String]">extras</a>

    val <a title="String" id="scala.tools.partest.nest;Runner.assembleTestCommand.classpath">classpath</a> = <a href="FileManager.scala.html#scala.tools.partest.nest.FileManager.joinPaths" title="(paths: List[scala.tools.partest.Path])String">joinPaths</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.extraClasspath" title="=&gt; List[tools.nsc.io.File]">extraClasspath</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[scala.reflect.io.Path])(implicit bf: scala.collection.generic.CanBuildFrom[List[tools.nsc.io.File],scala.reflect.io.Path,List[scala.tools.partest.Path]])List[scala.tools.partest.Path]">++</a> <a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.testClassPath" title="=&gt; List[scala.reflect.io.Path]">testClassPath</a><span class="delimiter">)</span>

    <a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$5" title="=&gt; String">javaCmdPath</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.+:" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">javaOpts</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">++</a> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">extraJavaOptions</a> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">++</a> <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">argString</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],String,Array[String]])Array[String]">map</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.$anonfun.x$3" title="String">_</a>.<span title="()String">trim</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: String =&gt; Boolean)Array[String]">filter</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.$anonfun.x$4" title="String">_</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[String]">toList</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: String*)Seq[String]">Seq</a><span class="delimiter">(</span>
        <span title="String(&quot;-classpath&quot;)" class="string">&quot;-classpath&quot;</span>,
        <a href="../../nsc/util/ClassPath.scala.html#scala.tools.nsc.util.ClassPath.join" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.assembleTestCommand.outDir" title="java.io.File">outDir</a>.<span title="()String">toString</span>, <a href="#scala.tools.partest.nest;Runner.assembleTestCommand.classpath" title="String">classpath</a><span class="delimiter">)</span>
      <span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="#scala.tools.partest.nest;Runner.assembleTestCommand.propertyOptions" title="List[String]">propertyOptions</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: String*)Seq[String]">Seq</a><span class="delimiter">(</span>
        <span title="String(&quot;scala.tools.nsc.MainGenericRunner&quot;)" class="string">&quot;scala.tools.nsc.MainGenericRunner&quot;</span>,
        <span title="String(&quot;-usejavacp&quot;)" class="string">&quot;-usejavacp&quot;</span>,
        <span title="String(&quot;Test&quot;)" class="string">&quot;Test&quot;</span>,
        <span title="String(&quot;jvm&quot;)" class="string">&quot;jvm&quot;</span>
      <span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Runs command redirecting standard out and
   *  error out to output file.
   */</span>
  private def <a title="(args: Seq[String], outFile: java.io.File)Boolean" id="scala.tools.partest.nest;Runner.runCommand">runCommand</a><span class="delimiter">(</span><a title="Seq[String]" id="scala.tools.partest.nest;Runner.runCommand.args">args</a>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="java.io.File" id="scala.tools.partest.nest;Runner.runCommand.outFile">outFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="comment">//(Process(args) #&gt; outFile !) == 0 or (Process(args) ! pl) == 0</span>
    val <a title="scala.sys.process.FileProcessLogger" id="scala.tools.partest.nest;Runner.runCommand.pl">pl</a> = <a href="../../../sys/process/ProcessLogger.scala.html#scala.sys.process.ProcessLogger.apply(5742b10967)" title="(file: java.io.File)scala.sys.process.FileProcessLogger">ProcessLogger</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runCommand.outFile" title="java.io.File">outFile</a><span class="delimiter">)</span>
    val <a title="Int" id="scala.tools.partest.nest;Runner.runCommand.nonzero">nonzero</a> = <span title="Int(17)" class="int">17</span>     <span class="comment">// rounding down from 17.3</span>
    def <a title="=&gt; Int" id="scala.tools.partest.nest;Runner.runCommand.run">run</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
      val p = <a href="../../../sys/process/Process.scala.html#scala.sys.process;ProcessCreation.apply(fe85eaffff)" title="(command: Seq[String])scala.sys.process.ProcessBuilder">Process</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runCommand.args" title="Seq[String]">args</a><span class="delimiter">)</span> <a href="../../../sys/process/ProcessBuilder.scala.html#scala.sys.process;ProcessBuilder.run(78506fd657)" title="scala.sys.process.Process" id="scala.tools.partest.nest;Runner.runCommand.run.p">run</a> <a href="#scala.tools.partest.nest;Runner.runCommand.pl" title="scala.sys.process.FileProcessLogger">pl</a>
      try <a href="#scala.tools.partest.nest;Runner.runCommand.run.p" title="scala.sys.process.Process">p</a>.<a href="../../../sys/process/Process.scala.html#scala.sys.process;Process.exitValue" title="()Int">exitValue</a>
      catch <span class="delimiter">{</span>
        case <a title="InterruptedException" id="scala.tools.partest.nest;Runner.runCommand.run.e">e</a>: <span title="InterruptedException">InterruptedException</span> =&gt;
          <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a> <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a> <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Interrupted waiting for command to finish (&quot;)">Interrupted waiting for command to finish ($</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;Runner.runCommand.args" title="Seq[String]">args</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span>
          <a href="#scala.tools.partest.nest;Runner.runCommand.run.p" title="scala.sys.process.Process">p</a>.<a href="../../../sys/process/Process.scala.html#scala.sys.process;Process.destroy" title="()Unit">destroy</a>
          <a href="#scala.tools.partest.nest;Runner.runCommand.nonzero" title="Int">nonzero</a>
        case <a title="Throwable" id="scala.tools.partest.nest;Runner.runCommand.run.t">t</a>: <span title="Throwable">Throwable</span> =&gt;
          <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a> <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a> <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Exception waiting for command to finish: &quot;)">Exception waiting for command to finish: $</span><a href="#scala.tools.partest.nest;Runner.runCommand.run.t" title="Throwable">t</a><span title="String(&quot; (&quot;)"> ($</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;Runner.runCommand.args" title="Seq[String]">args</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span>
          <a href="#scala.tools.partest.nest;Runner.runCommand.run.p" title="scala.sys.process.Process">p</a>.<a href="../../../sys/process/Process.scala.html#scala.sys.process;Process.destroy" title="()Unit">destroy</a>
          throw <a href="#scala.tools.partest.nest;Runner.runCommand.run.t" title="Throwable">t</a>
      <span class="delimiter">}</span>
      finally <a href="#scala.tools.partest.nest;Runner.runCommand.pl" title="scala.sys.process.FileProcessLogger">pl</a>.<a href="../../../sys/process/ProcessLogger.scala.html#scala.sys.process;FileProcessLogger.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runCommand.pl" title="scala.sys.process.FileProcessLogger">pl</a> <a href="../../../sys/process/ProcessLogger.scala.html#scala.sys.process;FileProcessLogger.buffer" title="(f: =&gt; Int)Int">buffer</a> <a href="#scala.tools.partest.nest;Runner.runCommand.run" title="=&gt; Int">run</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>
  <span class="delimiter">}</span>

  private def <a title="(outDir: java.io.File, logFile: java.io.File)Boolean" id="scala.tools.partest.nest;Runner.execTest">execTest</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;Runner.execTest.outDir">outDir</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="scala.tools.partest.nest;Runner.execTest.logFile">logFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="List[String]" id="scala.tools.partest.nest;Runner.execTest.cmd">cmd</a> = <a href="#scala.tools.partest.nest;Runner.assembleTestCommand" title="(outDir: java.io.File, logFile: java.io.File)List[String]">assembleTestCommand</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.execTest.outDir" title="java.io.File">outDir</a>, <a href="#scala.tools.partest.nest;Runner.execTest.logFile" title="java.io.File">logFile</a><span class="delimiter">)</span>

    <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.execTest.cmd" title="List[String]">cmd</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot; \\\\&quot;)"> \\$</span><a href="../package.scala.html#scala.tools.partest.package.EOL" title="=&gt; String">EOL</a><span title="String(&quot;  &quot;)" class="string">  &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &gt; &quot;)" class="string">&quot; &gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.execTest.logFile" title="java.io.File">logFile</a>.<span title="()String">getName</span><span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;Runner.nextTestAction" title="(body: =&gt; Boolean)(failFn: PartialFunction[Boolean,scala.tools.partest.TestState])Boolean">nextTestAction</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runCommand" title="(args: Seq[String], outFile: java.io.File)Boolean">runCommand</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.execTest.cmd" title="List[String]">cmd</a>, <a href="#scala.tools.partest.nest;Runner.execTest.logFile" title="java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span> <a title="&lt;$anon: Boolean =&gt; scala.tools.partest.TestState&gt; extends scala.runtime.AbstractPartialFunction[Boolean,scala.tools.partest.TestState] with Serializable" id="scala.tools.partest.nest;Runner.execTest;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case false =&gt;
        <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a> <a href="#scala.tools.partest.nest;TestTranscript.append" title="(text: String)Unit">append</a> <a href="../package.scala.html#scala.tools.partest.package.EOL" title="=&gt; String">EOL</a> <span title="(x$1: Any)String">+</span> <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.fileContents" title="=&gt; String">fileContents</a>
        <a href="#scala.tools.partest.nest;Runner.genFail" title="(reason: String)scala.tools.partest.TestState.Fail">genFail</a><span class="delimiter">(</span><span title="String(&quot;non-zero exit code&quot;)" class="string">&quot;non-zero exit code&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  override def <a title="()String" id="scala.tools.partest.nest;Runner.toString">toString</a> = <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;&quot;&quot;<span title="String(&quot;Test(&quot;)">Test($</span><a href="#scala.tools.partest.nest;Runner.testIdent" title="=&gt; String">testIdent</a><span title="String(&quot;, lastState = &quot;)">, lastState = $</span><a href="#scala.tools.partest.nest;Runner.lastState" title="=&gt; scala.tools.partest.TestState">lastState</a><span title="String(&quot;)&quot;)" class="string">)&quot;&quot;&quot;</span>

  <span class="comment">// result is unused</span>
  def <a title="()(java.io.StringWriter, java.io.PrintWriter)" id="scala.tools.partest.nest;Runner.newTestWriters">newTestWriters</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="java.io.StringWriter" id="scala.tools.partest.nest;Runner.newTestWriters.swr">swr</a> = new <span title="java.io.StringWriter">StringWriter</span>
    val <a title="java.io.PrintWriter" id="scala.tools.partest.nest;Runner.newTestWriters.wr">wr</a>  = new <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.newTestWriters.swr" title="java.io.StringWriter">swr</a>, true<span class="delimiter">)</span>
    <span class="comment">// diff    = &quot;&quot;</span>

    <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: java.io.StringWriter, _2: java.io.PrintWriter)(java.io.StringWriter, java.io.PrintWriter)" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.newTestWriters.swr" title="java.io.StringWriter">swr</a>, <a href="#scala.tools.partest.nest;Runner.newTestWriters.wr" title="java.io.PrintWriter">wr</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(what: Any)Boolean" id="scala.tools.partest.nest;Runner.fail">fail</a><span class="delimiter">(</span><a title="Any" id="scala.tools.partest.nest;Runner.fail.what">what</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a><span class="delimiter">(</span><span title="String(&quot;scalac: compilation of &quot;)" class="string">&quot;scalac: compilation of &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.fail.what" title="Any">what</a><span title="(x$1: Any)String">+</span><span title="String(&quot; failed\n&quot;)" class="string">&quot; failed\n&quot;</span><span class="delimiter">)</span>
    false
  <span class="delimiter">}</span>

  <span class="comment">/** Filter the check file for conditional blocks.
   *  The check file can contain lines of the form:
   *  `#partest java7`
   *  where the line contains a conventional flag name.
   *  If the flag tests true, succeeding lines are retained
   *  (removed on false) until the next #partest flag.
   *  A missing flag evaluates the same as true.
   */</span>
  def <a title="=&gt; Seq[String]" id="scala.tools.partest.nest;Runner.filteredCheck">filteredCheck</a>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    import scala.util.<a href="../../../util/Properties.scala.html#scala.util.Properties" title="scala.util.Properties.type">Properties</a>.<span class="delimiter">{</span>javaVersion, isAvian<span class="delimiter">}</span>
    <span class="comment">// use lines in block so labeled? Default to sorry, Charlie.</span>
    def <a title="(expr: String)Boolean" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn">retainOn</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.expr">expr</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.f">f</a> = <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.expr" title="String">expr</a>.<span title="()String">trim</span>
      val allArgs = <a href="#scala.tools.partest.nest;Runner.suiteRunner" title="=&gt; scala.tools.partest.nest.SuiteRunner">suiteRunner</a>.<a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$7" title="=&gt; Seq[String]">scalacExtraArgs</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.++" title="Seq[String]" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.allArgs">++</a> <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">scalacOpts</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span>
      def <a title="(f: String)Boolean" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.flagWasSet">flagWasSet</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.flagWasSet.f">f</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.allArgs" title="Seq[String]">allArgs</a> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.contains" title="(elem: String)Boolean">contains</a> <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.flagWasSet.f" title="String">f</a>
      val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, String)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Boolean" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.invert">invert</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="String" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.token">token</a><span class="delimiter">)</span> =
        if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.f" title="String">f</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;!&quot;)" class="string">&quot;!&quot;</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: String)(Boolean, String)" class="delimiter">(</a>true, <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">f</a> <a href="../../../collection/IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.drop" title="(n: Int)String">drop</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> else <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: String)(Boolean, String)" class="delimiter">(</a>false, <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.f" title="String">f</a><span class="delimiter">)</span>
      val <a title="Boolean" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond">cond</a> = <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.token" title="String">token</a>.<span title="()String">trim</span> match <span class="delimiter">{</span>
        case <span title="String(&quot;java8&quot;)" class="string">&quot;java8&quot;</span>  =&gt; <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaVersion" title="=&gt; String">javaVersion</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;1.8&quot;)" class="string">&quot;1.8&quot;</span>
        case <span title="String(&quot;java7&quot;)" class="string">&quot;java7&quot;</span>  =&gt; <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaVersion" title="=&gt; String">javaVersion</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;1.7&quot;)" class="string">&quot;1.7&quot;</span>
        case <span title="String(&quot;java6&quot;)" class="string">&quot;java6&quot;</span>  =&gt; <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaVersion" title="=&gt; String">javaVersion</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;1.6&quot;)" class="string">&quot;1.6&quot;</span>
        case <span title="String(&quot;avian&quot;)" class="string">&quot;avian&quot;</span>  =&gt; <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.isAvian" title="=&gt; Boolean">isAvian</a>
        case <span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span>   =&gt; true
        case <span title="String(&quot;-optimise&quot;)" class="string">&quot;-optimise&quot;</span> | <span title="String(&quot;-optimize&quot;)" class="string">&quot;-optimize&quot;</span>
                      =&gt; <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.flagWasSet" title="(f: String)Boolean">flagWasSet</a><span class="delimiter">(</span><span title="String(&quot;-optimise&quot;)" class="string">&quot;-optimise&quot;</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.flagWasSet" title="(f: String)Boolean">flagWasSet</a><span class="delimiter">(</span><span title="String(&quot;-optimize&quot;)" class="string">&quot;-optimize&quot;</span><span class="delimiter">)</span>
        case <a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond.flag">flag</a> if <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond.flag" title="String">flag</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span>
                      =&gt; <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.flagWasSet" title="(f: String)Boolean">flagWasSet</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond.flag" title="String">flag</a><span class="delimiter">)</span>
        case <a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond.rest">rest</a>     =&gt; <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond.rest" title="String">rest</a>.<span title="()Boolean">isEmpty</span>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.invert" title="Boolean">invert</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond" title="Boolean">cond</a> else <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn.cond" title="Boolean">cond</a>
    <span class="delimiter">}</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.prefix">prefix</a> = <span title="String(&quot;#partest&quot;)" class="string">&quot;#partest&quot;</span>
    val <a title="scala.collection.mutable.ListBuffer[String]" id="scala.tools.partest.nest;Runner.filteredCheck.b">b</a> = new <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    var <a title="Boolean" id="scala.tools.partest.nest;Runner.filteredCheck.on">on</a> = true
    for <span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.filteredCheck.$anonfun.line">line</a> &lt;- <a href="../package.scala.html#scala.tools.partest.package.file2String" title="(f: scala.tools.partest.File)String">file2String</a><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a><span class="delimiter">)</span>.<a href="../../../collection/Iterator.scala.html#scala.collection;Iterator.foreach" title="(f: String =&gt; Any)Unit">lines</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.filteredCheck.$anonfun.line" title="String">line</a> <span title="(x$1: String)Boolean">startsWith</span> <a href="#scala.tools.partest.nest;Runner.filteredCheck.prefix" title="String">prefix</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.partest.nest;Runner.filteredCheck.on" title="Boolean">on</a> = <a href="#scala.tools.partest.nest;Runner.filteredCheck.retainOn" title="(expr: String)Boolean">retainOn</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">line</a> <a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripPrefix" title="(prefix: String)String">stripPrefix</a> <a href="#scala.tools.partest.nest;Runner.filteredCheck.prefix" title="String">prefix</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.filteredCheck.on" title="Boolean">on</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.tools.partest.nest;Runner.filteredCheck.b" title="scala.collection.mutable.ListBuffer[String]">b</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: String)b.type">+=</a> <a href="#scala.tools.partest.nest;Runner.filteredCheck.$anonfun.line" title="String">line</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#scala.tools.partest.nest;Runner.filteredCheck.b" title="scala.collection.mutable.ListBuffer[String]">b</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.toList" title="=&gt; List[String]">toList</a>
  <span class="delimiter">}</span>

  def <a title="=&gt; String" id="scala.tools.partest.nest;Runner.currentDiff">currentDiff</a> = <span class="delimiter">{</span>
    val <a title="List[String]" id="scala.tools.partest.nest;Runner.currentDiff.logged">logged</a> = <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">augmentString</a><span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.file2String" title="(f: scala.tools.partest.File)String">file2String</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.lines" title="=&gt; Iterator[String]">lines</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[String]">toList</a>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Seq[String], String)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Seq[String]" id="scala.tools.partest.nest;Runner.currentDiff.other">other</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="String" id="scala.tools.partest.nest;Runner.currentDiff.othername">othername</a><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a>.<span title="()Boolean">canRead</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Seq[String], _2: String)(Seq[String], String)" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.filteredCheck" title="=&gt; Seq[String]">filteredCheck</a>, <a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a>.<span title="()String">getName</span><span class="delimiter">)</span> else <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.collection.immutable.Nil.type, _2: String)(scala.collection.immutable.Nil.type, String)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>, <span title="String(&quot;empty&quot;)" class="string">&quot;empty&quot;</span><span class="delimiter">)</span>
    <a href="FileManager.scala.html#scala.tools.partest.nest.FileManager.compareContents" title="(original: Seq[String], revised: Seq[String], originalName: String, revisedName: String)String">compareContents</a><span class="delimiter">(</span>original = <a href="#scala.tools.partest.nest;Runner.currentDiff.other" title="Seq[String]">other</a>, revised = <a href="#scala.tools.partest.nest;Runner.currentDiff.logged" title="List[String]">logged</a>, originalName = <a href="#scala.tools.partest.nest;Runner.currentDiff.othername" title="String">othername</a>, revisedName = <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()String">getName</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  val gitRunner = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><span title="String(&quot;/usr/local/bin/git&quot;)" class="string">&quot;/usr/local/bin/git&quot;</span>, <span title="String(&quot;/usr/bin/git&quot;)" class="string">&quot;/usr/bin/git&quot;</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.io.File,List[java.io.File]])List[java.io.File]">map</a> <span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.gitRunner.$anonfun.f">f</a> =&gt; new java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.gitRunner.$anonfun.f" title="String">f</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.find" title="Option[java.io.File]" id="scala.tools.partest.nest;Runner.gitRunner">find</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.gitRunner.$anonfun.x$8" title="java.io.File">_</a>.<span title="()Boolean">canRead</span><span class="delimiter">)</span>
  val gitDiffOptions = <span title="String(&quot;--ignore-space-at-eol --no-index &quot;)" class="string">&quot;--ignore-space-at-eol --no-index &quot;</span> <a title="String" id="scala.tools.partest.nest;Runner.gitDiffOptions">+</a> <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.propOrEmpty" title="(name: String)String">propOrEmpty</a><span class="delimiter">(</span><span title="String(&quot;partest.git_diff_options&quot;)" class="string">&quot;partest.git_diff_options&quot;</span><span class="delimiter">)</span>
    <span class="comment">// --color=always --word-diff</span>

  def <a title="(f1: java.io.File, f2: java.io.File)Option[String]" id="scala.tools.partest.nest;Runner.gitDiff">gitDiff</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;Runner.gitDiff.f1">f1</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="scala.tools.partest.nest;Runner.gitDiff.f2">f2</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#scala;Option" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    try <a href="#scala.tools.partest.nest;Runner.gitRunner" title="=&gt; Option[java.io.File]">gitRunner</a> <a href="../../../Option.scala.html#scala;Option.map" title="(f: java.io.File =&gt; String)Option[String]">map</a> <span class="delimiter">{</span> <a title="java.io.File" id="scala.tools.partest.nest;Runner.gitDiff.$anonfun.git">git</a> =&gt;
      val <a title="String" id="scala.tools.partest.nest;Runner.gitDiff.$anonfun.cmd">cmd</a>  = <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><a href="#scala.tools.partest.nest;Runner.gitDiff.$anonfun.git" title="java.io.File">git</a><span title="String(&quot; diff &quot;)"> diff $</span><a href="#scala.tools.partest.nest;Runner.gitDiffOptions" title="=&gt; String">gitDiffOptions</a><span title="String(&quot; &quot;)"> $</span><a href="#scala.tools.partest.nest;Runner.gitDiff.f1" title="java.io.File">f1</a><span title="String(&quot; &quot;)"> $</span><a href="#scala.tools.partest.nest;Runner.gitDiff.f2" title="java.io.File">f2</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
      val <a title="String" id="scala.tools.partest.nest;Runner.gitDiff.$anonfun.diff">diff</a> = <a href="../../../sys/process/Process.scala.html#scala.sys.process;ProcessCreation.apply(3f5935c247)" title="(command: String)scala.sys.process.ProcessBuilder">Process</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.gitDiff.$anonfun.cmd" title="String">cmd</a><span class="delimiter">)</span>.<a href="../../../sys/process/ProcessBuilder.scala.html#scala.sys.process;ProcessBuilder.lines_!(7fc7b5f249)" title="=&gt; Stream[String]">lines_!</a>.<a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable;Stream.drop" title="(n: Int)scala.collection.immutable.Stream[String]">drop</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable;Stream.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream[String],String,scala.collection.immutable.Stream[String]])scala.collection.immutable.Stream[String]">map</a><a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable.Stream.canBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Stream.Coll,String,scala.collection.immutable.Stream[String]]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.gitDiff.$anonfun.diff.$anonfun.x$9" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/Stream.scala.html#scala.collection.immutable;Stream.mkString(3bf7c90be7)" title="=&gt; String">mkString</a>

      <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.gitDiff.$anonfun.diff" title="String">diff</a>
    <span class="delimiter">}</span>
    catch <span class="delimiter">{</span> case <a title="Exception" id="scala.tools.partest.nest;Runner.gitDiff.t">t</a>: <span title="Exception">Exception</span> =&gt; <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Normalize the log output by applying test-specific filters
   *  and fixing filesystem-specific paths.
   *
   *  Line filters are picked up from `filter: pattern` at the top of sources.
   *  The filtered line is detected with a simple &quot;contains&quot; test,
   *  and yes, &quot;filter&quot; means &quot;filter out&quot; in this context.
   *
   *  File paths are detected using the absolute path of the test root.
   *  A string that looks like a file path is normalized by replacing
   *  the leading segments (the root) with &quot;$ROOT&quot; and by replacing
   *  any Windows backslashes with the one true file separator char.
   */</span>
  def <a title="()Unit" id="scala.tools.partest.nest;Runner.normalizeLog">normalizeLog</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    import scala.util.matching.Regex

    <span class="comment">// Apply judiciously; there are line comments in the &quot;stub implementations&quot; error output.</span>
    val <a title="scala.util.matching.Regex" id="scala.tools.partest.nest;Runner.normalizeLog.slashes">slashes</a>    = <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;[/\\]+&quot;&quot;&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.r(10b770f77e)" title="=&gt; scala.util.matching.Regex">r</a>
    def <a title="(s: String)String" id="scala.tools.partest.nest;Runner.normalizeLog.squashSlashes">squashSlashes</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.squashSlashes.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.normalizeLog.slashes" title="scala.util.matching.Regex">slashes</a> <a href="../../../util/matching/Regex.scala.html#scala.util.matching;Regex.replaceAllIn(59b682a986)" title="(target: CharSequence, replacement: String)String">replaceAllIn</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.squashSlashes.s" title="String">s</a>, <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>

    <span class="comment">// this string identifies a path and is also snipped from log output.</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.elided">elided</a>     = <a href="#scala.tools.partest.nest;Runner.parentFile" title="=&gt; java.io.File">parentFile</a>.<span title="()String">getAbsolutePath</span>

    <span class="comment">// something to mark the elision in the log file (disabled)</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.ellipsis">ellipsis</a>   = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="comment">//&quot;.../&quot;    // using * looks like a comment</span>

    <span class="comment">// no spaces in test file paths below root, because otherwise how to detect end of path string?</span>
    val <a title="scala.util.matching.Regex" id="scala.tools.partest.nest;Runner.normalizeLog.pathFinder">pathFinder</a> = <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">raw</a>&quot;&quot;&quot;<span title="String(&quot;(?i)\\Q&quot;)">(?i)\Q$</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.elided" title="String">elided</a><span class="delimiter">}</span><span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><span title="java.io.File.type">File</span>.<span title="String">separator</span><span class="delimiter">}</span><span title="String(&quot;\\E([\\&quot;)">\E([\$</span><span class="delimiter">{</span><span title="java.io.File.type">File</span>.<span title="String">separator</span><span class="delimiter">}</span><span title="String(&quot;\\S]*)&quot;)" class="string">\S]*)&quot;&quot;&quot;</span>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.r(10b770f77e)" title="=&gt; scala.util.matching.Regex">r</a>
    def <a title="(s: String)String" id="scala.tools.partest.nest;Runner.normalizeLog.canonicalize">canonicalize</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.canonicalize.s">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span>
      <a href="#scala.tools.partest.nest;Runner.normalizeLog.pathFinder" title="scala.util.matching.Regex">pathFinder</a> <a href="../../../util/matching/Regex.scala.html#scala.util.matching;Regex.replaceAllIn(1271356b35)" title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.canonicalize.s" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="scala.tools.partest.nest;Runner.normalizeLog.canonicalize.$anonfun.m">m</a> =&gt;
        <a href="../../../util/matching/Regex.scala.html#scala.util.matching.Regex" title="scala.util.matching.Regex.type">Regex</a>.<a href="../../../util/matching/Regex.scala.html#scala.util.matching.Regex.quoteReplacement" title="(text: String)String">quoteReplacement</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.ellipsis" title="String">ellipsis</a> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.normalizeLog.squashSlashes" title="(s: String)String">squashSlashes</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.canonicalize.$anonfun.m" title="scala.util.matching.Regex.Match">m</a> <a href="../../../util/matching/Regex.scala.html#scala.util.matching.Regex;MatchData.group(d43c183463)" title="(i: Int)String">group</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    def <a title="=&gt; List[String]" id="scala.tools.partest.nest;Runner.normalizeLog.masters">masters</a>    = <span class="delimiter">{</span>
      val <a title="List[java.io.File]" id="scala.tools.partest.nest;Runner.normalizeLog.masters.files">files</a> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: java.io.File*)List[java.io.File]">List</a><span class="delimiter">(</span>new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.parentFile" title="=&gt; java.io.File">parentFile</a>, <span title="String(&quot;filters&quot;)" class="string">&quot;filters&quot;</span><span class="delimiter">)</span>, new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.srcDir" title="=&gt; scala.reflect.io.Directory">srcDir</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.path" title="=&gt; String">path</a>, <span title="String(&quot;filters&quot;)" class="string">&quot;filters&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.normalizeLog.masters.files" title="List[java.io.File]">files</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: java.io.File =&gt; Boolean)List[java.io.File]">filter</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.masters.$anonfun.x$10" title="java.io.File">_</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.flatMap" title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],String,List[String]])List[String]">flatMap</a> <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">_</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.fileLines" title="=&gt; List[String]">fileLines</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.masters.$anonfun.x$12" title="String">_</a>.<span title="()String">trim</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: String =&gt; Boolean)List[String]">filter</a> <span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.masters.$anonfun.s">s</a> =&gt; <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.masters.$anonfun.s" title="String">s</a> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    val filters    = <a href="#scala.tools.partest.nest;Runner.toolArgs" title="(tool: String, split: Boolean)List[String]">toolArgs</a><span class="delimiter">(</span><span title="String(&quot;filter&quot;)" class="string">&quot;filter&quot;</span>, split = false<span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="List[String]" id="scala.tools.partest.nest;Runner.normalizeLog.filters">++</a> <a href="#scala.tools.partest.nest;Runner.normalizeLog.masters" title="=&gt; List[String]">masters</a>
    val <a title="scala.collection.mutable.ListBuffer[String]" id="scala.tools.partest.nest;Runner.normalizeLog.elisions">elisions</a>   = <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: String*)scala.collection.mutable.ListBuffer[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="comment">//def lineFilter(s: String): Boolean  = !(filters exists (s contains _))</span>
    def <a title="(s: String)Boolean" id="scala.tools.partest.nest;Runner.normalizeLog.lineFilter">lineFilter</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.lineFilter.s">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>  = <span class="delimiter">(</span>
      <a href="#scala.tools.partest.nest;Runner.normalizeLog.filters" title="List[String]">filters</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: String =&gt; scala.util.matching.Regex)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.util.matching.Regex,List[scala.util.matching.Regex]])List[scala.util.matching.Regex]">map</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.r(10b770f77e)" title="=&gt; scala.util.matching.Regex">r</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.forall" title="(p: scala.util.matching.Regex =&gt; Boolean)Boolean">forall</a> <span class="delimiter">{</span> <a title="scala.util.matching.Regex" id="scala.tools.partest.nest;Runner.normalizeLog.lineFilter.$anonfun.r">r</a> =&gt;
        val <a title="Boolean" id="scala.tools.partest.nest;Runner.normalizeLog.lineFilter.$anonfun.res">res</a> = <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.lineFilter.$anonfun.r" title="scala.util.matching.Regex">r</a> <a href="../../../util/matching/Regex.scala.html#scala.util.matching;Regex.findFirstIn" title="(source: CharSequence)Option[String]">findFirstIn</a> <a href="#scala.tools.partest.nest;Runner.normalizeLog.lineFilter.s" title="String">s</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a>
        if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.normalizeLog.lineFilter.$anonfun.res" title="Boolean">res</a><span class="delimiter">)</span> <a href="#scala.tools.partest.nest;Runner.normalizeLog.elisions" title="scala.collection.mutable.ListBuffer[String]">elisions</a> <a href="../../../collection/mutable/ListBuffer.scala.html#scala.collection.mutable;ListBuffer.+=(f93df146a4)" title="(x: String)elisions.type">+=</a> <a href="#scala.tools.partest.nest;Runner.normalizeLog.lineFilter.s" title="String">s</a>
        <a href="#scala.tools.partest.nest;Runner.normalizeLog.lineFilter.$anonfun.res" title="Boolean">res</a>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>

    <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.mapInPlace" title="(mapFn: String =&gt; String)(filterFn: String =&gt; Boolean)Unit">mapInPlace</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.canonicalize" title="(s: String)String">canonicalize</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.lineFilter" title="(s: String)Boolean">lineFilter</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.isPartestVerbose" title="=&gt; Boolean">isPartestVerbose</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.normalizeLog.elisions" title="scala.collection.mutable.ListBuffer[String]">elisions</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#scala.collection.generic;TraversableForwarder.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      import <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.color" title="=&gt; scala.tools.partest.nest.Colors">color</a>._
      val <a title="String" id="scala.tools.partest.nest;Runner.normalizeLog.emdash">emdash</a> = <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)String">bold</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: String)String">yellow</a><span class="delimiter">(</span><span title="String(&quot;--&quot;)" class="string">&quot;--&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span title="Unit" class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;filtering &quot;)">filtering $</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()String">getName</span><span class="delimiter">}</span><span title="String(&quot;&quot;)">$</span><a href="../package.scala.html#scala.tools.partest.package.EOL" title="=&gt; String">EOL</a><span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.elisions" title="scala.collection.mutable.ListBuffer[String]">elisions</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#scala.collection.generic;TraversableForwarder.mkString(581ef61a02)" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.normalizeLog.emdash" title="String">emdash</a>, <a href="../package.scala.html#scala.tools.partest.package.EOL" title="=&gt; String">EOL</a> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.normalizeLog.emdash" title="String">emdash</a>, <a href="../package.scala.html#scala.tools.partest.package.EOL" title="=&gt; String">EOL</a><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; Boolean" id="scala.tools.partest.nest;Runner.diffIsOk">diffIsOk</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="comment">// always normalize the log first</span>
    <a href="#scala.tools.partest.nest;Runner.normalizeLog" title="()Unit">normalizeLog</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.diffIsOk.diff">diff</a> = <a href="#scala.tools.partest.nest;Runner.currentDiff" title="=&gt; String">currentDiff</a>
    <span class="comment">// if diff is not empty, is update needed?</span>
    val <a title="Option[Boolean]" id="scala.tools.partest.nest;Runner.diffIsOk.updating">updating</a>: <a href="../../../Option.scala.html#scala;Option" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <span class="delimiter">(</span>
      if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.diffIsOk.diff" title="String">diff</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>
      else <a href="../../../Option.scala.html#scala;Some" title="(x: Boolean)Some[Boolean]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.updateCheck" title="=&gt; Boolean">updateCheck</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;diff &quot;)">diff $</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span title="String(&quot; &quot;)"> $</span><a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;Runner.nextTestAction" title="(body: =&gt; Option[Boolean])(failFn: PartialFunction[Option[Boolean],scala.tools.partest.TestState])Option[Boolean]">nextTestAction</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.diffIsOk.updating" title="Option[Boolean]">updating</a><span class="delimiter">)</span> <a title="&lt;$anon: Option[Boolean] =&gt; scala.tools.partest.TestState&gt; extends scala.runtime.AbstractPartialFunction[Option[Boolean],scala.tools.partest.TestState] with Serializable" id="scala.tools.partest.nest;Runner.diffIsOk;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
      case Some<span class="delimiter">(</span>true<span class="delimiter">)</span>  =&gt;
        <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a><span class="delimiter">(</span><span title="String(&quot;Updating checkfile &quot;)" class="string">&quot;Updating checkfile &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a><span class="delimiter">)</span>
        <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">checkFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.writeAll" title="(strings: String*)Unit">writeAll</a> <a href="../package.scala.html#scala.tools.partest.package.file2String" title="(f: scala.tools.partest.File)String">file2String</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;Runner.genUpdated" title="()scala.tools.partest.TestState.Updated">genUpdated</a><span class="delimiter">(</span><span class="delimiter">)</span>
      case Some<span class="delimiter">(</span>false<span class="delimiter">)</span> =&gt;
        <span class="comment">// Get a word-highlighted diff from git if we can find it</span>
        val <a title="String" id="scala.tools.partest.nest;Runner.diffIsOk;$anonfun.applyOrElse.bestDiff">bestDiff</a> = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.diffIsOk.updating" title="Option[Boolean]">updating</a>.<a href="../../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <span class="delimiter">{</span>
          if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a>.<span title="()Boolean">canRead</span><span class="delimiter">)</span>
            <a href="#scala.tools.partest.nest;Runner.gitDiff" title="(f1: java.io.File, f2: java.io.File)Option[String]">gitDiff</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>, <a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; String)String">getOrElse</a> <span class="delimiter">{</span>
              <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;diff &quot;)">diff $</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span title="String(&quot; &quot;)"> $</span><a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a><span title="String(&quot;\\n&quot;)">\n$</span><a href="#scala.tools.partest.nest;Runner.diffIsOk.diff" title="String">diff</a><span title="String(&quot;&quot;)" class="string">&quot;</span>
            <span class="delimiter">}</span>
          else <a href="#scala.tools.partest.nest;Runner.diffIsOk.diff" title="String">diff</a>
        <span class="delimiter">}</span>
        <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a> <a href="#scala.tools.partest.nest;TestTranscript.append" title="(text: String)Unit">append</a> <a href="#scala.tools.partest.nest;Runner.diffIsOk;$anonfun.applyOrElse.bestDiff" title="String">bestDiff</a>
        <a href="#scala.tools.partest.nest;Runner.genFail" title="(reason: String)scala.tools.partest.TestState.Fail">genFail</a><span class="delimiter">(</span><span title="String(&quot;output differs&quot;)" class="string">&quot;output differs&quot;</span><span class="delimiter">)</span>
        <span class="comment">// TestState.fail(&quot;output differs&quot;, &quot;output differs&quot;,</span>
        <span class="comment">// genFail(&quot;output differs&quot;)</span>
        <span class="comment">// TestState.Fail(&quot;output differs&quot;, bestDiff)</span>
      case <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>        =&gt; <a href="#scala.tools.partest.nest;Runner.genPass" title="()scala.tools.partest.TestState.Pass">genPass</a><span title="Boolean(true)" class="delimiter">(</span><span class="delimiter">)</span>  <span class="comment">// redundant default case</span>
    <span class="delimiter">}</span> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Boolean)Boolean">getOrElse</a> true
  <span class="delimiter">}</span>

  <span class="comment">/** 1. Creates log file and output directory.
   *  2. Runs script function, providing log file and output directory as arguments.
   *     2b. or, just run the script without context and return a new context
   */</span>
  def <a title="(body: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runInContext">runInContext</a><span class="delimiter">(</span><a title="=&gt; Boolean" id="scala.tools.partest.nest;Runner.runInContext.body">body</a>: =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a>Boolean, LogContext<span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="java.io.StringWriter" id="scala.tools.partest.nest;Runner.runInContext.swr">swr</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="java.io.PrintWriter" id="scala.tools.partest.nest;Runner.runInContext.wr">wr</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.newTestWriters" title="()(java.io.StringWriter, java.io.PrintWriter)">newTestWriters</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>
    val <a title="Boolean" id="scala.tools.partest.nest;Runner.runInContext.succeeded">succeeded</a> = <a href="#scala.tools.partest.nest;Runner.runInContext.body" title="=&gt; Boolean">body</a>
    <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: scala.tools.partest.nest.LogContext)(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.runInContext.succeeded" title="Boolean">succeeded</a>, <a href="#scala.tools.partest.nest.LogContext.apply(2558696446)" title="(file: java.io.File, swr: java.io.StringWriter, wr: java.io.PrintWriter)scala.tools.partest.nest.LogContext">LogContext</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>, <a href="#scala.tools.partest.nest;Runner.runInContext.swr" title="java.io.StringWriter">swr</a>, <a href="#scala.tools.partest.nest;Runner.runInContext.wr" title="java.io.PrintWriter">wr</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Grouped files in group order, and lex order within each group. */</span>
  def <a title="(sources: List[java.io.File])List[List[java.io.File]]" id="scala.tools.partest.nest;Runner.groupedFiles">groupedFiles</a><span class="delimiter">(</span><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner.groupedFiles.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[List[java.io.File]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">(</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.groupedFiles.sources" title="List[java.io.File]">sources</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; List[java.io.File]">tail</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val grouped = <a href="#scala.tools.partest.nest;Runner.groupedFiles.sources" title="List[java.io.File]">sources</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.groupBy" title="scala.collection.immutable.Map[Int,List[java.io.File]]" id="scala.tools.partest.nest;Runner.groupedFiles.grouped">groupBy</a> <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">_</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.group" title="=&gt; Int">group</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.groupedFiles.grouped" title="scala.collection.immutable.Map[Int,List[java.io.File]]">grouped</a>.<a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.keys" title="=&gt; Iterable[Int]">keys</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[Int]">toList</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.sorted" title="(implicit ord: scala.math.Ordering[Int])List[Int]">sorted</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Int =&gt; List[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],List[java.io.File],List[List[java.io.File]]])List[List[java.io.File]]">map</a> <span class="delimiter">(</span><a title="Int" id="scala.tools.partest.nest;Runner.groupedFiles.$anonfun.k">k</a> =&gt; <a href="../../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: Int)List[java.io.File]">grouped</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.groupedFiles.$anonfun.k" title="Int">k</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.sortBy" title="(f: java.io.File =&gt; String)(implicit ord: scala.math.Ordering[String])List[java.io.File]">sortBy</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.groupedFiles.$anonfun.$anonfun.x$16" title="java.io.File">_</a>.<span title="()String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: List[java.io.File]*)List[List[java.io.File]]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.groupedFiles.sources" title="List[java.io.File]">sources</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="comment">/** Source files for the given test file. */</span>
  def <a title="(file: java.io.File)List[java.io.File]" id="scala.tools.partest.nest;Runner.sources">sources</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;Runner.sources.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <span class="delimiter">(</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.sources.file" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.sources.file" title="java.io.File">file</a>.<a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">listFiles</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[java.io.File]">toList</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: java.io.File =&gt; Boolean)List[java.io.File]">filter</a> <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">_</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.isJavaOrScala" title="=&gt; Boolean">isJavaOrScala</a><span class="delimiter">)</span>
    else
      <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: java.io.File*)List[java.io.File]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.sources.file" title="java.io.File">file</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  def <a title="=&gt; scala.tools.partest.nest.DirectCompiler" id="scala.tools.partest.nest;Runner.newCompiler">newCompiler</a> = new <a href="DirectCompiler.scala.html#scala.tools.partest.nest;DirectCompiler" title="scala.tools.partest.nest.DirectCompiler">DirectCompiler</a><span class="delimiter">(</span>this<span class="delimiter">)</span>

  def <a title="(sources: List[java.io.File])scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner.attemptCompile">attemptCompile</a><span class="delimiter">(</span><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner.attemptCompile.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = <span class="delimiter">{</span>
    val <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner.attemptCompile.state">state</a> = <a href="#scala.tools.partest.nest;Runner.newCompiler" title="=&gt; scala.tools.partest.nest.DirectCompiler">newCompiler</a>.<a href="DirectCompiler.scala.html#scala.tools.partest.nest;DirectCompiler.compile" title="(opts0: List[String], sources: List[scala.tools.partest.File])scala.tools.partest.TestState">compile</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.flagsForCompilation" title="(sources: List[java.io.File])List[String]">flagsForCompilation</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.attemptCompile.sources" title="List[java.io.File]">sources</a><span class="delimiter">)</span>, <a href="#scala.tools.partest.nest;Runner.attemptCompile.sources" title="List[java.io.File]">sources</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.attemptCompile.state" title="scala.tools.partest.TestState">state</a>.<a href="../TestState.scala.html#scala.tools.partest;TestState.isOk" title="=&gt; Boolean">isOk</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a> <a href="#scala.tools.partest.nest;TestTranscript.append" title="(text: String)Unit">append</a> <span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../package.scala.html#scala.tools.partest.package.file2String" title="(f: scala.tools.partest.File)String">file2String</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#scala.tools.partest.nest;Runner.attemptCompile.state" title="scala.tools.partest.TestState">state</a>
  <span class="delimiter">}</span>

  <span class="comment">// snort or scarf all the contributing flags files</span>
  def <a title="(sources: List[java.io.File])List[String]" id="scala.tools.partest.nest;Runner.flagsForCompilation">flagsForCompilation</a><span class="delimiter">(</span><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner.flagsForCompilation.sources">sources</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    def <a title="(s: String)List[String]" id="scala.tools.partest.nest;Runner.flagsForCompilation.argsplitter">argsplitter</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.flagsForCompilation.argsplitter.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../package.scala.html#scala.tools.partest.package.words" title="(s: String)List[String]">words</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.flagsForCompilation.argsplitter.s" title="String">s</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: String =&gt; Boolean)List[String]">filter</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
    val <a title="List[String]" id="scala.tools.partest.nest;Runner.flagsForCompilation.perTest">perTest</a>  = <a href="#scala.tools.partest.nest;Runner.flagsForCompilation.argsplitter" title="(s: String)List[String]">argsplitter</a><span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">flagsFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.fileContents" title="=&gt; String">fileContents</a><span class="delimiter">)</span>
    val <a title="List[String]" id="scala.tools.partest.nest;Runner.flagsForCompilation.perGroup">perGroup</a> = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.tools.partest.nest;Runner.flagsForCompilation.sources" title="List[java.io.File]">sources</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.flatMap" title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],String,List[String]])List[String]">flatMap</a> <span class="delimiter">{</span> <a title="java.io.File" id="scala.tools.partest.nest;Runner.flagsForCompilation.perGroup.$anonfun.f">f</a> =&gt; <a href="../../../reflect/io/File.scala.html#scala.reflect.io.File.apply" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">SFile</a><a href="../package.scala.html#scala.tools.partest.package.codec" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(2128a15a87)" title="(jfile: java.io.File)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.flagsForCompilation.perGroup.$anonfun.f" title="java.io.File">f</a><span class="delimiter">)</span> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.changeExtension" title="(ext: String)scala.reflect.io.Path">changeExtension</a> <span title="String(&quot;flags&quot;)" class="string">&quot;flags&quot;</span><span class="delimiter">)</span>.<a href="../../../reflect/io/File.scala.html#scala.reflect.io;File.safeSlurp" title="()Option[String]">safeSlurp</a> <a href="../../../Option.scala.html#scala;Option.map" title="(f: String =&gt; List[String])Option[List[String]]">map</a> <a href="#scala.tools.partest.nest;Runner.flagsForCompilation.argsplitter" title="(s: String)List[String]">argsplitter</a> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; List[String])List[String]">getOrElse</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span> else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
    <a href="#scala.tools.partest.nest;Runner.flagsForCompilation.perTest" title="List[String]">perTest</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.++" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="#scala.tools.partest.nest;Runner.flagsForCompilation.perGroup" title="List[String]">perGroup</a>
  <span class="delimiter">}</span>

  def <a title="(tool: String, split: Boolean)List[String]" id="scala.tools.partest.nest;Runner.toolArgs">toolArgs</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.toolArgs.tool">tool</a>: <span title="String">String</span>, <a title="Boolean" id="scala.tools.partest.nest;Runner.toolArgs$default$2">split</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    def <a title="(s: String)List[String]" id="scala.tools.partest.nest;Runner.toolArgs.argsplitter">argsplitter</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.toolArgs.argsplitter.s">s</a>: <span title="String">String</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.toolArgs$default$2" title="Boolean">split</a><span class="delimiter">)</span> <a href="../package.scala.html#scala.tools.partest.package.words" title="(s: String)List[String]">words</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.toolArgs.argsplitter.s" title="String">s</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: String =&gt; Boolean)List[String]">filter</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">_</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.toolArgs.argsplitter.s" title="String">s</a><span class="delimiter">)</span>
    def <a title="(f: java.io.File)List[String]" id="scala.tools.partest.nest;Runner.toolArgs.argsFor">argsFor</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.f">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
      import scala.util.matching.Regex
      val <a title="scala.util.matching.Regex" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.p">p</a>    = new <a href="../../../util/matching/Regex.scala.html#scala.util.matching;Regex" title="scala.util.matching.Regex">Regex</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;(?:.*\\\\s)?&quot;)">(?:.*\\s)?$</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;Runner.toolArgs.tool" title="String">tool</a><span class="delimiter">}</span><span title="String(&quot;:(?:\\\\s*)(.*)?&quot;)" class="string">:(?:\\s*)(.*)?&quot;</span>, <span title="String(&quot;args&quot;)" class="string">&quot;args&quot;</span><span class="delimiter">)</span>
      val <a title="Int" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.max">max</a>  = <span title="Int(10)" class="int">10</span>
      val <a title="scala.io.BufferedSource" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.src">src</a>  = <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(2128a15a87)" title="(jfile: java.io.File)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.f" title="java.io.File">f</a><span class="delimiter">)</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toFile" title="=&gt; scala.reflect.io.File">toFile</a>.<a href="../../../reflect/io/Streamable.scala.html#scala.reflect.io.Streamable;Chars.chars" title="(codec: scala.io.Codec)scala.io.BufferedSource">chars</a><span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.codec" title="=&gt; scala.io.Codec">codec</a><span class="delimiter">)</span>
      val <a title="Option[Option[String]]" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.args">args</a> = try <span class="delimiter">{</span>
        <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.src" title="scala.io.BufferedSource">src</a>.<a href="../../../io/BufferedSource.scala.html#scala.io;BufferedSource.getLines" title="()Iterator[String]">getLines</a> <a href="../../../collection/Iterator.scala.html#scala.collection;Iterator.take" title="(n: Int)Iterator[String]">take</a> <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.max" title="Int">max</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.collectFirst" title="(pf: PartialFunction[String,Option[String]])Option[Option[String]]">collectFirst</a> <a title="&lt;$anon: String =&gt; Option[String]&gt; extends scala.runtime.AbstractPartialFunction[String,Option[String]] with Serializable" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.args;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
          case <a title="String" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.args;$anonfun.isDefinedAt.s">s</a> if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.p" title="scala.util.matching.Regex">p</a> <a href="../../../util/matching/Regex.scala.html#scala.util.matching;Regex.findFirstIn" title="(source: CharSequence)Option[String]">findFirstIn</a> <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.args;$anonfun.isDefinedAt.s" title="String">s</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#scala;Option.nonEmpty" title="=&gt; Boolean">nonEmpty</a> =&gt; for <span class="delimiter">(</span><a title="scala.util.matching.Regex.Match" id="scala.tools.partest.nest;Runner.toolArgs.argsFor.args;$anonfun.applyOrElse.$anonfun.m">m</a> &lt;- <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.p" title="scala.util.matching.Regex">p</a> <a href="../../../Option.scala.html#scala;Option.map" title="(f: scala.util.matching.Regex.Match =&gt; String)Option[String]">findFirstMatchIn</a> <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.args;$anonfun.isDefinedAt.s" title="String">s</a><span class="delimiter">)</span> yield <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.args;$anonfun.applyOrElse.$anonfun.m" title="scala.util.matching.Regex.Match">m</a> <a href="../../../util/matching/Regex.scala.html#scala.util.matching.Regex;MatchData.group(45cb3974a8)" title="(id: String)String">group</a> <span title="String(&quot;args&quot;)" class="string">&quot;args&quot;</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> finally <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.src" title="scala.io.BufferedSource">src</a>.<a href="../../../io/Source.scala.html#scala.io;Source.close" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor.args" title="Option[Option[String]]">args</a>.<a href="../../../Option.scala.html#scala;Option.flatten" title="(implicit ev: &lt;:&lt;[Option[String],Option[String]])Option[String]">flatten</a> <a href="../../../Option.scala.html#scala;Option.map" title="(f: String =&gt; List[String])Option[List[String]]">map</a> <a href="#scala.tools.partest.nest;Runner.toolArgs.argsplitter" title="(s: String)List[String]">argsplitter</a> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; List[String])List[String]">getOrElse</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
    <span class="delimiter">}</span>
    <a href="#scala.tools.partest.nest;Runner.sources" title="(file: java.io.File)List[java.io.File]">sources</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.flatMap" title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],String,List[String]])List[String]">flatMap</a> <a href="#scala.tools.partest.nest;Runner.toolArgs.argsFor" title="(f: java.io.File)List[String]">argsFor</a>
  <span class="delimiter">}</span>

  abstract class <a title="class CompileRound extends AnyRef" id="scala.tools.partest.nest;Runner;CompileRound">CompileRound</a> <a href="#scala.tools.partest.nest;Runner;CompileRound" title="Runner.this.CompileRound" class="delimiter">{</a>
    def <a title="=&gt; List[java.io.File]" id="scala.tools.partest.nest;Runner;CompileRound.fs">fs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span>
    def <a title="=&gt; scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner;CompileRound.result">result</a>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a>
    def <a title="=&gt; String" id="scala.tools.partest.nest;Runner;CompileRound.description">description</a>: <span title="String">String</span>

    def <a title="=&gt; String" id="scala.tools.partest.nest;Runner;CompileRound.fsString">fsString</a> = <a href="#scala.tools.partest.nest;Runner;CompileRound.fs" title="=&gt; List[java.io.File]">fs</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: java.io.File =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;CompileRound.fsString.$anonfun.x$20" title="java.io.File">_</a>.<a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">toString</a> <a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripPrefix" title="(prefix: String)String">stripPrefix</a> <a href="#scala.tools.partest.nest;Runner.parentFile" title="=&gt; java.io.File">parentFile</a>.<span title="()String">toString</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
    def <a title="=&gt; Boolean" id="scala.tools.partest.nest;Runner;CompileRound.isOk">isOk</a> = <a href="#scala.tools.partest.nest;Runner;CompileRound.result" title="=&gt; scala.tools.partest.TestState">result</a>.<a href="../TestState.scala.html#scala.tools.partest;TestState.isOk" title="=&gt; Boolean">isOk</a>
    def <a title="()String" id="scala.tools.partest.nest;Runner;CompileRound.mkScalacString">mkScalacString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;&quot;&quot;<span title="String(&quot;scalac &quot;)">scalac $</span><a href="#scala.tools.partest.nest;Runner;CompileRound.fsString" title="=&gt; String">fsString</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;&quot;</span>
    override def <a title="()String" id="scala.tools.partest.nest;Runner;CompileRound.toString">toString</a> = <a href="#scala.tools.partest.nest;Runner;CompileRound.description" title="=&gt; String">description</a> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span> if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;CompileRound.result" title="=&gt; scala.tools.partest.TestState">result</a>.<a href="../TestState.scala.html#scala.tools.partest;TestState.isOk" title="=&gt; Boolean">isOk</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner;CompileRound.result" title="=&gt; scala.tools.partest.TestState">result</a>.<a href="../TestState.scala.html#scala.tools.partest;TestState.status" title="=&gt; String">status</a> <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  case class <a title="class OnlyJava extends Runner.this.CompileRound with Product with Serializable" id="scala.tools.partest.nest;Runner.OnlyJava.readResolve">OnlyJava</a><a href="../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner;OnlyJava.fs">fs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scala.tools.partest.nest;Runner;CompileRound" title="Runner.this.CompileRound">CompileRound</a> <span class="delimiter">{</span>
    def <a title="=&gt; String" id="scala.tools.partest.nest;Runner;OnlyJava.description">description</a> = <a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;&quot;&quot;<span title="String(&quot;javac &quot;)">javac $</span><a href="#scala.tools.partest.nest;Runner;CompileRound.fsString" title="=&gt; String">fsString</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;&quot;</span>
    lazy val <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner;OnlyJava.result">result</a> = <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;OnlyJava.description" title="=&gt; String">description</a><span class="delimiter">)</span> ; <a href="#scala.tools.partest.nest;Runner.javac" title="(files: List[java.io.File])scala.tools.partest.TestState">javac</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;OnlyJava.fs" title="=&gt; List[java.io.File]">fs</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  case class <a title="class OnlyScala extends Runner.this.CompileRound with Product with Serializable" id="scala.tools.partest.nest;Runner.OnlyScala.readResolve">OnlyScala</a><a href="../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner;OnlyScala.fs">fs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scala.tools.partest.nest;Runner;CompileRound" title="Runner.this.CompileRound">CompileRound</a> <span class="delimiter">{</span>
    def <a title="=&gt; String" id="scala.tools.partest.nest;Runner;OnlyScala.description">description</a> = <a href="#scala.tools.partest.nest;Runner;CompileRound.mkScalacString" title="()String">mkScalacString</a><span class="delimiter">(</span><span class="delimiter">)</span>
    lazy val <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner;OnlyScala.result">result</a> = <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;OnlyScala.description" title="=&gt; String">description</a><span class="delimiter">)</span> ; <a href="#scala.tools.partest.nest;Runner.attemptCompile" title="(sources: List[java.io.File])scala.tools.partest.TestState">attemptCompile</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;OnlyScala.fs" title="=&gt; List[java.io.File]">fs</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  case class <a title="class ScalaAndJava extends Runner.this.CompileRound with Product with Serializable" id="scala.tools.partest.nest;Runner.ScalaAndJava.readResolve">ScalaAndJava</a><a href="../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner;ScalaAndJava.fs">fs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scala.tools.partest.nest;Runner;CompileRound" title="Runner.this.CompileRound">CompileRound</a> <span class="delimiter">{</span>
    def <a title="=&gt; String" id="scala.tools.partest.nest;Runner;ScalaAndJava.description">description</a> = <a href="#scala.tools.partest.nest;Runner;CompileRound.mkScalacString" title="()String">mkScalacString</a><span class="delimiter">(</span><span class="delimiter">)</span>
    lazy val <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner;ScalaAndJava.result">result</a> = <span class="delimiter">{</span> <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;ScalaAndJava.description" title="=&gt; String">description</a><span class="delimiter">)</span> ; <a href="#scala.tools.partest.nest;Runner.attemptCompile" title="(sources: List[java.io.File])scala.tools.partest.TestState">attemptCompile</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner;ScalaAndJava.fs" title="=&gt; List[java.io.File]">fs</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(file: java.io.File)List[Runner.this.CompileRound]" id="scala.tools.partest.nest;Runner.compilationRounds">compilationRounds</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;Runner.compilationRounds.file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Runner.this.CompileRound]">List</a><span class="delimiter">[</span>CompileRound<span class="delimiter">]</span> = <span class="delimiter">(</span>
    <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.groupedFiles" title="(sources: List[java.io.File])List[List[java.io.File]]">groupedFiles</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.sources" title="(file: java.io.File)List[java.io.File]">sources</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.compilationRounds.file" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: List[java.io.File] =&gt; List[Runner.this.CompileRound])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[java.io.File]],List[Runner.this.CompileRound],List[List[Runner.this.CompileRound]]])List[List[Runner.this.CompileRound]]">map</a> <a href="#scala.tools.partest.nest;Runner.mixedCompileGroup" title="(allFiles: List[java.io.File])List[Runner.this.CompileRound]">mixedCompileGroup</a><span class="delimiter">)</span>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#scala.collection.generic;GenericTraversableTemplate.flatten" title="(implicit asTraversable: List[Runner.this.CompileRound] =&gt; scala.collection.GenTraversableOnce[Runner.this.CompileRound])List[Runner.this.CompileRound]">flatten</a>
  <span class="delimiter">)</span>
  def <a title="(allFiles: List[java.io.File])List[Runner.this.CompileRound]" id="scala.tools.partest.nest;Runner.mixedCompileGroup">mixedCompileGroup</a><span class="delimiter">(</span><a title="List[java.io.File]" id="scala.tools.partest.nest;Runner.mixedCompileGroup.allFiles">allFiles</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Runner.this.CompileRound]">List</a><span class="delimiter">[</span>CompileRound<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: List[java.io.File], _2: List[java.io.File])(List[java.io.File], List[java.io.File])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="List[java.io.File]" id="scala.tools.partest.nest;Runner.mixedCompileGroup.scalaFiles">scalaFiles</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="List[java.io.File]" id="scala.tools.partest.nest;Runner.mixedCompileGroup.javaFiles">javaFiles</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.allFiles" title="List[java.io.File]">allFiles</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.partition" title="(List[java.io.File], List[java.io.File])">partition</a> <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">_</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.isScala" title="=&gt; Boolean">isScala</a><span class="delimiter">)</span>
    val isMixed                 = <a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.javaFiles" title="List[java.io.File]">javaFiles</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.partest.nest;Runner.mixedCompileGroup.isMixed">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.scalaFiles" title="List[java.io.File]">scalaFiles</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.nonEmpty" title="=&gt; Boolean">nonEmpty</a>
    val <a title="Option[Runner.this.ScalaAndJava]" id="scala.tools.partest.nest;Runner.mixedCompileGroup.round1">round1</a>                  = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.scalaFiles" title="List[java.io.File]">scalaFiles</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> else <a href="../../../Option.scala.html#scala;Some" title="(x: Runner.this.ScalaAndJava)Some[Runner.this.ScalaAndJava]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.ScalaAndJava.readResolve" title="(fs: List[java.io.File])Runner.this.ScalaAndJava">ScalaAndJava</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.allFiles" title="List[java.io.File]">allFiles</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="Option[Runner.this.OnlyJava]" id="scala.tools.partest.nest;Runner.mixedCompileGroup.round2">round2</a>                  = if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.javaFiles" title="List[java.io.File]">javaFiles</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> else <a href="../../../Option.scala.html#scala;Some" title="(x: Runner.this.OnlyJava)Some[Runner.this.OnlyJava]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.OnlyJava.readResolve" title="(fs: List[java.io.File])Runner.this.OnlyJava">OnlyJava</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.javaFiles" title="List[java.io.File]">javaFiles</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="Option[Runner.this.OnlyScala]" id="scala.tools.partest.nest;Runner.mixedCompileGroup.round3">round3</a>                  = if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.isMixed" title="Boolean">isMixed</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala.None" title="None.type">None</a> else <a href="../../../Option.scala.html#scala;Some" title="(x: Runner.this.OnlyScala)Some[Runner.this.OnlyScala]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.OnlyScala.readResolve" title="(fs: List[java.io.File])Runner.this.OnlyScala">OnlyScala</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.scalaFiles" title="List[java.io.File]">scalaFiles</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Option[Product with Serializable with Runner.this.CompileRound]*)List[Option[Product with Serializable with Runner.this.CompileRound]]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.round1" title="Option[Runner.this.ScalaAndJava]">round1</a>, <a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.round2" title="Option[Runner.this.OnlyJava]">round2</a>, <a href="#scala.tools.partest.nest;Runner.mixedCompileGroup.round3" title="Option[Runner.this.OnlyScala]">round3</a><span class="delimiter">)</span>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#scala.collection.generic;GenericTraversableTemplate.flatten" title="(implicit asTraversable: Option[Product with Serializable with Runner.this.CompileRound] =&gt; scala.collection.GenTraversableOnce[Runner.this.CompileRound])List[Runner.this.CompileRound]">flatten</a>
  <span class="delimiter">}</span>

  def <a title="()(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runNegTest">runNegTest</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.runInContext" title="(body: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)">runInContext</a> <span class="delimiter">{</span>
    val <a title="List[Runner.this.CompileRound]" id="scala.tools.partest.nest;Runner.runNegTest.rounds">rounds</a> = <a href="#scala.tools.partest.nest;Runner.compilationRounds" title="(file: java.io.File)List[Runner.this.CompileRound]">compilationRounds</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span>

    <span class="comment">// failing means Does Not Compile</span>
    val failing = <a href="#scala.tools.partest.nest;Runner.runNegTest.rounds" title="List[Runner.this.CompileRound]">rounds</a> <a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.find" title="Option[Runner.this.CompileRound]" id="scala.tools.partest.nest;Runner.runNegTest.failing">find</a> <span class="delimiter">(</span><a title="Runner.this.CompileRound" id="scala.tools.partest.nest;Runner.runNegTest.failing.$anonfun.x">x</a> =&gt; <a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue" title="(reason: String, body: =&gt; Boolean)Boolean">nextTestActionExpectTrue</a><span class="delimiter">(</span><span title="String(&quot;compilation failed&quot;)" class="string">&quot;compilation failed&quot;</span>, <a href="#scala.tools.partest.nest;Runner.runNegTest.failing.$anonfun.x" title="Runner.this.CompileRound">x</a>.<a href="#scala.tools.partest.nest;Runner;CompileRound.isOk" title="=&gt; Boolean">isOk</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.==(763c96e1b1)" title="(x: Boolean)Boolean">==</a> false<span class="delimiter">)</span>

    <span class="comment">// which means passing if it checks and didn't crash the compiler</span>
    <span class="comment">// or, OK, we'll let you crash the compiler with a FatalError if you supply a check file</span>
    def <a title="(r: Runner.this.CompileRound)Boolean" id="scala.tools.partest.nest;Runner.runNegTest.checked">checked</a><span class="delimiter">(</span><a title="Runner.this.CompileRound" id="scala.tools.partest.nest;Runner.runNegTest.checked.r">r</a>: <a href="#scala.tools.partest.nest;Runner;CompileRound" title="Runner.this.CompileRound">CompileRound</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.runNegTest.checked.r" title="Runner.this.CompileRound">r</a>.<a href="#scala.tools.partest.nest;Runner;CompileRound.result" title="=&gt; scala.tools.partest.TestState">result</a> match <span class="delimiter">{</span>
      case Crash<span class="delimiter">(</span>_, <a title="Throwable" id="scala.tools.partest.nest;Runner.runNegTest.checked.t">t</a>, _<span class="delimiter">)</span> if <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.checkFile" title="=&gt; scala.tools.partest.File">checkFile</a>.<span title="()Boolean">canRead</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.runNegTest.checked.t" title="Throwable">t</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/FatalError.scala.html#scala.reflect.internal;FatalError" title="scala.reflect.internal.FatalError">FatalError</a><span class="delimiter">]</span> =&gt; false
      case _ =&gt; <a href="#scala.tools.partest.nest;Runner.diffIsOk" title="=&gt; Boolean">diffIsOk</a>
    <span class="delimiter">}</span>

    <a href="#scala.tools.partest.nest;Runner.runNegTest.failing" title="Option[Runner.this.CompileRound]">failing</a> <a href="../../../Option.scala.html#scala;Option.map" title="(f: Runner.this.CompileRound =&gt; Boolean)Option[Boolean]">map</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runNegTest.checked" title="(r: Runner.this.CompileRound)Boolean">checked</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Boolean)Boolean">getOrElse</a> <a href="#scala.tools.partest.nest;Runner.nextTestActionFailing" title="(reason: String)Boolean">nextTestActionFailing</a><span class="delimiter">(</span><span title="String(&quot;expected compilation failure&quot;)" class="string">&quot;expected compilation failure&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(andAlso: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runTestCommon">runTestCommon</a><span class="delimiter">(</span><a title="=&gt; Boolean" id="scala.tools.partest.nest;Runner.runTestCommon.andAlso">andAlso</a>: =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a>Boolean, LogContext<span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.runInContext" title="(body: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)">runInContext</a> <span class="delimiter">{</span>
    <a href="#scala.tools.partest.nest;Runner.compilationRounds" title="(file: java.io.File)List[Runner.this.CompileRound]">compilationRounds</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.forall" title="(p: Runner.this.CompileRound =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a title="Runner.this.CompileRound" id="scala.tools.partest.nest;Runner.runTestCommon.$anonfun.x">x</a> =&gt; <a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue" title="(reason: String, body: =&gt; Boolean)Boolean">nextTestActionExpectTrue</a><span class="delimiter">(</span><span title="String(&quot;compilation failed&quot;)" class="string">&quot;compilation failed&quot;</span>, <a href="#scala.tools.partest.nest;Runner.runTestCommon.$anonfun.x" title="Runner.this.CompileRound">x</a>.<a href="#scala.tools.partest.nest;Runner;CompileRound.isOk" title="=&gt; Boolean">isOk</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.runTestCommon.andAlso" title="=&gt; Boolean">andAlso</a>
  <span class="delimiter">}</span>

  <span class="comment">// Apache Ant 1.6 or newer</span>
  def <a title="(args: Seq[String], output: java.io.File)Boolean" id="scala.tools.partest.nest;Runner.ant">ant</a><span class="delimiter">(</span><a title="Seq[String]" id="scala.tools.partest.nest;Runner.ant.args">args</a>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="java.io.File" id="scala.tools.partest.nest;Runner.ant.output">output</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="scala.reflect.io.Directory" id="scala.tools.partest.nest;Runner.ant.antDir">antDir</a> = <a href="../../../reflect/io/Directory.scala.html#scala.reflect.io.Directory.apply" title="(path: scala.reflect.io.Path)scala.reflect.io.Directory">Directory</a><span class="delimiter">(</span><a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.envOrElse" title="(name: String, alt: String)String">envOrElse</a><a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path" class="delimiter">(</a><span title="String(&quot;ANT_HOME&quot;)" class="string">&quot;ANT_HOME&quot;</span>, <span title="String(&quot;/opt/ant/&quot;)" class="string">&quot;/opt/ant/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="scala.reflect.io.Directory" id="scala.tools.partest.nest;Runner.ant.antLibDir">antLibDir</a> = <a href="../../../reflect/io/Directory.scala.html#scala.reflect.io.Directory.apply" title="(path: scala.reflect.io.Path)scala.reflect.io.Directory">Directory</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.ant.antDir" title="scala.reflect.io.Directory">antDir</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path" class="string">&quot;lib&quot;</a><span class="delimiter">)</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.ant.antLauncherPath">antLauncherPath</a> = <a href="../../../reflect/io/File.scala.html#scala.reflect.io.File.apply" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">SFile</a><a href="../package.scala.html#scala.tools.partest.package.codec" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.ant.antLibDir" title="scala.reflect.io.Directory">antLibDir</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path./(4a8983e5f7)" title="(child: scala.reflect.io.Path)scala.reflect.io.Path">/</a> <a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.string2path" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path" class="string">&quot;ant-launcher.jar&quot;</a><span class="delimiter">)</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.path" title="=&gt; String">path</a>
    val <a title="List[String]" id="scala.tools.partest.nest;Runner.ant.antOptions">antOptions</a> =
      if <span class="delimiter">(</span><a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI._verbose" title="=&gt; Boolean">_verbose</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><span title="String(&quot;-verbose&quot;)" class="string">&quot;-verbose&quot;</span>, <span title="String(&quot;-noinput&quot;)" class="string">&quot;-noinput&quot;</span><span class="delimiter">)</span>
      else <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><span title="String(&quot;-noinput&quot;)" class="string">&quot;-noinput&quot;</span><span class="delimiter">)</span>
    val cmd = <a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$5" title="=&gt; String">javaCmdPath</a> <a href="../../../collection/mutable/ArrayOps.scala.html#scala.collection.mutable;ArrayOps.+:(a7c0987ae0)" title="Array[String]" id="scala.tools.partest.nest;Runner.ant.cmd">+:</a> <span class="delimiter">(</span>
      <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">javaOpts</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],String,Array[String]])Array[String]">map</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.ant.cmd.$anonfun.x$23" title="String">_</a>.<span title="()String">trim</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: String =&gt; Boolean)Array[String]">filter</a><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.ant.cmd.$anonfun.x$24" title="String">_</a> <span title="(x$1: Any)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">++</a> <a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: String*)Seq[String]">Seq</a><span class="delimiter">(</span>
        <span title="String(&quot;-classpath&quot;)" class="string">&quot;-classpath&quot;</span>,
        <a href="#scala.tools.partest.nest;Runner.ant.antLauncherPath" title="String">antLauncherPath</a>,
        <span title="String(&quot;org.apache.tools.ant.launch.Launcher&quot;)" class="string">&quot;org.apache.tools.ant.launch.Launcher&quot;</span>
      <span class="delimiter">)</span> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">++</a> <a href="#scala.tools.partest.nest;Runner.ant.antOptions" title="List[String]">antOptions</a> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">++</a> <a href="#scala.tools.partest.nest;Runner.ant.args" title="Seq[String]">args</a>
    <span class="delimiter">)</span>

    <a href="#scala.tools.partest.nest;Runner.runCommand" title="(args: Seq[String], outFile: java.io.File)Boolean">runCommand</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala;LowPriorityImplicits.wrapRefArray" title="(xs: Array[String])scala.collection.mutable.WrappedArray[String]">cmd</a>, <a href="#scala.tools.partest.nest;Runner.ant.output" title="java.io.File">output</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runAntTest">runAntTest</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a>Boolean, LogContext<span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="java.io.StringWriter" id="scala.tools.partest.nest;Runner.runAntTest.swr">swr</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="java.io.PrintWriter" id="scala.tools.partest.nest;Runner.runAntTest.wr">wr</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.newTestWriters" title="()(java.io.StringWriter, java.io.PrintWriter)">newTestWriters</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>

    val <a title="Boolean" id="scala.tools.partest.nest;Runner.runAntTest.succeeded">succeeded</a> = try <span class="delimiter">{</span>
      val binary = <span title="String(&quot;-Dbinary=&quot;)" class="string">&quot;-Dbinary=&quot;</span><a title="String" id="scala.tools.partest.nest;Runner.runAntTest.succeeded.binary">+</a> <a href="#scala.tools.partest.nest;Runner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.distKind" title="=&gt; String">distKind</a>
      val <a title="Array[String]" id="scala.tools.partest.nest;Runner.runAntTest.succeeded.args">args</a> = <a href="../../../Array.scala.html#scala.Array.apply(f425c59989)" title="(xs: String*)(implicit evidence$2: scala.reflect.ClassTag[String])Array[String]">Array</a><a href="../../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(runtimeClass1: Class[_])scala.reflect.ClassTag[String]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.runAntTest.succeeded.binary" title="String">binary</a>, <span title="String(&quot;-logfile&quot;)" class="string">&quot;-logfile&quot;</span>, <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()String">getPath</span>, <span title="String(&quot;-file&quot;)" class="string">&quot;-file&quot;</span>, <a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()String">getPath</span><span class="delimiter">)</span>
      <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a><span class="delimiter">(</span><span title="String(&quot;ant &quot;)" class="string">&quot;ant &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;ant &quot;)">ant $</span><span class="delimiter">{</span><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue" title="(reason: String, body: =&gt; Boolean)Boolean">nextTestActionExpectTrue</a><span class="delimiter">(</span><span title="String(&quot;ant failed&quot;)" class="string">&quot;ant failed&quot;</span>, <a href="#scala.tools.partest.nest;Runner.ant" title="(args: Seq[String], output: java.io.File)Boolean">ant</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala;LowPriorityImplicits.wrapRefArray" title="(xs: Array[String])scala.collection.mutable.WrappedArray[String]">args</a>, <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.diffIsOk" title="=&gt; Boolean">diffIsOk</a>
    <span class="delimiter">}</span>
    catch <span class="delimiter">{</span> <span class="comment">// *catch-all*</span>
      case <a title="Exception" id="scala.tools.partest.nest;Runner.runAntTest.succeeded.e">e</a>: <span title="Exception">Exception</span> =&gt;
        <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.warning" title="(msg: String)Unit">warning</a><span class="delimiter">(</span><span title="String(&quot;caught &quot;)" class="string">&quot;caught &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.runAntTest.succeeded.e" title="Exception">e</a><span class="delimiter">)</span>
        false
    <span class="delimiter">}</span>

    <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: scala.tools.partest.nest.LogContext)(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.runAntTest.succeeded" title="Boolean">succeeded</a>, <a href="#scala.tools.partest.nest.LogContext.apply(2558696446)" title="(file: java.io.File, swr: java.io.StringWriter, wr: java.io.PrintWriter)scala.tools.partest.nest.LogContext">LogContext</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>, <a href="#scala.tools.partest.nest;Runner.runAntTest.swr" title="java.io.StringWriter">swr</a>, <a href="#scala.tools.partest.nest;Runner.runAntTest.wr" title="java.io.PrintWriter">wr</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; List[tools.nsc.io.File]" id="scala.tools.partest.nest;Runner.extraClasspath">extraClasspath</a> = <a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> match <span class="delimiter">{</span>
    case <span title="String(&quot;specialized&quot;)" class="string">&quot;specialized&quot;</span>  =&gt; <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: tools.nsc.io.File*)List[tools.nsc.io.File]">List</a><span class="delimiter">(</span><a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.srcSpecLib" title="=&gt; Either[String,tools.nsc.io.File]">srcSpecLib</a>.<a href="../../../util/Either.scala.html#scala.util;Either.fold" title="(fa: String =&gt; tools.nsc.io.File, fb: tools.nsc.io.File =&gt; tools.nsc.io.File)tools.nsc.io.File">fold</a><span class="delimiter">(</span>sys.<a href="../../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a>, <a href="../../../Predef.scala.html#scala.Predef.identity" title="(x: tools.nsc.io.File)tools.nsc.io.File">identity</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case _              =&gt; <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">}</span>
  def <a title="=&gt; Array[String]" id="scala.tools.partest.nest;Runner.extraJavaOptions">extraJavaOptions</a> = <a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> match <span class="delimiter">{</span>
    case <span title="String(&quot;instrumented&quot;)" class="string">&quot;instrumented&quot;</span> =&gt; <span class="delimiter">(</span><span title="String(&quot;-javaagent:&quot;)" class="string">&quot;-javaagent:&quot;</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</a><a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.agentLib" title="=&gt; Either[String,tools.nsc.io.File]">agentLib</a>.<a href="../../../util/Either.scala.html#scala.util;Either.fold" title="(fa: String =&gt; tools.nsc.io.File, fb: tools.nsc.io.File =&gt; tools.nsc.io.File)tools.nsc.io.File">fold</a><span class="delimiter">(</span>sys.<a href="../../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a>, <a href="../../../Predef.scala.html#scala.Predef.identity" title="(x: tools.nsc.io.File)tools.nsc.io.File">identity</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><span class="delimiter">(</span><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span>
    case _              =&gt; <a href="../../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../../Array.scala.html#scala.Array.empty" title="[T](implicit evidence$1: scala.reflect.ClassTag[T])Array[T]">empty</a><a href="../../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]" class="delimiter">[</a><span title="String">String</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  def <a title="()(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runScalacheckTest">runScalacheckTest</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.runTestCommon" title="(andAlso: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)">runTestCommon</a> <span class="delimiter">{</span>
    <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a> <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a> <a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">f</a>&quot;compilation of $<a href="#scala.tools.partest.nest;Runner.testFile" title="Any" id="scala.tools.partest.nest;Runner.runScalacheckTest.arg$macro$70">testFile</a><span class="string"> succeeded%n&quot;</span>

    val <a title="java.io.PrintStream" id="scala.tools.partest.nest;Runner.runScalacheckTest.logWriter">logWriter</a> = new <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span>new <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span>, true<span class="delimiter">)</span>

    def <a title="()Boolean" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework">runInFramework</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      import org.scalatools.testing._
      <span class="comment">// getClass.getClassLoader.instantiate[Framework](&quot;org.scalacheck.ScalaCheckFramework&quot;)</span>
      val <a title="org.scalatools.testing.Framework" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.f">f</a>: <span title="org.scalatools.testing.Framework">Framework</span> = new org.scalacheck.<span title="org.scalacheck.ScalaCheckFramework">ScalaCheckFramework</span>
      val <a title="&lt;refinement of org.scalatools.testing.Logger&gt; extends Object with org.scalatools.testing.Logger" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger">logger</a> = new <a title="&lt;$anon: org.scalatools.testing.Logger&gt; extends Object with org.scalatools.testing.Logger" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon">Logger</a> <span class="delimiter">{</span>
        def <a title="()Boolean" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.ansiCodesSupported">ansiCodesSupported</a>  = false <span class="comment">//params.env.isSet(&quot;colors&quot;)</span>
        def <a title="(msg: String)Unit" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.error">error</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.error.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.logWriter" title="java.io.PrintStream">logWriter</a> <span title="(x$1: String)Unit">println</span> <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.error.msg" title="String">msg</a>
        def <a title="(msg: String)Unit" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.warn">warn</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.warn.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>   = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.logWriter" title="java.io.PrintStream">logWriter</a> <span title="(x$1: String)Unit">println</span> <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.warn.msg" title="String">msg</a>
        def <a title="(msg: String)Unit" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.info">info</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.info.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>   = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.logWriter" title="java.io.PrintStream">logWriter</a> <span title="(x$1: String)Unit">println</span> <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.info.msg" title="String">msg</a>
        def <a title="(msg: String)Unit" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.debug">debug</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.debug.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.logWriter" title="java.io.PrintStream">logWriter</a> <span title="(x$1: String)Unit">println</span> <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.debug.msg" title="String">msg</a>
        def <a title="(t: Throwable)Unit" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.trace">trace</a><span class="delimiter">(</span><a title="Throwable" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.trace.t">t</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger;$anon.trace.t" title="Throwable">t</a> <span title="(x$1: java.io.PrintStream)Unit">printStackTrace</span> <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.logWriter" title="java.io.PrintStream">logWriter</a>
      <span class="delimiter">}</span>
      var <a title="Int" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.bad">bad</a> = <span title="Int(0)" class="int">0</span>
      val <a title="&lt;refinement of org.scalatools.testing.EventHandler&gt; extends Object with org.scalatools.testing.EventHandler" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.handler">handler</a> = new <a title="&lt;$anon: org.scalatools.testing.EventHandler&gt; extends Object with org.scalatools.testing.EventHandler" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.handler;$anon">EventHandler</a> <span class="delimiter">{</span>
        <span class="comment">// testName, description, result, error</span>
        <span class="comment">// Result =  Success, Failure, Error, Skipped</span>
        def <a title="(event: org.scalatools.testing.Event)Unit" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.handler;$anon.handle">handle</a><span class="delimiter">(</span><a title="org.scalatools.testing.Event" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.handler;$anon.handle.event">event</a>: <span title="org.scalatools.testing.Event">Event</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.handler;$anon.handle.event" title="org.scalatools.testing.Event">event</a>.<span title="()org.scalatools.testing.Result">result</span> match <span class="delimiter">{</span>
          case Result.<span title="org.scalatools.testing.Result(Success)">Success</span> =&gt;
          <span class="comment">//case Result.Skipped =&gt;   // an exhausted test is skipped, therefore bad</span>
          case _ =&gt; <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.bad" title="Int">bad</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      val <a title="Array[org.scalatools.testing.Logger]" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.loggers">loggers</a>     = <a href="../../../Array.scala.html#scala.Array.apply(f425c59989)" title="(xs: org.scalatools.testing.Logger*)(implicit evidence$2: scala.reflect.ClassTag[org.scalatools.testing.Logger])Array[org.scalatools.testing.Logger]">Array</a><a href="../../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(runtimeClass1: Class[_])scala.reflect.ClassTag[org.scalatools.testing.Logger]" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.logger" title="&lt;refinement of org.scalatools.testing.Logger&gt; extends Object with org.scalatools.testing.Logger">logger</a><span class="delimiter">)</span>
      val <a title="scala.reflect.internal.util.ScalaClassLoader.URLClassLoader" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.loader">loader</a>      = <a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util.ScalaClassLoader" title="scala.reflect.internal.util.ScalaClassLoader.type">ScalaClassLoader</a>.<a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util.ScalaClassLoader.fromURLs" title="(urls: Seq[java.net.URL], parent: ClassLoader)scala.reflect.internal.util.ScalaClassLoader.URLClassLoader">fromURLs</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: java.net.URL*)List[java.net.URL]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URL">toURL</span><span class="delimiter">)</span>, <a href="#scala.tools.partest.nest;Runner" title="()Class[_]">getClass</a>.<span title="()ClassLoader">getClassLoader</span><span class="delimiter">)</span>
      val <a title="org.scalatools.testing.Runner2" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.r">r</a>           = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.f" title="org.scalatools.testing.Framework">f</a>.<span title="(x$1: ClassLoader, x$2: Array[org.scalatools.testing.Logger])org.scalatools.testing.Runner">testRunner</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.loader" title="scala.reflect.internal.util.ScalaClassLoader.URLClassLoader">loader</a>, <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.loggers" title="Array[org.scalatools.testing.Logger]">loggers</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="org.scalatools.testing.Runner2" class="delimiter">[</span><span title="org.scalatools.testing.Runner2">Runner2</span><span class="delimiter">]</span>  <span class="comment">// cast to interface with the fingerprint we want</span>
      val <a title="String" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.claas">claas</a>       = <span title="String(&quot;Test&quot;)" class="string">&quot;Test&quot;</span>
      val fingerprint = <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.f" title="org.scalatools.testing.Framework">f</a>.<a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[org.scalatools.testing.Fingerprint])scala.collection.mutable.ArrayOps[org.scalatools.testing.Fingerprint]">tests</a> <a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.collectFirst" title="Option[org.scalatools.testing.SubclassFingerprint]" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.fingerprint">collectFirst</a> <a title="&lt;$anon: org.scalatools.testing.Fingerprint =&gt; org.scalatools.testing.SubclassFingerprint&gt; extends scala.runtime.AbstractPartialFunction[org.scalatools.testing.Fingerprint,org.scalatools.testing.SubclassFingerprint] with Serializable" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.fingerprint;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="org.scalatools.testing.SubclassFingerprint" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.fingerprint;$anonfun.isDefinedAt.x">x</a>: <span title="org.scalatools.testing.SubclassFingerprint">SubclassFingerprint</span> if <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.fingerprint;$anonfun.isDefinedAt.x" title="org.scalatools.testing.SubclassFingerprint">x</a>.<span title="()Boolean">isModule</span> =&gt; <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.fingerprint;$anonfun.isDefinedAt.x" title="org.scalatools.testing.SubclassFingerprint">x</a> <span class="delimiter">}</span>
      val <a title="List[String]" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.args">args</a>        = <a href="#scala.tools.partest.nest;Runner.toolArgs" title="(tool: String, split: Boolean)List[String]">toolArgs</a><span class="delimiter">(</span><span title="String(&quot;scalacheck&quot;)" class="string">&quot;scalacheck&quot;</span><span class="delimiter">)</span>
      <a href="../package.scala.html#scala.tools.partest.package.vlog" title="(msg: =&gt; String)Unit">vlog</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Run &quot;)">Run $</span><a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a><span title="String(&quot; with args &quot;)"> with args $</span><a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.args" title="List[String]">args</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
      <span class="comment">// set the context class loader for scaladoc/scalacheck tests (FIX ME)</span>
      <a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util.ScalaClassLoader.apply" title="implicit scala.reflect.internal.util.ScalaClassLoader.apply : (cl: ClassLoader)scala.reflect.internal.util.ScalaClassLoader">ScalaClassLoader</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.testClassLoader" title="=&gt; java.net.URLClassLoader">testClassLoader</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util;ScalaClassLoader.asContext" title="(action: =&gt; Unit)Unit">asContext</a> <span class="delimiter">{</span>
        <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.r" title="org.scalatools.testing.Runner2">r</a>.<span title="(x$1: String, x$2: org.scalatools.testing.Fingerprint, x$3: org.scalatools.testing.EventHandler, x$4: Array[String])Unit">run</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.claas" title="String">claas</a>, <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.fingerprint" title="Option[org.scalatools.testing.SubclassFingerprint]">fingerprint</a>.<a href="../../../Option.scala.html#scala;Option.get" title="=&gt; org.scalatools.testing.SubclassFingerprint">get</a>, <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.handler" title="&lt;refinement of org.scalatools.testing.EventHandler&gt; extends Object with org.scalatools.testing.EventHandler">handler</a>, <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.args" title="List[String]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toArray" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</a><span class="delimiter">)</span>    <span class="comment">// synchronous?</span>
      <span class="delimiter">}</span>
      val ok = <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.bad" title="Int">bad</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="Boolean" id="scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.ok">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.ok" title="Boolean">ok</a><span class="delimiter">)</span> <a href="#scala.tools.partest.nest;Runner._transcript" title="=&gt; scala.tools.partest.nest.TestTranscript">_transcript</a> <a href="#scala.tools.partest.nest;TestTranscript.append" title="(text: String)Unit">append</a> <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a>.<a href="../package.scala.html#scala.tools.partest.package;FileOps.fileContents" title="=&gt; String">fileContents</a>
      <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework.ok" title="Boolean">ok</a>
    <span class="delimiter">}</span>
    try <a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue" title="(reason: String, body: =&gt; Boolean)Boolean">nextTestActionExpectTrue</a><span class="delimiter">(</span><span title="String(&quot;ScalaCheck test failed&quot;)" class="string">&quot;ScalaCheck test failed&quot;</span>, <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.runInFramework" title="()Boolean">runInFramework</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> finally <a href="#scala.tools.partest.nest;Runner.runScalacheckTest.logWriter" title="java.io.PrintStream">logWriter</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runResidentTest">runResidentTest</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="comment">// simulate resident compiler loop</span>
    val <a title="String" id="scala.tools.partest.nest;Runner.runResidentTest.prompt">prompt</a> = <span title="String(&quot;\nnsc&gt; &quot;)" class="string">&quot;\nnsc&gt; &quot;</span>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="java.io.StringWriter" id="scala.tools.partest.nest;Runner.runResidentTest.swr">swr</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="java.io.PrintWriter" id="scala.tools.partest.nest;Runner.runResidentTest.wr">wr</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.newTestWriters" title="()(java.io.StringWriter, java.io.PrintWriter)">newTestWriters</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>

    <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a><span class="delimiter">(</span>this<a href="../../../Predef.scala.html#scala.Predef;any2stringadd.+" title="(other: String)String">+</a><span title="String(&quot; running test &quot;)" class="string">&quot; running test &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.fileBase" title="=&gt; String">fileBase</a><span class="delimiter">)</span>
    val <a title="java.io.File" id="scala.tools.partest.nest;Runner.runResidentTest.dir">dir</a> = <a href="#scala.tools.partest.nest;Runner.parentFile" title="=&gt; java.io.File">parentFile</a>
    val <a title="java.io.File" id="scala.tools.partest.nest;Runner.runResidentTest.resFile">resFile</a> = new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.dir" title="java.io.File">dir</a>, <a href="#scala.tools.partest.nest;Runner.fileBase" title="=&gt; String">fileBase</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.res&quot;)" class="string">&quot;.res&quot;</span><span class="delimiter">)</span>

    <span class="comment">// run compiler in resident mode</span>
    <span class="comment">// $SCALAC -d &quot;$os_dstbase&quot;.obj -Xresident -sourcepath . &quot;$@&quot;</span>
    val <a title="java.io.File" id="scala.tools.partest.nest;Runner.runResidentTest.sourcedir">sourcedir</a>  = <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()java.io.File">getParentFile</span>.<span title="()java.io.File">getAbsoluteFile</span>
    val sourcepath = <a href="#scala.tools.partest.nest;Runner.runResidentTest.sourcedir" title="java.io.File">sourcedir</a>.<span title="()String">getAbsolutePath</span><a title="String" id="scala.tools.partest.nest;Runner.runResidentTest.sourcepath">+</a><span title="java.io.File.type">File</span>.<span title="String">separator</span>
    <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.verbose" title="(msg: String)Unit">verbose</a><span class="delimiter">(</span><span title="String(&quot;sourcepath: &quot;)" class="string">&quot;sourcepath: &quot;</span><span title="(x$1: Any)String">+</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.sourcepath" title="String">sourcepath</a><span class="delimiter">)</span>

    val <a title="List[String]" id="scala.tools.partest.nest;Runner.runResidentTest.argList">argList</a> = <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span>
      <span title="String(&quot;-d&quot;)" class="string">&quot;-d&quot;</span>, <a href="#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a>.<span title="()java.io.File">getAbsoluteFile</span>.<span title="()String">getPath</span>,
      <span title="String(&quot;-Xresident&quot;)" class="string">&quot;-Xresident&quot;</span>,
      <span title="String(&quot;-sourcepath&quot;)" class="string">&quot;-sourcepath&quot;</span>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.sourcepath" title="String">sourcepath</a><span class="delimiter">)</span>

    <span class="comment">// configure input/output files</span>
    val <a title="java.io.FileOutputStream" id="scala.tools.partest.nest;Runner.runResidentTest.logOut">logOut</a>    = new <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span>
    val <a title="java.io.PrintStream" id="scala.tools.partest.nest;Runner.runResidentTest.logWriter">logWriter</a> = new <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.logOut" title="java.io.FileOutputStream">logOut</a>, true<span class="delimiter">)</span>
    val <a title="java.io.BufferedReader" id="scala.tools.partest.nest;Runner.runResidentTest.resReader">resReader</a> = new <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">(</span>new <span title="java.io.FileReader">FileReader</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.resFile" title="java.io.File">resFile</a><span class="delimiter">)</span><span class="delimiter">)</span>
    val <a title="java.io.PrintWriter" id="scala.tools.partest.nest;Runner.runResidentTest.logConsoleWriter">logConsoleWriter</a> = new <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span>new <span title="java.io.OutputStreamWriter">OutputStreamWriter</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.logOut" title="java.io.FileOutputStream">logOut</a><span class="delimiter">)</span>, true<span class="delimiter">)</span>

    <span class="comment">// create compiler</span>
    val <a title="scala.tools.nsc.Settings" id="scala.tools.partest.nest;Runner.runResidentTest.settings">settings</a> = new <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.workerError" title="(msg: String)Unit">workerError</a><span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;Runner.runResidentTest.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../../nsc/settings/StandardScalaSettings.scala.html#scala.tools.nsc.settings;StandardScalaSettings.sourcepath" title="=&gt; settings.PathSetting">sourcepath</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: settings.sourcepath.T)Unit">value</a> = <a href="#scala.tools.partest.nest;Runner.runResidentTest.sourcepath" title="String">sourcepath</a>
    <a href="#scala.tools.partest.nest;Runner.runResidentTest.settings" title="scala.tools.nsc.Settings">settings</a>.<a href="../../nsc/settings/ScalaSettings.scala.html#scala.tools.nsc.settings;ScalaSettings.classpath" title="=&gt; settings.PathSetting">classpath</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: settings.classpath.T)Unit">value</a> = <a href="FileManager.scala.html#scala.tools.partest.nest.FileManager.joinPaths" title="(paths: List[scala.tools.partest.Path])String">joinPaths</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.testClassPath" title="=&gt; List[scala.reflect.io.Path]">testClassPath</a><span class="delimiter">)</span>
    val <a title="scala.tools.nsc.reporters.ConsoleReporter" id="scala.tools.partest.nest;Runner.runResidentTest.reporter">reporter</a> = new <a href="../../nsc/reporters/ConsoleReporter.scala.html#scala.tools.nsc.reporters;ConsoleReporter" title="scala.tools.nsc.reporters.ConsoleReporter">ConsoleReporter</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.settings" title="scala.tools.nsc.Settings">settings</a>, scala.<a href="../../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../../Console.scala.html#scala.Console.in" title="=&gt; java.io.BufferedReader">in</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.logConsoleWriter" title="java.io.PrintWriter">logConsoleWriter</a><span class="delimiter">)</span>
    val <a title="scala.tools.nsc.CompilerCommand" id="scala.tools.partest.nest;Runner.runResidentTest.command">command</a> = new <a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand" title="scala.tools.nsc.CompilerCommand">CompilerCommand</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.argList" title="List[String]">argList</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.settings" title="scala.tools.nsc.Settings">settings</a><span class="delimiter">)</span>
    object <a title="compiler.type" id="scala.tools.partest.nest;Runner.runResidentTest.compiler">compiler</a> extends <a href="../../nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.command" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.settings" title="=&gt; scala.tools.nsc.Settings">settings</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.reporter" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a><span class="delimiter">)</span>

    def <a title="(line: String)Boolean" id="scala.tools.partest.nest;Runner.runResidentTest.resCompile">resCompile</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.runResidentTest.resCompile.line">line</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="comment">// NestUI.verbose(&quot;compiling &quot;+line)</span>
      val cmdArgs = <span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">line</a> <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">split</a> <span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[String]">toList</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="List[String]" id="scala.tools.partest.nest;Runner.runResidentTest.resCompile.cmdArgs">map</a> <span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;Runner.runResidentTest.resCompile.cmdArgs.$anonfun.fs">fs</a> =&gt; new <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.dir" title="java.io.File">dir</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.cmdArgs.$anonfun.fs" title="String">fs</a><span class="delimiter">)</span>.<span title="()String">getAbsolutePath</span><span class="delimiter">)</span>
      <span class="comment">// NestUI.verbose(&quot;cmdArgs: &quot;+cmdArgs)</span>
      val <a title="scala.tools.nsc.Settings" id="scala.tools.partest.nest;Runner.runResidentTest.resCompile.sett">sett</a> = new <a href="../../nsc/Settings.scala.html#scala.tools.nsc;Settings" title="scala.tools.nsc.Settings">Settings</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.workerError" title="(msg: String)Unit">workerError</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.sett" title="scala.tools.nsc.Settings">sett</a>.<a href="../../nsc/settings/StandardScalaSettings.scala.html#scala.tools.nsc.settings;StandardScalaSettings.sourcepath" title="=&gt; sett.PathSetting">sourcepath</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings;SettingValue.value_=" title="(arg: sett.sourcepath.T)Unit">value</a> = <a href="#scala.tools.partest.nest;Runner.runResidentTest.sourcepath" title="String">sourcepath</a>
      val <a title="scala.tools.nsc.CompilerCommand" id="scala.tools.partest.nest;Runner.runResidentTest.resCompile.command">command</a> = new <a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand" title="scala.tools.nsc.CompilerCommand">CompilerCommand</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.cmdArgs" title="List[String]">cmdArgs</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.sett" title="scala.tools.nsc.Settings">sett</a><span class="delimiter">)</span>
      <span class="comment">// &quot;scalac &quot; + command.files.mkString(&quot; &quot;)</span>
      <a href="#scala.tools.partest.nest;Runner.pushTranscript" title="(msg: String)scala.tools.partest.nest.TestTranscript">pushTranscript</a><span class="delimiter">(</span><span title="String(&quot;scalac &quot;)" class="string">&quot;scalac &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.command" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.files" title="=&gt; List[String]">files</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.nextTestActionExpectTrue" title="(reason: String, body: =&gt; Boolean)Boolean">nextTestActionExpectTrue</a><span class="delimiter">(</span>
        <span title="String(&quot;compilation failed&quot;)" class="string">&quot;compilation failed&quot;</span>,
        <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.command" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.ok" title="=&gt; Boolean">ok</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="delimiter">(</span>new <a href="#scala.tools.partest.nest;Runner.runResidentTest.compiler" title="compiler.type">compiler</a>.<a href="../../nsc/Global.scala.html#scala.tools.nsc;Global;Run" title="compiler.Run">Run</a><span class="delimiter">)</span> <a href="../../nsc/Global.scala.html#scala.tools.nsc;Global;Run.compile" title="(filenames: List[String])Unit">compile</a> <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile.command" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../../nsc/CompilerCommand.scala.html#scala.tools.nsc;CompilerCommand.files" title="=&gt; List[String]">files</a>
          <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.runResidentTest.reporter" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../../nsc/reporters/Reporter.scala.html#scala.tools.nsc.reporters;Reporter.hasErrors" title="=&gt; Boolean">hasErrors</a>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="()Boolean" id="scala.tools.partest.nest;Runner.runResidentTest.loop">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#scala.tools.partest.nest;Runner.runResidentTest.logWriter" title="java.io.PrintStream">logWriter</a>.<span title="(x$1: String)Unit">print</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.prompt" title="String">prompt</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.runResidentTest.resReader" title="java.io.BufferedReader">resReader</a>.<span title="()String">readLine</span><span class="delimiter">(</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case null | <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>  =&gt; <a href="#scala.tools.partest.nest;Runner.runResidentTest.logWriter" title="java.io.PrintStream">logWriter</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span> ; true
        case <a title="String" id="scala.tools.partest.nest;Runner.runResidentTest.loop.line">line</a>       =&gt; <a href="#scala.tools.partest.nest;Runner.runResidentTest.resCompile" title="(line: String)Boolean">resCompile</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.loop.line" title="String">line</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.runResidentTest.loop" title="()Boolean">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="comment">// res/t687.res depends on ignoring its compilation failure</span>
    <span class="comment">// and just looking at the diff, so I made them all do that</span>
    <span class="comment">// because this is long enough.</span>
    if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest.Output" title="scala.tools.partest.nest.Output.type">Output</a>.<a href="#scala.tools.partest.nest.Output.withRedirected" title="(newstream: java.io.PrintStream)(func: =&gt; Boolean)Boolean">withRedirected</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runResidentTest.logWriter" title="java.io.PrintStream">logWriter</a><span class="delimiter">)</span><span class="delimiter">(</span>try <a href="#scala.tools.partest.nest;Runner.runResidentTest.loop" title="()Boolean">loop</a><span class="delimiter">(</span><span class="delimiter">)</span> finally <a href="#scala.tools.partest.nest;Runner.runResidentTest.resReader" title="java.io.BufferedReader">resReader</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.setLastState" title="(s: scala.tools.partest.TestState)Unit">setLastState</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.genPass" title="()scala.tools.partest.TestState.Pass">genPass</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: scala.tools.partest.nest.LogContext)(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.diffIsOk" title="=&gt; Boolean">diffIsOk</a>, <a href="#scala.tools.partest.nest.LogContext.apply(2558696446)" title="(file: java.io.File, swr: java.io.StringWriter, wr: java.io.PrintWriter)scala.tools.partest.nest.LogContext">LogContext</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.swr" title="java.io.StringWriter">swr</a>, <a href="#scala.tools.partest.nest;Runner.runResidentTest.wr" title="java.io.PrintWriter">wr</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()scala.tools.partest.TestState" id="scala.tools.partest.nest;Runner.run">run</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = <span class="delimiter">{</span>
    <span class="comment">// javac runner, for one, would merely append to an existing log file, so just delete it before we start</span>
    <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;neg&quot;)" class="string">&quot;neg&quot;</span> <a href="../../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;-neg&quot;)" class="string">&quot;-neg&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.tools.partest.nest;Runner.runNegTest" title="()(Boolean, scala.tools.partest.nest.LogContext)">runNegTest</a><span class="delimiter">(</span><span class="delimiter">)</span>
    else <a href="#scala.tools.partest.nest;Runner.kind" title="=&gt; String">kind</a> match <span class="delimiter">{</span>
      case <span title="String(&quot;pos&quot;)" class="string">&quot;pos&quot;</span>          =&gt; <a href="#scala.tools.partest.nest;Runner.runTestCommon" title="(andAlso: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)">runTestCommon</a><span class="delimiter">(</span>true<span class="delimiter">)</span>
      case <span title="String(&quot;ant&quot;)" class="string">&quot;ant&quot;</span>          =&gt; <a href="#scala.tools.partest.nest;Runner.runAntTest" title="()(Boolean, scala.tools.partest.nest.LogContext)">runAntTest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      case <span title="String(&quot;scalacheck&quot;)" class="string">&quot;scalacheck&quot;</span>   =&gt; <a href="#scala.tools.partest.nest;Runner.runScalacheckTest" title="()(Boolean, scala.tools.partest.nest.LogContext)">runScalacheckTest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      case <span title="String(&quot;res&quot;)" class="string">&quot;res&quot;</span>          =&gt; <a href="#scala.tools.partest.nest;Runner.runResidentTest" title="()(Boolean, scala.tools.partest.nest.LogContext)">runResidentTest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      case <span title="String(&quot;scalap&quot;)" class="string">&quot;scalap&quot;</span>       =&gt; <a href="#scala.tools.partest.nest;Runner.runScalapTest" title="()(Boolean, scala.tools.partest.nest.LogContext)">runScalapTest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      case <span title="String(&quot;script&quot;)" class="string">&quot;script&quot;</span>       =&gt; <a href="#scala.tools.partest.nest;Runner.runScriptTest" title="()(Boolean, scala.tools.partest.nest.LogContext)">runScriptTest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      case _              =&gt; <a href="#scala.tools.partest.nest;Runner.runTestCommon" title="(andAlso: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)">runTestCommon</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.execTest" title="(outDir: java.io.File, logFile: java.io.File)Boolean">execTest</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a>, <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.diffIsOk" title="=&gt; Boolean">diffIsOk</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#scala.tools.partest.nest;Runner.lastState" title="=&gt; scala.tools.partest.TestState">lastState</a>
  <span class="delimiter">}</span>

  private def <a title="(clazz: Class[_], isPackageObject: Boolean)String" id="scala.tools.partest.nest;Runner.decompileClass">decompileClass</a><span class="delimiter">(</span><a title="Class[_]" id="scala.tools.partest.nest;Runner.decompileClass.clazz">clazz</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Boolean" id="scala.tools.partest.nest;Runner.decompileClass.isPackageObject">isPackageObject</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    import scala.tools.scalap

    <span class="comment">// TODO: remove use of reflection once Scala 2.11.0-RC1 is out</span>
    <span class="comment">// have to use reflection to work on both 2.11.0-M8 and 2.11.0-RC1.</span>
    <span class="comment">// Once we require only 2.11.0-RC1, replace the following block by:</span>
    <span class="comment">// import scalap.scalax.rules.scalasig.ByteCode</span>
    <span class="comment">// ByteCode forClass clazz bytes</span>
    val <a title="Array[Byte]" id="scala.tools.partest.nest;Runner.decompileClass.bytes">bytes</a> = <span class="delimiter">{</span>
      import scala.<a href="../../../language.scala.html#scala.language" title="language.type">language</a>.<span class="delimiter">{</span>reflectiveCalls, existentials<span class="delimiter">}</span>
      type <a title="&lt;refinement of AnyRef&gt; extends AnyRef" id="scala.tools.partest.nest;Runner.decompileClass.bytes;ByteCode">ByteCode</a>       = <a href="#scala.tools.partest.nest;Runner;<refinement>" title="&lt;refinement of AnyRef&gt; extends AnyRef" class="delimiter">{</a> def bytes: Array<span class="delimiter">[</span>Byte<span class="delimiter">]</span> <span class="delimiter">}</span>
      type <a title="&lt;refinement of AnyRef&gt; extends AnyRef" id="scala.tools.partest.nest;Runner.decompileClass.bytes;ByteCodeModule">ByteCodeModule</a> = <a href="#scala.tools.partest.nest;Runner;<refinement>" title="&lt;refinement of AnyRef&gt; extends AnyRef" class="delimiter">{</a> def forClass<span class="delimiter">(</span>clazz: Class<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: ByteCode <span class="delimiter">}</span>
      val <a title="ByteCodeModule" id="scala.tools.partest.nest;Runner.decompileClass.bytes.ByteCode">ByteCode</a>        = <span class="delimiter">{</span>
        val ByteCodeModuleCls =
          <span class="comment">// RC1 package structure -- see: scala/scala#3588 and https://issues.scala-lang.org/browse/SI-8345</span>
          <span class="delimiter">(</span>util.<a href="../../../util/Try.scala.html#scala.util.Try.apply" title="(r: =&gt; Class[?0])scala.util.Try[Class[?0]]">Try</a> <span class="delimiter">{</span> <span title="Class.type">Class</span>.<span title="(x$1: String)Class[_]">forName</span><span class="delimiter">(</span><span title="String(&quot;scala.tools.scalap.scalax.rules.scalasig.ByteCode$&quot;)" class="string">&quot;scala.tools.scalap.scalax.rules.scalasig.ByteCode$&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="comment">// M8 package structure</span>
           <a href="../../../util/Try.scala.html#scala.util;Try.getOrElse" title="Class[_3866] forSome { type _3866 &gt;: ?0 with ?0; type ?0; type ?0 }" id="scala.tools.partest.nest;Runner.decompileClass.bytes.ByteCode.ByteCodeModuleCls">getOrElse</a>  <span title="Class.type">Class</span>.<span title="(x$1: String)Class[_]">forName</span><span class="delimiter">(</span><span title="String(&quot;scala.tools.scalap.scalasig.ByteCode$&quot;)" class="string">&quot;scala.tools.scalap.scalasig.ByteCode$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;Runner.decompileClass.bytes.ByteCode.ByteCodeModuleCls" title="Class[_3866] forSome { type _3866 &gt;: ?0 with ?0; type ?0; type ?0 }">ByteCodeModuleCls</a>.<span title="()Array[java.lang.reflect.Field]">getDeclaredFields</span><a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)java.lang.reflect.Field" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(x$1: Any)Object">get</span><span class="delimiter">(</span>null<span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="ByteCodeModule" class="delimiter">[</span><a href="#scala.tools.partest.nest;Runner;<refinement>" title="ByteCodeModule">ByteCodeModule</a><span class="delimiter">]</span>
      <span class="delimiter">}</span>
      <a href="#scala.tools.partest.nest;Runner.decompileClass.bytes.ByteCode" title="ByteCodeModule">ByteCode</a> <a href="#scala.tools.partest.nest;Runner;<refinement>.forClass" title="(clazz: Class[_])ByteCode">forClass</a> <a href="#scala.tools.partest.nest;Runner.decompileClass.clazz" title="Class[_]">clazz</a> <a href="#scala.tools.partest.nest;Runner;<refinement>.bytes" title="=&gt; Array[Byte]">bytes</a>
    <span class="delimiter">}</span>

    scalap.<a href="../../scalap/Main.scala.html#scala.tools.scalap.Main" title="scala.tools.scalap.Main.type">Main</a>.<a href="../../scalap/Main.scala.html#scala.tools.scalap;Main.decompileScala" title="(bytes: Array[Byte], isPackageObject: Boolean)String">decompileScala</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.decompileClass.bytes" title="Array[Byte]">bytes</a>, <a href="#scala.tools.partest.nest;Runner.decompileClass.isPackageObject" title="Boolean">isPackageObject</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runScalapTest">runScalapTest</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.runTestCommon" title="(andAlso: =&gt; Boolean)(Boolean, scala.tools.partest.nest.LogContext)">runTestCommon</a> <span class="delimiter">{</span>
    val isPackageObject = <a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<span title="()String">getName</span> <a title="Boolean" id="scala.tools.partest.nest;Runner.runScalapTest.isPackageObject">startsWith</a> <span title="String(&quot;package&quot;)" class="string">&quot;package&quot;</span>
    val className       = <a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>.<a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">getName</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripSuffix" title="(suffix: String)String">stripSuffix</a><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span title="String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.capitalize" title="=&gt; String">capitalize</a> <a title="String" id="scala.tools.partest.nest;Runner.runScalapTest.className">+</a> <span class="delimiter">(</span>if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;Runner.runScalapTest.isPackageObject" title="Boolean">isPackageObject</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <span title="String(&quot;.package&quot;)" class="string">&quot;.package&quot;</span><span class="delimiter">)</span>
    val <a title="scala.reflect.internal.util.ScalaClassLoader.URLClassLoader" id="scala.tools.partest.nest;Runner.runScalapTest.loader">loader</a>          = <a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util.ScalaClassLoader" title="scala.reflect.internal.util.ScalaClassLoader.type">ScalaClassLoader</a>.<a href="../../../reflect/internal/util/ScalaClassLoader.scala.html#scala.reflect.internal.util.ScalaClassLoader.fromURLs" title="(urls: Seq[java.net.URL], parent: ClassLoader)scala.reflect.internal.util.ScalaClassLoader.URLClassLoader">fromURLs</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: java.net.URL*)List[java.net.URL]">List</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.outDir" title="=&gt; scala.tools.partest.File">outDir</a>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URL">toURL</span><span class="delimiter">)</span>, this.<span title="()Class[_]">getClass</span>.<span title="()ClassLoader">getClassLoader</span><span class="delimiter">)</span>
    <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">logFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.writeAll" title="(strings: String*)Unit">writeAll</a> <a href="#scala.tools.partest.nest;Runner.decompileClass" title="(clazz: Class[_], isPackageObject: Boolean)String">decompileClass</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.runScalapTest.loader" title="scala.reflect.internal.util.ScalaClassLoader.URLClassLoader">loader</a> <span title="(x$1: String)Class[_]">loadClass</span> <a href="#scala.tools.partest.nest;Runner.runScalapTest.className" title="String">className</a>, <a href="#scala.tools.partest.nest;Runner.runScalapTest.isPackageObject" title="Boolean">isPackageObject</a><span class="delimiter">)</span>
    <a href="#scala.tools.partest.nest;Runner.diffIsOk" title="=&gt; Boolean">diffIsOk</a>
  <span class="delimiter">}</span>

  def <a title="()(Boolean, scala.tools.partest.nest.LogContext)" id="scala.tools.partest.nest;Runner.runScriptTest">runScriptTest</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    import scala.sys.process._
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="java.io.StringWriter" id="scala.tools.partest.nest;Runner.runScriptTest.swr">swr</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="java.io.PrintWriter" id="scala.tools.partest.nest;Runner.runScriptTest.wr">wr</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;Runner.newTestWriters" title="()(java.io.StringWriter, java.io.PrintWriter)">newTestWriters</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(java.io.StringWriter, java.io.PrintWriter) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>

    val <a title="String" id="scala.tools.partest.nest;Runner.runScriptTest.args">args</a> = <a href="../package.scala.html#scala.tools.partest.package.file2String" title="(f: scala.tools.partest.File)String">file2String</a><span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">testFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.changeExtension" title="(ext: String)scala.tools.partest.File">changeExtension</a> <span title="String(&quot;args&quot;)" class="string">&quot;args&quot;</span><span class="delimiter">)</span>
    val <a title="scala.tools.partest.File" id="scala.tools.partest.nest;Runner.runScriptTest.cmdFile">cmdFile</a> = if <span class="delimiter">(</span><a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.isWin" title="=&gt; Boolean">isWin</a><span class="delimiter">)</span> <a href="../package.scala.html#scala.tools.partest.package.FileOps" title="implicit scala.tools.partest.package.FileOps : (f: scala.tools.partest.File)scala.tools.partest.FileOps">testFile</a> <a href="../package.scala.html#scala.tools.partest.package;FileOps.changeExtension" title="(ext: String)scala.tools.partest.File">changeExtension</a> <span title="String(&quot;bat&quot;)" class="string">&quot;bat&quot;</span> else <a href="#scala.tools.partest.nest;Runner.testFile" title="=&gt; java.io.File">testFile</a>
    val succeeded = <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.any2stringadd(6b32434ac5)" title="(self: scala.tools.partest.File)any2stringadd[scala.tools.partest.File]">cmdFile</a> <a href="../../../Predef.scala.html#scala.Predef;any2stringadd.+" title="(other: String)String">+</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <a href="../../../sys/process/Process.scala.html#scala.sys.process;ProcessImplicits.stringToProcess" title="implicit scala.sys.process.ProcessImplicits.stringToProcess : (command: String)scala.sys.process.ProcessBuilder">+</a> <a href="#scala.tools.partest.nest;Runner.runScriptTest.args" title="String">args</a><span class="delimiter">)</span> <a href="../../../sys/process/ProcessBuilder.scala.html#scala.sys.process.ProcessBuilder;Source.#>(54b6cf8338)" title="(f: scala.sys.process.processInternal.File)scala.sys.process.ProcessBuilder">#&gt;</a> <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a> <a href="../../../sys/process/ProcessBuilder.scala.html#scala.sys.process;ProcessBuilder.!(f94e342797)" title="=&gt; Int">!</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.tools.partest.nest;Runner.runScriptTest.succeeded">&amp;&amp;</a> <a href="#scala.tools.partest.nest;Runner.diffIsOk" title="=&gt; Boolean">diffIsOk</a>

    <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Boolean, _2: scala.tools.partest.nest.LogContext)(Boolean, scala.tools.partest.nest.LogContext)" class="delimiter">(</a><a href="#scala.tools.partest.nest;Runner.runScriptTest.succeeded" title="Boolean">succeeded</a>, <a href="#scala.tools.partest.nest.LogContext.apply(2558696446)" title="(file: java.io.File, swr: java.io.StringWriter, wr: java.io.PrintWriter)scala.tools.partest.nest.LogContext">LogContext</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>, <a href="#scala.tools.partest.nest;Runner.runScriptTest.swr" title="java.io.StringWriter">swr</a>, <a href="#scala.tools.partest.nest;Runner.runScriptTest.wr" title="java.io.PrintWriter">wr</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.tools.partest.nest;Runner.cleanup">cleanup</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;Runner.lastState" title="=&gt; scala.tools.partest.TestState">lastState</a>.<a href="../TestState.scala.html#scala.tools.partest;TestState.isOk" title="=&gt; Boolean">isOk</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()Boolean">delete</span><span class="delimiter">(</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../package.scala.html#scala.tools.partest.package.isPartestDebug" title="=&gt; Boolean">isPartestDebug</a><span class="delimiter">)</span>
      <a href="../../../reflect/io/Directory.scala.html#scala.reflect.io.Directory.apply" title="(path: scala.reflect.io.Path)scala.reflect.io.Directory">Directory</a><span class="delimiter">(</span><a href="../../../reflect/io/Path.scala.html#scala.reflect.io.Path.jfile2path" title="implicit scala.reflect.io.Path.jfile2path : (jfile: java.io.File)scala.reflect.io.Path">outDir</a><span class="delimiter">)</span>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.deleteRecursively(f32ef3bcdd)" title="()Boolean">deleteRecursively</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

<span class="comment">/** Loads `library.properties` from the jar. */</span>
object <a title="scala.tools.partest.nest.Properties.type" id="scala.tools.partest.nest.Properties">Properties</a> extends scala.util.<a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait" title="scala.util.PropertiesTrait">PropertiesTrait</a> <span class="delimiter">{</span>
  protected def <a title="=&gt; String" id="scala.tools.partest.nest.Properties.propCategory">propCategory</a>    = <span title="String(&quot;partest&quot;)" class="string">&quot;partest&quot;</span>
  protected def <a title="=&gt; Class[scala.tools.partest.nest.SuiteRunner]" id="scala.tools.partest.nest.Properties.pickJarBasedOn">pickJarBasedOn</a>  = classOf<span title="Class[scala.tools.partest.nest.SuiteRunner](classOf[scala.tools.partest.nest.SuiteRunner])" class="delimiter">[</span>SuiteRunner<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span class="comment">/** Extended by Ant- and ConsoleRunner for running a set of tests. */</span>
class <a title="class SuiteRunner extends AnyRef" id="scala.tools.partest.nest.SuiteRunner">SuiteRunner</a><a href="#scala.tools.partest.nest.SuiteRunner" title="scala.tools.partest.nest.SuiteRunner" class="delimiter">(</a>
  val <a title="String" id="scala.tools.partest.nest;SuiteRunner.testSourcePath">testSourcePath</a>: <span title="String">String</span>, <span class="comment">// relative path, like &quot;files&quot;, or &quot;pending&quot;</span>
  val <a title="scala.tools.partest.nest.FileManager" id="scala.tools.partest.nest;SuiteRunner.fileManager">fileManager</a>: <a href="FileManager.scala.html#scala.tools.partest.nest;FileManager" title="scala.tools.partest.nest.FileManager">FileManager</a>,
  val <a title="Boolean" id="scala.tools.partest.nest;SuiteRunner.updateCheck">updateCheck</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>,
  val <a title="Boolean" id="scala.tools.partest.nest;SuiteRunner.failed">failed</a>: <a href="../../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>,
  val <a title="String" id="scala.tools.partest.nest.SuiteRunner.<init>$default$5">javaCmdPath</a>: <span title="String">String</span> = <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults.javaCmd" title="=&gt; String">javaCmd</a>,
  val <a title="String" id="scala.tools.partest.nest.SuiteRunner.<init>$default$6">javacCmdPath</a>: <span title="String">String</span> = <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults.javacCmd" title="=&gt; String">javacCmd</a>,
  val <a title="Seq[String]" id="scala.tools.partest.nest.SuiteRunner.<init>$default$7">scalacExtraArgs</a>: <a href="../../../collection/Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../collection/Seq.scala.html#scala.collection.Seq" title="scala.collection.Seq.type">Seq</a>.<a href="../../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.empty" title="Seq[Nothing]">empty</a><span class="delimiter">)</span> <span class="delimiter">{</span>

  import <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<span class="delimiter">{</span> numThreads, waitTime <span class="delimiter">}</span>

  <a href="../package.scala.html#scala.tools.partest.package.setUncaughtHandler" title="()Unit">setUncaughtHandler</a>

  <span class="comment">// TODO: make this immutable</span>
  <a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.testSourcePath_=" title="(x$1: String)Unit">testSourcePath</a> = <a href="#scala.tools.partest.nest;SuiteRunner.testSourcePath" title="=&gt; String">testSourcePath</a>

  def <a title="=&gt; String" id="scala.tools.partest.nest;SuiteRunner.banner">banner</a> = <span class="delimiter">{</span>
    val <a title="String" id="scala.tools.partest.nest;SuiteRunner.banner.baseDir">baseDir</a> = <a href="#scala.tools.partest.nest;SuiteRunner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.compilerUnderTest" title="=&gt; scala.tools.partest.Path">compilerUnderTest</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.parent" title="=&gt; scala.reflect.io.Directory">parent</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toString" title="()String">toString</a>
    def <a title="(path: String)String" id="scala.tools.partest.nest;SuiteRunner.banner.relativize">relativize</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest.nest;SuiteRunner.banner.relativize.path">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest;SuiteRunner.banner.relativize.path" title="String">path</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.banner.baseDir" title="String">baseDir</a>, <span title="String(&quot;$baseDir&quot;)" class="string">&quot;$baseDir&quot;</span><span class="delimiter">)</span>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.srcDir" title="=&gt; scala.reflect.io.Directory">srcDir</a>.<a href="../../../reflect/io/Path.scala.html#scala.reflect.io;Path.toString" title="()String">toString</a>, <span title="String(&quot;$sourceDir&quot;)" class="string">&quot;$sourceDir&quot;</span><span class="delimiter">)</span>
    val vmBin  = <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaHome" title="=&gt; String">javaHome</a> <span title="(x$1: Any)String">+</span> <a href="../package.scala.html#scala.tools.partest.package.fileSeparator" title="=&gt; String">fileSeparator</a> <a title="String" id="scala.tools.partest.nest;SuiteRunner.banner.vmBin">+</a> <span title="String(&quot;bin&quot;)" class="string">&quot;bin&quot;</span>
    val <a title="String" id="scala.tools.partest.nest;SuiteRunner.banner.vmName">vmName</a> = <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s (build %s, %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaVmName" title="=&gt; String">javaVmName</a>, <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaVmVersion" title="=&gt; String">javaVmVersion</a>, <a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.javaVmInfo" title="=&gt; String">javaVmInfo</a><span class="delimiter">)</span>

  <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>&quot;&quot;&quot;<span title="String(&quot;|Partest version:     &quot;)">|Partest version:     $</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest.Properties" title="scala.tools.partest.nest.Properties.type">Properties</a>.<a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.versionNumberString" title="=&gt; String">versionNumberString</a><span class="delimiter">}</span><span title="String(&quot;\n      |Compiler under test: &quot;)">
      |Compiler under test: $</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;SuiteRunner.banner.relativize" title="(path: String)String">relativize</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="../package.scala.html#scala.tools.partest.package.temporaryPath2File" title="implicit scala.tools.partest.package.temporaryPath2File : (x: scala.tools.partest.Path)scala.tools.partest.File">compilerUnderTest</a>.<span title="()String">getAbsolutePath</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;\n      |Scala version is:    &quot;)">
      |Scala version is:    $</span><a href="../../../util/Properties.scala.html#scala.util;PropertiesTrait.versionMsg" title="=&gt; String">versionMsg</a><span title="String(&quot;\n      |Scalac options are:  &quot;)">
      |Scalac options are:  $</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest.SuiteRunner.<init>$default$7" title="=&gt; Seq[String]">scalacExtraArgs</a>.<a href="../../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;\n      |Compilation Path:    &quot;)">
      |Compilation Path:    $</span><span class="delimiter">{</span><a href="#scala.tools.partest.nest;SuiteRunner.banner.relativize" title="(path: String)String">relativize</a><span class="delimiter">(</span><a href="FileManager.scala.html#scala.tools.partest.nest.FileManager.joinPaths" title="(paths: List[scala.tools.partest.Path])String">joinPaths</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.fileManager" title="=&gt; scala.tools.partest.nest.FileManager">fileManager</a>.<a href="FileManager.scala.html#scala.tools.partest.nest;FileManager.testClassPath" title="=&gt; List[scala.reflect.io.Path]">testClassPath</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span title="String(&quot;\n      |Java binaries in:    &quot;)">
      |Java binaries in:    $</span><a href="#scala.tools.partest.nest;SuiteRunner.banner.vmBin" title="String">vmBin</a><span title="String(&quot;\n      |Java runtime is:     &quot;)">
      |Java runtime is:     $</span><a href="#scala.tools.partest.nest;SuiteRunner.banner.vmName" title="String">vmName</a><span title="String(&quot;\n      |Java options are:    &quot;)">
      |Java options are:    $</span><span class="delimiter">{</span><a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults" title="scala.tools.partest.PartestDefaults.type">PartestDefaults</a>.<a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults.javaOpts" title="=&gt; String">javaOpts</a><span class="delimiter">}</span><span title="String(&quot;\n      |baseDir:             &quot;)">
      |baseDir:             $</span><a href="#scala.tools.partest.nest;SuiteRunner.banner.baseDir" title="String">baseDir</a><span title="String(&quot;\n      |sourceDir:           &quot;)">
      |sourceDir:           $</span><span class="delimiter">{</span><a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings" title="scala.tools.partest.nest.PathSettings.type">PathSettings</a>.<a href="PathSettings.scala.html#scala.tools.partest.nest.PathSettings.srcDir" title="=&gt; scala.reflect.io.Directory">srcDir</a><span class="delimiter">}</span><span title="String(&quot;\n    &quot;)" class="string">
    &quot;&quot;&quot;</span>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripMargin(3bf7c90be7)" title="=&gt; String">stripMargin</a>
    <span class="comment">// |Available processors:       ${Runtime.getRuntime().availableProcessors()}</span>
    <span class="comment">// |Java Classpath:             ${sys.props(&quot;java.class.path&quot;)}</span>
  <span class="delimiter">}</span>

  def <a title="(testFile: java.io.File, result: scala.tools.partest.TestState)scala.tools.partest.TestState" id="scala.tools.partest.nest;SuiteRunner.onFinishTest">onFinishTest</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;SuiteRunner.onFinishTest.testFile">testFile</a>: <span title="java.io.File">File</span>, <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;SuiteRunner.onFinishTest.result">result</a>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a><span class="delimiter">)</span>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = <a href="#scala.tools.partest.nest;SuiteRunner.onFinishTest.result" title="scala.tools.partest.TestState">result</a>

  def <a title="(testFile: java.io.File)scala.tools.partest.TestState" id="scala.tools.partest.nest;SuiteRunner.runTest">runTest</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;SuiteRunner.runTest.testFile">testFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="../TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a> = <span class="delimiter">{</span>
    val <a title="scala.tools.partest.nest.Runner" id="scala.tools.partest.nest;SuiteRunner.runTest.runner">runner</a> = new <a href="#scala.tools.partest.nest;Runner" title="scala.tools.partest.nest.Runner">Runner</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTest.testFile" title="java.io.File">testFile</a>, this<span class="delimiter">)</span>

    <span class="comment">// when option &quot;--failed&quot; is provided execute test only if log</span>
    <span class="comment">// is present (which means it failed before)</span>
    val <a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;SuiteRunner.runTest.state">state</a> =
      if <span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.failed" title="=&gt; Boolean">failed</a> <a href="../../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.tools.partest.nest;SuiteRunner.runTest.runner" title="scala.tools.partest.nest.Runner">runner</a>.<a href="#scala.tools.partest.nest;Runner.logFile" title="=&gt; java.io.File">logFile</a>.<span title="()Boolean">canRead</span><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;SuiteRunner.runTest.runner" title="scala.tools.partest.nest.Runner">runner</a>.<a href="#scala.tools.partest.nest;Runner.genPass" title="()scala.tools.partest.TestState.Pass">genPass</a><span class="delimiter">(</span><span class="delimiter">)</span>
      else <span class="delimiter">{</span>
        val <a href="#scala.tools.partest.nest;SuiteRunner.runTest.state.state.state" title="scala.tools.partest.TestState" id="scala.tools.partest.nest;SuiteRunner.runTest.state.state" class="delimiter">(</a><a title="scala.tools.partest.TestState" id="scala.tools.partest.nest;SuiteRunner.runTest.state.state.state">state</a>, _<span class="delimiter">)</span> =
          try <a href="../package.scala.html#scala.tools.partest.package.timed" title="(body: =&gt; scala.tools.partest.TestState)(scala.tools.partest.TestState, Long)">timed</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTest.runner" title="scala.tools.partest.nest.Runner">runner</a>.<a href="#scala.tools.partest.nest;Runner.run" title="()scala.tools.partest.TestState">run</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          catch <span class="delimiter">{</span>
            case <a title="Throwable" id="scala.tools.partest.nest;SuiteRunner.runTest.state.state.t">t</a>: <span title="Throwable">Throwable</span> =&gt; throw new <a href="../../../package.scala.html#scala.package;RuntimeException" title="RuntimeException">RuntimeException</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Error running &quot;)">Error running $</span><a href="#scala.tools.partest.nest;SuiteRunner.runTest.testFile" title="java.io.File">testFile</a><span title="String(&quot;&quot;)" class="string">&quot;</span>, <a href="#scala.tools.partest.nest;SuiteRunner.runTest.state.state.t" title="Throwable">t</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.reportTest" title="(state: scala.tools.partest.TestState)Unit">reportTest</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTest.state.state" title="scala.tools.partest.TestState">state</a><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;SuiteRunner.runTest.runner" title="scala.tools.partest.nest.Runner">runner</a>.<a href="#scala.tools.partest.nest;Runner.cleanup" title="()Unit">cleanup</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.tools.partest.nest;SuiteRunner.runTest.state.state" title="scala.tools.partest.TestState">state</a>
      <span class="delimiter">}</span>
    <a href="#scala.tools.partest.nest;SuiteRunner.onFinishTest" title="(testFile: java.io.File, result: scala.tools.partest.TestState)scala.tools.partest.TestState">onFinishTest</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTest.testFile" title="java.io.File">testFile</a>, <a href="#scala.tools.partest.nest;SuiteRunner.runTest.state" title="scala.tools.partest.TestState">state</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(kindFiles: Array[java.io.File], kind: String)Array[scala.tools.partest.TestState]" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles">runTestsForFiles</a><span class="delimiter">(</span><a title="Array[java.io.File]" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.kindFiles">kindFiles</a>: <a href="../../../Array.scala.html#scala;Array" title="Array[java.io.File]">Array</a><span class="delimiter">[</span>File<span class="delimiter">]</span>, <a title="String" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.kind">kind</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Array.scala.html#scala;Array" title="Array[scala.tools.partest.TestState]">Array</a><span class="delimiter">[</span>TestState<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.resetTestNumber" title="(max: Int)Unit">resetTestNumber</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">kindFiles</a>.<a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a><span class="delimiter">)</span>

    val pool              = <span title="java.util.concurrent.Executors.type">Executors</span> <a title="java.util.concurrent.ExecutorService" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.pool">newFixedThreadPool</a> <a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults.numThreads" title="=&gt; Int">numThreads</a>
    val futures           = <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">kindFiles</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="Array[java.util.concurrent.Future[scala.tools.partest.TestState]]" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.futures">map</a> <span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.futures.$anonfun.f">f</a> =&gt; <a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.pool" title="java.util.concurrent.ExecutorService">pool</a> <span title="(x$1: java.util.concurrent.Callable[scala.tools.partest.TestState])java.util.concurrent.Future[scala.tools.partest.TestState]">submit</span> <a href="../package.scala.html#scala.tools.partest.package.callable" title="(body: =&gt; scala.tools.partest.TestState)java.util.concurrent.Callable[scala.tools.partest.TestState]">callable</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTest" title="(testFile: java.io.File)scala.tools.partest.TestState">runTest</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.futures.$anonfun.f" title="java.io.File">f</a>.<span title="()java.io.File">getAbsoluteFile</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.pool" title="java.util.concurrent.ExecutorService">pool</a>.<span title="()Unit">shutdown</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="../../../util/Try.scala.html#scala.util.Try.apply" title="(r: =&gt; Option[Nothing])scala.util.Try[Option[Nothing]]">Try</a> <span class="delimiter">(</span><a href="../package.scala.html#scala.tools.partest.package.ExecutorOps" title="implicit scala.tools.partest.package.ExecutorOps : (executor: java.util.concurrent.ExecutorService)scala.tools.partest.ExecutorOps">pool</a>.<a href="../package.scala.html#scala.tools.partest.package;ExecutorOps.awaitTermination" title="(wait: scala.concurrent.duration.Duration)(failing: =&gt; Nothing)Option[Nothing]">awaitTermination</a><span class="delimiter">(</span><a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults.waitTime" title="=&gt; scala.concurrent.duration.Duration">waitTime</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      throw <a href="#scala.tools.partest.nest.TimeoutException.readResolve" title="(duration: scala.concurrent.duration.Duration)scala.tools.partest.nest.TimeoutException">TimeoutException</a><span class="delimiter">(</span><a href="../PartestDefaults.scala.html#scala.tools.partest.PartestDefaults.waitTime" title="=&gt; scala.concurrent.duration.Duration">waitTime</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Success<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[java.util.concurrent.Future[scala.tools.partest.TestState]])scala.collection.mutable.ArrayOps[java.util.concurrent.Future[scala.tools.partest.TestState]]">futures</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: java.util.concurrent.Future[scala.tools.partest.TestState] =&gt; scala.tools.partest.TestState)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.util.concurrent.Future[scala.tools.partest.TestState]],scala.tools.partest.TestState,Array[scala.tools.partest.TestState]])Array[scala.tools.partest.TestState]">map</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.$anonfun.x$29" title="java.util.concurrent.Future[scala.tools.partest.TestState]">_</a>.<span title="()scala.tools.partest.TestState">get</span><span class="delimiter">)</span>
      case Failure<span class="delimiter">(</span><a title="Throwable" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.e">e</a><span class="delimiter">)</span> =&gt;
        <a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.e" title="Throwable">e</a> match <span class="delimiter">{</span>
          case TimeoutException<span class="delimiter">(</span><a title="scala.concurrent.duration.Duration" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.d">d</a><span class="delimiter">)</span>      =&gt;
            <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a> <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.warning" title="(msg: String)Unit">warning</a> <span title="String(&quot;Thread pool timeout elapsed before all tests were complete!&quot;)" class="string">&quot;Thread pool timeout elapsed before all tests were complete!&quot;</span>
          case <a title="InterruptedException" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.ie">ie</a>: <span title="InterruptedException">InterruptedException</span> =&gt;
            <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a> <a href="NestUI.scala.html#scala.tools.partest.nest.NestUI.warning" title="(msg: String)Unit">warning</a> <span title="String(&quot;Thread pool was interrupted&quot;)" class="string">&quot;Thread pool was interrupted&quot;</span>
            <a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.ie" title="InterruptedException">ie</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.pool" title="java.util.concurrent.ExecutorService">pool</a>.<span title="()java.util.List[Runnable]">shutdownNow</span><span class="delimiter">(</span><span class="delimiter">)</span>     <span class="comment">// little point in continuing</span>
        <span class="comment">// try to get as many completions as possible, in case someone cares</span>
        val <a title="Array[Option[scala.tools.partest.TestState]]" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.results">results</a> = for <span class="delimiter">(</span><a title="java.util.concurrent.Future[scala.tools.partest.TestState]" id="scala.tools.partest.nest;SuiteRunner.runTestsForFiles.results.$anonfun.f">f</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: java.util.concurrent.Future[scala.tools.partest.TestState] =&gt; Option[scala.tools.partest.TestState])(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.util.concurrent.Future[scala.tools.partest.TestState]],Option[scala.tools.partest.TestState],Array[Option[scala.tools.partest.TestState]]])Array[Option[scala.tools.partest.TestState]]">futures</a><span class="delimiter">)</span> yield <span class="delimiter">{</span>
          try <span class="delimiter">{</span>
            <a href="../../../Option.scala.html#scala;Some" title="(x: scala.tools.partest.TestState)Some[scala.tools.partest.TestState]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest;SuiteRunner.runTestsForFiles.results.$anonfun.f" title="java.util.concurrent.Future[scala.tools.partest.TestState]">f</a>.<span title="(x$1: Long, x$2: java.util.concurrent.TimeUnit)scala.tools.partest.TestState">get</span><span class="delimiter">(</span><span title="Long(0L)" class="int">0</span>, <span title="java.util.concurrent.TimeUnit(NANOSECONDS)">NANOSECONDS</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> catch <span class="delimiter">{</span>
            case _: <span title="Throwable">Throwable</span> =&gt; <a href="../../../Option.scala.html#scala.None" title="None.type">None</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[Option[scala.tools.partest.TestState]])scala.collection.mutable.ArrayOps[Option[scala.tools.partest.TestState]]">results</a>.<a href="../../../collection/mutable/ArrayOps.scala.html#scala.collection.mutable;ArrayOps.flatten" title="(implicit asTrav: Option[scala.tools.partest.TestState] =&gt; Traversable[scala.tools.partest.TestState], implicit m: scala.reflect.ClassTag[scala.tools.partest.TestState])Array[scala.tools.partest.TestState]">flatten</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

case class <a title="class TimeoutException extends RuntimeException with Product with Serializable" id="scala.tools.partest.nest.TimeoutException.readResolve">TimeoutException</a><a href="../../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="scala.concurrent.duration.Duration" id="scala.tools.partest.nest;TimeoutException.duration">duration</a>: <a href="../../../concurrent/duration/Duration.scala.html#scala.concurrent.duration;Duration" title="scala.concurrent.duration.Duration">Duration</a><span class="delimiter">)</span> extends <a href="../../../package.scala.html#scala.package;RuntimeException" title="RuntimeException">RuntimeException</a>

class <a title="class LogContext extends AnyRef" id="scala.tools.partest.nest;LogContext">LogContext</a><a href="#scala.tools.partest.nest;LogContext" title="scala.tools.partest.nest.LogContext" class="delimiter">(</a>val <a title="java.io.File" id="scala.tools.partest.nest;LogContext.file">file</a>: <span title="java.io.File">File</span>, val <a title="Option[(java.io.StringWriter, java.io.PrintWriter)]" id="scala.tools.partest.nest;LogContext.writers">writers</a>: <a href="../../../Option.scala.html#scala;Option" title="Option[(java.io.StringWriter, java.io.PrintWriter)]">Option</a><span class="delimiter">[</span><span class="delimiter">(</span>StringWriter, PrintWriter<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>

object <a title="scala.tools.partest.nest.LogContext.type" id="scala.tools.partest.nest.LogContext">LogContext</a> <a href="#scala.tools.partest.nest.LogContext" title="scala.tools.partest.nest.LogContext.type" class="delimiter">{</a>
  def <a title="(file: java.io.File, swr: java.io.StringWriter, wr: java.io.PrintWriter)scala.tools.partest.nest.LogContext" id="scala.tools.partest.nest.LogContext.apply(2558696446)">apply</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest.LogContext.apply(2558696446).file">file</a>: <span title="java.io.File">File</span>, <a title="java.io.StringWriter" id="scala.tools.partest.nest.LogContext.apply(2558696446).swr">swr</a>: <span title="java.io.StringWriter">StringWriter</span>, <a title="java.io.PrintWriter" id="scala.tools.partest.nest.LogContext.apply(2558696446).wr">wr</a>: <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">)</span>: <a href="#scala.tools.partest.nest;LogContext" title="scala.tools.partest.nest.LogContext">LogContext</a> = <span class="delimiter">{</span>
    <a href="../../../Predef.scala.html#scala.Predef.require(58bb2a7169)" title="(requirement: Boolean)Unit">require</a> <span class="delimiter">(</span><a href="#scala.tools.partest.nest.LogContext.apply(2558696446).file" title="java.io.File">file</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span>
    new <a href="#scala.tools.partest.nest;LogContext" title="scala.tools.partest.nest.LogContext">LogContext</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.LogContext.apply(2558696446).file" title="java.io.File">file</a>, <a href="../../../Option.scala.html#scala;Some" title="(x: (java.io.StringWriter, java.io.PrintWriter))Some[(java.io.StringWriter, java.io.PrintWriter)]">Some</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: java.io.StringWriter, _2: java.io.PrintWriter)(java.io.StringWriter, java.io.PrintWriter)" class="delimiter">(</a><a href="#scala.tools.partest.nest.LogContext.apply(2558696446).swr" title="java.io.StringWriter">swr</a>, <a href="#scala.tools.partest.nest.LogContext.apply(2558696446).wr" title="java.io.PrintWriter">wr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  def <a title="(file: java.io.File)scala.tools.partest.nest.LogContext" id="scala.tools.partest.nest.LogContext.apply(e0c4746222)">apply</a><span class="delimiter">(</span><a title="java.io.File" id="scala.tools.partest.nest.LogContext.apply(e0c4746222).file">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="#scala.tools.partest.nest;LogContext" title="scala.tools.partest.nest.LogContext">LogContext</a> = new <a href="#scala.tools.partest.nest;LogContext" title="scala.tools.partest.nest.LogContext">LogContext</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.LogContext.apply(e0c4746222).file" title="java.io.File">file</a>, <a href="../../../Option.scala.html#scala.None" title="None.type">None</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

object <a title="scala.tools.partest.nest.Output.type" id="scala.tools.partest.nest.Output">Output</a> <a href="#scala.tools.partest.nest.Output" title="scala.tools.partest.nest.Output.type" class="delimiter">{</a>
  object <a title="scala.tools.partest.nest.Output.outRedirect.type" id="scala.tools.partest.nest.Output.outRedirect">outRedirect</a> extends <a href="#scala.tools.partest.nest.Output;Redirecter" title="scala.tools.partest.nest.Output.Redirecter">Redirecter</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output.out" title="=&gt; java.io.PrintStream">out</a><span class="delimiter">)</span>
  object <a title="scala.tools.partest.nest.Output.errRedirect.type" id="scala.tools.partest.nest.Output.errRedirect">errRedirect</a> extends <a href="#scala.tools.partest.nest.Output;Redirecter" title="scala.tools.partest.nest.Output.Redirecter">Redirecter</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output.err" title="=&gt; java.io.PrintStream">err</a><span class="delimiter">)</span>

  <span title="System.type">System</span>.<span title="(x$1: java.io.PrintStream)Unit">setOut</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output.outRedirect" title="scala.tools.partest.nest.Output.outRedirect.type">outRedirect</a><span class="delimiter">)</span>
  <span title="System.type">System</span>.<span title="(x$1: java.io.PrintStream)Unit">setErr</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output.errRedirect" title="scala.tools.partest.nest.Output.errRedirect.type">errRedirect</a><span class="delimiter">)</span>

  import scala.util.DynamicVariable
  private def <a title="=&gt; java.io.PrintStream" id="scala.tools.partest.nest.Output.out">out</a> = java.lang.<span title="System.type">System</span>.<span title="java.io.PrintStream">out</span>
  private def <a title="=&gt; java.io.PrintStream" id="scala.tools.partest.nest.Output.err">err</a> = java.lang.<span title="System.type">System</span>.<span title="java.io.PrintStream">err</span>
  private val <a title="scala.util.DynamicVariable[Option[java.io.PrintStream]]" id="scala.tools.partest.nest.Output.redirVar">redirVar</a> = new <a href="../../../util/DynamicVariable.scala.html#scala.util;DynamicVariable" title="scala.util.DynamicVariable[Option[java.io.PrintStream]]">DynamicVariable</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>PrintStream<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../Option.scala.html#scala.None" title="None.type">None</a><span class="delimiter">)</span>

  class <a title="class Redirecter extends java.io.PrintStream" id="scala.tools.partest.nest.Output;Redirecter">Redirecter</a><a href="#scala.tools.partest.nest.Output;Redirecter" title="scala.tools.partest.nest.Output.Redirecter" class="delimiter">(</a><a title="java.io.PrintStream" id="scala.tools.partest.nest.Output;Redirecter.stream">stream</a>: <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">)</span> extends <a href="#scala.tools.partest.nest.Output;Redirecter" title="java.io.PrintStream">PrintStream</a><span class="delimiter">(</span>new <a title="&lt;$anon: java.io.OutputStream&gt; extends java.io.OutputStream" id="scala.tools.partest.nest.Output;Redirecter;$anon">OutputStream</a> <span class="delimiter">{</span>
    def <a title="(b: Int)Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(4a0f05975d)">write</a><span class="delimiter">(</span><a title="Int" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(4a0f05975d).b">b</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.withStream" title="(f: java.io.PrintStream =&gt; Unit)Unit">withStream</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(4a0f05975d).$anonfun.x$30" title="java.io.PrintStream">_</a> <span title="(x$1: Int)Unit">write</span> <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(4a0f05975d).b" title="Int">b</a><span class="delimiter">)</span>

    private def <a title="(f: java.io.PrintStream =&gt; Unit)Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.withStream">withStream</a><span class="delimiter">(</span><a title="java.io.PrintStream =&gt; Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.withStream.f">f</a>: PrintStream =&gt; Unit<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: java.io.PrintStream)Unit">f</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output.redirVar" title="=&gt; scala.util.DynamicVariable[Option[java.io.PrintStream]]">redirVar</a>.<a href="../../../util/DynamicVariable.scala.html#scala.util;DynamicVariable.value" title="=&gt; Option[java.io.PrintStream]">value</a> <a href="../../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; java.io.PrintStream)java.io.PrintStream">getOrElse</a> <a href="#scala.tools.partest.nest.Output;Redirecter.stream" title="java.io.PrintStream">stream</a><span class="delimiter">)</span>

    override def <a title="(b: Array[Byte])Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(07cde0d47c)">write</a><span class="delimiter">(</span><a title="Array[Byte]" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(07cde0d47c).b">b</a>: <a href="../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.withStream" title="(f: java.io.PrintStream =&gt; Unit)Unit">withStream</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(07cde0d47c).$anonfun.x$31" title="java.io.PrintStream">_</a> <span title="(x$1: Array[Byte])Unit">write</span> <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(07cde0d47c).b" title="Array[Byte]">b</a><span class="delimiter">)</span>
    override def <a title="(b: Array[Byte], off: Int, len: Int)Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20)">write</a><span class="delimiter">(</span><a title="Array[Byte]" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).b">b</a>: <a href="../../../Array.scala.html#scala;Array" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Int" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).off">off</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).len">len</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.withStream" title="(f: java.io.PrintStream =&gt; Unit)Unit">withStream</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).$anonfun.x$32" title="java.io.PrintStream">_</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).b" title="Array[Byte]">b</a>, <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).off" title="Int">off</a>, <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.write(d1e731cd20).len" title="Int">len</a><span class="delimiter">)</span><span class="delimiter">)</span>
    override def <a title="()Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.flush">flush</a> = <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.withStream" title="(f: java.io.PrintStream =&gt; Unit)Unit">withStream</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output;Redirecter;$anon.flush.$anonfun.x$33" title="java.io.PrintStream">_</a>.<span title="()Unit">flush</span><span class="delimiter">)</span>
    override def <a title="()Unit" id="scala.tools.partest.nest.Output;Redirecter;$anon.close">close</a> = <a href="#scala.tools.partest.nest.Output;Redirecter;$anon.withStream" title="(f: java.io.PrintStream =&gt; Unit)Unit">withStream</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output;Redirecter;$anon.close.$anonfun.x$34" title="java.io.PrintStream">_</a>.<span title="()Unit">close</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">// this supports thread-safe nested output redirects</span>
  def <a title="[T](newstream: java.io.PrintStream)(func: =&gt; T)T" id="scala.tools.partest.nest.Output.withRedirected">withRedirected</a><span class="delimiter">[</span><a title="" id="scala.tools.partest.nest.Output.withRedirected;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.PrintStream" id="scala.tools.partest.nest.Output.withRedirected.newstream">newstream</a>: <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="scala.tools.partest.nest.Output.withRedirected.func">func</a>: =&gt; T<span class="delimiter">)</span>: <a href="#scala.tools.partest.nest.Output.withRedirected;T" title="T">T</a> = <span class="delimiter">{</span>
    <span class="comment">// note down old redirect destination</span>
    <span class="comment">// this may be None in which case outRedirect and errRedirect print to stdout and stderr</span>
    val <a title="Option[java.io.PrintStream]" id="scala.tools.partest.nest.Output.withRedirected.saved">saved</a> = <a href="#scala.tools.partest.nest.Output.redirVar" title="=&gt; scala.util.DynamicVariable[Option[java.io.PrintStream]]">redirVar</a>.<a href="../../../util/DynamicVariable.scala.html#scala.util;DynamicVariable.value" title="=&gt; Option[java.io.PrintStream]">value</a>
    <span class="comment">// set new redirecter</span>
    <span class="comment">// this one will redirect both out and err to newstream</span>
    <a href="#scala.tools.partest.nest.Output.redirVar" title="=&gt; scala.util.DynamicVariable[Option[java.io.PrintStream]]">redirVar</a>.<a href="../../../util/DynamicVariable.scala.html#scala.util;DynamicVariable.value_=" title="(newval: Option[java.io.PrintStream])Unit">value</a> = <a href="../../../Option.scala.html#scala;Some" title="(x: java.io.PrintStream)Some[java.io.PrintStream]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest.nest.Output.withRedirected.newstream" title="java.io.PrintStream">newstream</a><span class="delimiter">)</span>

    try <a href="#scala.tools.partest.nest.Output.withRedirected.func" title="=&gt; T">func</a>
    finally <span class="delimiter">{</span>
      <a href="#scala.tools.partest.nest.Output.withRedirected.newstream" title="java.io.PrintStream">newstream</a>.<span title="()Unit">flush</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.tools.partest.nest.Output.redirVar" title="=&gt; scala.util.DynamicVariable[Option[java.io.PrintStream]]">redirVar</a>.<a href="../../../util/DynamicVariable.scala.html#scala.util;DynamicVariable.value_=" title="(newval: Option[java.io.PrintStream])Unit">value</a> = <a href="#scala.tools.partest.nest.Output.withRedirected.saved" title="Option[java.io.PrintStream]">saved</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
