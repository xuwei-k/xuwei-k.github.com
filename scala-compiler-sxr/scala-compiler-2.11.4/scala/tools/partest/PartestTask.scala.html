<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/tools/partest/PartestTask.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala Parallel Testing               **
**    / __/ __// _ | / /  / _ |    (c) 2007-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

package scala.tools
package partest

import scala.tools.nsc.<a href="../nsc/Properties.scala.html#scala.tools.nsc.Properties" title="scala.tools.nsc.Properties.type">Properties</a>.propOrFalse
import scala.tools.ant.sabbus.CompilationPathProperty
import java.lang.reflect.Method
import org.apache.tools.ant.Task
import org.apache.tools.ant.types.<span class="delimiter">{</span> Reference, FileSet <span class="delimiter">}</span>
import org.apache.tools.ant.types.<span title="org.apache.tools.ant.types.Commandline.type">Commandline</span>.Argument
import scala.tools.ant.ScalaTask
import nest.NestUI
import java.net.URLClassLoader

<span class="comment">/** An Ant task to execute the Scala test suite (NSC).
 *
 *  This task can take the following parameters as attributes:
 *  - `srcdir`,
 *  - `classpath`,
 *  - `classpathref`,
 *  - `erroronfailed`,
 *  - `javacmd`,
 *  - `javaccmd`,
 *  - `scalacopts`,
 *  - `debug`,
 *  - `junitreportdir`.
 *
 *  It also takes the following parameters as nested elements:
 *  - `compilationpath`. -- TODO: this parameter is now redundant: it's the same as the classpath used to run the task
 *
 *  @author Philipp Haller, Adriaan Moors
 */</span>
class <a title="class PartestTask extends org.apache.tools.ant.Task with scala.tools.ant.sabbus.CompilationPathProperty with scala.tools.ant.ScalaTask" id="scala.tools.partest;PartestTask">PartestTask</a> extends <a href="#scala.tools.partest;PartestTask" title="org.apache.tools.ant.Task">Task</a> with <a href="../ant/sabbus/TaskArgs.scala.html#scala.tools.ant.sabbus;CompilationPathProperty" title="scala.tools.ant.sabbus.CompilationPathProperty">CompilationPathProperty</a> with <a href="../ant/ScalaMatchingTask.scala.html#scala.tools.ant;ScalaTask" title="scala.tools.ant.ScalaTask">ScalaTask</a> <span class="delimiter">{</span>
  type <a title="org.apache.tools.ant.types.Path" id="scala.tools.partest;PartestTask;Path">Path</a> = org.apache.tools.ant.types.<span title="org.apache.tools.ant.types.Path">Path</span>

  private var <a title="Array[String]" id="scala.tools.partest;PartestTask.kinds_=">kinds</a>: <a href="../../Array.scala.html#scala;Array" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.empty" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">empty</a>
  private var <a title="Option[PartestTask.this.Path]" id="scala.tools.partest;PartestTask.classpath_=">classpath</a>: <a href="../../Option.scala.html#scala;Option" title="Option[PartestTask.this.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
  private var <a title="Boolean" id="scala.tools.partest;PartestTask.debug_=">debug</a> = false
  private var <a title="Boolean" id="scala.tools.partest;PartestTask.errorOnFailed_=">errorOnFailed</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true
  private var <a title="Option[scala.tools.partest.File]" id="scala.tools.partest;PartestTask.jUnitReportDir_=">jUnitReportDir</a>: <a href="../../Option.scala.html#scala;Option" title="Option[scala.tools.partest.File]">Option</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
  private var <a title="Option[scala.tools.partest.File]" id="scala.tools.partest;PartestTask.javaccmd_=">javaccmd</a>: <a href="../../Option.scala.html#scala;Option" title="Option[scala.tools.partest.File]">Option</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
  private var javacmd: <a href="../../Option.scala.html#scala;Option" title="Option[scala.tools.partest.File]">Option</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.Option.apply" title="(x: String)Option[String]">Option</a><span class="delimiter">(</span>sys.<a href="../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: String)String">props</a><span class="delimiter">(</span><span title="String(&quot;java.home&quot;)" class="string">&quot;java.home&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Option.map" title="Option[scala.tools.partest.File]" id="scala.tools.partest;PartestTask.javacmd_=">map</a> <span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.javacmd.$anonfun.x">x</a> =&gt; new <a href="package.scala.html#scala.tools.partest.package;File" title="java.io.File">File</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.javacmd.$anonfun.x" title="String">x</a>, <span title="String(&quot;bin/java&quot;)" class="string">&quot;bin/java&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  private var <a title="Option[Seq[org.apache.tools.ant.types.Commandline.Argument]]" id="scala.tools.partest;PartestTask.scalacArgs_=">scalacArgs</a>: <a href="../../Option.scala.html#scala;Option" title="Option[Seq[org.apache.tools.ant.types.Commandline.Argument]]">Option</a><span class="delimiter">[</span>Seq<span class="delimiter">[</span>Argument<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
  private var <a title="Option[String]" id="scala.tools.partest;PartestTask.srcDir_=">srcDir</a>: <a href="../../Option.scala.html#scala;Option" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
  private var <a title="Int" id="scala.tools.partest;PartestTask.colors_=">colors</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>

  def <a title="(input: String)Unit" id="scala.tools.partest;PartestTask.setSrcDir">setSrcDir</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.setSrcDir.input">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.srcDir_=" title="(x$1: Option[String])Unit">srcDir</a> = <a href="../../Option.scala.html#scala;Some" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setSrcDir.input" title="String">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(input: String)Unit" id="scala.tools.partest;PartestTask.setColors">setColors</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.setColors.input">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    try <a href="#scala.tools.partest;PartestTask.colors_=" title="(x$1: Int)Unit">colors</a> = <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">input</a>.<a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.toInt" title="=&gt; Int">toInt</a> catch <span class="delimiter">{</span> case _: <span title="NumberFormatException">NumberFormatException</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.colors_=" title="=&gt; Int">colors</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      sys.<a href="../../collection/mutable/MapLike.scala.html#scala.collection.mutable;MapLike.update" title="(key: String, value: String)Unit">props</a><span class="delimiter">(</span><span title="String(&quot;partest.colors&quot;)" class="string">&quot;partest.colors&quot;</span><span class="delimiter">)</span> = <a href="#scala.tools.partest;PartestTask.colors_=" title="=&gt; Int">colors</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  def <a title="(input: PartestTask.this.Path)Unit" id="scala.tools.partest;PartestTask.setClasspath">setClasspath</a><span class="delimiter">(</span><a title="PartestTask.this.Path" id="scala.tools.partest;PartestTask.setClasspath.input">input</a>: <span title="PartestTask.this.Path">Path</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.classpath_=" title="=&gt; Option[PartestTask.this.Path]">classpath</a>.<a href="../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="#scala.tools.partest;PartestTask.classpath_=" title="(x$1: Option[PartestTask.this.Path])Unit">classpath</a> = <a href="../../Option.scala.html#scala;Some" title="(x: PartestTask.this.Path)Some[PartestTask.this.Path]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setClasspath.input" title="PartestTask.this.Path">input</a><span class="delimiter">)</span>
    else
      <a href="#scala.tools.partest;PartestTask.classpath_=" title="=&gt; Option[PartestTask.this.Path]">classpath</a>.<a href="../../Option.scala.html#scala;Option.get" title="=&gt; PartestTask.this.Path">get</a>.<span title="(x$1: org.apache.tools.ant.types.Path)Unit">append</span><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setClasspath.input" title="PartestTask.this.Path">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()PartestTask.this.Path" id="scala.tools.partest;PartestTask.createClasspath">createClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="PartestTask.this.Path">Path</span> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.classpath_=" title="=&gt; Option[PartestTask.this.Path]">classpath</a>.<a href="../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#scala.tools.partest;PartestTask.classpath_=" title="(x$1: Option[PartestTask.this.Path])Unit">classpath</a> = <a href="../../Option.scala.html#scala;Some" title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</a><span class="delimiter">(</span>new <a href="#scala.tools.partest;PartestTask;Path" title="org.apache.tools.ant.types.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask" title="()org.apache.tools.ant.Project">getProject</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#scala.tools.partest;PartestTask.classpath_=" title="=&gt; Option[PartestTask.this.Path]">classpath</a>.<a href="../../Option.scala.html#scala;Option.get" title="=&gt; PartestTask.this.Path">get</a>.<span title="()org.apache.tools.ant.types.Path">createPath</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="scala.tools.partest;PartestTask.setClasspathref">setClasspathref</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="scala.tools.partest;PartestTask.setClasspathref.input">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.createClasspath" title="()PartestTask.this.Path">createClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setClasspathref.input" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  def <a title="(input: Boolean)Unit" id="scala.tools.partest;PartestTask.setErrorOnFailed">setErrorOnFailed</a><span class="delimiter">(</span><a title="Boolean" id="scala.tools.partest;PartestTask.setErrorOnFailed.input">input</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.errorOnFailed_=" title="(x$1: Boolean)Unit">errorOnFailed</a> = <a href="#scala.tools.partest;PartestTask.setErrorOnFailed.input" title="Boolean">input</a>
  <span class="delimiter">}</span>

  def <a title="(input: scala.tools.partest.File)Unit" id="scala.tools.partest;PartestTask.setJavaCmd">setJavaCmd</a><span class="delimiter">(</span><a title="scala.tools.partest.File" id="scala.tools.partest;PartestTask.setJavaCmd.input">input</a>: <span title="scala.tools.partest.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.javacmd_=" title="(x$1: Option[scala.tools.partest.File])Unit">javacmd</a> = <a href="../../Option.scala.html#scala;Some" title="(x: scala.tools.partest.File)Some[scala.tools.partest.File]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setJavaCmd.input" title="scala.tools.partest.File">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(input: String)Unit" id="scala.tools.partest;PartestTask.setKinds">setKinds</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.setKinds.input">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.kinds_=" title="(x$1: Array[String])Unit">kinds</a> = <a href="package.scala.html#scala.tools.partest.package.words" title="(s: String)List[String]">words</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setKinds.input" title="String">input</a><span class="delimiter">)</span>.<a href="../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toArray" title="(implicit evidence$1: scala.reflect.ClassTag[String])Array[String]">toArray</a>
  <span class="delimiter">}</span>

  def <a title="(input: scala.tools.partest.File)Unit" id="scala.tools.partest;PartestTask.setJavacCmd">setJavacCmd</a><span class="delimiter">(</span><a title="scala.tools.partest.File" id="scala.tools.partest;PartestTask.setJavacCmd.input">input</a>: <span title="scala.tools.partest.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.javaccmd_=" title="(x$1: Option[scala.tools.partest.File])Unit">javaccmd</a> = <a href="../../Option.scala.html#scala;Some" title="(x: scala.tools.partest.File)Some[scala.tools.partest.File]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setJavacCmd.input" title="scala.tools.partest.File">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(input: String)Unit" id="scala.tools.partest;PartestTask.setScalacOpts">setScalacOpts</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.setScalacOpts.input">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Array[org.apache.tools.ant.types.Commandline.Argument]" id="scala.tools.partest;PartestTask.setScalacOpts.s">s</a> = <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">input</a>.<a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.split(fdc681404c)" title="(separator: Char)Array[String]">split</a><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><span title="Char(' ')" class="char">' '</span><span class="delimiter">)</span>.<a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: String =&gt; org.apache.tools.ant.types.Commandline.Argument)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],org.apache.tools.ant.types.Commandline.Argument,Array[org.apache.tools.ant.types.Commandline.Argument]])Array[org.apache.tools.ant.types.Commandline.Argument]">map</a> <a href="../../Array.scala.html#scala.Array.canBuildFrom" title="(implicit t: scala.reflect.ClassTag[org.apache.tools.ant.types.Commandline.Argument])scala.collection.generic.CanBuildFrom[Array[_],org.apache.tools.ant.types.Commandline.Argument,Array[org.apache.tools.ant.types.Commandline.Argument]]" class="delimiter">{</a> <a title="String" id="scala.tools.partest;PartestTask.setScalacOpts.s.$anonfun.s">s</a> =&gt; val <a title="org.apache.tools.ant.types.Commandline.Argument" id="scala.tools.partest;PartestTask.setScalacOpts.s.$anonfun.a">a</a> = new <span title="org.apache.tools.ant.types.Commandline.Argument">Argument</span>; <a href="#scala.tools.partest;PartestTask.setScalacOpts.s.$anonfun.a" title="org.apache.tools.ant.types.Commandline.Argument">a</a>.<span title="(x$1: String)Unit">setValue</span><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setScalacOpts.s.$anonfun.s" title="String">s</a><span class="delimiter">)</span>; <a href="#scala.tools.partest;PartestTask.setScalacOpts.s.$anonfun.a" title="org.apache.tools.ant.types.Commandline.Argument">a</a> <span class="delimiter">}</span>
    <a href="#scala.tools.partest;PartestTask.scalacArgs_=" title="(x$1: Option[Seq[org.apache.tools.ant.types.Commandline.Argument]])Unit">scalacArgs</a> = <a href="../../Option.scala.html#scala;Some" title="(x: Seq[org.apache.tools.ant.types.Commandline.Argument])Some[Seq[org.apache.tools.ant.types.Commandline.Argument]]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.scalacArgs_=" title="=&gt; Option[Seq[org.apache.tools.ant.types.Commandline.Argument]]">scalacArgs</a>.<a href="../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Seq[org.apache.tools.ant.types.Commandline.Argument])Seq[org.apache.tools.ant.types.Commandline.Argument]">getOrElse</a><span class="delimiter">(</span><a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: Nothing*)Seq[Nothing]">Seq</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.++" title="(that: scala.collection.GenTraversableOnce[org.apache.tools.ant.types.Commandline.Argument])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.apache.tools.ant.types.Commandline.Argument],org.apache.tools.ant.types.Commandline.Argument,Seq[org.apache.tools.ant.types.Commandline.Argument]])Seq[org.apache.tools.ant.types.Commandline.Argument]">++</a> <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[org.apache.tools.ant.types.Commandline.Argument])scala.collection.mutable.ArrayOps[org.apache.tools.ant.types.Commandline.Argument]">s</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()org.apache.tools.ant.types.Commandline.Argument" id="scala.tools.partest;PartestTask.createCompilerArg">createCompilerArg</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.apache.tools.ant.types.Commandline.Argument">Argument</span> = <span class="delimiter">{</span>
    val <a title="org.apache.tools.ant.types.Commandline.Argument" id="scala.tools.partest;PartestTask.createCompilerArg.a">a</a> = new <span title="org.apache.tools.ant.types.Commandline.Argument">Argument</span>
    <a href="#scala.tools.partest;PartestTask.scalacArgs_=" title="(x$1: Option[Seq[org.apache.tools.ant.types.Commandline.Argument]])Unit">scalacArgs</a> = <a href="../../Option.scala.html#scala;Some" title="(x: Seq[org.apache.tools.ant.types.Commandline.Argument])Some[Seq[org.apache.tools.ant.types.Commandline.Argument]]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.scalacArgs_=" title="=&gt; Option[Seq[org.apache.tools.ant.types.Commandline.Argument]]">scalacArgs</a>.<a href="../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Seq[org.apache.tools.ant.types.Commandline.Argument])Seq[org.apache.tools.ant.types.Commandline.Argument]">getOrElse</a><span class="delimiter">(</span><a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: Nothing*)Seq[Nothing]">Seq</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../collection/SeqLike.scala.html#scala.collection;SeqLike.:+" title="(elem: org.apache.tools.ant.types.Commandline.Argument)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.apache.tools.ant.types.Commandline.Argument],org.apache.tools.ant.types.Commandline.Argument,Seq[org.apache.tools.ant.types.Commandline.Argument]])Seq[org.apache.tools.ant.types.Commandline.Argument]">:+</a> <a href="#scala.tools.partest;PartestTask.createCompilerArg.a" title="org.apache.tools.ant.types.Commandline.Argument">a</a><span class="delimiter">)</span>
    <a href="#scala.tools.partest;PartestTask.createCompilerArg.a" title="org.apache.tools.ant.types.Commandline.Argument">a</a>
  <span class="delimiter">}</span>

  def <a title="(input: Boolean)Unit" id="scala.tools.partest;PartestTask.setDebug">setDebug</a><span class="delimiter">(</span><a title="Boolean" id="scala.tools.partest;PartestTask.setDebug.input">input</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.debug_=" title="(x$1: Boolean)Unit">debug</a> = <a href="#scala.tools.partest;PartestTask.setDebug.input" title="Boolean">input</a>
  <span class="delimiter">}</span>

  def <a title="(input: scala.tools.partest.File)Unit" id="scala.tools.partest;PartestTask.setJUnitReportDir">setJUnitReportDir</a><span class="delimiter">(</span><a title="scala.tools.partest.File" id="scala.tools.partest;PartestTask.setJUnitReportDir.input">input</a>: <span title="scala.tools.partest.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.tools.partest;PartestTask.jUnitReportDir_=" title="(x$1: Option[scala.tools.partest.File])Unit">jUnitReportDir</a> = <a href="../../Option.scala.html#scala;Some" title="(x: scala.tools.partest.File)Some[scala.tools.partest.File]">Some</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.setJUnitReportDir.input" title="scala.tools.partest.File">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()Unit" id="scala.tools.partest;PartestTask.execute">execute</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.debug_=" title="=&gt; Boolean">debug</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../util/Properties.scala.html#scala.util;PropertiesTrait.propOrFalse" title="(name: String)Boolean">propOrFalse</a><span class="delimiter">(</span><span title="String(&quot;partest.debug&quot;)" class="string">&quot;partest.debug&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="nest/NestUI.scala.html#scala.tools.partest.nest.NestUI" title="scala.tools.partest.nest.NestUI.type">NestUI</a>.<a href="nest/NestUI.scala.html#scala.tools.partest.nest.NestUI.setDebug" title="()Unit">setDebug</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="../ant/sabbus/TaskArgs.scala.html#scala.tools.ant.sabbus;CompilationPathProperty.compilationPath" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilationPath</a>.<a href="../../Option.scala.html#scala;Option.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> sys.<a href="../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Mandatory attribute \'compilationPath\' is not set.&quot;)" class="string">&quot;Mandatory attribute 'compilationPath' is not set.&quot;</span><span class="delimiter">)</span>

    def <a title="=&gt; Array[String]" id="scala.tools.partest;PartestTask.execute.scalacArgsFlat">scalacArgsFlat</a>: <a href="../../Array.scala.html#scala;Array" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.Option.option2Iterable" title="(xo: Option[Seq[org.apache.tools.ant.types.Commandline.Argument]])Iterable[Seq[org.apache.tools.ant.types.Commandline.Argument]]">scalacArgs</a>.<a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[Seq[org.apache.tools.ant.types.Commandline.Argument]])scala.collection.mutable.ArrayOps[Seq[org.apache.tools.ant.types.Commandline.Argument]]">toArray</a> <a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.flatMap" title="(f: Seq[org.apache.tools.ant.types.Commandline.Argument] =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Array[Seq[org.apache.tools.ant.types.Commandline.Argument]],String,Array[String]])Array[String]">flatMap</a> <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.scalacArgsFlat.$anonfun.x$1" title="Seq[org.apache.tools.ant.types.Commandline.Argument]">_</a> <a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.flatMap" title="(f: org.apache.tools.ant.types.Commandline.Argument =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[org.apache.tools.ant.types.Commandline.Argument],String,Seq[String]])Seq[String]">flatMap</a> <span class="delimiter">{</span> <a title="org.apache.tools.ant.types.Commandline.Argument" id="scala.tools.partest;PartestTask.execute.scalacArgsFlat.$anonfun.$anonfun.a">a</a> =&gt;
      val <a title="Array[String]" id="scala.tools.partest;PartestTask.execute.scalacArgsFlat.$anonfun.$anonfun.parts">parts</a> = <a href="#scala.tools.partest;PartestTask.execute.scalacArgsFlat.$anonfun.$anonfun.a" title="org.apache.tools.ant.types.Commandline.Argument">a</a>.<span title="()Array[String]">getParts</span>
      if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.scalacArgsFlat.$anonfun.$anonfun.parts" title="Array[String]">parts</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.empty" title="[T](implicit evidence$1: scala.reflect.ClassTag[T])Array[T]">empty</a><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">[</a><span title="String">String</span><span class="delimiter">]</span> else <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">parts</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>

    var <a title="Int" id="scala.tools.partest;PartestTask.execute.failureCount">failureCount</a> = <span title="Int(0)" class="int">0</span>
    val summary = new <a title="&lt;$anon: scala.tools.partest.nest.AntRunner&gt; extends scala.tools.partest.nest.AntRunner" id="scala.tools.partest;PartestTask.execute.summary;$anon">scala</a>.tools.partest.nest.<a href="nest/AntRunner.scala.html#scala.tools.partest.nest;AntRunner" title="scala.tools.partest.nest.AntRunner">AntRunner</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.srcDir_=" title="=&gt; Option[String]">srcDir</a>.<a href="../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; String)String">getOrElse</a><span class="delimiter">(</span>null<span class="delimiter">)</span>, new <span title="java.net.URLClassLoader">URLClassLoader</span><span class="delimiter">(</span><a href="../ant/sabbus/TaskArgs.scala.html#scala.tools.ant.sabbus;CompilationPathProperty.compilationPath" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilationPath</a>.<a href="../../Option.scala.html#scala;Option.get" title="=&gt; org.apache.tools.ant.types.Path">get</a>.<a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">list</a>.<a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: String =&gt; java.net.URL)(implicit bf: scala.collection.generic.CanBuildFrom[Array[String],java.net.URL,Array[java.net.URL]])Array[java.net.URL]">map</a><a href="../../Array.scala.html#scala.Array.canBuildFrom" title="(implicit t: scala.reflect.ClassTag[java.net.URL])scala.collection.generic.CanBuildFrom[Array[_],java.net.URL,Array[java.net.URL]]" class="delimiter">(</a><a href="../../reflect/io/Path.scala.html#scala.reflect.io.Path.apply(b8c32fbd51)" title="(path: String)scala.reflect.io.Path">Path</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary;$anon.$anonfun.x$2" title="String">_</a><span class="delimiter">)</span>.<a href="../../reflect/io/Path.scala.html#scala.reflect.io;Path.toURL" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#scala.tools.partest;PartestTask.javacmd_=" title="=&gt; Option[scala.tools.partest.File]">javacmd</a>.<a href="../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; scala.tools.partest.File)scala.tools.partest.File">getOrElse</a><span class="delimiter">(</span>null<span class="delimiter">)</span>, <a href="#scala.tools.partest;PartestTask.javaccmd_=" title="=&gt; Option[scala.tools.partest.File]">javaccmd</a>.<a href="../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; scala.tools.partest.File)scala.tools.partest.File">getOrElse</a><span class="delimiter">(</span>null<span class="delimiter">)</span>, <a href="#scala.tools.partest;PartestTask.execute.scalacArgsFlat" title="=&gt; Array[String]">scalacArgsFlat</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      def <a title="(msg: String)Unit" id="scala.tools.partest;PartestTask.execute.summary;$anon.echo">echo</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.execute.summary;$anon.echo.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="#scala.tools.partest;PartestTask" title="PartestTask.this.type">PartestTask</a>.this.<span title="(x$1: String)Unit">log</span><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary;$anon.echo.msg" title="String">msg</a><span class="delimiter">)</span>
      def <a title="(msg: String)Unit" id="scala.tools.partest;PartestTask.execute.summary;$anon.log">log</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.execute.summary;$anon.log.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="#scala.tools.partest;PartestTask" title="PartestTask.this.type">PartestTask</a>.this.<span title="(x$1: String)Unit">log</span><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary;$anon.log.msg" title="String">msg</a><span class="delimiter">)</span>

      def <a title="(kind: String, passed: Array[scala.tools.partest.TestState], failed: Array[scala.tools.partest.TestState])Unit" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind">onFinishKind</a><span class="delimiter">(</span><a title="String" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.kind">kind</a>: <span title="String">String</span>, <a title="Array[scala.tools.partest.TestState]" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.passed">passed</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.tools.partest.TestState]">Array</a><span class="delimiter">[</span>TestState<span class="delimiter">]</span>, <a title="Array[scala.tools.partest.TestState]" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.failed">failed</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.tools.partest.TestState]">Array</a><span class="delimiter">[</span>TestState<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#scala.tools.partest;PartestTask.execute.failureCount" title="Int">failureCount</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.tools.partest.TestState])scala.collection.mutable.ArrayOps[scala.tools.partest.TestState]">failed</a>.<a href="../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a>

        def <a title="(res: scala.tools.partest.TestState)scala.xml.Elem" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.oneResult">oneResult</a><span class="delimiter">(</span><a title="scala.tools.partest.TestState" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.oneResult.res">res</a>: <a href="TestState.scala.html#scala.tools.partest;TestState" title="scala.tools.partest.TestState">TestState</a><span class="delimiter">)</span> =
          <span class="delimiter">&lt;testcase name={</span> <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.oneResult.res" title="scala.tools.partest.TestState">res</a>.<a href="TestState.scala.html#scala.tools.partest;TestState.testIdent" title="=&gt; String">testIdent</a> <span class="delimiter">}&gt;{</span>
            if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.oneResult.res" title="scala.tools.partest.TestState">res</a>.<a href="TestState.scala.html#scala.tools.partest;TestState.isOk" title="=&gt; Boolean">isOk</a><span class="delimiter">)</span> scala.xml.<a href="../../xml/NodeSeq.scala.html#scala.xml.NodeSeq" title="scala.xml.NodeSeq.type">NodeSeq</a>.<a href="../../xml/NodeSeq.scala.html#scala.xml.NodeSeq.Empty" title="=&gt; scala.xml.NodeSeq">Empty</a>
            else &lt;failure message=&quot;Test failed&quot;/&gt;
          }&lt;/testcase&gt;

        <span class="comment">// create JUnit Report xml files if directory was specified</span>
        <a href="#scala.tools.partest;PartestTask.jUnitReportDir_=" title="=&gt; Option[scala.tools.partest.File]">jUnitReportDir</a> <a href="../../Option.scala.html#scala;Option.foreach" title="(f: scala.tools.partest.File =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="scala.tools.partest.File" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.$anonfun.d">d</a> =&gt;
          <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.$anonfun.d" title="scala.tools.partest.File">d</a>.<span title="()Boolean">mkdir</span>
          val <a title="scala.xml.Elem" id="scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.$anonfun.report">report</a> =
            <span class="delimiter">&lt;testsuite name={</span> <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.kind" title="String">kind</a> <span class="delimiter">} tests={</span> <span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.tools.partest.TestState])scala.collection.mutable.ArrayOps[scala.tools.partest.TestState]">passed</a>.<a href="../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.tools.partest.TestState])scala.collection.mutable.ArrayOps[scala.tools.partest.TestState]">failed</a>.<a href="../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a><span class="delimiter">)</span> <span title="()String">toString</span> <span class="delimiter">} failures={</span> <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.tools.partest.TestState])scala.collection.mutable.ArrayOps[scala.tools.partest.TestState]">failed</a>.<a href="../../collection/SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a>.<span title="()String">toString</span> <span class="delimiter">}&gt;
              &lt;properties/&gt;{</span> <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.tools.partest.TestState])scala.collection.mutable.ArrayOps[scala.tools.partest.TestState]">passed</a> <a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: scala.tools.partest.TestState =&gt; scala.xml.Elem)(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.tools.partest.TestState],scala.xml.Elem,Any])Any">map</a> <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.oneResult" title="(res: scala.tools.partest.TestState)scala.xml.Elem">oneResult</a> <span class="delimiter">}{</span> <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.tools.partest.TestState])scala.collection.mutable.ArrayOps[scala.tools.partest.TestState]">failed</a> <a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: scala.tools.partest.TestState =&gt; scala.xml.Elem)(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.tools.partest.TestState],scala.xml.Elem,Any])Any">map</a> <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.oneResult" title="(res: scala.tools.partest.TestState)scala.xml.Elem">oneResult</a> }
            &lt;/testsuite&gt;

          scala.xml.<a href="../../xml/XML.scala.html#scala.xml.XML" title="scala.xml.XML.type">XML</a>.<a href="../../xml/XML.scala.html#scala.xml.XML.save" title="(filename: String, node: scala.xml.Node, enc: String, xmlDecl: Boolean, doctype: scala.xml.dtd.DocType)Unit">save</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.$anonfun.d" title="scala.tools.partest.File">d</a>.<span title="()String">getAbsolutePath</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.kind" title="String">kind</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.xml&quot;)" class="string">&quot;.xml&quot;</span>, <a href="#scala.tools.partest;PartestTask.execute.summary;$anon.onFinishKind.$anonfun.report" title="scala.xml.Elem">report</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <a href="nest/AntRunner.scala.html#scala.tools.partest.nest;AntRunner.execute" title="String" id="scala.tools.partest;PartestTask.execute.summary">execute</a> <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.kinds_=" title="=&gt; Array[String]">kinds</a><span class="delimiter">)</span>

    if <span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.errorOnFailed_=" title="=&gt; Boolean">errorOnFailed</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.tools.partest;PartestTask.execute.failureCount" title="Int">failureCount</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../ant/ScalaMatchingTask.scala.html#scala.tools.ant;ScalaTask.buildError" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary" title="String">summary</a><span class="delimiter">)</span>
    else <a href="#scala.tools.partest;PartestTask" title="(x$1: String)Unit">log</a><span class="delimiter">(</span><a href="#scala.tools.partest;PartestTask.execute.summary" title="String">summary</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
