<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/collection/concurrent/TrieMap.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

package scala
package collection
package concurrent

import java.util.concurrent.atomic._
import scala.collection.immutable.<span class="delimiter">{</span> ListMap =&gt; ImmutableListMap <span class="delimiter">}</span>
import scala.collection.parallel.mutable.ParTrieMap
import scala.util.hashing.Hashing
import scala.util.control.ControlThrowable
import generic._
import scala.annotation.tailrec
import scala.annotation.switch

private<span class="delimiter">[</span>collection<span class="delimiter">]</span> final class <a title="class INode[K, V] extends scala.collection.concurrent.INodeBase[K,V]" id="scala.collection.concurrent;INode">INode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;INode;K">K</a>, <a title="" id="scala.collection.concurrent;INode;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]" class="delimiter">(</a><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.bn">bn</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.g">g</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> extends <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase" title="scala.collection.concurrent.INodeBase[K,V]">INodeBase</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.g" title="scala.collection.concurrent.Gen">g</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  import <a href="INodeBase.java.html#scala.collection.concurrent.INodeBase" title="scala.collection.concurrent.INodeBase.type">INodeBase</a>._

  <a href="#scala.collection.concurrent;INode.WRITE" title="(nval: scala.collection.concurrent.MainNode[K,V])Unit">WRITE</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.bn" title="scala.collection.concurrent.MainNode[K,V]">bn</a><span class="delimiter">)</span>

  def this<span class="delimiter">(</span><a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.<init>(a630c8d9c8).g">g</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> = this<span class="delimiter">(</span>null, <a href="#scala.collection.concurrent;INode.<init>(a630c8d9c8).g" title="scala.collection.concurrent.Gen">g</a><span class="delimiter">)</span>

  def <a title="(nval: scala.collection.concurrent.MainNode[K,V])Unit" id="scala.collection.concurrent;INode.WRITE">WRITE</a><span class="delimiter">(</span><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.WRITE.nval">nval</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="INodeBase.java.html#scala.collection.concurrent.INodeBase" title="scala.collection.concurrent.INodeBase.type">INodeBase</a>.<a href="INodeBase.java.html#scala.collection.concurrent.INodeBase.updater" title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.INodeBase[_, _],scala.collection.concurrent.MainNode[_, _]]">updater</a>.<span title="(x$1: scala.collection.concurrent.INodeBase[_, _], x$2: scala.collection.concurrent.MainNode[_, _])Unit">set</span><span class="delimiter">(</span>this, <a href="#scala.collection.concurrent;INode.WRITE.nval" title="scala.collection.concurrent.MainNode[K,V]">nval</a><span class="delimiter">)</span>

  def <a title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V])Boolean" id="scala.collection.concurrent;INode.CAS">CAS</a><span class="delimiter">(</span><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.CAS.old">old</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.CAS.n">n</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="INodeBase.java.html#scala.collection.concurrent.INodeBase" title="scala.collection.concurrent.INodeBase.type">INodeBase</a>.<a href="INodeBase.java.html#scala.collection.concurrent.INodeBase.updater" title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.INodeBase[_, _],scala.collection.concurrent.MainNode[_, _]]">updater</a>.<span title="(x$1: scala.collection.concurrent.INodeBase[_, _], x$2: scala.collection.concurrent.MainNode[_, _], x$3: scala.collection.concurrent.MainNode[_, _])Boolean">compareAndSet</span><span class="delimiter">(</span>this, <a href="#scala.collection.concurrent;INode.CAS.old" title="scala.collection.concurrent.MainNode[K,V]">old</a>, <a href="#scala.collection.concurrent;INode.CAS.n" title="scala.collection.concurrent.MainNode[K,V]">n</a><span class="delimiter">)</span>

  def <a title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.gcasRead">gcasRead</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.gcasRead.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.gcasRead.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>

  def <a title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_READ">GCAS_READ</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.GCAS_READ.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_READ.m">m</a> = <span class="comment">/*READ*/</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.mainnode" title="scala.collection.concurrent.MainNode[K,V]">mainnode</a>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_READ.prevval">prevval</a> = <span class="comment">/*READ*/</span><a href="#scala.collection.concurrent;INode.GCAS_READ.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_READ.prevval" title="scala.collection.concurrent.MainNode[K,V]">prevval</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.GCAS_READ.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>
    else <a href="#scala.collection.concurrent;INode.GCAS_Complete" title="(m: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_READ.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>, <a href="#scala.collection.concurrent;INode.GCAS_READ.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec private def <a title="(m: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_Complete">GCAS_Complete</a><span class="delimiter">(</span><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_Complete.m">m</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.GCAS_Complete.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> null else <span class="delimiter">{</span>
    <span class="comment">// complete the GCAS</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_Complete.prev">prev</a> = <span class="comment">/*READ*/</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.GCAS_Complete.ctr">ctr</a> = <a href="#scala.collection.concurrent;INode.GCAS_Complete.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.readRoot" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">readRoot</a><span class="delimiter">(</span>abort = true<span class="delimiter">)</span>

    <a href="#scala.collection.concurrent;INode.GCAS_Complete.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a> match <span class="delimiter">{</span>
      case null =&gt;
        <a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>
      case <a title="scala.collection.concurrent.FailedNode[_,_]" id="scala.collection.concurrent;INode.GCAS_Complete.fn">fn</a>: <a href="#scala.collection.concurrent;FailedNode" title="scala.collection.concurrent.FailedNode[_,_]">FailedNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <span class="comment">// try to commit to previous value</span>
        if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.CAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V])Boolean">CAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>, <a href="#scala.collection.concurrent;INode.GCAS_Complete.fn" title="scala.collection.concurrent.FailedNode[_,_]">fn</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.prev" title="scala.collection.concurrent.MainNode[_,_]">prev</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.GCAS_Complete.fn" title="scala.collection.concurrent.FailedNode[_,_]">fn</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.prev" title="scala.collection.concurrent.MainNode[_,_]">prev</a>
        else <a href="#scala.collection.concurrent;INode.GCAS_Complete" title="(m: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_Complete</a><span class="delimiter">(</span><span class="comment">/*READ*/</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.mainnode" title="scala.collection.concurrent.MainNode[K,V]">mainnode</a>, <a href="#scala.collection.concurrent;INode.GCAS_Complete.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
      case <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS_Complete.vn">vn</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[_,_]">MainNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt;
        <span class="comment">// Assume that you've read the root from the generation G.</span>
        <span class="comment">// Assume that the snapshot algorithm is correct.</span>
        <span class="comment">// ==&gt; you can only reach nodes in generations &lt;= G.</span>
        <span class="comment">// ==&gt; `gen` is &lt;= G.</span>
        <span class="comment">// We know that `ctr.gen` is &gt;= G.</span>
        <span class="comment">// ==&gt; if `ctr.gen` = `gen` then they are both equal to G.</span>
        <span class="comment">// ==&gt; otherwise, we know that either `ctr.gen` &gt; G, `gen` &lt; G,</span>
        <span class="comment">//     or both</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.ctr" title="scala.collection.concurrent.INode[K,V]">ctr</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.GCAS_Complete.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.nonReadOnly" title="=&gt; Boolean">nonReadOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// try to commit</span>
          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.CAS_PREV" title="(oldval: scala.collection.concurrent.MainNode[K,V], nval: scala.collection.concurrent.MainNode[K,V])Boolean">CAS_PREV</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a>, null<span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>
          else <a href="#scala.collection.concurrent;INode.GCAS_Complete" title="(m: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>, <a href="#scala.collection.concurrent;INode.GCAS_Complete.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// try to abort</span>
          <a href="#scala.collection.concurrent;INode.GCAS_Complete.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.CAS_PREV" title="(oldval: scala.collection.concurrent.MainNode[K,V], nval: scala.collection.concurrent.MainNode[K,V])Boolean">CAS_PREV</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a>, new <a href="#scala.collection.concurrent;FailedNode" title="scala.collection.concurrent.FailedNode[K,V]">FailedNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS_Complete.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#scala.collection.concurrent;INode.GCAS_Complete" title="(m: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_Complete</a><span class="delimiter">(</span><span class="comment">/*READ*/</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.mainnode" title="scala.collection.concurrent.MainNode[K,V]">mainnode</a>, <a href="#scala.collection.concurrent;INode.GCAS_Complete.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean" id="scala.collection.concurrent;INode.GCAS">GCAS</a><span class="delimiter">(</span><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS.old">old</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.GCAS.n">n</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.GCAS.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;INode.GCAS.n" title="scala.collection.concurrent.MainNode[K,V]">n</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.WRITE_PREV" title="(nval: scala.collection.concurrent.MainNode[K,V])Unit">WRITE_PREV</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS.old" title="scala.collection.concurrent.MainNode[K,V]">old</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.CAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V])Boolean">CAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS.old" title="scala.collection.concurrent.MainNode[K,V]">old</a>, <a href="#scala.collection.concurrent;INode.GCAS.n" title="scala.collection.concurrent.MainNode[K,V]">n</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.collection.concurrent;INode.GCAS_Complete" title="(m: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS.n" title="scala.collection.concurrent.MainNode[K,V]">n</a>, <a href="#scala.collection.concurrent;INode.GCAS.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
      <span class="comment">/*READ*/</span><a href="#scala.collection.concurrent;INode.GCAS.n" title="scala.collection.concurrent.MainNode[K,V]">n</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.prev" title="scala.collection.concurrent.MainNode[K,V]">prev</a> <span title="(x$1: AnyRef)Boolean">eq</span> null
    <span class="delimiter">}</span> else false
  <span class="delimiter">}</span>

  private def <a title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean" id="scala.collection.concurrent;INode.equal">equal</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;INode.equal.k1">k1</a>: <a href="#scala.collection.concurrent;INode;K" title="K">K</a>, <a title="K" id="scala.collection.concurrent;INode.equal.k2">k2</a>: <a href="#scala.collection.concurrent;INode;K" title="K">K</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.equal.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;INode.equal.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.equality" title="=&gt; Equiv[K]">equality</a>.<a href="../../math/Equiv.scala.html#scala.math;Equiv.equiv" title="(x: K, y: K)Boolean">equiv</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.equal.k1" title="K">k1</a>, <a href="#scala.collection.concurrent;INode.equal.k2" title="K">k2</a><span class="delimiter">)</span>

  private def <a title="(cn: scala.collection.concurrent.MainNode[K,V])scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.inode">inode</a><span class="delimiter">(</span><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.inode.cn">cn</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.inode.nin">nin</a> = new <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;INode.inode.nin" title="scala.collection.concurrent.INode[K,V]">nin</a>.<a href="#scala.collection.concurrent;INode.WRITE" title="(nval: scala.collection.concurrent.MainNode[K,V])Unit">WRITE</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.inode.cn" title="scala.collection.concurrent.MainNode[K,V]">cn</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;INode.inode.nin" title="scala.collection.concurrent.INode[K,V]">nin</a>
  <span class="delimiter">}</span>

  def <a title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.copyToGen">copyToGen</a><span class="delimiter">(</span><a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.copyToGen.ngen">ngen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.copyToGen.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.copyToGen.nin">nin</a> = new <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.copyToGen.ngen" title="scala.collection.concurrent.Gen">ngen</a><span class="delimiter">)</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.copyToGen.main">main</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.copyToGen.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;INode.copyToGen.nin" title="scala.collection.concurrent.INode[K,V]">nin</a>.<a href="#scala.collection.concurrent;INode.WRITE" title="(nval: scala.collection.concurrent.MainNode[K,V])Unit">WRITE</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.copyToGen.main" title="scala.collection.concurrent.MainNode[K,V]">main</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;INode.copyToGen.nin" title="scala.collection.concurrent.INode[K,V]">nin</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Inserts a key value pair, overwriting the old pair if the keys match.
   *
   *  @return        true if successful, false otherwise
   */</span>
  @tailrec def <a title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Boolean" id="scala.collection.concurrent;INode.rec_insert">rec_insert</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;INode.rec_insert.k">k</a>: <a href="#scala.collection.concurrent;INode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;INode.rec_insert.v">v</a>: <a href="#scala.collection.concurrent;INode;V" title="V">V</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_insert.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_insert.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_insert.parent">parent</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.rec_insert.startgen">startgen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.rec_insert.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_insert.m">m</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> <span class="comment">// use -Yinline!</span>

    <a href="#scala.collection.concurrent;INode.rec_insert.m" title="scala.collection.concurrent.MainNode[K,V]">m</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_insert.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 1) a multiway node</span>
        val idx = <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.concurrent;INode.rec_insert.lev" title="Int">lev</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_insert.idx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
        val flag = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_insert.flag">&lt;&lt;</a> <a href="#scala.collection.concurrent;INode.rec_insert.idx" title="Int">idx</a>
        val <a title="Int" id="scala.collection.concurrent;INode.rec_insert.bmp">bmp</a> = <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
        val mask = <a href="#scala.collection.concurrent;INode.rec_insert.flag" title="Int">flag</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_insert.mask">-</a> <span title="Int(1)" class="int">1</span>
        val <a title="Int" id="scala.collection.concurrent;INode.rec_insert.pos">pos</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_insert.mask" title="Int">mask</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_insert.flag" title="Int">flag</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// 1a) insert below</span>
          <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.pos" title="Int">pos</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_insert.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.startgen" title="scala.collection.concurrent.Gen">startgen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.concurrent;INode.rec_insert.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insert.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.rec_insert" title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">rec_insert</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insert.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, this, <a href="#scala.collection.concurrent;INode.rec_insert.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              else <span class="delimiter">{</span>
                if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insert" title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">rec_insert</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insert.lev" title="Int">lev</a>, <a href="#scala.collection.concurrent;INode.rec_insert.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_insert.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                else false
              <span class="delimiter">}</span>
            case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;INode.rec_insert.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.pos" title="Int">pos</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              else <span class="delimiter">{</span>
                val <span title="scala.collection.concurrent.CNode[K,V]">rn</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.gen" title="=&gt; scala.collection.concurrent.Gen">gen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a> else <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                val <span title="scala.collection.concurrent.CNode[K,V]">nn</span> = <span title="scala.collection.concurrent.CNode[K,V]">rn</span>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.inode" title="(cn: scala.collection.concurrent.MainNode[K,V])scala.collection.concurrent.INode[K,V]">inode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode" title="scala.collection.concurrent.CNode.type">CNode</a>.<a href="#scala.collection.concurrent.CNode.dual" title="(x: scala.collection.concurrent.SNode[K,V], xhc: Int, y: scala.collection.concurrent.SNode[K,V], yhc: Int, lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]">dual</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>, <a href="#scala.collection.concurrent;INode.rec_insert.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insert.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
                <a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <span title="scala.collection.concurrent.CNode[K,V]">nn</span>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          val <span title="scala.collection.concurrent.CNode[K,V]">rn</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.gen" title="=&gt; scala.collection.concurrent.Gen">gen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a> else <a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
          val <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_insert.ncnode">ncnode</a> = <span title="scala.collection.concurrent.CNode[K,V]">rn</span>.<a href="#scala.collection.concurrent;CNode.insertedAt" title="(pos: Int, flag: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">insertedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.rec_insert.flag" title="Int">flag</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insert.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
          <a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ncnode" title="scala.collection.concurrent.CNode[K,V]">ncnode</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case <a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;INode.rec_insert.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
        <a href="#scala.collection.concurrent;INode.clean" title="(nd: scala.collection.concurrent.INode[K,V], ct: scala.collection.concurrent.TrieMap[K,V], lev: Int)Unit">clean</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>, <a href="#scala.collection.concurrent;INode.rec_insert.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        false
      case <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;INode.rec_insert.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 3) an l-node</span>
        val <span title="scala.collection.concurrent.LNode[K,V]">nn</span> = <a href="#scala.collection.concurrent;INode.rec_insert.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.inserted" title="(k: K, v: V)scala.collection.concurrent.LNode[K,V]">inserted</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insert.v" title="V">v</a><span class="delimiter">)</span>
        <a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insert.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>, <span title="scala.collection.concurrent.LNode[K,V]">nn</span>, <a href="#scala.collection.concurrent;INode.rec_insert.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Inserts a new key value pair, given that a specific condition is met.
   *
   *  @param cond        null - don't care if the key was there; KEY_ABSENT - key wasn't there; KEY_PRESENT - key was there; other value `v` - key must be bound to `v`
   *  @return            null if unsuccessful, Option[V] otherwise (indicating previous value bound to the key)
   */</span>
  @tailrec def <a title="(k: K, v: V, hc: Int, cond: AnyRef, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]" id="scala.collection.concurrent;INode.rec_insertif">rec_insertif</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;INode.rec_insertif.k">k</a>: <a href="#scala.collection.concurrent;INode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;INode.rec_insertif.v">v</a>: <a href="#scala.collection.concurrent;INode;V" title="V">V</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_insertif.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="AnyRef" id="scala.collection.concurrent;INode.rec_insertif.cond">cond</a>: <span title="AnyRef">AnyRef</span>, <a title="Int" id="scala.collection.concurrent;INode.rec_insertif.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.parent">parent</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.rec_insertif.startgen">startgen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.rec_insertif.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.m">m</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>  <span class="comment">// use -Yinline!</span>

    <a href="#scala.collection.concurrent;INode.rec_insertif.m" title="scala.collection.concurrent.MainNode[K,V]">m</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 1) a multiway node</span>
        val idx = <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.concurrent;INode.rec_insertif.lev" title="Int">lev</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_insertif.idx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
        val flag = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_insertif.flag">&lt;&lt;</a> <a href="#scala.collection.concurrent;INode.rec_insertif.idx" title="Int">idx</a>
        val <a title="Int" id="scala.collection.concurrent;INode.rec_insertif.bmp">bmp</a> = <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
        val mask = <a href="#scala.collection.concurrent;INode.rec_insertif.flag" title="Int">flag</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_insertif.mask">-</a> <span title="Int(1)" class="int">1</span>
        val <a title="Int" id="scala.collection.concurrent;INode.rec_insertif.pos">pos</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_insertif.mask" title="Int">mask</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_insertif.flag" title="Int">flag</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// 1a) insert below</span>
          <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
            case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.startgen" title="scala.collection.concurrent.Gen">startgen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.concurrent;INode.rec_insertif.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insertif.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.rec_insertif" title="(k: K, v: V, hc: Int, cond: AnyRef, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]">rec_insertif</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.cond" title="AnyRef">cond</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, this, <a href="#scala.collection.concurrent;INode.rec_insertif.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              else <span class="delimiter">{</span>
                if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insertif" title="(k: K, v: V, hc: Int, cond: AnyRef, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]">rec_insertif</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.cond" title="AnyRef">cond</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.lev" title="Int">lev</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                else null
              <span class="delimiter">}</span>
            case <span title="scala.collection.concurrent.SNode[K,V]">sn</span>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;INode.rec_insertif.cond" title="AnyRef">cond</a> match <span class="delimiter">{</span>
              case null =&gt;
                if <span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span> else null
                <span class="delimiter">}</span> else <span class="delimiter">{</span>
                  val <span title="scala.collection.concurrent.CNode[K,V]">rn</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.gen" title="=&gt; scala.collection.concurrent.Gen">gen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a> else <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                  val <span title="scala.collection.concurrent.CNode[K,V]">nn</span> = <span title="scala.collection.concurrent.CNode[K,V]">rn</span>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.inode" title="(cn: scala.collection.concurrent.MainNode[K,V])scala.collection.concurrent.INode[K,V]">inode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode" title="scala.collection.concurrent.CNode.type">CNode</a>.<a href="#scala.collection.concurrent.CNode.dual" title="(x: scala.collection.concurrent.SNode[K,V], xhc: Int, y: scala.collection.concurrent.SNode[K,V], yhc: Int, lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]">dual</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>, <span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
                  if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <span title="scala.collection.concurrent.CNode[K,V]">nn</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
                  else null
                <span class="delimiter">}</span>
              case <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_ABSENT" title="=&gt; Object">KEY_ABSENT</a> =&gt;
                if <span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span>
                else <span class="delimiter">{</span>
                  val <span title="scala.collection.concurrent.CNode[K,V]">rn</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.gen" title="=&gt; scala.collection.concurrent.Gen">gen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a> else <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                  val <span title="scala.collection.concurrent.CNode[K,V]">nn</span> = <span title="scala.collection.concurrent.CNode[K,V]">rn</span>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.inode" title="(cn: scala.collection.concurrent.MainNode[K,V])scala.collection.concurrent.INode[K,V]">inode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode" title="scala.collection.concurrent.CNode.type">CNode</a>.<a href="#scala.collection.concurrent.CNode.dual" title="(x: scala.collection.concurrent.SNode[K,V], xhc: Int, y: scala.collection.concurrent.SNode[K,V], yhc: Int, lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]">dual</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>, <span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
                  if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <span title="scala.collection.concurrent.CNode[K,V]">nn</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
                  else null
                <span class="delimiter">}</span>
              case <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_PRESENT" title="=&gt; Object">KEY_PRESENT</a> =&gt;
                if <span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span> else null
                <span class="delimiter">}</span> else <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
              case <span title="AnyRef">otherv</span> =&gt;
                if <span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a> <span title="(x$1: Any)Boolean">==</span> <span title="AnyRef">otherv</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><span title="scala.collection.concurrent.SNode[K,V]">sn</span>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span> else null
                <span class="delimiter">}</span> else <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> else <a href="#scala.collection.concurrent;INode.rec_insertif.cond" title="AnyRef">cond</a> match <span class="delimiter">{</span>
          case null | <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_ABSENT" title="=&gt; Object">KEY_ABSENT</a> =&gt;
            val <span title="scala.collection.concurrent.CNode[K,V]">rn</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.gen" title="=&gt; scala.collection.concurrent.Gen">gen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a> else <a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
            val <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.ncnode">ncnode</a> = <span title="scala.collection.concurrent.CNode[K,V]">rn</span>.<a href="#scala.collection.concurrent;CNode.insertedAt" title="(pos: Int, flag: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">insertedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.flag" title="Int">flag</a>, new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.hc" title="Int">hc</a><span class="delimiter">)</span>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ncnode" title="scala.collection.concurrent.CNode[K,V]">ncnode</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala.None" title="None.type">None</a> else null
          case <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_PRESENT" title="=&gt; Object">KEY_PRESENT</a> =&gt; <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
          case <span title="AnyRef">otherv</span> =&gt; <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
        <span class="delimiter">}</span>
      case <span title="scala.collection.concurrent.TNode[K,V]">sn</span>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
        <a href="#scala.collection.concurrent;INode.clean" title="(nd: scala.collection.concurrent.INode[K,V], ct: scala.collection.concurrent.TrieMap[K,V], lev: Int)Unit">clean</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        null
      case <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 3) an l-node</span>
        def <a title="()Boolean" id="scala.collection.concurrent;INode.rec_insertif.insertln">insertln</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          val <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;INode.rec_insertif.insertln.nn">nn</a> = <a href="#scala.collection.concurrent;INode.rec_insertif.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.inserted" title="(k: K, v: V)scala.collection.concurrent.LNode[K,V]">inserted</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.v" title="V">v</a><span class="delimiter">)</span>
          <a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.insertln.nn" title="scala.collection.concurrent.LNode[K,V]">nn</a>, <a href="#scala.collection.concurrent;INode.rec_insertif.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.collection.concurrent;INode.rec_insertif.cond" title="AnyRef">cond</a> match <span class="delimiter">{</span>
          case null =&gt;
            val <span title="Option[V]">optv</span> = <a href="#scala.collection.concurrent;INode.rec_insertif.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.insertln" title="()Boolean">insertln</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[V]">optv</span> else null
          case <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_ABSENT" title="=&gt; Object">KEY_ABSENT</a> =&gt;
            <a href="#scala.collection.concurrent;INode.rec_insertif.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
              case <a href="../../Option.scala.html#scala.None" title="None.type">None</a> =&gt; if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.insertln" title="()Boolean">insertln</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala.None" title="None.type">None</a> else null
              case <span title="Option[V]">optv</span> =&gt; <span title="Option[V]">optv</span>
            <span class="delimiter">}</span>
          case <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_PRESENT" title="=&gt; Object">KEY_PRESENT</a> =&gt;
            <a href="#scala.collection.concurrent;INode.rec_insertif.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
              case Some<span class="delimiter">(</span><span title="V">v0</span><span class="delimiter">)</span> =&gt; if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.insertln" title="()Boolean">insertln</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><span title="V">v0</span><span class="delimiter">)</span> else null
              case <a href="../../Option.scala.html#scala.None" title="None.type">None</a> =&gt; <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
            <span class="delimiter">}</span>
          case <span title="AnyRef">otherv</span> =&gt;
            <a href="#scala.collection.concurrent;INode.rec_insertif.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.k" title="K">k</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
              case Some<span class="delimiter">(</span><span title="V">v0</span><span class="delimiter">)</span> if <span title="V">v0</span> <span title="(x$1: Any)Boolean">==</span> <span title="AnyRef">otherv</span> =&gt; if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_insertif.insertln" title="()Boolean">insertln</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><span title="AnyRef">otherv</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="V" class="delimiter">[</span><a href="#scala.collection.concurrent;INode;V" title="V">V</a><span class="delimiter">]</span><span class="delimiter">)</span> else null
              case _ =&gt; <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Looks up the value associated with the key.
   *
   *  @return          null if no value has been found, RESTART if the operation wasn't successful, or any other value otherwise
   */</span>
  @tailrec def <a title="(k: K, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])AnyRef" id="scala.collection.concurrent;INode.rec_lookup">rec_lookup</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;INode.rec_lookup.k">k</a>: <a href="#scala.collection.concurrent;INode;K" title="K">K</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_lookup.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_lookup.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.parent">parent</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.rec_lookup.startgen">startgen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.rec_lookup.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.m">m</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> <span class="comment">// use -Yinline!</span>

    <a href="#scala.collection.concurrent;INode.rec_lookup.m" title="scala.collection.concurrent.MainNode[K,V]">m</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 1) a multinode</span>
        val idx = <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.hc" title="Int">hc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.concurrent;INode.rec_lookup.lev" title="Int">lev</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_lookup.idx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
        val flag = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_lookup.flag">&lt;&lt;</a> <a href="#scala.collection.concurrent;INode.rec_lookup.idx" title="Int">idx</a>
        val <a title="Int" id="scala.collection.concurrent;INode.rec_lookup.bmp">bmp</a> = <a href="#scala.collection.concurrent;INode.rec_lookup.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_lookup.flag" title="Int">flag</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> null <span class="comment">// 1a) bitmap shows no binding</span>
        else <span class="delimiter">{</span> <span class="comment">// 1b) bitmap contains a value - descend</span>
          val <a title="Int" id="scala.collection.concurrent;INode.rec_lookup.pos">pos</a> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(-1)" class="int">0xffffffff</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_lookup.idx" title="Int">idx</a> else <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.flag" title="Int">flag</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          val <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;INode.rec_lookup.sub">sub</a> = <a href="#scala.collection.concurrent;INode.rec_lookup.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.pos" title="Int">pos</a><span class="delimiter">)</span>
          <a href="#scala.collection.concurrent;INode.rec_lookup.sub" title="scala.collection.concurrent.BasicNode">sub</a> match <span class="delimiter">{</span>
            case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.isReadOnly" title="=&gt; Boolean">isReadOnly</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.startgen" title="scala.collection.concurrent.Gen">startgen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.concurrent;INode.rec_lookup.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_lookup.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.rec_lookup" title="(k: K, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])AnyRef">rec_lookup</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, this, <a href="#scala.collection.concurrent;INode.rec_lookup.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              else <span class="delimiter">{</span>
                if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_lookup" title="(k: K, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])AnyRef">rec_lookup</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.lev" title="Int">lev</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                else <a href="INodeBase.java.html#scala.collection.concurrent.INodeBase.RESTART" title="Object">RESTART</a> <span class="comment">// used to be throw RestartException</span>
              <span class="delimiter">}</span>
            case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 2) singleton node</span>
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_lookup.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_lookup.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
              else null
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      case <a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 3) non-live node</span>
        def <a title="(tn: scala.collection.concurrent.TNode[K,V])Object" id="scala.collection.concurrent;INode.rec_lookup.cleanReadOnly">cleanReadOnly</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.cleanReadOnly.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.nonReadOnly" title="=&gt; Boolean">nonReadOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.collection.concurrent;INode.clean" title="(nd: scala.collection.concurrent.INode[K,V], ct: scala.collection.concurrent.TrieMap[K,V], lev: Int)Unit">clean</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>, <a href="#scala.collection.concurrent;INode.rec_lookup.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
          <a href="INodeBase.java.html#scala.collection.concurrent.INodeBase.RESTART" title="Object">RESTART</a> <span class="comment">// used to be throw RestartException</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.cleanReadOnly.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a>.<a href="#scala.collection.concurrent;TNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_lookup.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.rec_lookup.cleanReadOnly.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a>.<a href="#scala.collection.concurrent;TNode.k" title="=&gt; K">k</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.collection.concurrent;INode.rec_lookup.k" title="K">k</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_lookup.cleanReadOnly.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a>.<a href="#scala.collection.concurrent;TNode.v" title="=&gt; V">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span>
          else null
        <span class="delimiter">}</span>
        <a href="#scala.collection.concurrent;INode.rec_lookup.cleanReadOnly" title="(tn: scala.collection.concurrent.TNode[K,V])Object">cleanReadOnly</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a><span class="delimiter">)</span>
      case <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;INode.rec_lookup.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <span class="comment">// 5) an l-node</span>
        <a href="#scala.collection.concurrent;INode.rec_lookup.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_lookup.k" title="K">k</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[AnyRef]" class="delimiter">[</span><a href="../../Option.scala.html#scala;Option" title="Option[AnyRef]">Option</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../../Option.scala.html#scala;Option.orNull" title="(implicit ev: &lt;:&lt;[Null,AnyRef])AnyRef">orNull</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Removes the key associated with the given value.
   *
   *  @param v         if null, will remove the key irregardless of the value; otherwise removes only if binding contains that exact key and value
   *  @return          null if not successful, an Option[V] indicating the previous value otherwise
   */</span>
  def <a title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]" id="scala.collection.concurrent;INode.rec_remove">rec_remove</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;INode.rec_remove.k">k</a>: <a href="#scala.collection.concurrent;INode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;INode.rec_remove.v">v</a>: <a href="#scala.collection.concurrent;INode;V" title="V">V</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_remove.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.concurrent;INode.rec_remove.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_remove.parent">parent</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;INode.rec_remove.startgen">startgen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.rec_remove.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.m">m</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> <span class="comment">// use -Yinline!</span>

    <a href="#scala.collection.concurrent;INode.rec_remove.m" title="scala.collection.concurrent.MainNode[K,V]">m</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
        val idx = <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.hc" title="Int">hc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_remove.idx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
        val <a title="Int" id="scala.collection.concurrent;INode.rec_remove.bmp">bmp</a> = <a href="#scala.collection.concurrent;INode.rec_remove.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
        val flag = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_remove.flag">&lt;&lt;</a> <a href="#scala.collection.concurrent;INode.rec_remove.idx" title="Int">idx</a>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_remove.flag" title="Int">flag</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
        else <span class="delimiter">{</span>
          val <a title="Int" id="scala.collection.concurrent;INode.rec_remove.pos">pos</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.flag" title="Int">flag</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          val <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;INode.rec_remove.sub">sub</a> = <a href="#scala.collection.concurrent;INode.rec_remove.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.pos" title="Int">pos</a><span class="delimiter">)</span>
          val <a title="Option[V]" id="scala.collection.concurrent;INode.rec_remove.res">res</a> = <a href="#scala.collection.concurrent;INode.rec_remove.sub" title="scala.collection.concurrent.BasicNode">sub</a> match <span class="delimiter">{</span>
            case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.rec_remove.res.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.startgen" title="scala.collection.concurrent.Gen">startgen</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.concurrent;INode.rec_remove.res.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_remove.res.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.rec_remove" title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]">rec_remove</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_remove.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_remove.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, this, <a href="#scala.collection.concurrent;INode.rec_remove.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              else <span class="delimiter">{</span>
                if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_remove.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.renewed" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]">renewed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_remove" title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]">rec_remove</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_remove.v" title="V">v</a>, <a href="#scala.collection.concurrent;INode.rec_remove.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a>, <a href="#scala.collection.concurrent;INode.rec_remove.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_remove.startgen" title="scala.collection.concurrent.Gen">startgen</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
                else null
              <span class="delimiter">}</span>
            case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.res.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.res.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent;INode.rec_remove.hc" title="Int">hc</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;INode.equal" title="(k1: K, k2: K, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">equal</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.res.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.v" title="V">v</a> <span title="(x$1: Any)Boolean">==</span> null <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.collection.concurrent;INode.rec_remove.res.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.collection.concurrent;INode.rec_remove.v" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.res.ncn">ncn</a> = <a href="#scala.collection.concurrent;INode.rec_remove.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.removedAt" title="(pos: Int, flag: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">removedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.rec_remove.flag" title="Int">flag</a>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>.<a href="#scala.collection.concurrent;CNode.toContracted" title="(lev: Int)scala.collection.concurrent.MainNode[K,V]">toContracted</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a><span class="delimiter">)</span>
                if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_remove.res.ncn" title="scala.collection.concurrent.MainNode[K,V]">ncn</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Option.scala.html#scala;Some" title="(x: V)Some[V]">Some</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.res.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span> else null
              <span class="delimiter">}</span> else <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
          <span class="delimiter">}</span>

          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.res" title="Option[V]">res</a> <span title="(x$1: Any)Boolean">==</span> <a href="../../Option.scala.html#scala.None" title="None.type">None</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.res" title="Option[V]">res</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_remove.res" title="Option[V]">res</a>
          else <span class="delimiter">{</span>
            @tailrec def <a title="(nonlive: AnyRef)Unit" id="scala.collection.concurrent;INode.rec_remove.cleanParent">cleanParent</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;INode.rec_remove.cleanParent.nonlive">nonlive</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.cleanParent.pm">pm</a> = <a href="#scala.collection.concurrent;INode.rec_remove.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>.<a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.pm" title="scala.collection.concurrent.MainNode[K,V]">pm</a> match <span class="delimiter">{</span>
                case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.cleanParent.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
                  val idx = <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.hc" title="Int">hc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_remove.cleanParent.idx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
                  val <a title="Int" id="scala.collection.concurrent;INode.rec_remove.cleanParent.bmp">bmp</a> = <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
                  val flag = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.concurrent;INode.rec_remove.cleanParent.flag">&lt;&lt;</a> <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.idx" title="Int">idx</a>
                  if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.flag" title="Int">flag</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span> <span class="comment">// somebody already removed this i-node, we're done</span>
                  else <span class="delimiter">{</span>
                    val <a title="Int" id="scala.collection.concurrent;INode.rec_remove.cleanParent.pos">pos</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.flag" title="Int">flag</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    val <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;INode.rec_remove.cleanParent.sub">sub</a> = <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.pos" title="Int">pos</a><span class="delimiter">)</span>
                    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.sub" title="scala.collection.concurrent.BasicNode">sub</a> <span title="(x$1: AnyRef)Boolean">eq</span> this<span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.nonlive" title="AnyRef">nonlive</a> match <span class="delimiter">{</span>
                      case <a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.cleanParent.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
                        val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.cleanParent.ncn">ncn</a> = <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.updatedAt" title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]">updatedAt</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a>.<a href="#scala.collection.concurrent;TNode.copyUntombed" title="=&gt; scala.collection.concurrent.SNode[K,V]">copyUntombed</a>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>.<a href="#scala.collection.concurrent;CNode.toContracted" title="(lev: Int)scala.collection.concurrent.MainNode[K,V]">toContracted</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
                        if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.collection.concurrent;INode.rec_remove.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>.<a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.ncn" title="scala.collection.concurrent.MainNode[K,V]">ncn</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.readRoot" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">readRoot</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.collection.concurrent;INode.rec_remove.startgen" title="scala.collection.concurrent.Gen">startgen</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent" title="(nonlive: AnyRef)Unit">cleanParent</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.cleanParent.nonlive" title="AnyRef">nonlive</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                case _ =&gt; <span class="comment">// parent is no longer a cnode, we're done</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.parent" title="scala.collection.concurrent.INode[K,V]">parent</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// never tomb at root</span>
              val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.n">n</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
              if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.n" title="scala.collection.concurrent.MainNode[K,V]">n</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[_, _]">TNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
                <a href="#scala.collection.concurrent;INode.rec_remove.cleanParent" title="(nonlive: AnyRef)Unit">cleanParent</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.n" title="scala.collection.concurrent.MainNode[K,V]">n</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <a href="#scala.collection.concurrent;INode.rec_remove.res" title="Option[V]">res</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      case <a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
        <a href="#scala.collection.concurrent;INode.clean" title="(nd: scala.collection.concurrent.INode[K,V], ct: scala.collection.concurrent.TrieMap[K,V], lev: Int)Unit">clean</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.parent" title="scala.collection.concurrent.INode[K,V]">parent</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>, <a href="#scala.collection.concurrent;INode.rec_remove.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        null
      case <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;INode.rec_remove.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
        if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.v" title="V">v</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
          val <span title="Option[V]">optv</span> = <a href="#scala.collection.concurrent;INode.rec_remove.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a><span class="delimiter">)</span>
          val <span title="scala.collection.concurrent.MainNode[K,V]">nn</span> = <a href="#scala.collection.concurrent;INode.rec_remove.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.removed" title="(k: K, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">removed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>, <span title="scala.collection.concurrent.MainNode[K,V]">nn</span>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[V]">optv</span> else null
        <span class="delimiter">}</span> else <a href="#scala.collection.concurrent;INode.rec_remove.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.get" title="(k: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <span title="Some[V]">optv</span> @ Some<span class="delimiter">(</span><a title="V" id="scala.collection.concurrent;INode.rec_remove.v0">v0</a><span class="delimiter">)</span> if <a href="#scala.collection.concurrent;INode.rec_remove.v0" title="V">v0</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.collection.concurrent;INode.rec_remove.v" title="V">v</a> =&gt;
            val <span title="scala.collection.concurrent.MainNode[K,V]">nn</span> = <a href="#scala.collection.concurrent;INode.rec_remove.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.removed" title="(k: K, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">removed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.k" title="K">k</a>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.rec_remove.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>, <span title="scala.collection.concurrent.MainNode[K,V]">nn</span>, <a href="#scala.collection.concurrent;INode.rec_remove.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Some[V]">optv</span> else null
          case _ =&gt; <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(nd: scala.collection.concurrent.INode[K,V], ct: scala.collection.concurrent.TrieMap[K,V], lev: Int)Unit" id="scala.collection.concurrent;INode.clean">clean</a><span class="delimiter">(</span><a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;INode.clean.nd">nd</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.clean.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Int" id="scala.collection.concurrent;INode.clean.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.clean.m">m</a> = <a href="#scala.collection.concurrent;INode.clean.nd" title="scala.collection.concurrent.INode[K,V]">nd</a>.<a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.clean.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;INode.clean.m" title="scala.collection.concurrent.MainNode[K,V]">m</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;INode.clean.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;INode.clean.nd" title="scala.collection.concurrent.INode[K,V]">nd</a>.<a href="#scala.collection.concurrent;INode.GCAS" title="(old: scala.collection.concurrent.MainNode[K,V], n: scala.collection.concurrent.MainNode[K,V], ct: scala.collection.concurrent.TrieMap[K,V])Boolean">GCAS</a><span title="Unit" class="delimiter">(</span><a href="#scala.collection.concurrent;INode.clean.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent;INode.clean.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.toCompressed" title="(ct: scala.collection.concurrent.TrieMap[K,V], lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]">toCompressed</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.clean.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>, <a href="#scala.collection.concurrent;INode.clean.lev" title="Int">lev</a>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent;INode.clean.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
      case _ =&gt;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="(ct: scala.collection.concurrent.TrieMap[K,V])Boolean" id="scala.collection.concurrent;INode.isNullInode">isNullInode</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.isNullInode.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.isNullInode.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> null

  def <a title="(ct: scala.collection.concurrent.TrieMap[K,V])Int" id="scala.collection.concurrent;INode.cachedSize">cachedSize</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;INode.cachedSize.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.cachedSize.m">m</a> = <a href="#scala.collection.concurrent;INode.GCAS_READ" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">GCAS_READ</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.cachedSize.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;INode.cachedSize.m" title="scala.collection.concurrent.MainNode[K,V]">m</a>.<a href="MainNode.java.html#scala.collection.concurrent;MainNode.cachedSize" title="(ct: Any)Int">cachedSize</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.cachedSize.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/* this is a quiescent method! */</span>
  def <a title="(lev: Int)String" id="scala.collection.concurrent;INode.string">string</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;INode.string.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%sINode -&gt; %s&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;  &quot;</a> <a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.*" title="(n: Int)String">*</a> <a href="#scala.collection.concurrent;INode.string.lev" title="Int">lev</a>, <a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.mainnode" title="scala.collection.concurrent.MainNode[K,V]">mainnode</a> match <span class="delimiter">{</span>
    case null =&gt; <span title="String(&quot;&lt;null&gt;&quot;)" class="string">&quot;&lt;null&gt;&quot;</span>
    case <a title="scala.collection.concurrent.TNode[_,_]" id="scala.collection.concurrent;INode.string.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[_,_]">TNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;TNode(%s, %s, %d, !)&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.string.tn" title="scala.collection.concurrent.TNode[_,_]">tn</a>.<a href="#scala.collection.concurrent;TNode.k" title="=&gt; _">k</a>, <a href="#scala.collection.concurrent;INode.string.tn" title="scala.collection.concurrent.TNode[_,_]">tn</a>.<a href="#scala.collection.concurrent;TNode.v" title="=&gt; _">v</a>, <a href="#scala.collection.concurrent;INode.string.tn" title="scala.collection.concurrent.TNode[_,_]">tn</a>.<a href="#scala.collection.concurrent;TNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
    case <a title="scala.collection.concurrent.CNode[_,_]" id="scala.collection.concurrent;INode.string.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[_,_]">CNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;INode.string.cn" title="scala.collection.concurrent.CNode[_,_]">cn</a>.<a href="#scala.collection.concurrent;CNode.string" title="(lev: Int)String">string</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.string.lev" title="Int">lev</a><span class="delimiter">)</span>
    case <a title="scala.collection.concurrent.LNode[_,_]" id="scala.collection.concurrent;INode.string.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[_,_]">LNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;INode.string.ln" title="scala.collection.concurrent.LNode[_,_]">ln</a>.<a href="#scala.collection.concurrent;LNode.string" title="(lev: Int)String">string</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.string.lev" title="Int">lev</a><span class="delimiter">)</span>
    case <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;INode.string.x">x</a> =&gt; <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&lt;elem: %s&gt;&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;INode.string.x" title="scala.collection.concurrent.MainNode[K,V]">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

<span class="delimiter">}</span>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> object <a title="scala.collection.concurrent.INode.type" id="scala.collection.concurrent.INode">INode</a> <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type" class="delimiter">{</a>
  val <a title="Object" id="scala.collection.concurrent.INode.KEY_PRESENT">KEY_PRESENT</a> = new <span title="Object">AnyRef</span>
  val <a title="Object" id="scala.collection.concurrent.INode.KEY_ABSENT">KEY_ABSENT</a> = new <span title="Object">AnyRef</span>

  def <a title="[K, V]=&gt; scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent.INode.newRootNode">newRootNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent.INode.newRootNode;K">K</a>, <a title="" id="scala.collection.concurrent.INode.newRootNode;V">V</a><span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent.INode.newRootNode.gen">gen</a> = new <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>
    val <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent.INode.newRootNode.cn">cn</a> = new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <a href="#scala.collection.concurrent.INode.newRootNode.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
    new <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent.INode.newRootNode.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>, <a href="#scala.collection.concurrent.INode.newRootNode.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> final class <a title="class FailedNode[K, V] extends scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;FailedNode">FailedNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;FailedNode;K">K</a>, <a title="" id="scala.collection.concurrent;FailedNode;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent;FailedNode" title="scala.collection.concurrent.FailedNode[K,V]" class="delimiter">(</a><a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;FailedNode.p">p</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> <span class="delimiter">{</span>
  <a href="MainNode.java.html#scala.collection.concurrent;MainNode.WRITE_PREV" title="(nval: scala.collection.concurrent.MainNode[K,V])Unit">WRITE_PREV</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;FailedNode.p" title="scala.collection.concurrent.MainNode[K,V]">p</a><span class="delimiter">)</span>

  def <a title="(lev: Int)Nothing" id="scala.collection.concurrent;FailedNode.string">string</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;FailedNode.string.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = throw new <a href="../../package.scala.html#scala.package;UnsupportedOperationException" title="UnsupportedOperationException">UnsupportedOperationException</a>

  def <a title="(ct: AnyRef)Int" id="scala.collection.concurrent;FailedNode.cachedSize">cachedSize</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;FailedNode.cachedSize.ct">ct</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = throw new <a href="../../package.scala.html#scala.package;UnsupportedOperationException" title="UnsupportedOperationException">UnsupportedOperationException</a>

  override def <a title="()String" id="scala.collection.concurrent;FailedNode.toString">toString</a> = <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;FailedNode(%s)&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;FailedNode.p" title="scala.collection.concurrent.MainNode[K,V]">p</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> trait <a title="trait KVNode[K, V] extends AnyRef" id="scala.collection.concurrent;KVNode">KVNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;KVNode;K">K</a>, <a title="" id="scala.collection.concurrent;KVNode;V">V</a><span class="delimiter">]</span> <span class="delimiter">{</span>
  def <a title="=&gt; (K, V)" id="scala.collection.concurrent;KVNode.kvPair">kvPair</a>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V)" class="delimiter">(</a>K, V<span class="delimiter">)</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>collection<span class="delimiter">]</span> final class <a title="class SNode[K, V] extends scala.collection.concurrent.BasicNode with scala.collection.concurrent.KVNode[K,V]" id="scala.collection.concurrent;SNode">SNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;SNode;K">K</a>, <a title="" id="scala.collection.concurrent;SNode;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]" class="delimiter">(</a>final val <a title="K" id="scala.collection.concurrent;SNode.k">k</a>: <a href="#scala.collection.concurrent;SNode;K" title="K">K</a>, final val <a title="V" id="scala.collection.concurrent;SNode.v">v</a>: <a href="#scala.collection.concurrent;SNode;V" title="V">V</a>, final val <a title="Int" id="scala.collection.concurrent;SNode.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>
extends <a href="BasicNode.java.html#scala.collection.concurrent;BasicNode" title="scala.collection.concurrent.BasicNode">BasicNode</a> with <a href="#scala.collection.concurrent;KVNode" title="scala.collection.concurrent.KVNode[K,V]">KVNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> <span class="delimiter">{</span>
  final def <a title="=&gt; scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;SNode.copy">copy</a> = new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
  final def <a title="=&gt; scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;SNode.copyTombed">copyTombed</a> = new <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
  final def <a title="=&gt; scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;SNode.copyUntombed">copyUntombed</a> = new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
  final def <a title="=&gt; (K, V)" id="scala.collection.concurrent;SNode.kvPair">kvPair</a> = <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: K, _2: V)(K, V)" class="delimiter">(</a><a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span>
  final def <a title="(lev: Int)String" id="scala.collection.concurrent;SNode.string">string</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;SNode.string.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;  &quot;</a> <a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.*" title="(n: Int)String">*</a> <a href="#scala.collection.concurrent;SNode.string.lev" title="Int">lev</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;SNode(%s, %s, %x)&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;SNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>collection<span class="delimiter">]</span> final class <a title="class TNode[K, V] extends scala.collection.concurrent.MainNode[K,V] with scala.collection.concurrent.KVNode[K,V]" id="scala.collection.concurrent;TNode">TNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;TNode;K">K</a>, <a title="" id="scala.collection.concurrent;TNode;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]" class="delimiter">(</a>final val <a title="K" id="scala.collection.concurrent;TNode.k">k</a>: <a href="#scala.collection.concurrent;TNode;K" title="K">K</a>, final val <a title="V" id="scala.collection.concurrent;TNode.v">v</a>: <a href="#scala.collection.concurrent;TNode;V" title="V">V</a>, final val <a title="Int" id="scala.collection.concurrent;TNode.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>
extends <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> with <a href="#scala.collection.concurrent;KVNode" title="scala.collection.concurrent.KVNode[K,V]">KVNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> <span class="delimiter">{</span>
  final def <a title="=&gt; scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;TNode.copy">copy</a> = new <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;TNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;TNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
  final def <a title="=&gt; scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;TNode.copyTombed">copyTombed</a> = new <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;TNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;TNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
  final def <a title="=&gt; scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;TNode.copyUntombed">copyUntombed</a> = new <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;TNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;TNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
  final def <a title="=&gt; (K, V)" id="scala.collection.concurrent;TNode.kvPair">kvPair</a> = <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: K, _2: V)(K, V)" class="delimiter">(</a><a href="#scala.collection.concurrent;TNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;TNode.v" title="=&gt; V">v</a><span class="delimiter">)</span>
  final def <a title="(ct: AnyRef)Int" id="scala.collection.concurrent;TNode.cachedSize">cachedSize</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;TNode.cachedSize.ct">ct</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span title="Int(1)" class="int">1</span>
  final def <a title="(lev: Int)String" id="scala.collection.concurrent;TNode.string">string</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;TNode.string.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;  &quot;</a> <a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.*" title="(n: Int)String">*</a> <a href="#scala.collection.concurrent;TNode.string.lev" title="Int">lev</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;TNode(%s, %s, %x, !)&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent;TNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent;TNode.hc" title="=&gt; Int">hc</a><span class="delimiter">)</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>collection<span class="delimiter">]</span> final class <a title="class LNode[K, V] extends scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;LNode">LNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;LNode;K">K</a>, <a title="" id="scala.collection.concurrent;LNode;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]" class="delimiter">(</a>final val <a title="scala.collection.immutable.ListMap[K,V]" id="scala.collection.concurrent;LNode.listmap">listmap</a>: immutable.<a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap" title="scala.collection.immutable.ListMap[K,V]">ListMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>
extends <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> <span class="delimiter">{</span>
  def this<span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;LNode.<init>(51bf861b0c).k">k</a>: <a href="#scala.collection.concurrent;LNode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;LNode.<init>(51bf861b0c).v">v</a>: <a href="#scala.collection.concurrent;LNode;V" title="V">V</a><span class="delimiter">)</span> = this<span class="delimiter">(</span>immutable.<a href="../generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="(elems: (K, V)*)scala.collection.immutable.ListMap[K,V]">ListMap</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: K)ArrowAssoc[K]">k</a> <a href="../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: V)(K, V)">-&gt;</a> <a href="#scala.collection.concurrent;LNode.<init>(51bf861b0c).v" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def this<span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;LNode.<init>(af586af679).k1">k1</a>: <a href="#scala.collection.concurrent;LNode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;LNode.<init>(af586af679).v1">v1</a>: <a href="#scala.collection.concurrent;LNode;V" title="V">V</a>, <a title="K" id="scala.collection.concurrent;LNode.<init>(af586af679).k2">k2</a>: <a href="#scala.collection.concurrent;LNode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;LNode.<init>(af586af679).v2">v2</a>: <a href="#scala.collection.concurrent;LNode;V" title="V">V</a><span class="delimiter">)</span> = this<span class="delimiter">(</span>immutable.<a href="../generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory.apply" title="(elems: (K, V)*)scala.collection.immutable.ListMap[K,V]">ListMap</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: K)ArrowAssoc[K]">k1</a> <a href="../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: V)(K, V)">-&gt;</a> <a href="#scala.collection.concurrent;LNode.<init>(af586af679).v1" title="V">v1</a>, <a href="../../Predef.scala.html#scala.Predef.ArrowAssoc(fefc64a42a)" title="(self: K)ArrowAssoc[K]">k2</a> <a href="../../Predef.scala.html#scala.Predef;ArrowAssoc.->" title="(y: V)(K, V)">-&gt;</a> <a href="#scala.collection.concurrent;LNode.<init>(af586af679).v2" title="V">v2</a><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(k: K, v: V)scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;LNode.inserted">inserted</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;LNode.inserted.k">k</a>: <a href="#scala.collection.concurrent;LNode;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;LNode.inserted.v">v</a>: <a href="#scala.collection.concurrent;LNode;V" title="V">V</a><span class="delimiter">)</span> = new <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a> <a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.+(0a9f694c31)" title="(kv: (K, V))scala.collection.immutable.ListMap[K,V]">+</a> <span class="delimiter">(</span><a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: K, _2: V)(K, V)" class="delimiter">(</a><a href="#scala.collection.concurrent;LNode.inserted.k" title="K">k</a>, <a href="#scala.collection.concurrent;LNode.inserted.v" title="V">v</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  def <a title="(k: K, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;LNode.removed">removed</a><span class="delimiter">(</span><span title="K">k</span>: <a href="#scala.collection.concurrent;LNode;K" title="K">K</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;LNode.removed.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val updmap = <a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a> <a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.-(7134eeced7)" title="scala.collection.immutable.ListMap[K,V]" id="scala.collection.concurrent;LNode.removed.updmap">-</a> <span title="K">k</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;LNode.removed.updmap" title="scala.collection.immutable.ListMap[K,V]">updmap</a>.<a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> new <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;LNode.removed.updmap" title="scala.collection.immutable.ListMap[K,V]">updmap</a><span class="delimiter">)</span>
    else <span class="delimiter">{</span>
      val <a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V)" class="delimiter">(</a><a href="../../Tuple2.scala.html#scala;Tuple2._1" title="K" id="scala.collection.concurrent;LNode.removed.x$1.k">k</a>, <a href="../../Tuple2.scala.html#scala;Tuple2._2" title="V" id="scala.collection.concurrent;LNode.removed.v">v</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;LNode.removed.updmap" title="scala.collection.immutable.ListMap[K,V]">updmap</a>.<a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.iterator" title="=&gt; Iterator[(K, V)]">iterator</a>.<a href="../Iterator.scala.html#scala.collection;Iterator.next" title="()(K, V)">next</a><a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>
      new <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">(</span><span title="K">k</span>, <a href="#scala.collection.concurrent;LNode.removed.v" title="V">v</a>, <a href="#scala.collection.concurrent;LNode.removed.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><span title="K">k</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// create it tombed so that it gets compressed on subsequent accesses</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  def <a title="(k: K)Option[V]" id="scala.collection.concurrent;LNode.get">get</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;LNode.get.k">k</a>: <a href="#scala.collection.concurrent;LNode;K" title="K">K</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a>.<a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.get" title="(key: K)Option[V]">get</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;LNode.get.k" title="K">k</a><span class="delimiter">)</span>
  def <a title="(ct: AnyRef)Int" id="scala.collection.concurrent;LNode.cachedSize">cachedSize</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;LNode.cachedSize.ct">ct</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a>.<a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.size" title="=&gt; Int">size</a>
  def <a title="(lev: Int)String" id="scala.collection.concurrent;LNode.string">string</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;LNode.string.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; &quot;</a> <a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.*" title="(n: Int)String">*</a> <a href="#scala.collection.concurrent;LNode.string.lev" title="Int">lev</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;LNode(%s)&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>collection<span class="delimiter">]</span> final class <a title="class CNode[K, V] extends scala.collection.concurrent.CNodeBase[K,V]" id="scala.collection.concurrent;CNode">CNode</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;CNode;K">K</a>, <a title="" id="scala.collection.concurrent;CNode;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]" class="delimiter">(</a>val <a title="Int" id="scala.collection.concurrent;CNode.bitmap">bitmap</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.array">array</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">[</span>BasicNode<span class="delimiter">]</span>, val <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;CNode.gen">gen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> extends <a href="CNodeBase.java.html#scala.collection.concurrent;CNodeBase" title="scala.collection.concurrent.CNodeBase[K,V]">CNodeBase</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">// this should only be called from within read-only snapshots</span>
  def <a title="(ct: AnyRef)Int" id="scala.collection.concurrent;CNode.cachedSize">cachedSize</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;CNode.cachedSize.ct">ct</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;CNode.cachedSize.currsz">currsz</a> = <a href="CNodeBase.java.html#scala.collection.concurrent;CNodeBase.READ_SIZE" title="()Int">READ_SIZE</a><span class="delimiter">(</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.cachedSize.currsz" title="Int">currsz</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;CNode.cachedSize.currsz" title="Int">currsz</a>
    else <span class="delimiter">{</span>
      val <a title="Int" id="scala.collection.concurrent;CNode.cachedSize.sz">sz</a> = <a href="#scala.collection.concurrent;CNode.computeSize" title="(ct: scala.collection.concurrent.TrieMap[K,V])Int">computeSize</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.cachedSize.ct" title="AnyRef">ct</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.concurrent.TrieMap[K,V]" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
      while <span class="delimiter">(</span><a href="CNodeBase.java.html#scala.collection.concurrent;CNodeBase.READ_SIZE" title="()Int">READ_SIZE</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="CNodeBase.java.html#scala.collection.concurrent;CNodeBase.CAS_SIZE" title="(oldval: Int, nval: Int)Boolean">CAS_SIZE</a><a href="#scala.collection.concurrent;CNode.cachedSize.while$1" title="()Unit" class="delimiter">(</a>-<span title="Int(-1)" class="int">1</span>, <a href="#scala.collection.concurrent;CNode.cachedSize.sz" title="Int">sz</a><span class="delimiter">)</span>
      <a href="CNodeBase.java.html#scala.collection.concurrent;CNodeBase.READ_SIZE" title="()Int">READ_SIZE</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// lends itself towards being parallelizable by choosing</span>
  <span class="comment">// a random starting offset in the array</span>
  <span class="comment">// =&gt; if there are concurrent size computations, they start</span>
  <span class="comment">//    at different positions, so they are more likely to</span>
  <span class="comment">//    to be independent</span>
  private def <a title="(ct: scala.collection.concurrent.TrieMap[K,V])Int" id="scala.collection.concurrent;CNode.computeSize">computeSize</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;CNode.computeSize.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
    var <a title="Int" id="scala.collection.concurrent;CNode.computeSize.i">i</a> = <span title="Int(0)" class="int">0</span>
    var <a title="Int" id="scala.collection.concurrent;CNode.computeSize.sz">sz</a> = <span title="Int(0)" class="int">0</span>
    val <a title="Int" id="scala.collection.concurrent;CNode.computeSize.offset">offset</a> =
      if <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <span class="comment">//util.Random.nextInt(array.length) /* &lt;-- benchmarks show that this causes observable contention */</span>
        scala.concurrent.forkjoin.<span title="scala.concurrent.forkjoin.ThreadLocalRandom.type">ThreadLocalRandom</span>.<span title="()scala.concurrent.forkjoin.ThreadLocalRandom">current</span>.<span title="(x$1: Int, x$2: Int)Int">nextInt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
      else <span title="Int(0)" class="int">0</span>
    while <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.computeSize.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;CNode.computeSize.while$2" title="()Unit" class="delimiter">{</a>
      val pos = <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.computeSize.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.concurrent;CNode.computeSize.offset" title="Int">offset</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.%(1409840560)" title="Int" id="scala.collection.concurrent;CNode.computeSize.pos">%</a> <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>
      <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.computeSize.pos" title="Int">pos</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <a title="scala.collection.concurrent.SNode[_,_]" id="scala.collection.concurrent;CNode.computeSize.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[_,_]">SNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.computeSize.sz" title="Int">sz</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;CNode.computeSize.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.computeSize.sz" title="Int">sz</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="#scala.collection.concurrent;CNode.computeSize.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.cachedSize" title="(ct: scala.collection.concurrent.TrieMap[K,V])Int">cachedSize</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.computeSize.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.collection.concurrent;CNode.computeSize.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <a href="#scala.collection.concurrent;CNode.computeSize.sz" title="Int">sz</a>
  <span class="delimiter">}</span>

  def <a title="(pos: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;CNode.updatedAt">updatedAt</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;CNode.updatedAt.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;CNode.updatedAt.nn">nn</a>: <a href="BasicNode.java.html#scala.collection.concurrent;BasicNode" title="scala.collection.concurrent.BasicNode">BasicNode</a>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;CNode.updatedAt.gen">gen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;CNode.updatedAt.len">len</a> = <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.updatedAt.narr">narr</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">[</span>BasicNode<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.updatedAt.len" title="Int">len</a><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.updatedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.updatedAt.len" title="Int">len</a><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.concurrent.BasicNode)Unit">narr</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.updatedAt.pos" title="Int">pos</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;CNode.updatedAt.nn" title="scala.collection.concurrent.BasicNode">nn</a>
    new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>, <a href="#scala.collection.concurrent;CNode.updatedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <a href="#scala.collection.concurrent;CNode.updatedAt.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(pos: Int, flag: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;CNode.removedAt">removedAt</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;CNode.removedAt.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.concurrent;CNode.removedAt.flag">flag</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;CNode.removedAt.gen">gen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.removedAt.arr">arr</a> = <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>
    val <a title="Int" id="scala.collection.concurrent;CNode.removedAt.len">len</a> = <a href="#scala.collection.concurrent;CNode.removedAt.arr" title="Array[scala.collection.concurrent.BasicNode]">arr</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.removedAt.narr">narr</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">[</span>BasicNode<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.removedAt.len" title="Int">len</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.removedAt.arr" title="Array[scala.collection.concurrent.BasicNode]">arr</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.removedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.removedAt.pos" title="Int">pos</a><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.removedAt.arr" title="Array[scala.collection.concurrent.BasicNode]">arr</a>, <a href="#scala.collection.concurrent;CNode.removedAt.pos" title="Int">pos</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.concurrent;CNode.removedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <a href="#scala.collection.concurrent;CNode.removedAt.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;CNode.removedAt.len" title="Int">len</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.concurrent;CNode.removedAt.pos" title="Int">pos</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="(x: Int)Int">^</a> <a href="#scala.collection.concurrent;CNode.removedAt.flag" title="Int">flag</a>, <a href="#scala.collection.concurrent;CNode.removedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <a href="#scala.collection.concurrent;CNode.removedAt.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(pos: Int, flag: Int, nn: scala.collection.concurrent.BasicNode, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;CNode.insertedAt">insertedAt</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;CNode.insertedAt.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.concurrent;CNode.insertedAt.flag">flag</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;CNode.insertedAt.nn">nn</a>: <a href="BasicNode.java.html#scala.collection.concurrent;BasicNode" title="scala.collection.concurrent.BasicNode">BasicNode</a>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;CNode.insertedAt.gen">gen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;CNode.insertedAt.len">len</a> = <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>
    val <a title="Int" id="scala.collection.concurrent;CNode.insertedAt.bmp">bmp</a> = <a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.insertedAt.narr">narr</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">[</span>BasicNode<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.insertedAt.len" title="Int">len</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.insertedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;CNode.insertedAt.pos" title="Int">pos</a><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.concurrent.BasicNode)Unit">narr</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.insertedAt.pos" title="Int">pos</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;CNode.insertedAt.nn" title="scala.collection.concurrent.BasicNode">nn</a>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>, <a href="#scala.collection.concurrent;CNode.insertedAt.pos" title="Int">pos</a>, <a href="#scala.collection.concurrent;CNode.insertedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <a href="#scala.collection.concurrent;CNode.insertedAt.pos" title="Int">pos</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.concurrent;CNode.insertedAt.len" title="Int">len</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.concurrent;CNode.insertedAt.pos" title="Int">pos</a><span class="delimiter">)</span>
    new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.insertedAt.bmp" title="Int">bmp</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|</a> <a href="#scala.collection.concurrent;CNode.insertedAt.flag" title="Int">flag</a>, <a href="#scala.collection.concurrent;CNode.insertedAt.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <a href="#scala.collection.concurrent;CNode.insertedAt.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Returns a copy of this cnode such that all the i-nodes below it are copied
   *  to the specified generation `ngen`.
   */</span>
  def <a title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;CNode.renewed">renewed</a><span class="delimiter">(</span><a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;CNode.renewed.ngen">ngen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;CNode.renewed.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    var <a title="Int" id="scala.collection.concurrent;CNode.renewed.i">i</a> = <span title="Int(0)" class="int">0</span>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.renewed.arr">arr</a> = <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>
    val <a title="Int" id="scala.collection.concurrent;CNode.renewed.len">len</a> = <a href="#scala.collection.concurrent;CNode.renewed.arr" title="Array[scala.collection.concurrent.BasicNode]">arr</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.renewed.narr">narr</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">[</span>BasicNode<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.renewed.len" title="Int">len</a><span class="delimiter">)</span>
    while <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.renewed.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.concurrent;CNode.renewed.len" title="Int">len</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;CNode.renewed.while$3" title="()Unit" class="delimiter">{</a>
      <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">arr</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.renewed.i" title="Int">i</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;CNode.renewed.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.concurrent.BasicNode)Unit">narr</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.renewed.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;CNode.renewed.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.copyToGen" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.INode[K,V]">copyToGen</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.renewed.ngen" title="scala.collection.concurrent.Gen">ngen</a>, <a href="#scala.collection.concurrent;CNode.renewed.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
        case <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;CNode.renewed.bn">bn</a>: <a href="BasicNode.java.html#scala.collection.concurrent;BasicNode" title="scala.collection.concurrent.BasicNode">BasicNode</a> =&gt; <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.concurrent.BasicNode)Unit">narr</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.renewed.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;CNode.renewed.bn" title="scala.collection.concurrent.BasicNode">bn</a>
      <span class="delimiter">}</span>
      <a href="#scala.collection.concurrent;CNode.renewed.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>, <a href="#scala.collection.concurrent;CNode.renewed.narr" title="Array[scala.collection.concurrent.BasicNode]">narr</a>, <a href="#scala.collection.concurrent;CNode.renewed.ngen" title="scala.collection.concurrent.Gen">ngen</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(inode: scala.collection.concurrent.INode[K,V], inodemain: AnyRef)scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;CNode.resurrect">resurrect</a><span class="delimiter">(</span><a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;CNode.resurrect.inode">inode</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="AnyRef" id="scala.collection.concurrent;CNode.resurrect.inodemain">inodemain</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="BasicNode.java.html#scala.collection.concurrent;BasicNode" title="scala.collection.concurrent.BasicNode">BasicNode</a> = <a href="#scala.collection.concurrent;CNode.resurrect.inodemain" title="AnyRef">inodemain</a> match <span class="delimiter">{</span>
    case <a title="scala.collection.concurrent.TNode[_,_]" id="scala.collection.concurrent;CNode.resurrect.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[_,_]">TNode</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.resurrect.tn" title="scala.collection.concurrent.TNode[_,_]">tn</a>.<a href="#scala.collection.concurrent;TNode.copyUntombed" title="=&gt; scala.collection.concurrent.SNode[_,_]">copyUntombed</a>
    case _ =&gt; <a href="#scala.collection.concurrent;CNode.resurrect.inode" title="scala.collection.concurrent.INode[K,V]">inode</a>
  <span class="delimiter">}</span>

  def <a title="(lev: Int)scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;CNode.toContracted">toContracted</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;CNode.toContracted.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.concurrent;CNode.toContracted.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">array</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
    case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;CNode.toContracted.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.toContracted.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.copyTombed" title="=&gt; scala.collection.concurrent.TNode[K,V]">copyTombed</a>
    case _ =&gt; this
  <span class="delimiter">}</span> else this

  <span class="comment">// - if the branching factor is 1 for this CNode, and the child</span>
  <span class="comment">//   is a tombed SNode, returns its tombed version</span>
  <span class="comment">// - otherwise, if there is at least one non-null node below,</span>
  <span class="comment">//   returns the version of this node with at least some null-inodes</span>
  <span class="comment">//   removed (those existing when the op began)</span>
  <span class="comment">// - if there are only null-i-nodes below, returns null</span>
  def <a title="(ct: scala.collection.concurrent.TrieMap[K,V], lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;CNode.toCompressed">toCompressed</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;CNode.toCompressed.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Int" id="scala.collection.concurrent;CNode.toCompressed.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent;CNode.toCompressed.gen">gen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;CNode.toCompressed.bmp">bmp</a> = <a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>
    var <a title="Int" id="scala.collection.concurrent;CNode.toCompressed.i">i</a> = <span title="Int(0)" class="int">0</span>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.toCompressed.arr">arr</a> = <a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>
    val <a title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;CNode.toCompressed.tmparray">tmparray</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.concurrent.BasicNode]">Array</a><span class="delimiter">[</span>BasicNode<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.arr" title="Array[scala.collection.concurrent.BasicNode]">arr</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
    while <span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.concurrent;CNode.toCompressed.arr" title="Array[scala.collection.concurrent.BasicNode]">arr</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;CNode.toCompressed.while$4" title="()Unit" class="delimiter">{</a> <span class="comment">// construct new bitmap</span>
      val <a title="scala.collection.concurrent.BasicNode" id="scala.collection.concurrent;CNode.toCompressed.sub">sub</a> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode">arr</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.i" title="Int">i</a><span class="delimiter">)</span>
      <a href="#scala.collection.concurrent;CNode.toCompressed.sub" title="scala.collection.concurrent.BasicNode">sub</a> match <span class="delimiter">{</span>
        case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;CNode.toCompressed.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
          val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;CNode.toCompressed.inodemain">inodemain</a> = <a href="#scala.collection.concurrent;CNode.toCompressed.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.gcasRead" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">gcasRead</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.ct" title="scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span>
          <a href="../../Predef.scala.html#scala.Predef.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.inodemain" title="scala.collection.concurrent.MainNode[K,V]">inodemain</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.concurrent.BasicNode)Unit">tmparray</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;CNode.resurrect" title="(inode: scala.collection.concurrent.INode[K,V], inodemain: AnyRef)scala.collection.concurrent.BasicNode">resurrect</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.in" title="scala.collection.concurrent.INode[K,V]">in</a>, <a href="#scala.collection.concurrent;CNode.toCompressed.inodemain" title="scala.collection.concurrent.MainNode[K,V]">inodemain</a><span class="delimiter">)</span>
        case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;CNode.toCompressed.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
          <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.concurrent.BasicNode)Unit">tmparray</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.i" title="Int">i</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;CNode.toCompressed.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>
      <span class="delimiter">}</span>
      <a href="#scala.collection.concurrent;CNode.toCompressed.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>

    new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.bmp" title="Int">bmp</a>, <a href="#scala.collection.concurrent;CNode.toCompressed.tmparray" title="Array[scala.collection.concurrent.BasicNode]">tmparray</a>, <a href="#scala.collection.concurrent;CNode.toCompressed.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>.<a href="#scala.collection.concurrent;CNode.toContracted" title="(lev: Int)scala.collection.concurrent.MainNode[K,V]">toContracted</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toCompressed.lev" title="Int">lev</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> def <a title="(lev: Int)String" id="scala.collection.concurrent;CNode.string">string</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;CNode.string.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;CNode %x\n%s&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.bitmap" title="=&gt; Int">bitmap</a>, <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.collection.concurrent.BasicNode])scala.collection.mutable.ArrayOps[scala.collection.concurrent.BasicNode]">array</a>.<a href="../TraversableLike.scala.html#scala.collection;TraversableLike.map" title="(f: scala.collection.concurrent.BasicNode =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.concurrent.BasicNode],String,Array[String]])Array[String]">map</a><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="#scala.collection.concurrent;CNode.string.$anonfun.x$2" title="scala.collection.concurrent.BasicNode">_</a>.<a href="BasicNode.java.html#scala.collection.concurrent;BasicNode.string" title="(lev: Int)String">string</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.string.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/* quiescently consistent - don't call concurrently to anything involving a GCAS!! */</span>
  private def <a title="=&gt; Seq[(K, V)]" id="scala.collection.concurrent;CNode.collectElems">collectElems</a>: <a href="../Seq.scala.html#scala.collection;Seq" title="Seq[(K, V)]">Seq</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.collection.concurrent.BasicNode])scala.collection.mutable.ArrayOps[scala.collection.concurrent.BasicNode]">array</a> <a href="../TraversableLike.scala.html#scala.collection;TraversableLike.flatMap" title="(f: scala.collection.concurrent.BasicNode =&gt; scala.collection.GenTraversableOnce[(K, V)])(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.concurrent.BasicNode],(K, V),Seq[(K, V)]])Seq[(K, V)]">flatMap</a> <a href="#scala.collection.concurrent;CNode.collectElems.$anonfun.x0$1" title="Iterable[(K, V)]" class="delimiter">{</a>
    case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;CNode.collectElems.$anonfun.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="../../Option.scala.html#scala;Some" title="(x: (K, V))Some[(K, V)]">Some</a><a href="../../Option.scala.html#scala.Option.option2Iterable" title="(xo: Option[(K, V)])Iterable[(K, V)]" class="delimiter">(</a><a href="#scala.collection.concurrent;CNode.collectElems.$anonfun.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.kvPair" title="=&gt; (K, V)">kvPair</a><span class="delimiter">)</span>
    case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;CNode.collectElems.$anonfun.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.collectElems.$anonfun.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.mainnode" title="scala.collection.concurrent.MainNode[K,V]">mainnode</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;CNode.collectElems.$anonfun.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="../../Option.scala.html#scala;Some" title="(x: (K, V))Some[(K, V)]">Some</a><a href="../../Option.scala.html#scala.Option.option2Iterable" title="(xo: Option[(K, V)])Iterable[(K, V)]" class="delimiter">(</a><a href="#scala.collection.concurrent;CNode.collectElems.$anonfun.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a>.<a href="#scala.collection.concurrent;TNode.kvPair" title="=&gt; (K, V)">kvPair</a><span class="delimiter">)</span>
      case <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;CNode.collectElems.$anonfun.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.collectElems.$anonfun.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[(K, V)]">toList</a>
      case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;CNode.collectElems.$anonfun.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;CNode.collectElems.$anonfun.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.collectElems" title="=&gt; Seq[(K, V)]">collectElems</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="=&gt; Seq[String]" id="scala.collection.concurrent;CNode.collectLocalElems">collectLocalElems</a>: <a href="../Seq.scala.html#scala.collection;Seq" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.collection.concurrent.BasicNode])scala.collection.mutable.ArrayOps[scala.collection.concurrent.BasicNode]">array</a> <a href="../TraversableLike.scala.html#scala.collection;TraversableLike.flatMap" title="(f: scala.collection.concurrent.BasicNode =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.concurrent.BasicNode],String,Seq[String]])Seq[String]">flatMap</a> <a href="#scala.collection.concurrent;CNode.collectLocalElems.$anonfun.x0$2" title="Iterable[String]" class="delimiter">{</a>
    case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;CNode.collectLocalElems.$anonfun.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="../../Option.scala.html#scala;Some" title="(x: String)Some[String]">Some</a><a href="../../Option.scala.html#scala.Option.option2Iterable" title="(xo: Option[String])Iterable[String]" class="delimiter">(</a><a href="#scala.collection.concurrent;CNode.collectLocalElems.$anonfun.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>.<a href="#scala.collection.concurrent;SNode.kvPair" title="=&gt; (K, V)">kvPair</a>.<a href="../../Tuple2.scala.html#scala;Tuple2._2" title="=&gt; V">_2</a>.<span title="()String">toString</span><span class="delimiter">)</span>
    case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;CNode.collectLocalElems.$anonfun.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="../../Option.scala.html#scala;Some" title="(x: String)Some[String]">Some</a><a href="../../Option.scala.html#scala.Option.option2Iterable" title="(xo: Option[String])Iterable[String]" class="delimiter">(</a><a href="#scala.collection.concurrent;CNode.collectLocalElems.$anonfun.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">toString</a>.<a href="../IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.drop" title="(n: Int)String">drop</a><span class="delimiter">(</span><span title="Int(14)" class="int">14</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.collection.concurrent;CNode.collectLocalElems.$anonfun.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="()String" id="scala.collection.concurrent;CNode.toString">toString</a> = <span class="delimiter">{</span>
    val <a title="Seq[String]" id="scala.collection.concurrent;CNode.toString.elems">elems</a> = <a href="#scala.collection.concurrent;CNode.collectLocalElems" title="=&gt; Seq[String]">collectLocalElems</a>
    <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;CNode(sz: %d; %s)&quot;</a>.<a href="../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;CNode.toString.elems" title="Seq[String]">elems</a>.<a href="../SeqLike.scala.html#scala.collection;SeqLike.size" title="=&gt; Int">size</a>, <a href="#scala.collection.concurrent;CNode.toString.elems" title="Seq[String]">elems</a>.<a href="../SeqLike.scala.html#scala.collection;SeqLike.sorted" title="(implicit ord: scala.math.Ordering[String])Seq[String]">sorted</a>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> object <a title="scala.collection.concurrent.CNode.type" id="scala.collection.concurrent.CNode">CNode</a> <a href="#scala.collection.concurrent.CNode" title="scala.collection.concurrent.CNode.type" class="delimiter">{</a>

  def <a title="[K, V](x: scala.collection.concurrent.SNode[K,V], xhc: Int, y: scala.collection.concurrent.SNode[K,V], yhc: Int, lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent.CNode.dual">dual</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent.CNode.dual;K">K</a>, <a title="" id="scala.collection.concurrent.CNode.dual;V">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent.CNode.dual.x">x</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Int" id="scala.collection.concurrent.CNode.dual.xhc">xhc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent.CNode.dual.y">y</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Int" id="scala.collection.concurrent.CNode.dual.yhc">yhc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.concurrent.CNode.dual.lev">lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.Gen" id="scala.collection.concurrent.CNode.dual.gen">gen</a>: <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a><span class="delimiter">)</span>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span title="Int(35)" class="int">35</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    val xidx = <span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.xhc" title="Int">xhc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.concurrent.CNode.dual.lev" title="Int">lev</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent.CNode.dual.xidx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
    val yidx = <span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.yhc" title="Int">yhc</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.concurrent.CNode.dual.lev" title="Int">lev</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.concurrent.CNode.dual.yidx">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
    val bmp = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <a href="#scala.collection.concurrent.CNode.dual.xidx" title="Int">xidx</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="Int" id="scala.collection.concurrent.CNode.dual.bmp">|</a> <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <a href="#scala.collection.concurrent.CNode.dual.yidx" title="Int">yidx</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.xidx" title="Int">xidx</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.concurrent.CNode.dual.yidx" title="Int">yidx</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent.CNode.dual.subinode">subinode</a> = new <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span><span class="comment">//(TrieMap.inodeupdater)</span>
      <a href="#scala.collection.concurrent.CNode.dual.subinode" title="scala.collection.concurrent.INode[K,V]">subinode</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.mainnode" title="scala.collection.concurrent.MainNode[K,V]">mainnode</a> = <a href="#scala.collection.concurrent.CNode.dual" title="(x: scala.collection.concurrent.SNode[K,V], xhc: Int, y: scala.collection.concurrent.SNode[K,V], yhc: Int, lev: Int, gen: scala.collection.concurrent.Gen)scala.collection.concurrent.MainNode[K,V]">dual</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.x" title="scala.collection.concurrent.SNode[K,V]">x</a>, <a href="#scala.collection.concurrent.CNode.dual.xhc" title="Int">xhc</a>, <a href="#scala.collection.concurrent.CNode.dual.y" title="scala.collection.concurrent.SNode[K,V]">y</a>, <a href="#scala.collection.concurrent.CNode.dual.yhc" title="Int">yhc</a>, <a href="#scala.collection.concurrent.CNode.dual.lev" title="Int">lev</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="#scala.collection.concurrent.CNode.dual.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
      new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.bmp" title="Int">bmp</a>, <a href="../../Array.scala.html#scala.Array.apply(f425c59989)" title="(xs: scala.collection.concurrent.BasicNode*)(implicit evidence$2: scala.reflect.ClassTag[scala.collection.concurrent.BasicNode])Array[scala.collection.concurrent.BasicNode]">Array</a><a href="../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(runtimeClass1: Class[_])scala.reflect.ClassTag[scala.collection.concurrent.BasicNode]" class="delimiter">(</a><a href="#scala.collection.concurrent.CNode.dual.subinode" title="scala.collection.concurrent.INode[K,V]">subinode</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent.CNode.dual.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.xidx" title="Int">xidx</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.concurrent.CNode.dual.yidx" title="Int">yidx</a><span class="delimiter">)</span> new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.bmp" title="Int">bmp</a>, <a href="../../Array.scala.html#scala.Array.apply(f425c59989)" title="(xs: scala.collection.concurrent.BasicNode*)(implicit evidence$2: scala.reflect.ClassTag[scala.collection.concurrent.BasicNode])Array[scala.collection.concurrent.BasicNode]">Array</a><a href="../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(runtimeClass1: Class[_])scala.reflect.ClassTag[scala.collection.concurrent.BasicNode]" class="delimiter">(</a><a href="#scala.collection.concurrent.CNode.dual.x" title="scala.collection.concurrent.SNode[K,V]">x</a>, <a href="#scala.collection.concurrent.CNode.dual.y" title="scala.collection.concurrent.SNode[K,V]">y</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent.CNode.dual.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
      else new <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.bmp" title="Int">bmp</a>, <a href="../../Array.scala.html#scala.Array.apply(f425c59989)" title="(xs: scala.collection.concurrent.BasicNode*)(implicit evidence$2: scala.reflect.ClassTag[scala.collection.concurrent.BasicNode])Array[scala.collection.concurrent.BasicNode]">Array</a><a href="../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.apply" title="(runtimeClass1: Class[_])scala.reflect.ClassTag[scala.collection.concurrent.BasicNode]" class="delimiter">(</a><a href="#scala.collection.concurrent.CNode.dual.y" title="scala.collection.concurrent.SNode[K,V]">y</a>, <a href="#scala.collection.concurrent.CNode.dual.x" title="scala.collection.concurrent.SNode[K,V]">x</a><span class="delimiter">)</span>, <a href="#scala.collection.concurrent.CNode.dual.gen" title="scala.collection.concurrent.Gen">gen</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> else <span class="delimiter">{</span>
    new <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.CNode.dual.x" title="scala.collection.concurrent.SNode[K,V]">x</a>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent.CNode.dual.x" title="scala.collection.concurrent.SNode[K,V]">x</a>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a>, <a href="#scala.collection.concurrent.CNode.dual.y" title="scala.collection.concurrent.SNode[K,V]">y</a>.<a href="#scala.collection.concurrent;SNode.k" title="=&gt; K">k</a>, <a href="#scala.collection.concurrent.CNode.dual.y" title="scala.collection.concurrent.SNode[K,V]">y</a>.<a href="#scala.collection.concurrent;SNode.v" title="=&gt; V">v</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> case class <a href="#scala.collection.concurrent;RDCSS_Descriptor.productElement.x$1" title="class RDCSS_Descriptor[K, V] extends AnyRef with Product with Serializable" id="scala.collection.concurrent.RDCSS_Descriptor.readResolve">RDCSS_Descriptor</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;RDCSS_Descriptor;K">K</a>, <a title="" id="scala.collection.concurrent;RDCSS_Descriptor;V">V</a><span class="delimiter">]</span><a href="../../Product.scala.html#scala;Product" title="Product" class="delimiter">(</a><a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;RDCSS_Descriptor.old">old</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;RDCSS_Descriptor.expectedmain">expectedmain</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;RDCSS_Descriptor.nv">nv</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  @volatile var <a title="Boolean" id="scala.collection.concurrent;RDCSS_Descriptor.committed_=">committed</a> = false
<span class="delimiter">}</span>


<span class="comment">/** A concurrent hash-trie or TrieMap is a concurrent thread-safe lock-free
 *  implementation of a hash array mapped trie. It is used to implement the
 *  concurrent map abstraction. It has particularly scalable concurrent insert
 *  and remove operations and is memory-efficient. It supports O(1), atomic,
 *  lock-free snapshots which are used to implement linearizable lock-free size,
 *  iterator and clear operations. The cost of evaluating the (lazy) snapshot is
 *  distributed across subsequent updates, thus making snapshot evaluation horizontally scalable.
 *
 *  For details, see: http://lampwww.epfl.ch/~prokopec/ctries-snapshot.pdf
 *
 *  @author Aleksandar Prokopec
 *  @since 2.10
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">0L</span> - <span class="long">6402774413839597105L</span><span class="delimiter">)</span>
final class <a title="class TrieMap[K, V] extends AnyRef with scala.collection.concurrent.Map[K,V] with scala.collection.mutable.MapLike[K,V,scala.collection.concurrent.TrieMap[K,V]] with scala.collection.CustomParallelizable[(K, V),scala.collection.parallel.mutable.ParTrieMap[K,V]] with Serializable" id="scala.collection.concurrent;TrieMap">TrieMap</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent;TrieMap;K">K</a>, <a title="" id="scala.collection.concurrent;TrieMap;V">V</a><span class="delimiter">]</span> private <span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;TrieMap.r">r</a>: <span title="AnyRef">AnyRef</span>, <a title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]" id="scala.collection.concurrent;TrieMap.rtupd">rtupd</a>: <span title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">AtomicReferenceFieldUpdater</span><span class="delimiter">[</span>TrieMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span>, AnyRef<span class="delimiter">]</span>, <a title="scala.util.hashing.Hashing[K]" id="scala.collection.concurrent;TrieMap.hashf">hashf</a>: <a href="../../util/hashing/Hashing.scala.html#scala.util.hashing;Hashing" title="scala.util.hashing.Hashing[K]">Hashing</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Equiv[K]" id="scala.collection.concurrent;TrieMap.ef">ef</a>: <a href="../../math/Equiv.scala.html#scala.math;Equiv" title="Equiv[K]">Equiv</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span>
extends scala.collection.concurrent.<a href="Map.scala.html#scala.collection.concurrent;Map" title="scala.collection.concurrent.Map[K,V]">Map</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>
   with scala.collection.mutable.<a href="../mutable/MapLike.scala.html#scala.collection.mutable;MapLike" title="scala.collection.mutable.MapLike[K,V,scala.collection.concurrent.TrieMap[K,V]]">MapLike</a><span class="delimiter">[</span>K, V, TrieMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span>
   with <a href="../CustomParallelizable.scala.html#scala.collection;CustomParallelizable" title="scala.collection.CustomParallelizable[(K, V),scala.collection.parallel.mutable.ParTrieMap[K,V]]">CustomParallelizable</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span>, ParTrieMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span>
   with <a href="../../Serializable.scala.html#scala;Serializable" title="Serializable">Serializable</a>
<span class="delimiter">{</span>
  private var <a title="scala.util.hashing.Hashing[K]" id="scala.collection.concurrent;TrieMap.hashingobj_=">hashingobj</a> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.hashf" title="scala.util.hashing.Hashing[K]">hashf</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>Hashing.<a href="../../util/hashing/Hashing.scala.html#scala.util.hashing.Hashing;Default" title="scala.util.hashing.Hashing.Default[_]">Default</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> new TrieMap.<a href="#scala.collection.concurrent.TrieMap;MangledHashing" title="scala.collection.concurrent.TrieMap.MangledHashing[K]">MangledHashing</a><span class="delimiter">[</span>K<span class="delimiter">]</span> else <a href="#scala.collection.concurrent;TrieMap.hashf" title="scala.util.hashing.Hashing[K]">hashf</a>
  private var <a title="Equiv[K]" id="scala.collection.concurrent;TrieMap.equalityobj_=">equalityobj</a> = <a href="#scala.collection.concurrent;TrieMap.ef" title="Equiv[K]">ef</a>
  private var <a title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]" id="scala.collection.concurrent;TrieMap.rootupdater_=">rootupdater</a> = <a href="#scala.collection.concurrent;TrieMap.rtupd" title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">rtupd</a>
  def <a title="=&gt; scala.util.hashing.Hashing[K]" id="scala.collection.concurrent;TrieMap.hashing">hashing</a> = <a href="#scala.collection.concurrent;TrieMap.hashingobj_=" title="=&gt; scala.util.hashing.Hashing[K]">hashingobj</a>
  def <a title="=&gt; Equiv[K]" id="scala.collection.concurrent;TrieMap.equality">equality</a> = <a href="#scala.collection.concurrent;TrieMap.equalityobj_=" title="=&gt; Equiv[K]">equalityobj</a>
  @volatile var <a title="AnyRef" id="scala.collection.concurrent;TrieMap.root_=">root</a> = <a href="#scala.collection.concurrent;TrieMap.r" title="AnyRef">r</a>

  def this<span class="delimiter">(</span><a title="scala.util.hashing.Hashing[K]" id="scala.collection.concurrent;TrieMap.<init>(ef9f477028).hashf">hashf</a>: <a href="../../util/hashing/Hashing.scala.html#scala.util.hashing;Hashing" title="scala.util.hashing.Hashing[K]">Hashing</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Equiv[K]" id="scala.collection.concurrent;TrieMap.<init>(ef9f477028).ef">ef</a>: <a href="../../math/Equiv.scala.html#scala.math;Equiv" title="Equiv[K]">Equiv</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> = this<span class="delimiter">(</span>
    <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.newRootNode" title="scala.collection.concurrent.INode[Nothing,Nothing]">newRootNode</a>,
    <span title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater.type">AtomicReferenceFieldUpdater</span>.<span title="(x$1: Class[scala.collection.concurrent.TrieMap[K,V]], x$2: Class[AnyRef], x$3: String)java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">newUpdater</span><span class="delimiter">(</span>classOf<span title="Class[scala.collection.concurrent.TrieMap[K,V]](classOf[scala.collection.concurrent.TrieMap])" class="delimiter">[</span>TrieMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span>, classOf<span title="Class[AnyRef](classOf[java.lang.Object])" class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <span title="String(&quot;root&quot;)" class="string">&quot;root&quot;</span><span class="delimiter">)</span>,
    <a href="#scala.collection.concurrent;TrieMap.<init>(ef9f477028).hashf" title="scala.util.hashing.Hashing[K]">hashf</a>,
    <a href="#scala.collection.concurrent;TrieMap.<init>(ef9f477028).ef" title="Equiv[K]">ef</a>
  <span class="delimiter">)</span>

  def this<span class="delimiter">(</span><span class="delimiter">)</span> = this<span class="delimiter">(</span><a href="../../util/hashing/Hashing.scala.html#scala.util.hashing.Hashing" title="scala.util.hashing.Hashing.type">Hashing</a>.<a href="../../util/hashing/Hashing.scala.html#scala.util.hashing.Hashing.default" title="scala.util.hashing.Hashing.Default[K]">default</a>, <a href="../../package.scala.html#scala.package.Equiv" title="=&gt; math.Equiv.type">Equiv</a>.<a href="../../math/Equiv.scala.html#scala.math.Equiv.universal" title="scala.math.Equiv[K]">universal</a><span class="delimiter">)</span>

  <span class="comment">/* internal methods */</span>

  private def <a title="(out: java.io.ObjectOutputStream)Unit" id="scala.collection.concurrent;TrieMap.writeObject">writeObject</a><span class="delimiter">(</span><a title="java.io.ObjectOutputStream" id="scala.collection.concurrent;TrieMap.writeObject.out">out</a>: java.io.<span title="java.io.ObjectOutputStream">ObjectOutputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;TrieMap.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Any)Unit">writeObject</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.hashingobj_=" title="=&gt; scala.util.hashing.Hashing[K]">hashingobj</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Any)Unit">writeObject</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.equalityobj_=" title="=&gt; Equiv[K]">equalityobj</a><span class="delimiter">)</span>

    val <a title="Iterator[(K, V)]" id="scala.collection.concurrent;TrieMap.writeObject.it">it</a> = <a href="#scala.collection.concurrent;TrieMap.iterator" title="=&gt; Iterator[(K, V)]">iterator</a>
    while <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.writeObject.it" title="Iterator[(K, V)]">it</a>.<a href="../Iterator.scala.html#scala.collection;Iterator.hasNext" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.writeObject.while$5" title="()Unit" class="delimiter">{</a>
      val <a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V)" class="delimiter">(</a><a href="../../Tuple2.scala.html#scala;Tuple2._1" title="K" id="scala.collection.concurrent;TrieMap.writeObject.k">k</a>, <a href="../../Tuple2.scala.html#scala;Tuple2._2" title="V" id="scala.collection.concurrent;TrieMap.writeObject.v">v</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMap.writeObject.it" title="Iterator[(K, V)]">it</a>.<a href="../Iterator.scala.html#scala.collection;Iterator.next" title="()(K, V)">next</a><a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>
      <a href="#scala.collection.concurrent;TrieMap.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Any)Unit">writeObject</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.writeObject.k" title="K">k</a><span class="delimiter">)</span>
      <a href="#scala.collection.concurrent;TrieMap.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Any)Unit">writeObject</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.writeObject.v" title="V">v</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.collection.concurrent;TrieMap.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Any)Unit">writeObject</span><span class="delimiter">(</span><a href="#scala.collection.concurrent.TrieMapSerializationEnd.readResolve" title="scala.collection.concurrent.TrieMapSerializationEnd.type">TrieMapSerializationEnd</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(in: java.io.ObjectInputStream)Unit" id="scala.collection.concurrent;TrieMap.readObject">readObject</a><span class="delimiter">(</span><a title="java.io.ObjectInputStream" id="scala.collection.concurrent;TrieMap.readObject.in">in</a>: java.io.<span title="java.io.ObjectInputStream">ObjectInputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;TrieMap.root_=" title="(x$1: AnyRef)Unit">root</a> = <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.newRootNode" title="scala.collection.concurrent.INode[Nothing,Nothing]">newRootNode</a>
    <a href="#scala.collection.concurrent;TrieMap.rootupdater_=" title="(x$1: java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef])Unit">rootupdater</a> = <span title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater.type">AtomicReferenceFieldUpdater</span>.<span title="(x$1: Class[scala.collection.concurrent.TrieMap[K,V]], x$2: Class[AnyRef], x$3: String)java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">newUpdater</span><span class="delimiter">(</span>classOf<span title="Class[scala.collection.concurrent.TrieMap[K,V]](classOf[scala.collection.concurrent.TrieMap])" class="delimiter">[</span>TrieMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span>, classOf<span title="Class[AnyRef](classOf[java.lang.Object])" class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <span title="String(&quot;root&quot;)" class="string">&quot;root&quot;</span><span class="delimiter">)</span>

    <a href="#scala.collection.concurrent;TrieMap.hashingobj_=" title="(x$1: scala.util.hashing.Hashing[K])Unit">hashingobj</a> = <a href="#scala.collection.concurrent;TrieMap.readObject.in" title="java.io.ObjectInputStream">in</a>.<span title="()Object">readObject</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.util.hashing.Hashing[K]" class="delimiter">[</span><a href="../../util/hashing/Hashing.scala.html#scala.util.hashing;Hashing" title="scala.util.hashing.Hashing[K]">Hashing</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">]</span>
    <a href="#scala.collection.concurrent;TrieMap.equalityobj_=" title="(x$1: Equiv[K])Unit">equalityobj</a> = <a href="#scala.collection.concurrent;TrieMap.readObject.in" title="java.io.ObjectInputStream">in</a>.<span title="()Object">readObject</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Equiv[K]" class="delimiter">[</span><a href="../../math/Equiv.scala.html#scala.math;Equiv" title="Equiv[K]">Equiv</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">]</span>

    var <a title="AnyRef" id="scala.collection.concurrent;TrieMap.readObject.obj">obj</a>: <span title="AnyRef">AnyRef</span> = null
    do <span class="delimiter">{</span>
      <a href="#scala.collection.concurrent;TrieMap.readObject.obj" title="AnyRef">obj</a> = <a href="#scala.collection.concurrent;TrieMap.readObject.in" title="java.io.ObjectInputStream">in</a>.<span title="()Object">readObject</span><span class="delimiter">(</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.readObject.obj" title="AnyRef">obj</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.collection.concurrent.TrieMapSerializationEnd.readResolve" title="scala.collection.concurrent.TrieMapSerializationEnd.type">TrieMapSerializationEnd</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="K" id="scala.collection.concurrent;TrieMap.readObject.k">k</a> = <a href="#scala.collection.concurrent;TrieMap.readObject.obj" title="AnyRef">obj</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="K" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">]</span>
        val <a title="V" id="scala.collection.concurrent;TrieMap.readObject.v">v</a> = <a href="#scala.collection.concurrent;TrieMap.readObject.in" title="java.io.ObjectInputStream">in</a>.<span title="()Object">readObject</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="V" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">]</span>
        <a href="#scala.collection.concurrent;TrieMap.update" title="(k: K, v: V)Unit">update</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.readObject.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.readObject.v" title="V">v</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> while <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.readObject.obj" title="AnyRef">obj</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.collection.concurrent.TrieMapSerializationEnd.readResolve" title="scala.collection.concurrent.TrieMapSerializationEnd.type">TrieMapSerializationEnd</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(ov: AnyRef, nv: AnyRef)Boolean" id="scala.collection.concurrent;TrieMap.CAS_ROOT">CAS_ROOT</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent;TrieMap.CAS_ROOT.ov">ov</a>: <span title="AnyRef">AnyRef</span>, <a title="AnyRef" id="scala.collection.concurrent;TrieMap.CAS_ROOT.nv">nv</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMap.rootupdater_=" title="=&gt; java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">rootupdater</a>.<span title="(x$1: scala.collection.concurrent.TrieMap[K,V], x$2: AnyRef, x$3: AnyRef)Boolean">compareAndSet</span><span class="delimiter">(</span>this, <a href="#scala.collection.concurrent;TrieMap.CAS_ROOT.ov" title="AnyRef">ov</a>, <a href="#scala.collection.concurrent;TrieMap.CAS_ROOT.nv" title="AnyRef">nv</a><span class="delimiter">)</span>

  def <a title="(abort: Boolean)scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.readRoot">readRoot</a><span class="delimiter">(</span><a title="Boolean" id="scala.collection.concurrent;TrieMap.readRoot$default$1">abort</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false<span class="delimiter">)</span>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.readRoot$default$1" title="Boolean">abort</a><span class="delimiter">)</span>

  def <a title="(abort: Boolean)scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT">RDCSS_READ_ROOT</a><span class="delimiter">(</span><a title="Boolean" id="scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT$default$1">abort</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false<span class="delimiter">)</span>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="AnyRef" id="scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT.r">r</a> = <span class="comment">/*READ*/</span><a href="#scala.collection.concurrent;TrieMap.root_=" title="=&gt; AnyRef">root</a>
    <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT.r" title="AnyRef">r</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT.in" title="scala.collection.concurrent.INode[K,V]">in</a>
      case <a title="scala.collection.concurrent.RDCSS_Descriptor[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT.desc">desc</a>: <a href="#scala.collection.concurrent.RDCSS_Descriptor.readResolve" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">RDCSS_Descriptor</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT$default$1" title="Boolean">abort</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  @tailrec private def <a title="(abort: Boolean)scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete">RDCSS_Complete</a><span class="delimiter">(</span><a title="Boolean" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.abort">abort</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="AnyRef" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.v">v</a> = <span class="comment">/*READ*/</span><a href="#scala.collection.concurrent;TrieMap.root_=" title="=&gt; AnyRef">root</a>
    <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.v" title="AnyRef">v</a> match <span class="delimiter">{</span>
      case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt; <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.in" title="scala.collection.concurrent.INode[K,V]">in</a>
      case <a title="scala.collection.concurrent.RDCSS_Descriptor[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.desc">desc</a>: <a href="#scala.collection.concurrent.RDCSS_Descriptor.readResolve" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">RDCSS_Descriptor</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
        val RDCSS_Descriptor<a href="../../Tuple3.scala.html#scala;Tuple3" title="(scala.collection.concurrent.INode[K,V], scala.collection.concurrent.MainNode[K,V], scala.collection.concurrent.INode[K,V])" class="delimiter">(</a><a href="../../Tuple3.scala.html#scala;Tuple3._1" title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.ov">ov</a>, <a href="../../Tuple3.scala.html#scala;Tuple3._2" title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.exp">exp</a>, <a href="../../Tuple3.scala.html#scala;Tuple3._3" title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.nv">nv</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a>
        if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.abort" title="Boolean">abort</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.CAS_ROOT" title="(ov: AnyRef, nv: AnyRef)Boolean">CAS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a>, <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.ov" title="scala.collection.concurrent.INode[K,V]">ov</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.ov" title="scala.collection.concurrent.INode[K,V]">ov</a>
          else <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.abort" title="Boolean">abort</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_Complete.oldmain">oldmain</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.ov" title="scala.collection.concurrent.INode[K,V]">ov</a>.<a href="#scala.collection.concurrent;INode.gcasRead" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">gcasRead</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.oldmain" title="scala.collection.concurrent.MainNode[K,V]">oldmain</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.exp" title="scala.collection.concurrent.MainNode[K,V]">exp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.CAS_ROOT" title="(ov: AnyRef, nv: AnyRef)Boolean">CAS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a>, <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.nv" title="scala.collection.concurrent.INode[K,V]">nv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a>.<a href="#scala.collection.concurrent;RDCSS_Descriptor.committed_=" title="(x$1: Boolean)Unit">committed</a> = true
              <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.nv" title="scala.collection.concurrent.INode[K,V]">nv</a>
            <span class="delimiter">}</span> else <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.abort" title="Boolean">abort</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.CAS_ROOT" title="(ov: AnyRef, nv: AnyRef)Boolean">CAS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a>, <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.ov" title="scala.collection.concurrent.INode[K,V]">ov</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.ov" title="scala.collection.concurrent.INode[K,V]">ov</a>
            else <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_Complete</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete.abort" title="Boolean">abort</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  private def <a title="(ov: scala.collection.concurrent.INode[K,V], expectedmain: scala.collection.concurrent.MainNode[K,V], nv: scala.collection.concurrent.INode[K,V])Boolean" id="scala.collection.concurrent;TrieMap.RDCSS_ROOT">RDCSS_ROOT</a><span class="delimiter">(</span><a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_ROOT.ov">ov</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_ROOT.expectedmain">expectedmain</a>: <a href="MainNode.java.html#scala.collection.concurrent;MainNode" title="scala.collection.concurrent.MainNode[K,V]">MainNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_ROOT.nv">nv</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.RDCSS_Descriptor[K,V]" id="scala.collection.concurrent;TrieMap.RDCSS_ROOT.desc">desc</a> = <a href="#scala.collection.concurrent.RDCSS_Descriptor.readResolve" title="(old: scala.collection.concurrent.INode[K,V], expectedmain: scala.collection.concurrent.MainNode[K,V], nv: scala.collection.concurrent.INode[K,V])scala.collection.concurrent.RDCSS_Descriptor[K,V]">RDCSS_Descriptor</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT.ov" title="scala.collection.concurrent.INode[K,V]">ov</a>, <a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT.expectedmain" title="scala.collection.concurrent.MainNode[K,V]">expectedmain</a>, <a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT.nv" title="scala.collection.concurrent.INode[K,V]">nv</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.CAS_ROOT" title="(ov: AnyRef, nv: AnyRef)Boolean">CAS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT.ov" title="scala.collection.concurrent.INode[K,V]">ov</a>, <a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.collection.concurrent;TrieMap.RDCSS_Complete" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_Complete</a><span class="delimiter">(</span>abort = false<span class="delimiter">)</span>
      <span class="comment">/*READ*/</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT.desc" title="scala.collection.concurrent.RDCSS_Descriptor[K,V]">desc</a>.<a href="#scala.collection.concurrent;RDCSS_Descriptor.committed_=" title="=&gt; Boolean">committed</a>
    <span class="delimiter">}</span> else false
  <span class="delimiter">}</span>

  @tailrec private def <a title="(k: K, hc: Int, v: V)Unit" id="scala.collection.concurrent;TrieMap.inserthc">inserthc</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.inserthc.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="Int" id="scala.collection.concurrent;TrieMap.inserthc.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="V" id="scala.collection.concurrent;TrieMap.inserthc.v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.inserthc.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.collection.concurrent;TrieMap.inserthc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.rec_insert" title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Boolean">rec_insert</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.inserthc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.inserthc.v" title="V">v</a>, <a href="#scala.collection.concurrent;TrieMap.inserthc.hc" title="Int">hc</a>, <span title="Int(0)" class="int">0</span>, null, <a href="#scala.collection.concurrent;TrieMap.inserthc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, this<span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.inserthc" title="(k: K, hc: Int, v: V)Unit">inserthc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.inserthc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.inserthc.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.inserthc.v" title="V">v</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec private def <a title="(k: K, hc: Int, v: V, cond: AnyRef)Option[V]" id="scala.collection.concurrent;TrieMap.insertifhc">insertifhc</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.insertifhc.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="Int" id="scala.collection.concurrent;TrieMap.insertifhc.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="V" id="scala.collection.concurrent;TrieMap.insertifhc.v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a>, <a title="AnyRef" id="scala.collection.concurrent;TrieMap.insertifhc.cond">cond</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.insertifhc.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>

    val <a title="Option[V]" id="scala.collection.concurrent;TrieMap.insertifhc.ret">ret</a> = <a href="#scala.collection.concurrent;TrieMap.insertifhc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.rec_insertif" title="(k: K, v: V, hc: Int, cond: AnyRef, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]">rec_insertif</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.insertifhc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.insertifhc.v" title="V">v</a>, <a href="#scala.collection.concurrent;TrieMap.insertifhc.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.insertifhc.cond" title="AnyRef">cond</a>, <span title="Int(0)" class="int">0</span>, null, <a href="#scala.collection.concurrent;TrieMap.insertifhc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, this<span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.insertifhc.ret" title="Option[V]">ret</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.insertifhc" title="(k: K, hc: Int, v: V, cond: AnyRef)Option[V]">insertifhc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.insertifhc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.insertifhc.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.insertifhc.v" title="V">v</a>, <a href="#scala.collection.concurrent;TrieMap.insertifhc.cond" title="AnyRef">cond</a><span class="delimiter">)</span>
    else <a href="#scala.collection.concurrent;TrieMap.insertifhc.ret" title="Option[V]">ret</a>
  <span class="delimiter">}</span>

  @tailrec private def <a title="(k: K, hc: Int)AnyRef" id="scala.collection.concurrent;TrieMap.lookuphc">lookuphc</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.lookuphc.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="Int" id="scala.collection.concurrent;TrieMap.lookuphc.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.lookuphc.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="AnyRef" id="scala.collection.concurrent;TrieMap.lookuphc.res">res</a> = <a href="#scala.collection.concurrent;TrieMap.lookuphc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.rec_lookup" title="(k: K, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])AnyRef">rec_lookup</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.lookuphc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.lookuphc.hc" title="Int">hc</a>, <span title="Int(0)" class="int">0</span>, null, <a href="#scala.collection.concurrent;TrieMap.lookuphc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, this<span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.lookuphc.res" title="AnyRef">res</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="INodeBase.java.html#scala.collection.concurrent.INodeBase" title="scala.collection.concurrent.INodeBase.type">INodeBase</a>.<a href="INodeBase.java.html#scala.collection.concurrent.INodeBase.RESTART" title="Object">RESTART</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.lookuphc" title="(k: K, hc: Int)AnyRef">lookuphc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.lookuphc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.lookuphc.hc" title="Int">hc</a><span class="delimiter">)</span>
    else <a href="#scala.collection.concurrent;TrieMap.lookuphc.res" title="AnyRef">res</a>
  <span class="delimiter">}</span>

  <span class="comment">/* slower:
  //@tailrec
  private def lookuphc(k: K, hc: Int): AnyRef = {
    val r = RDCSS_READ_ROOT()
    try {
      r.rec_lookup(k, hc, 0, null, r.gen, this)
    } catch {
      case RestartException =&gt;
        lookuphc(k, hc)
    }
  }
  */</span>

  @tailrec private def <a title="(k: K, v: V, hc: Int)Option[V]" id="scala.collection.concurrent;TrieMap.removehc">removehc</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.removehc.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.removehc.v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a>, <a title="Int" id="scala.collection.concurrent;TrieMap.removehc.hc">hc</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.removehc.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="Option[V]" id="scala.collection.concurrent;TrieMap.removehc.res">res</a> = <a href="#scala.collection.concurrent;TrieMap.removehc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.rec_remove" title="(k: K, v: V, hc: Int, lev: Int, parent: scala.collection.concurrent.INode[K,V], startgen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])Option[V]">rec_remove</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.removehc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.removehc.v" title="V">v</a>, <a href="#scala.collection.concurrent;TrieMap.removehc.hc" title="Int">hc</a>, <span title="Int(0)" class="int">0</span>, null, <a href="#scala.collection.concurrent;TrieMap.removehc.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="INodeBase.java.html#scala.collection.concurrent;INodeBase.gen" title="scala.collection.concurrent.Gen">gen</a>, this<span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.removehc.res" title="Option[V]">res</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.removehc.res" title="Option[V]">res</a>
    else <a href="#scala.collection.concurrent;TrieMap.removehc" title="(k: K, v: V, hc: Int)Option[V]">removehc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.removehc.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.removehc.v" title="V">v</a>, <a href="#scala.collection.concurrent;TrieMap.removehc.hc" title="Int">hc</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; String" id="scala.collection.concurrent;TrieMap.string">string</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="#scala.collection.concurrent;INode.string" title="(lev: Int)String">string</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  <span class="comment">/* public methods */</span>

  override def <a title="=&gt; scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;TrieMap.seq">seq</a> = this

  override def <a title="=&gt; scala.collection.parallel.mutable.ParTrieMap[K,V]" id="scala.collection.concurrent;TrieMap.par">par</a> = new <a href="../parallel/mutable/ParTrieMap.scala.html#scala.collection.parallel.mutable;ParTrieMap" title="scala.collection.parallel.mutable.ParTrieMap[K,V]">ParTrieMap</a><span class="delimiter">(</span>this<span class="delimiter">)</span>

  override def <a title="=&gt; scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;TrieMap.empty">empty</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = new <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>

  def <a title="=&gt; Boolean" id="scala.collection.concurrent;TrieMap.isReadOnly">isReadOnly</a> = <a href="#scala.collection.concurrent;TrieMap.rootupdater_=" title="=&gt; java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">rootupdater</a> <span title="(x$1: AnyRef)Boolean">eq</span> null

  def <a title="=&gt; Boolean" id="scala.collection.concurrent;TrieMap.nonReadOnly">nonReadOnly</a> = <a href="#scala.collection.concurrent;TrieMap.rootupdater_=" title="=&gt; java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">rootupdater</a> <span title="(x$1: AnyRef)Boolean">ne</span> null

  <span class="comment">/** Returns a snapshot of this TrieMap.
   *  This operation is lock-free and linearizable.
   *
   *  The snapshot is lazily updated - the first time some branch
   *  in the snapshot or this TrieMap are accessed, they are rewritten.
   *  This means that the work of rebuilding both the snapshot and this
   *  TrieMap is distributed across all the threads doing updates or accesses
   *  subsequent to the snapshot creation.
   */</span>
  @tailrec def <a title="()scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;TrieMap.snapshot">snapshot</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.snapshot.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;TrieMap.snapshot.expmain">expmain</a> = <a href="#scala.collection.concurrent;TrieMap.snapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.gcasRead" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">gcasRead</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT" title="(ov: scala.collection.concurrent.INode[K,V], expectedmain: scala.collection.concurrent.MainNode[K,V], nv: scala.collection.concurrent.INode[K,V])Boolean">RDCSS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.snapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>, <a href="#scala.collection.concurrent;TrieMap.snapshot.expmain" title="scala.collection.concurrent.MainNode[K,V]">expmain</a>, <a href="#scala.collection.concurrent;TrieMap.snapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.copyToGen" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.INode[K,V]">copyToGen</a><span class="delimiter">(</span>new <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, this<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> new <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.snapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.copyToGen" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.INode[K,V]">copyToGen</a><span class="delimiter">(</span>new <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, this<span class="delimiter">)</span>, <a href="#scala.collection.concurrent;TrieMap.rootupdater_=" title="=&gt; java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.TrieMap[K,V],AnyRef]">rootupdater</a>, <a href="#scala.collection.concurrent;TrieMap.hashing" title="=&gt; scala.util.hashing.Hashing[K]">hashing</a>, <a href="#scala.collection.concurrent;TrieMap.equality" title="=&gt; Equiv[K]">equality</a><span class="delimiter">)</span>
    else <a href="#scala.collection.concurrent;TrieMap.snapshot" title="()scala.collection.concurrent.TrieMap[K,V]">snapshot</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Returns a read-only snapshot of this TrieMap.
   *  This operation is lock-free and linearizable.
   *
   *  The snapshot is lazily updated - the first time some branch
   *  of this TrieMap are accessed, it is rewritten. The work of creating
   *  the snapshot is thus distributed across subsequent updates
   *  and accesses on this TrieMap by all threads.
   *  Note that the snapshot itself is never rewritten unlike when calling
   *  the `snapshot` method, but the obtained snapshot cannot be modified.
   *
   *  This method is used by other methods such as `size` and `iterator`.
   */</span>
  @tailrec def <a title="()scala.collection.Map[K,V]" id="scala.collection.concurrent;TrieMap.readOnlySnapshot">readOnlySnapshot</a><span class="delimiter">(</span><span class="delimiter">)</span>: scala.collection.<a href="../Map.scala.html#scala.collection;Map" title="scala.collection.Map[K,V]">Map</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.readOnlySnapshot.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="scala.collection.concurrent.MainNode[K,V]" id="scala.collection.concurrent;TrieMap.readOnlySnapshot.expmain">expmain</a> = <a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.gcasRead" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">gcasRead</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT" title="(ov: scala.collection.concurrent.INode[K,V], expectedmain: scala.collection.concurrent.MainNode[K,V], nv: scala.collection.concurrent.INode[K,V])Boolean">RDCSS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>, <a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot.expmain" title="scala.collection.concurrent.MainNode[K,V]">expmain</a>, <a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.copyToGen" title="(ngen: scala.collection.concurrent.Gen, ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.INode[K,V]">copyToGen</a><span class="delimiter">(</span>new <a href="Gen.java.html#scala.collection.concurrent;Gen" title="scala.collection.concurrent.Gen">Gen</a>, this<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> new <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,Nothing]">TrieMap</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot.r" title="scala.collection.concurrent.INode[K,V]">r</a>, null, <a href="#scala.collection.concurrent;TrieMap.hashing" title="=&gt; scala.util.hashing.Hashing[K]">hashing</a>, <a href="#scala.collection.concurrent;TrieMap.equality" title="=&gt; Equiv[K]">equality</a><span class="delimiter">)</span>
    else <a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot" title="()scala.collection.Map[K,V]">readOnlySnapshot</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec override def <a title="()Unit" id="scala.collection.concurrent;TrieMap.clear">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.clear.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.collection.concurrent;TrieMap.RDCSS_ROOT" title="(ov: scala.collection.concurrent.INode[K,V], expectedmain: scala.collection.concurrent.MainNode[K,V], nv: scala.collection.concurrent.INode[K,V])Boolean">RDCSS_ROOT</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.clear.r" title="scala.collection.concurrent.INode[K,V]">r</a>, <a href="#scala.collection.concurrent;TrieMap.clear.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.gcasRead" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">gcasRead</a><span class="delimiter">(</span>this<span class="delimiter">)</span>, <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.newRootNode" title="[K, V]=&gt; scala.collection.concurrent.INode[K,V]">newRootNode</a><span title="scala.collection.concurrent.INode[K,V]" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.clear" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  def <a title="(k: K)Int" id="scala.collection.concurrent;TrieMap.computeHash">computeHash</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.computeHash.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMap.hashingobj_=" title="=&gt; scala.util.hashing.Hashing[K]">hashingobj</a>.<a href="../../util/hashing/Hashing.scala.html#scala.util.hashing;Hashing.hash" title="(x: K)Int">hash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.computeHash.k" title="K">k</a><span class="delimiter">)</span>

  def <a title="(k: K)V" id="scala.collection.concurrent;TrieMap.lookup">lookup</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.lookup.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">)</span>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.lookup.hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.lookup.k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.lookuphc" title="(k: K, hc: Int)AnyRef">lookuphc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.lookup.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.lookup.hc" title="Int">hc</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="V" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  override def <a title="(k: K)V" id="scala.collection.concurrent;TrieMap.apply">apply</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.apply.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">)</span>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.apply.hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.apply.k" title="K">k</a><span class="delimiter">)</span>
    val <a title="AnyRef" id="scala.collection.concurrent;TrieMap.apply.res">res</a> = <a href="#scala.collection.concurrent;TrieMap.lookuphc" title="(k: K, hc: Int)AnyRef">lookuphc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.apply.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.apply.hc" title="Int">hc</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.apply.res" title="AnyRef">res</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> throw new <a href="../../package.scala.html#scala.package;NoSuchElementException" title="java.util.NoSuchElementException">NoSuchElementException</a>
    else <a href="#scala.collection.concurrent;TrieMap.apply.res" title="AnyRef">res</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="V" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  def <a title="(k: K)Option[V]" id="scala.collection.concurrent;TrieMap.get">get</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.get.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.get.hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.get.k" title="K">k</a><span class="delimiter">)</span>
    <a href="../../Option.scala.html#scala.Option.apply" title="(x: AnyRef)Option[AnyRef]">Option</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.lookuphc" title="(k: K, hc: Int)AnyRef">lookuphc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.get.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.get.hc" title="Int">hc</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Option[V]" class="delimiter">[</span><a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="delimiter">}</span>

  override def <a title="(key: K, value: V)Option[V]" id="scala.collection.concurrent;TrieMap.put">put</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.put.key">key</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.put.value">value</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.put.hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.put.key" title="K">key</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.insertifhc" title="(k: K, hc: Int, v: V, cond: AnyRef)Option[V]">insertifhc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.put.key" title="K">key</a>, <a href="#scala.collection.concurrent;TrieMap.put.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.put.value" title="V">value</a>, null<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(k: K, v: V)Unit" id="scala.collection.concurrent;TrieMap.update">update</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.update.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.update.v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.update.hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.update.k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.inserthc" title="(k: K, hc: Int, v: V)Unit">inserthc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.update.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.update.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.update.v" title="V">v</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(kv: (K, V))TrieMap.this.type" id="scala.collection.concurrent;TrieMap.+=(0245901205)">+=</a><span class="delimiter">(</span><a title="(K, V)" id="scala.collection.concurrent;TrieMap.+=(0245901205).kv">kv</a>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V)" class="delimiter">(</a>K, V<span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;TrieMap.update" title="(k: K, v: V)Unit">update</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.+=(0245901205).kv" title="(K, V)">kv</a>.<a href="../../Tuple2.scala.html#scala;Tuple2._1" title="=&gt; K">_1</a>, <a href="#scala.collection.concurrent;TrieMap.+=(0245901205).kv" title="(K, V)">kv</a>.<a href="../../Tuple2.scala.html#scala;Tuple2._2" title="=&gt; V">_2</a><span class="delimiter">)</span>
    this
  <span class="delimiter">}</span>

  override def <a title="(k: K)Option[V]" id="scala.collection.concurrent;TrieMap.remove(e48dcb7711)">remove</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.remove(e48dcb7711).k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.remove(e48dcb7711).hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.remove(e48dcb7711).k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.removehc" title="(k: K, v: V, hc: Int)Option[V]">removehc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.remove(e48dcb7711).k" title="K">k</a>, null.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="V" class="delimiter">[</span><a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">]</span>, <a href="#scala.collection.concurrent;TrieMap.remove(e48dcb7711).hc" title="Int">hc</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(k: K)TrieMap.this.type" id="scala.collection.concurrent;TrieMap.-=(ddecb3eec9)">-=</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.-=(ddecb3eec9).k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;TrieMap.remove(e48dcb7711)" title="(k: K)Option[V]">remove</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.-=(ddecb3eec9).k" title="K">k</a><span class="delimiter">)</span>
    this
  <span class="delimiter">}</span>

  def <a title="(k: K, v: V)Option[V]" id="scala.collection.concurrent;TrieMap.putIfAbsent">putIfAbsent</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.putIfAbsent.k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.putIfAbsent.v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.putIfAbsent.hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.putIfAbsent.k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.insertifhc" title="(k: K, hc: Int, v: V, cond: AnyRef)Option[V]">insertifhc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.putIfAbsent.k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.putIfAbsent.hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.putIfAbsent.v" title="V">v</a>, <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_ABSENT" title="=&gt; Object">KEY_ABSENT</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(k: K, v: V)Boolean" id="scala.collection.concurrent;TrieMap.remove(026a4fd5dd)">remove</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.remove(026a4fd5dd).k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.remove(026a4fd5dd).v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.remove(026a4fd5dd).hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.remove(026a4fd5dd).k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.removehc" title="(k: K, v: V, hc: Int)Option[V]">removehc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.remove(026a4fd5dd).k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.remove(026a4fd5dd).v" title="V">v</a>, <a href="#scala.collection.concurrent;TrieMap.remove(026a4fd5dd).hc" title="Int">hc</a><span class="delimiter">)</span>.<a href="../../Option.scala.html#scala;Option.nonEmpty" title="=&gt; Boolean">nonEmpty</a>
  <span class="delimiter">}</span>

  def <a title="(k: K, oldvalue: V, newvalue: V)Boolean" id="scala.collection.concurrent;TrieMap.replace(72c4da28f0)">replace</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.replace(72c4da28f0).k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.replace(72c4da28f0).oldvalue">oldvalue</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a>, <a title="V" id="scala.collection.concurrent;TrieMap.replace(72c4da28f0).newvalue">newvalue</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.replace(72c4da28f0).hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.replace(72c4da28f0).k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.insertifhc" title="(k: K, hc: Int, v: V, cond: AnyRef)Option[V]">insertifhc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.replace(72c4da28f0).k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.replace(72c4da28f0).hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.replace(72c4da28f0).newvalue" title="V">newvalue</a>, <a href="#scala.collection.concurrent;TrieMap.replace(72c4da28f0).oldvalue" title="V">oldvalue</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="AnyRef" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><span class="delimiter">)</span>.<a href="../../Option.scala.html#scala;Option.nonEmpty" title="=&gt; Boolean">nonEmpty</a>
  <span class="delimiter">}</span>

  def <a title="(k: K, v: V)Option[V]" id="scala.collection.concurrent;TrieMap.replace(a3e5778a23)">replace</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent;TrieMap.replace(a3e5778a23).k">k</a>: <a href="#scala.collection.concurrent;TrieMap;K" title="K">K</a>, <a title="V" id="scala.collection.concurrent;TrieMap.replace(a3e5778a23).v">v</a>: <a href="#scala.collection.concurrent;TrieMap;V" title="V">V</a><span class="delimiter">)</span>: <a href="../../Option.scala.html#scala;Option" title="Option[V]">Option</a><span class="delimiter">[</span>V<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.collection.concurrent;TrieMap.replace(a3e5778a23).hc">hc</a> = <a href="#scala.collection.concurrent;TrieMap.computeHash" title="(k: K)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.replace(a3e5778a23).k" title="K">k</a><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.insertifhc" title="(k: K, hc: Int, v: V, cond: AnyRef)Option[V]">insertifhc</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.replace(a3e5778a23).k" title="K">k</a>, <a href="#scala.collection.concurrent;TrieMap.replace(a3e5778a23).hc" title="Int">hc</a>, <a href="#scala.collection.concurrent;TrieMap.replace(a3e5778a23).v" title="V">v</a>, <a href="#scala.collection.concurrent.INode" title="scala.collection.concurrent.INode.type">INode</a>.<a href="#scala.collection.concurrent.INode.KEY_PRESENT" title="=&gt; Object">KEY_PRESENT</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="=&gt; Iterator[(K, V)]" id="scala.collection.concurrent;TrieMap.iterator">iterator</a>: <a href="../Iterator.scala.html#scala.collection;Iterator" title="Iterator[(K, V)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span> =
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.nonReadOnly" title="=&gt; Boolean">nonReadOnly</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot" title="()scala.collection.Map[K,V]">readOnlySnapshot</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../MapLike.scala.html#scala.collection;MapLike.iterator" title="=&gt; Iterator[(K, V)]">iterator</a>
    else new <a href="#scala.collection.concurrent.TrieMapIterator" title="scala.collection.concurrent.TrieMapIterator[K,V]">TrieMapIterator</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, this<span class="delimiter">)</span>

  private def <a title="()Int" id="scala.collection.concurrent;TrieMap.cachedSize">cachedSize</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMap.cachedSize.r">r</a> = <a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT" title="(abort: Boolean)scala.collection.concurrent.INode[K,V]">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMap.cachedSize.r" title="scala.collection.concurrent.INode[K,V]">r</a>.<a href="#scala.collection.concurrent;INode.cachedSize" title="(ct: scala.collection.concurrent.TrieMap[K,V])Int">cachedSize</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="=&gt; Int" id="scala.collection.concurrent;TrieMap.size">size</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> =
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMap.nonReadOnly" title="=&gt; Boolean">nonReadOnly</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMap.readOnlySnapshot" title="()scala.collection.Map[K,V]">readOnlySnapshot</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.size" title="=&gt; Int">size</a>
    else <a href="#scala.collection.concurrent;TrieMap.cachedSize" title="()Int">cachedSize</a><span class="delimiter">(</span><span class="delimiter">)</span>

  override def <a title="=&gt; String" id="scala.collection.concurrent;TrieMap.stringPrefix">stringPrefix</a> = <span title="String(&quot;TrieMap&quot;)" class="string">&quot;TrieMap&quot;</span>

<span class="delimiter">}</span>


object <a title="scala.collection.concurrent.TrieMap.type" id="scala.collection.concurrent.TrieMap.readResolve">TrieMap</a> extends <a href="../generic/MutableMapFactory.scala.html#scala.collection.generic;MutableMapFactory" title="scala.collection.generic.MutableMapFactory[scala.collection.concurrent.TrieMap]">MutableMapFactory</a><span class="delimiter">[</span>TrieMap<span class="delimiter">]</span> <span class="delimiter">{</span>
  val <a title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.INodeBase[_, _],scala.collection.concurrent.MainNode[_, _]]" id="scala.collection.concurrent.TrieMap.inodeupdater">inodeupdater</a> = <span title="java.util.concurrent.atomic.AtomicReferenceFieldUpdater.type">AtomicReferenceFieldUpdater</span>.<span title="(x$1: Class[scala.collection.concurrent.INodeBase[_, _]], x$2: Class[scala.collection.concurrent.MainNode[_, _]], x$3: String)java.util.concurrent.atomic.AtomicReferenceFieldUpdater[scala.collection.concurrent.INodeBase[_, _],scala.collection.concurrent.MainNode[_, _]]">newUpdater</span><span class="delimiter">(</span>classOf<span title="Class[scala.collection.concurrent.INodeBase[_, _]](classOf[scala.collection.concurrent.INodeBase])" class="delimiter">[</span>INodeBase<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>, classOf<span title="Class[scala.collection.concurrent.MainNode[_, _]](classOf[scala.collection.concurrent.MainNode])" class="delimiter">[</span>MainNode<span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>, <span title="String(&quot;mainnode&quot;)" class="string">&quot;mainnode&quot;</span><span class="delimiter">)</span>

  implicit def <a title="[K, V]=&gt; scala.collection.generic.CanBuildFrom[scala.collection.concurrent.TrieMap.Coll,(K, V),scala.collection.concurrent.TrieMap[K,V]]" id="scala.collection.concurrent.TrieMap.canBuildFrom">canBuildFrom</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent.TrieMap.canBuildFrom;K">K</a>, <a title="" id="scala.collection.concurrent.TrieMap.canBuildFrom;V">V</a><span class="delimiter">]</span>: <a href="../generic/CanBuildFrom.scala.html#scala.collection.generic;CanBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.concurrent.TrieMap.Coll,(K, V),scala.collection.concurrent.TrieMap[K,V]]">CanBuildFrom</a><span class="delimiter">[</span>Coll, <span class="delimiter">(</span>K, V<span class="delimiter">)</span>, TrieMap<span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">]</span> = new <a href="../generic/GenMapFactory.scala.html#scala.collection.generic;GenMapFactory;MapCanBuildFrom" title="scala.collection.concurrent.TrieMap.MapCanBuildFrom[K,V]">MapCanBuildFrom</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>

  def <a title="[K, V]=&gt; scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent.TrieMap.empty">empty</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent.TrieMap.empty;K">K</a>, <a title="" id="scala.collection.concurrent.TrieMap.empty;V">V</a><span class="delimiter">]</span>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = new <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>

  class <a title="class MangledHashing[K] extends AnyRef with scala.util.hashing.Hashing[K]" id="scala.collection.concurrent.TrieMap;MangledHashing">MangledHashing</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent.TrieMap;MangledHashing;K">K</a><span class="delimiter">]</span> extends <a href="../../util/hashing/Hashing.scala.html#scala.util.hashing;Hashing" title="scala.util.hashing.Hashing[K]">Hashing</a><span class="delimiter">[</span>K<span class="delimiter">]</span> <span class="delimiter">{</span>
    def <a title="(k: K)Int" id="scala.collection.concurrent.TrieMap;MangledHashing.hash">hash</a><span class="delimiter">(</span><a title="K" id="scala.collection.concurrent.TrieMap;MangledHashing.hash.k">k</a>: <a href="#scala.collection.concurrent.TrieMap;MangledHashing;K" title="K">K</a><span class="delimiter">)</span>= scala.util.hashing.<a href="../../util/hashing/package.scala.html#scala.util.hashing.package.byteswap32" title="(v: Int)Int">byteswap32</a><span class="delimiter">(</span><a href="#scala.collection.concurrent.TrieMap;MangledHashing.hash.k" title="K">k</a>.<span title="()Int">##</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


private<span class="delimiter">[</span>collection<span class="delimiter">]</span> class <a title="class TrieMapIterator[K, V] extends AnyRef with Iterator[(K, V)]" id="scala.collection.concurrent.TrieMapIterator">TrieMapIterator</a><span class="delimiter">[</span><a title="" id="scala.collection.concurrent.TrieMapIterator.<init>$default$3;K">K</a>, <a title="" id="scala.collection.concurrent.TrieMapIterator.<init>$default$3;V">V</a><span class="delimiter">]</span><a href="#scala.collection.concurrent.TrieMapIterator" title="scala.collection.concurrent.TrieMapIterator[K,V]" class="delimiter">(</a>var <a title="Int" id="scala.collection.concurrent;TrieMapIterator.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, private var <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;TrieMapIterator.ct">ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Boolean" id="scala.collection.concurrent.TrieMapIterator.<init>$default$3">mustInit</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true<span class="delimiter">)</span> extends <a href="../Iterator.scala.html#scala.collection;Iterator" title="Iterator[(K, V)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  private val <a title="Array[Array[scala.collection.concurrent.BasicNode]]" id="scala.collection.concurrent;TrieMapIterator.stack">stack</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[Array[scala.collection.concurrent.BasicNode]]">Array</a><span class="delimiter">[</span>Array<span class="delimiter">[</span>BasicNode<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(7)" class="int">7</span><span class="delimiter">)</span>
  private val <a title="Array[Int]" id="scala.collection.concurrent;TrieMapIterator.stackpos">stackpos</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(7)" class="int">7</span><span class="delimiter">)</span>
  private var <a title="Int" id="scala.collection.concurrent;TrieMapIterator.depth_=">depth</a> = -<span title="Int(-1)" class="int">1</span>
  private var <a title="Iterator[(K, V)]" id="scala.collection.concurrent;TrieMapIterator.subiter_=">subiter</a>: <a href="../Iterator.scala.html#scala.collection;Iterator" title="Iterator[(K, V)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span> = null
  private var <a title="scala.collection.concurrent.KVNode[K,V]" id="scala.collection.concurrent;TrieMapIterator.current_=">current</a>: <a href="#scala.collection.concurrent;KVNode" title="scala.collection.concurrent.KVNode[K,V]">KVNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> = null

  if <span class="delimiter">(</span><a href="#scala.collection.concurrent.TrieMapIterator.<init>$default$3" title="Boolean">mustInit</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMapIterator.initialize" title="()Unit">initialize</a><span class="delimiter">(</span><span class="delimiter">)</span>

  def <a title="=&gt; Boolean" id="scala.collection.concurrent;TrieMapIterator.hasNext">hasNext</a> = <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="=&gt; scala.collection.concurrent.KVNode[K,V]">current</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>

  def <a title="()(K, V)" id="scala.collection.concurrent;TrieMapIterator.next">next</a><span class="delimiter">(</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.hasNext" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    var <a title="(K, V)" id="scala.collection.concurrent;TrieMapIterator.next.r">r</a>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="(K, V)" class="delimiter">(</a>K, V<span class="delimiter">)</span> = null
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.next.r" title="(K, V)">r</a> = <a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a>.<a href="../Iterator.scala.html#scala.collection;Iterator.next" title="()(K, V)">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.checkSubiter" title="()Unit">checkSubiter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.next.r" title="(K, V)">r</a> = <a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="=&gt; scala.collection.concurrent.KVNode[K,V]">current</a>.<a href="#scala.collection.concurrent;KVNode.kvPair" title="=&gt; (K, V)">kvPair</a>
      <a href="#scala.collection.concurrent;TrieMapIterator.advance" title="()Unit">advance</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.collection.concurrent;TrieMapIterator.next.r" title="(K, V)">r</a>
  <span class="delimiter">}</span> else <a href="../Iterator.scala.html#scala.collection.Iterator" title="scala.collection.Iterator.type">Iterator</a>.<a href="../Iterator.scala.html#scala.collection.Iterator.empty" title="=&gt; Iterator[Nothing]">empty</a>.<a href="../Iterator.scala.html#scala.collection;Iterator.next" title="()Nothing">next</a><span class="delimiter">(</span><span class="delimiter">)</span>

  private def <a title="(in: scala.collection.concurrent.INode[K,V])Unit" id="scala.collection.concurrent;TrieMapIterator.readin">readin</a><span class="delimiter">(</span><a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMapIterator.readin.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMapIterator.readin.in" title="scala.collection.concurrent.INode[K,V]">in</a>.<a href="#scala.collection.concurrent;INode.gcasRead" title="(ct: scala.collection.concurrent.TrieMap[K,V])scala.collection.concurrent.MainNode[K,V]">gcasRead</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.ct" title="=&gt; scala.collection.concurrent.TrieMap[K,V]">ct</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
    case <a title="scala.collection.concurrent.CNode[K,V]" id="scala.collection.concurrent;TrieMapIterator.readin.cn">cn</a>: <a href="#scala.collection.concurrent;CNode" title="scala.collection.concurrent.CNode[K,V]">CNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
      <a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="(x$1: Int)Unit">depth</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Array[scala.collection.concurrent.BasicNode])Unit">stack</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMapIterator.readin.cn" title="scala.collection.concurrent.CNode[K,V]">cn</a>.<a href="#scala.collection.concurrent;CNode.array" title="=&gt; Array[scala.collection.concurrent.BasicNode]">array</a>
      <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Int)Unit">stackpos</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span> = -<span title="Int(-1)" class="int">1</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.advance" title="()Unit">advance</a><span class="delimiter">(</span><span class="delimiter">)</span>
    case <a title="scala.collection.concurrent.TNode[K,V]" id="scala.collection.concurrent;TrieMapIterator.readin.tn">tn</a>: <a href="#scala.collection.concurrent;TNode" title="scala.collection.concurrent.TNode[K,V]">TNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
      <a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="(x$1: scala.collection.concurrent.KVNode[K,V])Unit">current</a> = <a href="#scala.collection.concurrent;TrieMapIterator.readin.tn" title="scala.collection.concurrent.TNode[K,V]">tn</a>
    case <a title="scala.collection.concurrent.LNode[K,V]" id="scala.collection.concurrent;TrieMapIterator.readin.ln">ln</a>: <a href="#scala.collection.concurrent;LNode" title="scala.collection.concurrent.LNode[K,V]">LNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
      <a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = <a href="#scala.collection.concurrent;TrieMapIterator.readin.ln" title="scala.collection.concurrent.LNode[K,V]">ln</a>.<a href="#scala.collection.concurrent;LNode.listmap" title="=&gt; scala.collection.immutable.ListMap[K,V]">listmap</a>.<a href="../immutable/ListMap.scala.html#scala.collection.immutable;ListMap.iterator" title="=&gt; Iterator[(K, V)]">iterator</a>
      <a href="#scala.collection.concurrent;TrieMapIterator.checkSubiter" title="()Unit">checkSubiter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    case null =&gt;
      <a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="(x$1: scala.collection.concurrent.KVNode[K,V])Unit">current</a> = null
  <span class="delimiter">}</span>

  private def <a title="()Unit" id="scala.collection.concurrent;TrieMapIterator.checkSubiter">checkSubiter</a><span class="delimiter">(</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a>.<a href="../Iterator.scala.html#scala.collection;Iterator.hasNext" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = null
    <a href="#scala.collection.concurrent;TrieMapIterator.advance" title="()Unit">advance</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="()Unit" id="scala.collection.concurrent;TrieMapIterator.initialize">initialize</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../Predef.scala.html#scala.Predef.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.ct" title="=&gt; scala.collection.concurrent.TrieMap[K,V]">ct</a>.<a href="#scala.collection.concurrent;TrieMap.isReadOnly" title="=&gt; Boolean">isReadOnly</a><span class="delimiter">)</span>

    val <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMapIterator.initialize.r">r</a> = <a href="#scala.collection.concurrent;TrieMapIterator.ct" title="scala.collection.concurrent.TrieMap[K,V] @scala.reflect.internal.annotations.uncheckedBounds" id="scala.collection.concurrent;TrieMapIterator.initialize.r.qual$1">ct</a>.<a href="#scala.collection.concurrent;TrieMap.RDCSS_READ_ROOT$default$1" title="Boolean" id="scala.collection.concurrent;TrieMapIterator.initialize.r.x$6">RDCSS_READ_ROOT</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent;TrieMapIterator.readin" title="(in: scala.collection.concurrent.INode[K,V])Unit">readin</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.initialize.r" title="scala.collection.concurrent.INode[K,V]">r</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.collection.concurrent;TrieMapIterator.advance">advance</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a> <a href="../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    val npos = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Int">stackpos</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="Int" id="scala.collection.concurrent;TrieMapIterator.advance.npos">+</a> <span title="Int(1)" class="int">1</span>
    if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.advance.npos" title="Int">npos</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Array[scala.collection.concurrent.BasicNode]">stack</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Int)Unit">stackpos</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMapIterator.advance.npos" title="Int">npos</a>
      <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Array[scala.collection.concurrent.BasicNode]">stack</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.concurrent.BasicNode" class="delimiter">(</a><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.advance.npos" title="Int">npos</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case <a title="scala.collection.concurrent.SNode[K,V]" id="scala.collection.concurrent;TrieMapIterator.advance.sn">sn</a>: <a href="#scala.collection.concurrent;SNode" title="scala.collection.concurrent.SNode[K,V]">SNode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
          <a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="(x$1: scala.collection.concurrent.KVNode[K,V])Unit">current</a> = <a href="#scala.collection.concurrent;TrieMapIterator.advance.sn" title="scala.collection.concurrent.SNode[K,V]">sn</a>
        case <a title="scala.collection.concurrent.INode[K,V]" id="scala.collection.concurrent;TrieMapIterator.advance.in">in</a>: <a href="#scala.collection.concurrent;INode" title="scala.collection.concurrent.INode[K,V]">INode</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span> =&gt;
          <a href="#scala.collection.concurrent;TrieMapIterator.readin" title="(in: scala.collection.concurrent.INode[K,V])Unit">readin</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.advance.in" title="scala.collection.concurrent.INode[K,V]">in</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="(x$1: Int)Unit">depth</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.advance" title="()Unit">advance</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> else <a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="(x$1: scala.collection.concurrent.KVNode[K,V])Unit">current</a> = null

  protected def <a title="(_lev: Int, _ct: scala.collection.concurrent.TrieMap[K,V], _mustInit: Boolean)scala.collection.concurrent.TrieMapIterator[K,V]" id="scala.collection.concurrent;TrieMapIterator.newIterator">newIterator</a><span class="delimiter">(</span><a title="Int" id="scala.collection.concurrent;TrieMapIterator.newIterator._lev">_lev</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.concurrent.TrieMap[K,V]" id="scala.collection.concurrent;TrieMapIterator.newIterator._ct">_ct</a>: <a href="#scala.collection.concurrent;TrieMap" title="scala.collection.concurrent.TrieMap[K,V]">TrieMap</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="Boolean" id="scala.collection.concurrent;TrieMapIterator.newIterator._mustInit">_mustInit</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span> = new <a href="#scala.collection.concurrent.TrieMapIterator" title="scala.collection.concurrent.TrieMapIterator[K,V]">TrieMapIterator</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.newIterator._lev" title="Int">_lev</a>, <a href="#scala.collection.concurrent;TrieMapIterator.newIterator._ct" title="scala.collection.concurrent.TrieMap[K,V]">_ct</a>, <a href="#scala.collection.concurrent;TrieMapIterator.newIterator._mustInit" title="Boolean">_mustInit</a><span class="delimiter">)</span>

  protected def <a title="(it: scala.collection.concurrent.TrieMapIterator[K,V])Unit" id="scala.collection.concurrent;TrieMapIterator.dupTo">dupTo</a><span class="delimiter">(</span><a title="scala.collection.concurrent.TrieMapIterator[K,V]" id="scala.collection.concurrent;TrieMapIterator.dupTo.it">it</a>: <a href="#scala.collection.concurrent.TrieMapIterator" title="scala.collection.concurrent.TrieMapIterator[K,V]">TrieMapIterator</a><span class="delimiter">[</span>K, V<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.level" title="(x$1: Int)Unit">level</a> = this.<a href="#scala.collection.concurrent;TrieMapIterator.level" title="=&gt; Int">level</a>
    <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.ct" title="(x$1: scala.collection.concurrent.TrieMap[K,V])Unit">ct</a> = this.<a href="#scala.collection.concurrent;TrieMapIterator.ct" title="=&gt; scala.collection.concurrent.TrieMap[K,V]">ct</a>
    <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="(x$1: Int)Unit">depth</a> = this.<a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a>
    <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="(x$1: scala.collection.concurrent.KVNode[K,V])Unit">current</a> = this.<a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="=&gt; scala.collection.concurrent.KVNode[K,V]">current</a>

    <span class="comment">// these need a deep copy</span>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span>this.<a href="#scala.collection.concurrent;TrieMapIterator.stack" title="=&gt; Array[Array[scala.collection.concurrent.BasicNode]]">stack</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.stack" title="=&gt; Array[Array[scala.collection.concurrent.BasicNode]]">stack</a>, <span title="Int(0)" class="int">0</span>, <span title="Int(7)" class="int">7</span><span class="delimiter">)</span>
    <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span>this.<a href="#scala.collection.concurrent;TrieMapIterator.stackpos" title="=&gt; Array[Int]">stackpos</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.stackpos" title="=&gt; Array[Int]">stackpos</a>, <span title="Int(0)" class="int">0</span>, <span title="Int(7)" class="int">7</span><span class="delimiter">)</span>

    <span class="comment">// this one needs to be evaluated</span>
    if <span class="delimiter">(</span>this.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a> <span title="(x$1: Any)Boolean">==</span> null<span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = null
    else <span class="delimiter">{</span>
      val <a title="List[(K, V)]" id="scala.collection.concurrent;TrieMapIterator.dupTo.lst">lst</a> = this.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[(K, V)]">toList</a>
      this.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.lst" title="List[(K, V)]">lst</a>.<a href="../LinearSeqLike.scala.html#scala.collection;LinearSeqLike.iterator" title="=&gt; Iterator[(K, V)]">iterator</a>
      <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.it" title="scala.collection.concurrent.TrieMapIterator[K,V]">it</a>.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = <a href="#scala.collection.concurrent;TrieMapIterator.dupTo.lst" title="List[(K, V)]">lst</a>.<a href="../LinearSeqLike.scala.html#scala.collection;LinearSeqLike.iterator" title="=&gt; Iterator[(K, V)]">iterator</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Returns a sequence of iterators over subsets of this iterator.
   *  It's used to ease the implementation of splitters for a parallel version of the TrieMap.
   */</span>
  protected def <a title="()Seq[Iterator[(K, V)]]" id="scala.collection.concurrent;TrieMapIterator.subdivide">subdivide</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../Seq.scala.html#scala.collection;Seq" title="Seq[Iterator[(K, V)]]">Seq</a><span class="delimiter">[</span>Iterator<span class="delimiter">[</span><span class="delimiter">(</span>K, V<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">// the case where an LNode is being iterated</span>
    val <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span> = <a href="#scala.collection.concurrent;TrieMapIterator.newIterator" title="(_lev: Int, _ct: scala.collection.concurrent.TrieMap[K,V], _mustInit: Boolean)scala.collection.concurrent.TrieMapIterator[K,V]">newIterator</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.level" title="=&gt; Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.concurrent;TrieMapIterator.ct" title="=&gt; scala.collection.concurrent.TrieMap[K,V]">ct</a>, _mustInit = false<span class="delimiter">)</span>
    <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="(x$1: Int)Unit">depth</a> = -<span title="Int(-1)" class="int">1</span>
    <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = this.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="=&gt; Iterator[(K, V)]">subiter</a>
    <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="(x$1: scala.collection.concurrent.KVNode[K,V])Unit">current</a> = null
    this.<a href="#scala.collection.concurrent;TrieMapIterator.subiter_=" title="(x$1: Iterator[(K, V)])Unit">subiter</a> = null
    <a href="#scala.collection.concurrent;TrieMapIterator.advance" title="()Unit">advance</a><span class="delimiter">(</span><span class="delimiter">)</span>
    this.<a href="#scala.collection.concurrent;TrieMapIterator.level" title="(x$1: Int)Unit">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <a href="../generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: scala.collection.concurrent.TrieMapIterator[K,V]*)Seq[scala.collection.concurrent.TrieMapIterator[K,V]]">Seq</a><span class="delimiter">(</span><span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>, this<span class="delimiter">)</span>
  <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    this.<a href="#scala.collection.concurrent;TrieMapIterator.level" title="(x$1: Int)Unit">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <a href="../generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: scala.collection.concurrent.TrieMapIterator[K,V]*)Seq[scala.collection.concurrent.TrieMapIterator[K,V]]">Seq</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
  <span class="delimiter">}</span> else <span class="delimiter">{</span>
    var <a title="Int" id="scala.collection.concurrent;TrieMapIterator.subdivide.d">d</a> = <span title="Int(0)" class="int">0</span>
    while <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a> <a href="../../Int.scala.html#scala;Int.<=(5f58a84eb3)" title="(x: Int)Boolean">&lt;=</a> <a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#scala.collection.concurrent;TrieMapIterator.subdivide.while$6" title="()Unit" class="delimiter">{</a>
      val rem = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Array[scala.collection.concurrent.BasicNode]">stack</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a><span class="delimiter">)</span>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.concurrent;TrieMapIterator.subdivide.rem">-</a> <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Int">stackpos</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.rem" title="Int">rem</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a href="../../Tuple2.scala.html#scala;Tuple2" title="(Array[scala.collection.concurrent.BasicNode], Array[scala.collection.concurrent.BasicNode])" class="delimiter">(</a><a href="../../Tuple2.scala.html#scala;Tuple2._1" title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;TrieMapIterator.subdivide.arr1">arr1</a>, <a href="../../Tuple2.scala.html#scala;Tuple2._2" title="Array[scala.collection.concurrent.BasicNode]" id="scala.collection.concurrent;TrieMapIterator.subdivide.arr2">arr2</a><span class="delimiter">)</span> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Array[scala.collection.concurrent.BasicNode]">stack</a><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.collection.concurrent.BasicNode])scala.collection.mutable.ArrayOps[scala.collection.concurrent.BasicNode]" class="delimiter">(</a><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a><span class="delimiter">)</span>.<a href="../IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.drop" title="(n: Int)Array[scala.collection.concurrent.BasicNode]">drop</a><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[scala.collection.concurrent.BasicNode])scala.collection.mutable.ArrayOps[scala.collection.concurrent.BasicNode]" class="delimiter">(</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)Int">stackpos</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="../IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.splitAt" title="(n: Int)(Array[scala.collection.concurrent.BasicNode], Array[scala.collection.concurrent.BasicNode])">splitAt</a><a href="../../Tuple2.scala.html#scala;Tuple2" title="(Array[scala.collection.concurrent.BasicNode], Array[scala.collection.concurrent.BasicNode]) @unchecked" class="delimiter">(</a><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.rem" title="Int">rem</a> <a href="../../Int.scala.html#scala;Int./(1409840560)" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Array[scala.collection.concurrent.BasicNode])Unit">stack</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMapIterator.subdivide.arr1" title="Array[scala.collection.concurrent.BasicNode]">arr1</a>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Int)Unit">stackpos</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a><span class="delimiter">)</span> = -<span title="Int(-1)" class="int">1</span>
        val <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span> = <a href="#scala.collection.concurrent;TrieMapIterator.newIterator" title="(_lev: Int, _ct: scala.collection.concurrent.TrieMap[K,V], _mustInit: Boolean)scala.collection.concurrent.TrieMapIterator[K,V]">newIterator</a><span class="delimiter">(</span><a href="#scala.collection.concurrent;TrieMapIterator.level" title="=&gt; Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.concurrent;TrieMapIterator.ct" title="=&gt; scala.collection.concurrent.TrieMap[K,V]">ct</a>, _mustInit = false<span class="delimiter">)</span>
        <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Array[scala.collection.concurrent.BasicNode])Unit">stack</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#scala.collection.concurrent;TrieMapIterator.subdivide.arr2" title="Array[scala.collection.concurrent.BasicNode]">arr2</a>
        <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: Int)Unit">stackpos</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = -<span title="Int(-1)" class="int">1</span>
        <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="(x$1: Int)Unit">depth</a> = <span title="Int(0)" class="int">0</span>
        <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span>.<a href="#scala.collection.concurrent;TrieMapIterator.advance" title="()Unit">advance</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// &lt;-- fix it</span>
        this.<a href="#scala.collection.concurrent;TrieMapIterator.level" title="(x$1: Int)Unit">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        return <a href="../generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: scala.collection.concurrent.TrieMapIterator[K,V]*)Seq[scala.collection.concurrent.TrieMapIterator[K,V]]">Seq</a><span class="delimiter">(</span>this, <span title="scala.collection.concurrent.TrieMapIterator[K,V]">it</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#scala.collection.concurrent;TrieMapIterator.subdivide.d" title="Int">d</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    this.<a href="#scala.collection.concurrent;TrieMapIterator.level" title="(x$1: Int)Unit">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <a href="../generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="(elems: scala.collection.concurrent.TrieMapIterator[K,V]*)Seq[scala.collection.concurrent.TrieMapIterator[K,V]]">Seq</a><span class="delimiter">(</span>this<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.collection.concurrent;TrieMapIterator.printDebug">printDebug</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;ctrie iterator&quot;)" class="string">&quot;ctrie iterator&quot;</span><span class="delimiter">)</span>
    <a href="../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.intArrayOps" title="implicit scala.Predef.intArrayOps : (xs: Array[Int])scala.collection.mutable.ArrayOps[Int]">stackpos</a>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;depth: &quot;)" class="string">&quot;depth: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.collection.concurrent;TrieMapIterator.depth_=" title="=&gt; Int">depth</a><span class="delimiter">)</span>
    <a href="../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;curr.: &quot;)" class="string">&quot;curr.: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.collection.concurrent;TrieMapIterator.current_=" title="=&gt; scala.collection.concurrent.KVNode[K,V]">current</a><span class="delimiter">)</span>
    <a href="../../Predef.scala.html#scala.Predef.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.refArrayOps" title="(xs: Array[Array[scala.collection.concurrent.BasicNode]])scala.collection.mutable.ArrayOps[Array[scala.collection.concurrent.BasicNode]]">stack</a>.<a href="../TraversableOnce.scala.html#scala.collection;TraversableOnce.mkString(f5d728d244)" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> object <a title="scala.collection.concurrent.RestartException.type" id="scala.collection.concurrent.RestartException.readResolve">RestartException</a> extends <a href="../../util/control/ControlThrowable.scala.html#scala.util.control;ControlThrowable" title="scala.util.control.ControlThrowable">ControlThrowable</a>


<span class="comment">/** Only used for ctrie serialization. */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">0L</span> - <span class="long">7237891413820527142L</span><span class="delimiter">)</span>
private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> case object <a href="#scala.collection.concurrent.TrieMapSerializationEnd.productElement.x$1" title="scala.collection.concurrent.TrieMapSerializationEnd.type" id="scala.collection.concurrent.TrieMapSerializationEnd.readResolve">TrieMapSerializationEnd</a>


private<span class="delimiter">[</span>concurrent<span class="delimiter">]</span> object <a title="scala.collection.concurrent.Debug.type" id="scala.collection.concurrent.Debug">Debug</a> <a href="#scala.collection.concurrent.Debug" title="scala.collection.concurrent.Debug.type" class="delimiter">{</a>
  import scala.collection._

  lazy val <a title="java.util.concurrent.ConcurrentLinkedQueue[AnyRef]" id="scala.collection.concurrent.Debug.logbuffer">logbuffer</a> = new java.util.concurrent.<span title="java.util.concurrent.ConcurrentLinkedQueue[AnyRef]">ConcurrentLinkedQueue</span><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>

  def <a title="(s: AnyRef)Boolean" id="scala.collection.concurrent.Debug.log">log</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent.Debug.log.s">s</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <a href="#scala.collection.concurrent.Debug.logbuffer" title="=&gt; java.util.concurrent.ConcurrentLinkedQueue[AnyRef]">logbuffer</a>.<span title="(x$1: AnyRef)Boolean">add</span><span class="delimiter">(</span><a href="#scala.collection.concurrent.Debug.log.s" title="AnyRef">s</a><span class="delimiter">)</span>

  def <a title="()Unit" id="scala.collection.concurrent.Debug.flush">flush</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    for <span class="delimiter">(</span><a title="AnyRef" id="scala.collection.concurrent.Debug.flush.$anonfun.s">s</a> &lt;- <a href="../JavaConversions.scala.html#scala.collection.JavaConversions" title="scala.collection.JavaConversions.type">JavaConversions</a>.<a href="../convert/WrapAsScala.scala.html#scala.collection.convert;WrapAsScala.asScalaIterator" title="(it: java.util.Iterator[AnyRef])Iterator[AnyRef]">asScalaIterator</a><a href="../Iterator.scala.html#scala.collection;Iterator.foreach" title="(f: AnyRef =&gt; Unit)Unit" class="delimiter">(</a><a href="#scala.collection.concurrent.Debug.logbuffer" title="=&gt; java.util.concurrent.ConcurrentLinkedQueue[AnyRef]">logbuffer</a>.<span title="()java.util.Iterator[AnyRef]">iterator</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../Console.scala.html#scala.Console.out" title="=&gt; java.io.PrintStream">out</a>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><a href="#scala.collection.concurrent.Debug.flush.$anonfun.s" title="AnyRef">s</a>.<span title="()String">toString</span><span class="delimiter">)</span>
    <a href="#scala.collection.concurrent.Debug.logbuffer" title="=&gt; java.util.concurrent.ConcurrentLinkedQueue[AnyRef]">logbuffer</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.collection.concurrent.Debug.clear">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.collection.concurrent.Debug.logbuffer" title="=&gt; java.util.concurrent.ConcurrentLinkedQueue[AnyRef]">logbuffer</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>
