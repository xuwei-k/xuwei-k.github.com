<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/collection/parallel/mutable/ParHashSet.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

package scala
package collection.parallel.mutable



import scala.collection.generic._
import scala.collection.mutable.FlatHashTable
import scala.collection.parallel.Combiner
import scala.collection.mutable.UnrolledBuffer
import scala.collection.parallel.Task



<span class="comment">/** A parallel hash set.
 *
 *  `ParHashSet` is a parallel set which internally keeps elements within a hash table.
 *  It uses linear probing to resolve collisions.
 *
 *  @tparam T        type of the elements in the $coll.
 *
 *  @define Coll `ParHashSet`
 *  @define coll parallel hash set
 *
 *  @author Aleksandar Prokopec
 *  @see  [[http://docs.scala-lang.org/overviews/parallel-collections/concrete-parallel-collections.html#parallel_hash_tables Scala's Parallel Collections Library overview]]
 *  section on Parallel Hash Tables for more information.
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">1L</span><span class="delimiter">)</span>
class <a title="class ParHashSet[T] extends AnyRef with scala.collection.parallel.mutable.ParSet[T] with scala.collection.generic.GenericParTemplate[T,scala.collection.parallel.mutable.ParHashSet] with scala.collection.parallel.mutable.ParSetLike[T,scala.collection.parallel.mutable.ParHashSet[T],scala.collection.mutable.HashSet[T]] with scala.collection.parallel.mutable.ParFlatHashTable[T] with Serializable" id="scala.collection.parallel.mutable;ParHashSet">ParHashSet</a><span class="delimiter">[</span><a title="" id="scala.collection.parallel.mutable;ParHashSet;T">T</a><span class="delimiter">]</span> private<span class="delimiter">[</span>collection<span class="delimiter">]</span> <span class="delimiter">(</span><a title="scala.collection.mutable.FlatHashTable.Contents[T]" id="scala.collection.parallel.mutable;ParHashSet.contents">contents</a>: FlatHashTable.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;Contents" title="scala.collection.mutable.FlatHashTable.Contents[T]">Contents</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
extends <a href="ParSet.scala.html#scala.collection.parallel.mutable;ParSet" title="scala.collection.parallel.mutable.ParSet[T]">ParSet</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
   with <a href="../../generic/GenericParTemplate.scala.html#scala.collection.generic;GenericParTemplate" title="scala.collection.generic.GenericParTemplate[T,scala.collection.parallel.mutable.ParHashSet]">GenericParTemplate</a><span class="delimiter">[</span>T, ParHashSet<span class="delimiter">]</span>
   with <a href="ParSetLike.scala.html#scala.collection.parallel.mutable;ParSetLike" title="scala.collection.parallel.mutable.ParSetLike[T,scala.collection.parallel.mutable.ParHashSet[T],scala.collection.mutable.HashSet[T]]">ParSetLike</a><span class="delimiter">[</span>T, ParHashSet<span class="delimiter">[</span>T<span class="delimiter">]</span>, scala.collection.mutable.HashSet<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
   with <a href="ParFlatHashTable.scala.html#scala.collection.parallel.mutable;ParFlatHashTable" title="scala.collection.parallel.mutable.ParFlatHashTable[T]">ParFlatHashTable</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
   with <a href="../../../Serializable.scala.html#scala;Serializable" title="Serializable">Serializable</a>
<span class="delimiter">{</span>
  <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.initWithContents" title="(c: scala.collection.mutable.FlatHashTable.Contents[T])Unit">initWithContents</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet.contents" title="scala.collection.mutable.FlatHashTable.Contents[T]">contents</a><span class="delimiter">)</span>
  <span class="comment">// println(&quot;----&gt; new par hash set!&quot;)</span>
  <span class="comment">// java.lang.Thread.dumpStack</span>
  <span class="comment">// println(debugInformation)</span>

  def this<span class="delimiter">(</span><span class="delimiter">)</span> = this<span class="delimiter">(</span>null<span class="delimiter">)</span>

  override def <a title="=&gt; scala.collection.parallel.mutable.ParHashSet.type" id="scala.collection.parallel.mutable;ParHashSet.companion">companion</a> = <a href="#scala.collection.parallel.mutable.ParHashSet.readResolve" title="scala.collection.parallel.mutable.ParHashSet.type">ParHashSet</a>

  override def <a title="=&gt; scala.collection.parallel.mutable.ParHashSet[T]" id="scala.collection.parallel.mutable;ParHashSet.empty">empty</a> = new <a href="#scala.collection.parallel.mutable;ParHashSet" title="scala.collection.parallel.mutable.ParHashSet[T]">ParHashSet</a>

  override def <a title="=&gt; ParHashSet.this.ParHashSetIterator" id="scala.collection.parallel.mutable;ParHashSet.iterator">iterator</a> = <a href="#scala.collection.parallel.mutable;ParHashSet.splitter" title="=&gt; ParHashSet.this.ParHashSetIterator">splitter</a>

  override def <a title="=&gt; Int" id="scala.collection.parallel.mutable;ParHashSet.size">size</a> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.tableSize" title="=&gt; Int">tableSize</a>

  def <a title="()Unit" id="scala.collection.parallel.mutable;ParHashSet.clear">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.clearTable" title="()Unit">clearTable</a><span class="delimiter">(</span><span class="delimiter">)</span>

  override def <a title="=&gt; scala.collection.mutable.HashSet[T]" id="scala.collection.parallel.mutable;ParHashSet.seq">seq</a> = new scala.collection.mutable.<a href="../../mutable/HashSet.scala.html#scala.collection.mutable;HashSet" title="scala.collection.mutable.HashSet[T]">HashSet</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.hashTableContents" title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]">hashTableContents</a><span class="delimiter">)</span>

  def <a title="(elem: T)ParHashSet.this.type" id="scala.collection.parallel.mutable;ParHashSet.+=(f3dc7d4ae7)">+=</a><span class="delimiter">(</span><a title="T" id="scala.collection.parallel.mutable;ParHashSet.+=(f3dc7d4ae7).elem">elem</a>: <a href="#scala.collection.parallel.mutable;ParHashSet;T" title="T">T</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.addElem" title="(elem: T)Boolean">addElem</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet.+=(f3dc7d4ae7).elem" title="T">elem</a><span class="delimiter">)</span>
    this
  <span class="delimiter">}</span>

  def <a title="(elem: T)ParHashSet.this.type" id="scala.collection.parallel.mutable;ParHashSet.-=(f3dc7d4ae7)">-=</a><span class="delimiter">(</span><a title="T" id="scala.collection.parallel.mutable;ParHashSet.-=(f3dc7d4ae7).elem">elem</a>: <a href="#scala.collection.parallel.mutable;ParHashSet;T" title="T">T</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.removeElem" title="(elem: T)Boolean">removeElem</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet.-=(f3dc7d4ae7).elem" title="T">elem</a><span class="delimiter">)</span>
    this
  <span class="delimiter">}</span>

  override def <a title="=&gt; String" id="scala.collection.parallel.mutable;ParHashSet.stringPrefix">stringPrefix</a> = <span title="String(&quot;ParHashSet&quot;)" class="string">&quot;ParHashSet&quot;</span>

  def <a title="(elem: T)Boolean" id="scala.collection.parallel.mutable;ParHashSet.contains">contains</a><span class="delimiter">(</span><a title="T" id="scala.collection.parallel.mutable;ParHashSet.contains.elem">elem</a>: <a href="#scala.collection.parallel.mutable;ParHashSet;T" title="T">T</a><span class="delimiter">)</span> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.containsElem" title="(elem: T)Boolean">containsElem</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet.contains.elem" title="T">elem</a><span class="delimiter">)</span>

  def <a title="=&gt; ParHashSet.this.ParHashSetIterator" id="scala.collection.parallel.mutable;ParHashSet.splitter">splitter</a> = new <a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator" title="ParHashSet.this.ParHashSetIterator">ParHashSetIterator</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>, <a href="#scala.collection.parallel.mutable;ParHashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span>

  class <a title="class ParHashSetIterator extends ParHashSet.this.ParFlatHashTableIterator" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator">ParHashSetIterator</a><a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator" title="ParHashSet.this.ParHashSetIterator" class="delimiter">(</a><a title="Int" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.start">start</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.iteratesUntil">iteratesUntil</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.totalElements">totalElements</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>
  extends <a href="ParFlatHashTable.scala.html#scala.collection.parallel.mutable;ParFlatHashTable;ParFlatHashTableIterator" title="ParHashSet.this.ParFlatHashTableIterator">ParFlatHashTableIterator</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.start" title="Int">start</a>, <a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.iteratesUntil" title="Int">iteratesUntil</a>, <a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.totalElements" title="Int">totalElements</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    def <a title="(start: Int, until: Int, total: Int)ParHashSet.this.ParHashSetIterator" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator">newIterator</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator.start">start</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator.until">until</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator.total">total</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = new <a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator" title="ParHashSet.this.ParHashSetIterator">ParHashSetIterator</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator.start" title="Int">start</a>, <a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator.until" title="Int">until</a>, <a href="#scala.collection.parallel.mutable;ParHashSet;ParHashSetIterator.newIterator.total" title="Int">total</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(s: java.io.ObjectOutputStream)Unit" id="scala.collection.parallel.mutable;ParHashSet.writeObject">writeObject</a><span class="delimiter">(</span><a title="java.io.ObjectOutputStream" id="scala.collection.parallel.mutable;ParHashSet.writeObject.s">s</a>: java.io.<span title="java.io.ObjectOutputStream">ObjectOutputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.serializeTo" title="(out: java.io.ObjectOutputStream)Unit">serializeTo</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet.writeObject.s" title="java.io.ObjectOutputStream">s</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="(in: java.io.ObjectInputStream)Unit" id="scala.collection.parallel.mutable;ParHashSet.readObject">readObject</a><span class="delimiter">(</span><a title="java.io.ObjectInputStream" id="scala.collection.parallel.mutable;ParHashSet.readObject.in">in</a>: java.io.<span title="java.io.ObjectInputStream">ObjectInputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.init" title="(in: java.io.ObjectInputStream, f: T =&gt; Unit)Unit">init</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSet.readObject.in" title="java.io.ObjectInputStream">in</a>, <a title="T" id="scala.collection.parallel.mutable;ParHashSet.readObject.$anonfun.x">x</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  import scala.collection.<a href="../../package.scala.html#scala.collection.DebugUtils" title="scala.collection.DebugUtils.type">DebugUtils</a>._
  override def <a title="=&gt; String" id="scala.collection.parallel.mutable;ParHashSet.debugInformation">debugInformation</a> = <a href="../../package.scala.html#scala.collection.DebugUtils.buildString" title="(closure: (Any =&gt; Unit) =&gt; Unit)String">buildString</a> <span class="delimiter">{</span>
    <a title="Any =&gt; Unit" id="scala.collection.parallel.mutable;ParHashSet.debugInformation.$anonfun.append">append</a> =&gt;
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;Parallel flat hash table set&quot;)" class="string">&quot;Parallel flat hash table set&quot;</span><span class="delimiter">)</span>
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;No. elems: &quot;)" class="string">&quot;No. elems: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.tableSize" title="=&gt; Int">tableSize</a><span class="delimiter">)</span>
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;Table length: &quot;)" class="string">&quot;Table length: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;Table: &quot;)" class="string">&quot;Table: &quot;</span><span class="delimiter">)</span>
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><a href="../../package.scala.html#scala.collection.DebugUtils.arrayString" title="(array: Array[AnyRef], from: Int, until: Int)String">arrayString</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>, <span title="Int(0)" class="int">0</span>, <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;Sizemap: &quot;)" class="string">&quot;Sizemap: &quot;</span><span class="delimiter">)</span>
    <a href="../../../Function1.scala.html#scala;Function1.apply" title="(v1: Any)Unit">append</a><span class="delimiter">(</span><a href="../../package.scala.html#scala.collection.DebugUtils.arrayString" title="(array: Array[Int], from: Int, until: Int)String">arrayString</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.sizemap" title="=&gt; Array[Int]">sizemap</a>, <span title="Int(0)" class="int">0</span>, <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.sizemap" title="=&gt; Array[Int]">sizemap</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


<span class="comment">/** $factoryInfo
 *  @define Coll `mutable.ParHashSet`
 *  @define coll parallel hash set
 */</span>
object <a title="scala.collection.parallel.mutable.ParHashSet.type" id="scala.collection.parallel.mutable.ParHashSet.readResolve">ParHashSet</a> extends <a href="../../generic/ParSetFactory.scala.html#scala.collection.generic;ParSetFactory" title="scala.collection.generic.ParSetFactory[scala.collection.parallel.mutable.ParHashSet]">ParSetFactory</a><span class="delimiter">[</span>ParHashSet<span class="delimiter">]</span> <span class="delimiter">{</span>
  implicit def <a title="[T]=&gt; scala.collection.generic.CanCombineFrom[scala.collection.parallel.mutable.ParHashSet.Coll,T,scala.collection.parallel.mutable.ParHashSet[T]]" id="scala.collection.parallel.mutable.ParHashSet.canBuildFrom">canBuildFrom</a><span class="delimiter">[</span><a title="" id="scala.collection.parallel.mutable.ParHashSet.canBuildFrom;T">T</a><span class="delimiter">]</span>: <a href="../../generic/CanCombineFrom.scala.html#scala.collection.generic;CanCombineFrom" title="scala.collection.generic.CanCombineFrom[scala.collection.parallel.mutable.ParHashSet.Coll,T,scala.collection.parallel.mutable.ParHashSet[T]]">CanCombineFrom</a><span class="delimiter">[</span>Coll, T, ParHashSet<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = new <a href="../../generic/ParSetFactory.scala.html#scala.collection.generic;ParSetFactory;GenericCanCombineFrom" title="scala.collection.parallel.mutable.ParHashSet.GenericCanCombineFrom[T]">GenericCanCombineFrom</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  override def <a title="[T]=&gt; scala.collection.parallel.Combiner[T,scala.collection.parallel.mutable.ParHashSet[T]]" id="scala.collection.parallel.mutable.ParHashSet.newBuilder">newBuilder</a><span class="delimiter">[</span><a title="" id="scala.collection.parallel.mutable.ParHashSet.newBuilder;T">T</a><span class="delimiter">]</span>: <a href="../Combiner.scala.html#scala.collection.parallel;Combiner" title="scala.collection.parallel.Combiner[T,scala.collection.parallel.mutable.ParHashSet[T]]">Combiner</a><span class="delimiter">[</span>T, ParHashSet<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#scala.collection.parallel.mutable.ParHashSet.newCombiner" title="scala.collection.parallel.Combiner[T,scala.collection.parallel.mutable.ParHashSet[T]]">newCombiner</a>

  override def <a title="[T]=&gt; scala.collection.parallel.Combiner[T,scala.collection.parallel.mutable.ParHashSet[T]]" id="scala.collection.parallel.mutable.ParHashSet.newCombiner">newCombiner</a><span class="delimiter">[</span><a title="" id="scala.collection.parallel.mutable.ParHashSet.newCombiner;T">T</a><span class="delimiter">]</span>: <a href="../Combiner.scala.html#scala.collection.parallel;Combiner" title="scala.collection.parallel.Combiner[T,scala.collection.parallel.mutable.ParHashSet[T]]">Combiner</a><span class="delimiter">[</span>T, ParHashSet<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#scala.collection.parallel.mutable.ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner.type">ParHashSetCombiner</a>.<a href="#scala.collection.parallel.mutable.ParHashSetCombiner.apply" title="[T]=&gt; scala.collection.parallel.mutable.ParHashSetCombiner[T]">apply</a><span title="scala.collection.parallel.mutable.ParHashSetCombiner[T]" class="delimiter">[</span><a href="#scala.collection.parallel.mutable.ParHashSet.newCombiner;T" title="T">T</a><span class="delimiter">]</span>
<span class="delimiter">}</span>


private<span class="delimiter">[</span>mutable<span class="delimiter">]</span> abstract class <a title="class ParHashSetCombiner[T] extends scala.collection.parallel.BucketCombiner[T,scala.collection.parallel.mutable.ParHashSet[T],AnyRef,scala.collection.parallel.mutable.ParHashSetCombiner[T]] with collection.mutable.FlatHashTable.HashUtils[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner">ParHashSetCombiner</a><span class="delimiter">[</span><a title="" id="scala.collection.parallel.mutable;ParHashSetCombiner;T">T</a><span class="delimiter">]</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner[T]" class="delimiter">(</a>private val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.tableLoadFactor">tableLoadFactor</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>
extends scala.collection.parallel.<a href="../package.scala.html#scala.collection.parallel;BucketCombiner" title="scala.collection.parallel.BucketCombiner[T,scala.collection.parallel.mutable.ParHashSet[T],AnyRef,scala.collection.parallel.mutable.ParHashSetCombiner[T]]">BucketCombiner</a><span class="delimiter">[</span>T, ParHashSet<span class="delimiter">[</span>T<span class="delimiter">]</span>, AnyRef, ParHashSetCombiner<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable.ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner.type">ParHashSetCombiner</a>.<a href="#scala.collection.parallel.mutable.ParHashSetCombiner.numblocks" title="=&gt; Int">numblocks</a><span class="delimiter">)</span>
with scala.collection.mutable.FlatHashTable.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;HashUtils" title="collection.mutable.FlatHashTable.HashUtils[T]">HashUtils</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
<span class="comment">//self: EnvironmentPassingCombiner[T, ParHashSet[T]] =&gt;</span>
  private val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.nonmasklen">nonmasklen</a> = <a href="#scala.collection.parallel.mutable.ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner.type">ParHashSetCombiner</a>.<a href="#scala.collection.parallel.mutable.ParHashSetCombiner.nonmasklength" title="=&gt; Int">nonmasklength</a>
  private val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.seedvalue">seedvalue</a> = <span title="Int(27)" class="int">27</span>

  def <a title="(elem: T)ParHashSetCombiner.this.type" id="scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103)">+=</a><span class="delimiter">(</span><a title="T" id="scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).elem">elem</a>: <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;T" title="T">T</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="AnyRef" id="scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).entry">entry</a> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;HashUtils.elemToEntry" title="(elem: T)AnyRef">elemToEntry</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).elem" title="T">elem</a><span class="delimiter">)</span>
    <a href="../package.scala.html#scala.collection.parallel;BucketCombiner.sz_=" title="(x$1: Int)Unit">sz</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).hc">hc</a> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;HashUtils.improve" title="(hcode: Int, seed: Int)Int">improve</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).entry" title="AnyRef">entry</a>.<span title="()Int">hashCode</span>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seedvalue" title="=&gt; Int">seedvalue</a><span class="delimiter">)</span>
    val pos = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).hc" title="Int">hc</a> <a href="../../../Int.scala.html#scala;Int.>>>(1409840560)" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).pos">&gt;&gt;&gt;</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.nonmasklen" title="=&gt; Int">nonmasklen</a>
    if <span class="delimiter">(</span><a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.mutable.UnrolledBuffer[AnyRef]">buckets</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).pos" title="Int">pos</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// initialize bucket</span>
      <a href="../../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.mutable.UnrolledBuffer[AnyRef])Unit">buckets</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).pos" title="Int">pos</a><span class="delimiter">)</span> = new <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>
    <span class="delimiter">}</span>
    <span class="comment">// add to bucket</span>
    <a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.mutable.UnrolledBuffer[AnyRef]">buckets</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).pos" title="Int">pos</a><span class="delimiter">)</span> <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.+=(63a800ea1b)" title="(elem: Object)scala.collection.mutable.UnrolledBuffer[AnyRef]">+=</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.+=(6cd6b7a103).entry" title="AnyRef">entry</a>
    this
  <span class="delimiter">}</span>

  def <a title="()scala.collection.parallel.mutable.ParHashSet[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner.result">result</a>: <a href="#scala.collection.parallel.mutable;ParHashSet" title="scala.collection.parallel.mutable.ParHashSet[T]">ParHashSet</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="scala.collection.mutable.FlatHashTable.Contents[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner.result.contents">contents</a> = if <span class="delimiter">(</span><a href="../package.scala.html#scala.collection.parallel;BucketCombiner.size" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <a href="#scala.collection.parallel.mutable.ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner.type">ParHashSetCombiner</a>.<a href="#scala.collection.parallel.mutable.ParHashSetCombiner.numblocks" title="=&gt; Int">numblocks</a> <a href="../../../Int.scala.html#scala;Int.*(1409840560)" title="(x: Int)Int">*</a> <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;HashUtils.sizeMapBucketSize" title="=&gt; Int">sizeMapBucketSize</a><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate" title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]">parPopulate</a> else <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate" title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]">seqPopulate</a>
    new <a href="#scala.collection.parallel.mutable;ParHashSet" title="scala.collection.parallel.mutable.ParHashSet[T]">ParHashSet</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.result.contents" title="scala.collection.mutable.FlatHashTable.Contents[T]">contents</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private def <a title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate">parPopulate</a>: FlatHashTable.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;Contents" title="scala.collection.mutable.FlatHashTable.Contents[T]">Contents</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// construct it in parallel</span>
    val <a title="ParHashSetCombiner.this.AddingFlatHashTable" id="scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.table">table</a> = new <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable" title="ParHashSetCombiner.this.AddingFlatHashTable">AddingFlatHashTable</a><span class="delimiter">(</span><a href="../package.scala.html#scala.collection.parallel;BucketCombiner.size" title="=&gt; Int">size</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.tableLoadFactor" title="=&gt; Int">tableLoadFactor</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seedvalue" title="=&gt; Int">seedvalue</a><span class="delimiter">)</span>
    val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.inserted">inserted</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.leftovers">leftovers</a><span class="delimiter">)</span> = <a href="../Combiner.scala.html#scala.collection.parallel;Combiner.combinerTaskSupport" title="=&gt; scala.collection.parallel.TaskSupport">combinerTaskSupport</a>.<a href="../Tasks.scala.html#scala.collection.parallel;Tasks.executeAndWaitResult" title="(task: scala.collection.parallel.Task[(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]),ParHashSetCombiner.this.FillBlocks])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">executeAndWaitResult</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]) @unchecked" class="delimiter">(</a>new <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks" title="ParHashSetCombiner.this.FillBlocks">FillBlocks</a><span class="delimiter">(</span><a href="../package.scala.html#scala.collection.parallel;BucketCombiner.buckets" title="=&gt; Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]">buckets</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>, <span title="Int(0)" class="int">0</span>, <a href="../package.scala.html#scala.collection.parallel;BucketCombiner.buckets" title="=&gt; Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]">buckets</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
    var <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.leftinserts">leftinserts</a> = <span title="Int(0)" class="int">0</span>
    for <span class="delimiter">(</span><a title="AnyRef" id="scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.$anonfun.entry">entry</a> &lt;- <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.foreach" title="(f: AnyRef =&gt; Unit)Unit">leftovers</a><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.leftinserts" title="Int">leftinserts</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry" title="(insertAt: Int, comesBefore: Int, newEntry: AnyRef)Int">insertEntry</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.tableLength" title="=&gt; Int">tableLength</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.$anonfun.entry" title="AnyRef">entry</a><span class="delimiter">)</span>
    <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.setSize" title="(sz: Int)Unit">setSize</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.leftinserts" title="Int">leftinserts</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.inserted" title="Int">inserted</a><span class="delimiter">)</span>
    <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.parPopulate.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.hashTableContents" title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]">hashTableContents</a>
  <span class="delimiter">}</span>

  private def <a title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate">seqPopulate</a>: FlatHashTable.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable;Contents" title="scala.collection.mutable.FlatHashTable.Contents[T]">Contents</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// construct it sequentially</span>
    <span class="comment">// TODO parallelize by keeping separate size maps and merging them</span>
    val <a title="&lt;refinement of scala.collection.mutable.FlatHashTable[T]&gt; extends AnyRef with scala.collection.mutable.FlatHashTable[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl">tbl</a> = new <a title="&lt;$anon: scala.collection.mutable.FlatHashTable[T]&gt; extends AnyRef with scala.collection.mutable.FlatHashTable[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl;$anon">FlatHashTable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
      <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.sizeMapInit" title="(tableLength: Int)Unit">sizeMapInit</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.seedvalue_=" title="(x$1: Int)Unit">seedvalue</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner" title="ParHashSetCombiner.this.type">ParHashSetCombiner</a>.this.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seedvalue" title="=&gt; Int">seedvalue</a>
      for <span class="delimiter">{</span>
        <a title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl;$anon.<local $anon>.$anonfun.buffer">buffer</a> &lt;- <a href="../../TraversableLike.scala.html#scala.collection;TraversableLike.withFilter" title="(p: scala.collection.mutable.UnrolledBuffer[AnyRef] =&gt; Boolean)scala.collection.generic.FilterMonadic[scala.collection.mutable.UnrolledBuffer[AnyRef],Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]]">buckets</a>
        if <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl;$anon.<local $anon>.$anonfun.buffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">buffer</a> <a href="../../generic/FilterMonadic.scala.html#scala.collection.generic;FilterMonadic.foreach" title="(f: scala.collection.mutable.UnrolledBuffer[AnyRef] =&gt; Unit)Unit">ne</a> null
        <a title="AnyRef" id="scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl;$anon.<local $anon>.$anonfun.$anonfun.entry">entry</a> &lt;- <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.foreach" title="(f: AnyRef =&gt; Boolean)Unit">buffer</a>
      <span class="delimiter">}</span> <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.addEntry" title="(newEntry: AnyRef)Boolean">addEntry</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl;$anon.<local $anon>.$anonfun.$anonfun.entry" title="AnyRef">entry</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.collection.parallel.mutable;ParHashSetCombiner.seqPopulate.tbl" title="&lt;refinement of scala.collection.mutable.FlatHashTable[T]&gt; extends AnyRef with scala.collection.mutable.FlatHashTable[T]">tbl</a>.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.hashTableContents" title="=&gt; scala.collection.mutable.FlatHashTable.Contents[T]">hashTableContents</a>
  <span class="delimiter">}</span>

  <span class="comment">/* classes */</span>

  <span class="comment">/** A flat hash table which doesn't resize itself. It accepts the number of elements
   *  it has to take and allocates the underlying hash table in advance.
   *  Elements can only be added to it. The final size has to be adjusted manually.
   *  It is internal to `ParHashSet` combiners.
   */</span>
  class <a title="class AddingFlatHashTable extends AnyRef with scala.collection.mutable.FlatHashTable[T]" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable">AddingFlatHashTable</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable" title="ParHashSetCombiner.this.AddingFlatHashTable" class="delimiter">(</a><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.numelems">numelems</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.lf">lf</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.inseedvalue">inseedvalue</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> extends <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable" title="scala.collection.mutable.FlatHashTable[T]">FlatHashTable</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable._loadFactor_=" title="(x$1: Int)Unit">_loadFactor</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.lf" title="Int">lf</a>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table_=" title="(x$1: Array[AnyRef])Unit">table</a> = new <a href="../../../Array.scala.html#scala;Array" title="Array[AnyRef]">Array</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.capacity" title="(expectedSize: Int)Int">capacity</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable" title="scala.collection.mutable.FlatHashTable.type">FlatHashTable</a>.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable.sizeForThreshold" title="(size: Int, _loadFactor: Int)Int">sizeForThreshold</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.numelems" title="Int">numelems</a>, <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable._loadFactor" title="=&gt; Int">_loadFactor</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.tableSize_=" title="(x$1: Int)Unit">tableSize</a> = <span title="Int(0)" class="int">0</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.threshold_=" title="(x$1: Int)Unit">threshold</a> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable" title="scala.collection.mutable.FlatHashTable.type">FlatHashTable</a>.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable.newThreshold" title="(_loadFactor: Int, size: Int)Int">newThreshold</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable._loadFactor" title="=&gt; Int">_loadFactor</a>, <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.seedvalue_=" title="(x$1: Int)Unit">seedvalue</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.inseedvalue" title="Int">inseedvalue</a>
    <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.sizeMapInit" title="(tableLength: Int)Unit">sizeMapInit</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>

    override def <a title="()String" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.toString">toString</a> = <a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;AFHT(%s)&quot;</a>.<a href="../../immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>

    def <a title="=&gt; Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.tableLength">tableLength</a> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.table" title="=&gt; Array[AnyRef]">table</a>.<a href="../../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a>

    def <a title="(sz: Int)Unit" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.setSize">setSize</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.setSize.sz">sz</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.tableSize_=" title="(x$1: Int)Unit">tableSize</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.setSize.sz" title="Int">sz</a>

    <span class="comment">/**
     *  The elements are added using the `insertElem` method. This method accepts three
     *  arguments:
     *
     *  @param insertAt      where to add the element (set to -1 to use its hashcode)
     *  @param comesBefore   the position before which the element should be added to
     *  @param newEntry      the element to be added
     *
     *  If the element is to be inserted at the position corresponding to its hash code,
     *  the table will try to add the element in such a position if possible. Collisions are resolved
     *  using linear hashing, so the element may actually have to be added to a position
     *  that follows the specified one. In the case that the first unoccupied position
     *  comes after `comesBefore`, the element is not added and the method simply returns -1,
     *  indicating that it couldn't add the element in a position that comes before the
     *  specified one.
     *  If the element is already present in the hash table, it is not added, and this method
     *  returns 0. If the element is added, it returns 1.
     */</span>
    def <a title="(insertAt: Int, comesBefore: Int, newEntry: AnyRef)Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry">insertEntry</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.insertAt">insertAt</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.comesBefore">comesBefore</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="AnyRef" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.newEntry">newEntry</a> : <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
      var <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h">h</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.insertAt" title="Int">insertAt</a>
      if <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a> <a href="../../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a> = <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.index" title="(hcode: Int)Int">index</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.newEntry" title="AnyRef">newEntry</a>.<span title="()Int">hashCode</span><span class="delimiter">)</span>
      var <a title="AnyRef" id="scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.curEntry">curEntry</a> = <a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)AnyRef">table</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a><span class="delimiter">)</span>
      while <span class="delimiter">(</span>null <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.curEntry" title="AnyRef">curEntry</a><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.while$1" title="()Unit" class="delimiter">{</a>
        if <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.curEntry" title="AnyRef">curEntry</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.newEntry" title="AnyRef">newEntry</a><span class="delimiter">)</span> return <span title="Int(0)" class="int">0</span>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span> <span class="comment">// we *do not* do `(h + 1) % table.length` here, because we'll never overflow!!</span>
        if <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a> <a href="../../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.comesBefore" title="Int">comesBefore</a><span class="delimiter">)</span> return -<span title="Int(-1)" class="int">1</span>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.curEntry" title="AnyRef">curEntry</a> = <a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)AnyRef">table</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../../../Array.scala.html#scala;Array.update" title="(i: Int, x: AnyRef)Unit">table</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a><span class="delimiter">)</span> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.newEntry" title="AnyRef">newEntry</a>

      <span class="comment">// this is incorrect since we set size afterwards anyway and a counter</span>
      <span class="comment">// like this would not even work:</span>
      <span class="comment">//</span>
      <span class="comment">//   tableSize = tableSize + 1</span>
      <span class="comment">//</span>
      <span class="comment">// furthermore, it completely bogs down the parallel</span>
      <span class="comment">// execution when there are multiple workers</span>

      <a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable;FlatHashTable.nnSizeMapAdd" title="(h: Int)Unit">nnSizeMapAdd</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry.h" title="Int">h</a><span class="delimiter">)</span>
      <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/* tasks */</span>

  class <a title="class FillBlocks extends AnyRef with scala.collection.parallel.Task[(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]),ParHashSetCombiner.this.FillBlocks]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks">FillBlocks</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks" title="ParHashSetCombiner.this.FillBlocks" class="delimiter">(</a><a title="Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.buckets">buckets</a>: <a href="../../../Array.scala.html#scala;Array" title="Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]">Array</a><span class="delimiter">[</span>UnrolledBuffer<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="ParHashSetCombiner.this.AddingFlatHashTable" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.table">table</a>: <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable" title="ParHashSetCombiner.this.AddingFlatHashTable">AddingFlatHashTable</a>, val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset">offset</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.howmany">howmany</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>
  extends <a href="../Tasks.scala.html#scala.collection.parallel;Task" title="scala.collection.parallel.Task[(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]),ParHashSetCombiner.this.FillBlocks]">Task</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, UnrolledBuffer<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>, FillBlocks<span class="delimiter">]</span> <span class="delimiter">{</span>
    var <a title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=">result</a> = <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Int, _2: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a>Int.<span title="Int(-2147483648)">MinValue</span>, new <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>

    def <a title="(prev: Option[(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])])Unit" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf">leaf</a><span class="delimiter">(</span><a title="Option[(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.prev">prev</a>: <a href="../../../Option.scala.html#scala;Option" title="Option[(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])]">Option</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, UnrolledBuffer<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      var <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.i">i</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset" title="=&gt; Int">offset</a>
      var <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.totalinserts">totalinserts</a> = <span title="Int(0)" class="int">0</span>
      var <a title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.leftover">leftover</a> = new <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      while <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.i" title="Int">i</a> <a href="../../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset" title="=&gt; Int">offset</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.howmany" title="=&gt; Int">howmany</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.while$2" title="()Unit" class="delimiter">{</a>
        val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.inserted">inserted</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.intonextblock">intonextblock</a><span class="delimiter">)</span> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock" title="(block: Int, elems: scala.collection.mutable.UnrolledBuffer[AnyRef], leftovers: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">fillBlock</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]) @unchecked" class="delimiter">(</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.i" title="Int">i</a>, <a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.mutable.UnrolledBuffer[AnyRef]">buckets</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.i" title="Int">i</a><span class="delimiter">)</span>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.leftover" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftover</a><span class="delimiter">)</span>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.totalinserts" title="Int">totalinserts</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.inserted" title="Int">inserted</a>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.leftover" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftover</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.intonextblock" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">intonextblock</a>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.i" title="Int">i</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=" title="(x$1: (Int, scala.collection.mutable.UnrolledBuffer[AnyRef]))Unit">result</a> = <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Int, _2: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.totalinserts" title="Int">totalinserts</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.leaf.leftover" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftover</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    private val blocksize = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.tableLength" title="=&gt; Int">tableLength</a> <a href="../../../Int.scala.html#scala;Int.>>(1409840560)" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blocksize">&gt;&gt;</a> <a href="#scala.collection.parallel.mutable.ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner.type">ParHashSetCombiner</a>.<a href="#scala.collection.parallel.mutable.ParHashSetCombiner.discriminantbits" title="=&gt; Int">discriminantbits</a>
    private def <a title="(block: Int)Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blockStart">blockStart</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blockStart.block">block</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blockStart.block" title="Int">block</a> <a href="../../../Int.scala.html#scala;Int.*(1409840560)" title="(x: Int)Int">*</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blocksize" title="=&gt; Int">blocksize</a>
    private def <a title="(block: Int)Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.nextBlockStart">nextBlockStart</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.nextBlockStart.block">block</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.nextBlockStart.block" title="Int">block</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#scala;Int.*(1409840560)" title="(x: Int)Int">*</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blocksize" title="=&gt; Int">blocksize</a>
    private def <a title="(block: Int, elems: scala.collection.mutable.UnrolledBuffer[AnyRef], leftovers: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock">fillBlock</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.block">block</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elems">elems</a>: <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>, <a title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.leftovers">leftovers</a>: <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a>Int, UnrolledBuffer<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.beforePos">beforePos</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.nextBlockStart" title="(block: Int)Int">nextBlockStart</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.block" title="Int">block</a><span class="delimiter">)</span>

      <span class="comment">// store the elems</span>
      val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elemsIn">elemsIn</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elemsLeft">elemsLeft</a><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elems" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">elems</a> <span title="(x$1: Any)Boolean">!=</span> null<span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll" title="(atPos: Int, beforePos: Int, elems: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">insertAll</a><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.beforePos" title="Int">beforePos</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elems" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">elems</a><span class="delimiter">)</span> else <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Int, _2: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><span title="Int(0)" class="int">0</span>, <a href="../../generic/GenericClassTagCompanion.scala.html#scala.collection.generic;GenericClassTagCompanion.apply" title="[A](elems: A*)(implicit ord: scala.reflect.ClassTag[A])scala.collection.mutable.UnrolledBuffer[A]">UnrolledBuffer</a><span title="(elems: AnyRef*)(implicit ord: scala.reflect.ClassTag[AnyRef])scala.collection.mutable.UnrolledBuffer[AnyRef]" class="delimiter">[</span><span title="AnyRef">AnyRef</span><span class="delimiter">]</span><a href="../../../reflect/ClassTag.scala.html#scala.reflect.ClassTag.AnyRef" title="=&gt; scala.reflect.ClassTag[AnyRef]" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// store the leftovers</span>
      val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.leftoversIn">leftoversIn</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.leftoversLeft">leftoversLeft</a><span class="delimiter">)</span> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll" title="(atPos: Int, beforePos: Int, elems: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">insertAll</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]) @unchecked" class="delimiter">(</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blockStart" title="(block: Int)Int">blockStart</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.block" title="Int">block</a><span class="delimiter">)</span>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.beforePos" title="Int">beforePos</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.leftovers" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftovers</a><span class="delimiter">)</span>

      <span class="comment">// return the no. of stored elements tupled with leftovers</span>
      <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Int, _2: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elemsIn" title="Int">elemsIn</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.leftoversIn" title="Int">leftoversIn</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.elemsLeft" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">elemsLeft</a> <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.concat" title="(that: scala.collection.mutable.UnrolledBuffer[AnyRef])scala.collection.mutable.UnrolledBuffer[AnyRef]">concat</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.fillBlock.leftoversLeft" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftoversLeft</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    private def <a title="(atPos: Int, beforePos: Int, elems: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll">insertAll</a><span class="delimiter">(</span><a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.atPos">atPos</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.beforePos">beforePos</a>: <a href="../../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.elems">elems</a>: <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a>Int, UnrolledBuffer<span class="delimiter">[</span>AnyRef<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      val <a title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.leftovers">leftovers</a> = new <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">UnrolledBuffer</a><span class="delimiter">[</span>AnyRef<span class="delimiter">]</span>
      var <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.inserted">inserted</a> = <span title="Int(0)" class="int">0</span>

      var <a title="scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.unrolled">unrolled</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.elems" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">elems</a>.<a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.headPtr" title="=&gt; scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">headPtr</a>
      var <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.i">i</a> = <span title="Int(0)" class="int">0</span>
      val <a title="ParHashSetCombiner.this.AddingFlatHashTable" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.t">t</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>
      while <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.unrolled" title="scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">unrolled</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.while$4" title="()Unit" class="delimiter">{</a>
        val <a title="Array[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.chunkarr">chunkarr</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.unrolled" title="scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable.UnrolledBuffer;Unrolled.array" title="=&gt; Array[AnyRef]">array</a>
        val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.chunksz">chunksz</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.unrolled" title="scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable.UnrolledBuffer;Unrolled.size" title="=&gt; Int">size</a>
        while <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.i" title="Int">i</a> <a href="../../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.chunksz" title="Int">chunksz</a><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.while$3" title="()Unit" class="delimiter">{</a>
          val <a title="AnyRef" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.entry">entry</a> = <a href="../../../Array.scala.html#scala;Array.apply" title="(i: Int)AnyRef">chunkarr</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.i" title="Int">i</a><span class="delimiter">)</span>
          val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.res">res</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.t" title="ParHashSetCombiner.this.AddingFlatHashTable">t</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;AddingFlatHashTable.insertEntry" title="(insertAt: Int, comesBefore: Int, newEntry: AnyRef)Int">insertEntry</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.atPos" title="Int">atPos</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.beforePos" title="Int">beforePos</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.entry" title="AnyRef">entry</a><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.res" title="Int">res</a> <a href="../../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.inserted" title="Int">inserted</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.res" title="Int">res</a>
          else <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.leftovers" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftovers</a> <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.+=(63a800ea1b)" title="(elem: AnyRef)leftovers.type">+=</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.entry" title="AnyRef">entry</a>
          <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.i" title="Int">i</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.i" title="Int">i</a> = <span title="Int(0)" class="int">0</span>
        <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.unrolled" title="scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">unrolled</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.unrolled" title="scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">unrolled</a>.<a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable.UnrolledBuffer;Unrolled.next" title="=&gt; scala.collection.mutable.UnrolledBuffer.Unrolled[AnyRef]">next</a>
      <span class="delimiter">}</span>

      <span class="comment">// slower:</span>
      <span class="comment">// var it = elems.iterator</span>
      <span class="comment">// while (it.hasNext) {</span>
      <span class="comment">//   val elem = it.next</span>
      <span class="comment">//   val res = table.insertEntry(atPos, beforePos, elem.asInstanceOf[T])</span>
      <span class="comment">//   if (res &gt;= 0) inserted += res</span>
      <span class="comment">//   else leftovers += elem</span>
      <span class="comment">// }</span>

      <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Int, _2: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.inserted" title="Int">inserted</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll.leftovers" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">leftovers</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="=&gt; List[ParHashSetCombiner.this.FillBlocks]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.split">split</a> = <span class="delimiter">{</span>
      val fp = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.howmany" title="=&gt; Int">howmany</a> <a href="../../../Int.scala.html#scala;Int./(1409840560)" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.split.fp">/</a> <span title="Int(2)" class="int">2</span>
      <a href="../../immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: ParHashSetCombiner.this.FillBlocks*)List[ParHashSetCombiner.this.FillBlocks]">List</a><span class="delimiter">(</span>new <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks" title="ParHashSetCombiner.this.FillBlocks">FillBlocks</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.buckets" title="Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]">buckets</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset" title="=&gt; Int">offset</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.split.fp" title="Int">fp</a><span class="delimiter">)</span>, new <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks" title="ParHashSetCombiner.this.FillBlocks">FillBlocks</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.buckets" title="Array[scala.collection.mutable.UnrolledBuffer[AnyRef]]">buckets</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.table" title="ParHashSetCombiner.this.AddingFlatHashTable">table</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset" title="=&gt; Int">offset</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.split.fp" title="Int">fp</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.howmany" title="=&gt; Int">howmany</a> <a href="../../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.split.fp" title="Int">fp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    override def <a title="(that: ParHashSetCombiner.this.FillBlocks)Unit" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge">merge</a><span class="delimiter">(</span><a title="ParHashSetCombiner.this.FillBlocks" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.that">that</a>: <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks" title="ParHashSetCombiner.this.FillBlocks">FillBlocks</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// take the leftovers from the left task, store them into the block of the right task</span>
      val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.atPos">atPos</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blockStart" title="(block: Int)Int">blockStart</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.that" title="ParHashSetCombiner.this.FillBlocks">that</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset" title="=&gt; Int">offset</a><span class="delimiter">)</span>
      val <a title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.beforePos">beforePos</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.blockStart" title="(block: Int)Int">blockStart</a><span class="delimiter">(</span><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.that" title="ParHashSetCombiner.this.FillBlocks">that</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.offset" title="=&gt; Int">offset</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.that" title="ParHashSetCombiner.this.FillBlocks">that</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.howmany" title="=&gt; Int">howmany</a><span class="delimiter">)</span>
      val <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Int" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.inserted">inserted</a>, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="scala.collection.mutable.UnrolledBuffer[AnyRef]" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.remainingLeftovers">remainingLeftovers</a><span class="delimiter">)</span> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.insertAll" title="(atPos: Int, beforePos: Int, elems: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">insertAll</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Int, scala.collection.mutable.UnrolledBuffer[AnyRef]) @unchecked" class="delimiter">(</a><a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.atPos" title="Int">atPos</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.beforePos" title="Int">beforePos</a>, this.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=" title="=&gt; (Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">result</a>.<a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="=&gt; scala.collection.mutable.UnrolledBuffer[AnyRef]">_2</a><span class="delimiter">)</span>

      <span class="comment">// anything left after trying the store the left leftovers is added to the right task leftovers</span>
      <span class="comment">// and a new leftovers set is produced in this way</span>
      <span class="comment">// the total number of successfully inserted elements is adjusted accordingly</span>
      <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=" title="(x$1: (Int, scala.collection.mutable.UnrolledBuffer[AnyRef]))Unit">result</a> = <a href="../../../Tuple2.scala.html#scala;Tuple2" title="(_1: Int, _2: scala.collection.mutable.UnrolledBuffer[AnyRef])(Int, scala.collection.mutable.UnrolledBuffer[AnyRef])" class="delimiter">(</a>this.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=" title="=&gt; (Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">result</a>.<a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="=&gt; Int">_1</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.that" title="ParHashSetCombiner.this.FillBlocks">that</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=" title="=&gt; (Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">result</a>.<a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="=&gt; Int">_1</a> <a href="../../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.inserted" title="Int">inserted</a>, <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.remainingLeftovers" title="scala.collection.mutable.UnrolledBuffer[AnyRef]">remainingLeftovers</a> <a href="../../mutable/UnrolledBuffer.scala.html#scala.collection.mutable;UnrolledBuffer.concat" title="(that: scala.collection.mutable.UnrolledBuffer[AnyRef])scala.collection.mutable.UnrolledBuffer[AnyRef]">concat</a> <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.merge.that" title="ParHashSetCombiner.this.FillBlocks">that</a>.<a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.result_=" title="=&gt; (Int, scala.collection.mutable.UnrolledBuffer[AnyRef])">result</a>.<a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="=&gt; scala.collection.mutable.UnrolledBuffer[AnyRef]">_2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    def <a title="=&gt; Boolean" id="scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.shouldSplitFurther">shouldSplitFurther</a> = <a href="#scala.collection.parallel.mutable;ParHashSetCombiner;FillBlocks.howmany" title="=&gt; Int">howmany</a> <a href="../../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> scala.collection.parallel.<a href="../package.scala.html#scala.collection.parallel.package.thresholdFromSize" title="(sz: Int, parallelismLevel: Int)Int">thresholdFromSize</a><span class="delimiter">(</span><a href="ParHashMap.scala.html#scala.collection.parallel.mutable.ParHashMapCombiner" title="scala.collection.parallel.mutable.ParHashMapCombiner.type">ParHashMapCombiner</a>.<a href="ParHashMap.scala.html#scala.collection.parallel.mutable.ParHashMapCombiner.numblocks" title="=&gt; Int">numblocks</a>, <a href="../Combiner.scala.html#scala.collection.parallel;Combiner.combinerTaskSupport" title="=&gt; scala.collection.parallel.TaskSupport">combinerTaskSupport</a>.<a href="../Tasks.scala.html#scala.collection.parallel;Tasks.parallelismLevel" title="=&gt; Int">parallelismLevel</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


private<span class="delimiter">[</span>parallel<span class="delimiter">]</span> object <a title="scala.collection.parallel.mutable.ParHashSetCombiner.type" id="scala.collection.parallel.mutable.ParHashSetCombiner">ParHashSetCombiner</a> <a href="#scala.collection.parallel.mutable.ParHashSetCombiner" title="scala.collection.parallel.mutable.ParHashSetCombiner.type" class="delimiter">{</a>
  private<span class="delimiter">[</span>mutable<span class="delimiter">]</span> val <a title="Int" id="scala.collection.parallel.mutable.ParHashSetCombiner.discriminantbits">discriminantbits</a> = <span title="Int(5)" class="int">5</span>
  private<span class="delimiter">[</span>mutable<span class="delimiter">]</span> val numblocks = <span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.parallel.mutable.ParHashSetCombiner.numblocks">&lt;&lt;</a> <a href="#scala.collection.parallel.mutable.ParHashSetCombiner.discriminantbits" title="=&gt; Int">discriminantbits</a>
  private<span class="delimiter">[</span>mutable<span class="delimiter">]</span> val discriminantmask = <span class="delimiter">(</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <a href="#scala.collection.parallel.mutable.ParHashSetCombiner.discriminantbits" title="=&gt; Int">discriminantbits</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.parallel.mutable.ParHashSetCombiner.discriminantmask">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  private<span class="delimiter">[</span>mutable<span class="delimiter">]</span> val nonmasklength = <span title="Int(32)" class="int">32</span> <a href="../../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.parallel.mutable.ParHashSetCombiner.nonmasklength">-</a> <a href="#scala.collection.parallel.mutable.ParHashSetCombiner.discriminantbits" title="=&gt; Int">discriminantbits</a>

  def <a title="[T]=&gt; scala.collection.parallel.mutable.ParHashSetCombiner[T]" id="scala.collection.parallel.mutable.ParHashSetCombiner.apply">apply</a><span class="delimiter">[</span><a title="" id="scala.collection.parallel.mutable.ParHashSetCombiner.apply;T">T</a><span class="delimiter">]</span> = new <a title="&lt;$anon: scala.collection.parallel.mutable.ParHashSetCombiner[T]&gt; extends scala.collection.parallel.mutable.ParHashSetCombiner[T]" id="scala.collection.parallel.mutable.ParHashSetCombiner.apply;$anon">ParHashSetCombiner</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable" title="scala.collection.mutable.FlatHashTable.type">FlatHashTable</a>.<a href="../../mutable/FlatHashTable.scala.html#scala.collection.mutable.FlatHashTable.defaultLoadFactor" title="=&gt; Int">defaultLoadFactor</a><span class="delimiter">)</span> <span class="delimiter">{</span><span class="delimiter">}</span> <span class="comment">//with EnvironmentPassingCombiner[T, ParHashSet[T]]</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>
