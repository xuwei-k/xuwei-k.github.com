<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/collection/immutable/HashSet.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>



package scala
package collection
package immutable

import generic._
import scala.collection.parallel.immutable.ParHashSet
import scala.collection.GenSet
import scala.annotation.tailrec

<span class="comment">/** This class implements immutable sets using a hash trie.
 *
 *  '''Note:''' The builder of this hash set may return specialized representations for small sets.
 *
 *  @tparam A      the type of the elements contained in this hash set.
 *
 *  @author  Martin Odersky
 *  @author  Tiark Rompf
 *  @version 2.8
 *  @since   2.3
 *  @define Coll `immutable.HashSet`
 *  @define coll immutable hash set
 */</span>
@SerialVersionUID<span class="delimiter">(</span><span class="long">2L</span><span class="delimiter">)</span>
@deprecatedInheritance<span class="delimiter">(</span><span class="string">&quot;The implementation details of immutable hash sets make inheriting from them unwise.&quot;</span>, <span class="string">&quot;2.11.0&quot;</span><span class="delimiter">)</span>
class <a title="class HashSet[A] extends scala.collection.AbstractSet[A] with scala.collection.immutable.Set[A] with scala.collection.generic.GenericSetTemplate[A,scala.collection.immutable.HashSet] with scala.collection.SetLike[A,scala.collection.immutable.HashSet[A]] with scala.collection.CustomParallelizable[A,scala.collection.parallel.immutable.ParHashSet[A]] with Serializable" id="scala.collection.immutable;HashSet">HashSet</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable;HashSet;A">A</a><span class="delimiter">]</span> extends <a href="../Set.scala.html#scala.collection;AbstractSet" title="scala.collection.AbstractSet[A]">AbstractSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
                    with <a href="Set.scala.html#scala.collection.immutable;Set" title="scala.collection.immutable.Set[A]">Set</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
                    with <a href="../generic/GenericSetTemplate.scala.html#scala.collection.generic;GenericSetTemplate" title="scala.collection.generic.GenericSetTemplate[A,scala.collection.immutable.HashSet]">GenericSetTemplate</a><span class="delimiter">[</span>A, HashSet<span class="delimiter">]</span>
                    with <a href="../SetLike.scala.html#scala.collection;SetLike" title="scala.collection.SetLike[A,scala.collection.immutable.HashSet[A]]">SetLike</a><span class="delimiter">[</span>A, HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>
                    with <a href="../CustomParallelizable.scala.html#scala.collection;CustomParallelizable" title="scala.collection.CustomParallelizable[A,scala.collection.parallel.immutable.ParHashSet[A]]">CustomParallelizable</a><span class="delimiter">[</span>A, ParHashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>
                    with <a href="../../Serializable.scala.html#scala;Serializable" title="Serializable">Serializable</a>
<span class="delimiter">{</span>
  import <a href="#scala.collection.immutable.HashSet.readResolve" title="scala.collection.immutable.HashSet.type">HashSet</a>.<span class="delimiter">{</span>nullToEmpty, bufferSize, LeafHashSet<span class="delimiter">}</span>

  override def <a title="=&gt; scala.collection.generic.GenericCompanion[scala.collection.immutable.HashSet]" id="scala.collection.immutable;HashSet.companion">companion</a>: <a href="../generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion" title="scala.collection.generic.GenericCompanion[scala.collection.immutable.HashSet]">GenericCompanion</a><span class="delimiter">[</span>HashSet<span class="delimiter">]</span> = <a href="#scala.collection.immutable.HashSet.readResolve" title="scala.collection.immutable.HashSet.type">HashSet</a>

  <span class="comment">//class HashSet[A] extends Set[A] with SetLike[A, HashSet[A]] {</span>

  override def <a title="=&gt; scala.collection.parallel.immutable.ParHashSet[A]" id="scala.collection.immutable;HashSet.par">par</a> = <a href="../parallel/immutable/ParHashSet.scala.html#scala.collection.parallel.immutable.ParHashSet" title="scala.collection.parallel.immutable.ParHashSet.type">ParHashSet</a>.<a href="../parallel/immutable/ParHashSet.scala.html#scala.collection.parallel.immutable.ParHashSet.fromTrie" title="(t: scala.collection.immutable.HashSet[A])scala.collection.parallel.immutable.ParHashSet[A]">fromTrie</a><span class="delimiter">(</span>this<span class="delimiter">)</span>

  override def <a title="=&gt; Int" id="scala.collection.immutable;HashSet.size">size</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>

  override def <a title="=&gt; scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.empty">empty</a> = <a href="#scala.collection.immutable.HashSet.readResolve" title="scala.collection.immutable.HashSet.type">HashSet</a>.<a href="../generic/ImmutableSetFactory.scala.html#scala.collection.generic;ImmutableSetFactory.empty" title="[A]=&gt; scala.collection.immutable.HashSet[A]">empty</a><span title="scala.collection.immutable.HashSet[A]" class="delimiter">[</span><a href="#scala.collection.immutable;HashSet;A" title="A">A</a><span class="delimiter">]</span>

  def <a title="=&gt; Iterator[A]" id="scala.collection.immutable;HashSet.iterator">iterator</a>: <a href="../Iterator.scala.html#scala.collection;Iterator" title="Iterator[A]">Iterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="../Iterator.scala.html#scala.collection.Iterator" title="scala.collection.Iterator.type">Iterator</a>.<a href="../Iterator.scala.html#scala.collection.Iterator.empty" title="=&gt; Iterator[Nothing]">empty</a>

  override def <a title="[U](f: A =&gt; U)Unit" id="scala.collection.immutable;HashSet.foreach">foreach</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable;HashSet.foreach;U">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; U" id="scala.collection.immutable;HashSet.foreach.f">f</a>: A =&gt;  U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span title="Unit" class="delimiter">{</span> <span class="delimiter">}</span>

  def <a title="(e: A)Boolean" id="scala.collection.immutable;HashSet.contains">contains</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.contains.e">e</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.contains.e" title="A">e</a>, <a href="#scala.collection.immutable;HashSet.computeHash" title="(key: A)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.contains.e" title="A">e</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  override def <a title="(that: scala.collection.GenSet[A])Boolean" id="scala.collection.immutable;HashSet.subsetOf">subsetOf</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span>: <a href="../GenSet.scala.html#scala.collection;GenSet" title="scala.collection.GenSet[A]">GenSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.GenSet[A]">that</span> match <span class="delimiter">{</span>
    case <span title="scala.collection.immutable.HashSet[A]">that</span>:<a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
      <span class="comment">// call the specialized implementation with a level of 0 since both this and that are top-level hash sets</span>
      <a href="#scala.collection.immutable;HashSet.subsetOf0" title="(that: scala.collection.immutable.HashSet[A], level: Int)Boolean">subsetOf0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    case _ =&gt;
      <span class="comment">// call the generic implementation</span>
      super.<a href="../GenSetLike.scala.html#scala.collection;GenSetLike.subsetOf" title="(that: scala.collection.GenSet[A])Boolean">subsetOf</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * A specialized implementation of subsetOf for when both this and that are HashSet[A] and we can take advantage
   * of the tree structure of both operands and the precalculated hashcodes of the HashSet1 instances.
   * @param that the other set
   * @param level the level of this and that hashset
   *              The purpose of level is to keep track of how deep we are in the tree.
   *              We need this information for when we arrive at a leaf and have to call get0 on that
   *              The value of level is 0 for a top-level HashSet and grows in increments of 5
   * @return true if all elements of this set are contained in that set
   */</span>
  protected def <a title="(that: scala.collection.immutable.HashSet[A], level: Int)Boolean" id="scala.collection.immutable;HashSet.subsetOf0">subsetOf0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.subsetOf0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.subsetOf0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="comment">// The default implementation is for the empty set and returns true because the empty set is a subset of all sets</span>
    true
  <span class="delimiter">}</span>

  override def <a title="(e: A)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.+(ddf5840810)">+</a> <span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.+(ddf5840810).e">e</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#scala.collection.immutable;HashSet.updated0" title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]">updated0</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.+(ddf5840810).e" title="A">e</a>, <a href="#scala.collection.immutable;HashSet.computeHash" title="(key: A)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.+(ddf5840810).e" title="A">e</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  override def <a title="(elem1: A, elem2: A, elems: A*)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.+(a2a7310f5c)">+</a> <span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.+(a2a7310f5c).elem1">elem1</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a>, <a title="A" id="scala.collection.immutable;HashSet.+(a2a7310f5c).elem2">elem2</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a>, <a title="A*" id="scala.collection.immutable;HashSet.+(a2a7310f5c).elems">elems</a>: <span title="A*">A</span>*<span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    this <a href="#scala.collection.immutable;HashSet.+(ddf5840810)" title="(e: A)scala.collection.immutable.HashSet[A]">+</a> <a href="#scala.collection.immutable;HashSet.+(a2a7310f5c).elem1" title="A">elem1</a> <a href="#scala.collection.immutable;HashSet.+(ddf5840810)" title="(e: A)scala.collection.immutable.HashSet[A]">+</a> <a href="#scala.collection.immutable;HashSet.+(a2a7310f5c).elem2" title="A">elem2</a> <a href="../SetLike.scala.html#scala.collection;SetLike.++(07e1553119)" title="(elems: scala.collection.GenTraversableOnce[A])scala.collection.immutable.HashSet[A]">++</a> <a href="#scala.collection.immutable;HashSet.+(a2a7310f5c).elems" title="A*">elems</a>

  override def <a title="(that: scala.collection.GenSet[A])scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.union">union</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span>: <a href="../GenSet.scala.html#scala.collection;GenSet" title="scala.collection.GenSet[A]">GenSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.GenSet[A]">that</span> match <span class="delimiter">{</span>
    case <span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
      val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.union.buffer">buffer</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.bufferSize" title="(size: Int)Int">bufferSize</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="scala.collection.immutable.HashSet[A]">that</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.collection.immutable.HashSet.nullToEmpty" title="(s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]">nullToEmpty</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.union0(a131dc1a3c)" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable;HashSet.union.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    case _ =&gt; super.<a href="../SetLike.scala.html#scala.collection;SetLike.union" title="(that: scala.collection.GenSet[A])scala.collection.immutable.HashSet[A]">union</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(that: scala.collection.GenSet[A])scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.intersect">intersect</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span>: <a href="../GenSet.scala.html#scala.collection;GenSet" title="scala.collection.GenSet[A]">GenSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.GenSet[A]">that</span> match <span class="delimiter">{</span>
    case <span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
      val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.intersect.buffer">buffer</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.bufferSize" title="(size: Int)Int">bufferSize</a><span class="delimiter">(</span>this.<a href="../../Predef.scala.html#scala;LowPriorityImplicits.intWrapper" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">size</a> <a href="../../runtime/RichInt.scala.html#scala.runtime;RichInt.min" title="(that: Int)Int">min</a> <span title="scala.collection.immutable.HashSet[A]">that</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.collection.immutable.HashSet.nullToEmpty" title="(s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]">nullToEmpty</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.intersect0" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">intersect0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable;HashSet.intersect.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    case _ =&gt; super.<a href="../GenSetLike.scala.html#scala.collection;GenSetLike.intersect" title="(that: scala.collection.GenSet[A])scala.collection.immutable.HashSet[A]">intersect</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(that: scala.collection.GenSet[A])scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.diff">diff</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span>: <a href="../GenSet.scala.html#scala.collection;GenSet" title="scala.collection.GenSet[A]">GenSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.GenSet[A]">that</span> match <span class="delimiter">{</span>
    case <span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
      val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.diff.buffer">buffer</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.bufferSize" title="(size: Int)Int">bufferSize</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.collection.immutable.HashSet.nullToEmpty" title="(s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]">nullToEmpty</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.diff0" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">diff0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable;HashSet.diff.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    case _ =&gt; super.<a href="../SetLike.scala.html#scala.collection;SetLike.diff" title="(that: scala.collection.GenSet[A])scala.collection.immutable.HashSet[A]">diff</a><span class="delimiter">(</span><span title="scala.collection.GenSet[A]">that</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Union with a leaf HashSet at a given level.
   * @param that a leaf HashSet
   * @param level the depth in the tree. We need this when we have to create a branch node on top of this and that
   * @return The union of this and that at the given level. Unless level is zero, the result is not a self-contained
   *         HashSet but needs to be stored at the correct depth
   */</span>
  private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.union0(3afdfcdf44)">union0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet.LeafHashSet[A]" id="scala.collection.immutable;HashSet.union0(3afdfcdf44).that">that</a>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.union0(3afdfcdf44).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// the default implementation is for the empty set, so we just return that</span>
    <a href="#scala.collection.immutable;HashSet.union0(3afdfcdf44).that" title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Union with a HashSet at a given level
   * @param that a HashSet
   * @param level the depth in the tree. We need to keep track of the level to know how deep we are in the tree
   * @param buffer a temporary buffer that is used for temporarily storing elements when creating new branch nodes
   * @param offset0 the first offset into the buffer in which we are allowed to write
   * @return The union of this and that at the given level. Unless level is zero, the result is not a self-contained
   *         HashSet but needs to be stored at the correct depth
   */</span>
  private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.union0(a131dc1a3c)">union0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.union0(a131dc1a3c).that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.union0(a131dc1a3c).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.union0(a131dc1a3c).buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.union0(a131dc1a3c).offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// the default implementation is for the empty set, so we just return that</span>
    <a href="#scala.collection.immutable;HashSet.union0(a131dc1a3c).that" title="scala.collection.immutable.HashSet[A]">that</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Intersection with another hash set at a given level
   * @param level the depth in the tree. We need to keep track of the level to know how deep we are in the tree
   * @param buffer a temporary buffer that is used for temporarily storing elements when creating new branch nodes
   * @param offset0 the first offset into the buffer in which we are allowed to write
   * @return The intersection of this and that at the given level. Unless level is zero, the result is not a
   *         self-contained HashSet but needs to be stored at the correct depth
   */</span>
  private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.intersect0">intersect0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.intersect0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.intersect0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.intersect0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.intersect0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// the default implementation is for the empty set, so we just return the empty set</span>
    null
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Diff with another hash set at a given level
   * @param level the depth in the tree. We need to keep track of the level to know how deep we are in the tree
   * @param buffer a temporary buffer that is used for temporarily storing elements when creating new branch nodes
   * @param offset0 the first offset into the buffer in which we are allowed to write
   * @return The diff of this and that at the given level. Unless level is zero, the result is not a
   *         self-contained HashSet but needs to be stored at the correct depth
   */</span>
  private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.diff0">diff0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.diff0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.diff0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.diff0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.diff0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// the default implementation is for the empty set, so we just return the empty set</span>
    null
  <span class="delimiter">}</span>

  def <a title="(e: A)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.-(ddf5840810)">-</a> <span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.-(ddf5840810).e">e</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <a href="#scala.collection.immutable.HashSet.nullToEmpty" title="(s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]">nullToEmpty</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.removed0" title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]">removed0</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.-(ddf5840810).e" title="A">e</a>, <a href="#scala.collection.immutable;HashSet.computeHash" title="(key: A)Int">computeHash</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.-(ddf5840810).e" title="A">e</a><span class="delimiter">)</span>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Returns this $coll as an immutable set.
   *  
   *  A new set will not be built; lazy collections will stay lazy.
   */</span>
  @deprecatedOverriding<span class="delimiter">(</span><span class="string">&quot;Immutable sets should do nothing on toSet but return themselves cast as a Set.&quot;</span>, <span class="string">&quot;2.11.0&quot;</span><span class="delimiter">)</span>
  override def <a title="[B &gt;: A]=&gt; scala.collection.immutable.Set[B]" id="scala.collection.immutable;HashSet.toSet">toSet</a><span class="delimiter">[</span><a title=" &gt;: A" id="scala.collection.immutable;HashSet.toSet;B">B</a> &gt;: A<span class="delimiter">]</span>: <a href="Set.scala.html#scala.collection.immutable;Set" title="scala.collection.immutable.Set[B]">Set</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = this.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.Set[B]" class="delimiter">[</span><a href="Set.scala.html#scala.collection.immutable;Set" title="scala.collection.immutable.Set[B]">Set</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">]</span>

  override def <a title="(p: A =&gt; Boolean)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.filter">filter</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="scala.collection.immutable;HashSet.filter.p">p</a>: A =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.filter.buffer">buffer</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.bufferSize" title="(size: Int)Int">bufferSize</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#scala.collection.immutable.HashSet.nullToEmpty" title="(s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]">nullToEmpty</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.filter0" title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">filter0</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.filter.p" title="A =&gt; Boolean">p</a>, false, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable;HashSet.filter.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  override def <a title="(p: A =&gt; Boolean)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.filterNot">filterNot</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="scala.collection.immutable;HashSet.filterNot.p">p</a>: A =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.filterNot.buffer">buffer</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.bufferSize" title="(size: Int)Int">bufferSize</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#scala.collection.immutable.HashSet.nullToEmpty" title="(s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]">nullToEmpty</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.filter0" title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">filter0</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.filterNot.p" title="A =&gt; Boolean">p</a>, true, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable;HashSet.filterNot.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  protected def <a title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.filter0">filter0</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="scala.collection.immutable;HashSet.filter0.p">p</a>: A =&gt; Boolean, <a title="Boolean" id="scala.collection.immutable;HashSet.filter0.negate">negate</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Int" id="scala.collection.immutable;HashSet.filter0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable;HashSet.filter0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable;HashSet.filter0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = null

  protected def <a title="(key: A)Int" id="scala.collection.immutable;HashSet.elemHashCode">elemHashCode</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.elemHashCode.key">key</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable;HashSet.elemHashCode.key" title="A">key</a>.<span title="()Int">##</span>

  protected final def <a title="(hcode: Int)Int" id="scala.collection.immutable;HashSet.improve">improve</a><span class="delimiter">(</span><a title="Int" id="scala.collection.immutable;HashSet.improve.hcode">hcode</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    var h: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <a href="#scala.collection.immutable;HashSet.improve.hcode" title="Int">hcode</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="Int" id="scala.collection.immutable;HashSet.improve.h">+</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.improve.hcode" title="Int">hcode</a> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(9)" class="int">9</span><span class="delimiter">)</span>
    <a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> = <a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="(x: Int)Int">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(14)" class="int">14</span><span class="delimiter">)</span>
    <a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> = <a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
    <a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="(x: Int)Int">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.improve.h" title="Int">h</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>collection<span class="delimiter">]</span> def <a title="(key: A)Int" id="scala.collection.immutable;HashSet.computeHash">computeHash</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.computeHash.key">key</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable;HashSet.improve" title="(hcode: Int)Int">improve</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.elemHashCode" title="(key: A)Int">elemHashCode</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.computeHash.key" title="A">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  protected def <a title="(key: A, hash: Int, level: Int)Boolean" id="scala.collection.immutable;HashSet.get0">get0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.get0.key">key</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable;HashSet.get0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable;HashSet.get0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false

  def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.updated0">updated0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.updated0.key">key</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable;HashSet.updated0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable;HashSet.updated0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    new HashSet.<a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable;HashSet.updated0.key" title="A">key</a>, <a href="#scala.collection.immutable;HashSet.updated0.hash" title="Int">hash</a><span class="delimiter">)</span>

  protected def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable;HashSet.removed0">removed0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable;HashSet.removed0.key">key</a>: <a href="#scala.collection.immutable;HashSet;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable;HashSet.removed0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable;HashSet.removed0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = this

  protected def <a title="()AnyRef" id="scala.collection.immutable;HashSet.writeReplace">writeReplace</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = new HashSet.<a href="#scala.collection.immutable.HashSet;SerializationProxy" title="scala.collection.immutable.HashSet.SerializationProxy[A,Nothing]">SerializationProxy</a><span class="delimiter">(</span>this<span class="delimiter">)</span>

<span class="delimiter">}</span>

<span class="comment">/** $factoryInfo
 *  @define Coll `immutable.HashSet`
 *  @define coll immutable hash set
 *
 *  @author  Tiark Rompf
 *  @since   2.3
 *  @define Coll `immutable.HashSet`
 *  @define coll immutable hash set
 *  @define mayNotTerminateInf
 *  @define willNotTerminateInf
 */</span>
object <a title="scala.collection.immutable.HashSet.type" id="scala.collection.immutable.HashSet.readResolve">HashSet</a> extends <a href="../generic/ImmutableSetFactory.scala.html#scala.collection.generic;ImmutableSetFactory" title="scala.collection.generic.ImmutableSetFactory[scala.collection.immutable.HashSet]">ImmutableSetFactory</a><span class="delimiter">[</span>HashSet<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="comment">/** $setCanBuildFromInfo */</span>
  implicit def <a title="[A]=&gt; scala.collection.generic.CanBuildFrom[scala.collection.immutable.HashSet.Coll,A,scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet.canBuildFrom">canBuildFrom</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet.canBuildFrom;A">A</a><span class="delimiter">]</span>: <a href="../generic/CanBuildFrom.scala.html#scala.collection.generic;CanBuildFrom" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.HashSet.Coll,A,scala.collection.immutable.HashSet[A]]">CanBuildFrom</a><span class="delimiter">[</span>Coll, A, HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="../generic/GenSetFactory.scala.html#scala.collection.generic;GenSetFactory.setCanBuildFrom" title="[A]=&gt; scala.collection.generic.CanBuildFrom[scala.collection.immutable.HashSet[_],A,scala.collection.immutable.HashSet[A]]">setCanBuildFrom</a><span title="&lt;refinement of scala.collection.generic.CanBuildFrom[scala.collection.immutable.HashSet[_],A,scala.collection.immutable.HashSet[A]]&gt; extends AnyRef with scala.collection.generic.CanBuildFrom[scala.collection.immutable.HashSet[_],A,scala.collection.immutable.HashSet[A]]" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet.canBuildFrom;A" title="A">A</a><span class="delimiter">]</span>

  private object <a title="scala.collection.immutable.HashSet.EmptyHashSet.type" id="scala.collection.immutable.HashSet.EmptyHashSet.readResolve">EmptyHashSet</a> extends <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[Any]">HashSet</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  private<span class="delimiter">[</span>collection<span class="delimiter">]</span> def <a title="=&gt; scala.collection.immutable.HashSet[Any]" id="scala.collection.immutable.HashSet.emptyInstance">emptyInstance</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[Any]">HashSet</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <a href="#scala.collection.immutable.HashSet.EmptyHashSet.readResolve" title="scala.collection.immutable.HashSet.EmptyHashSet.type">EmptyHashSet</a>
  
  <span class="comment">// utility method to create a HashTrieSet from two leaf HashSets (HashSet1 or HashSetCollision1) with non-colliding hash code)</span>
  private def <a title="[A](hash0: Int, elem0: scala.collection.immutable.HashSet[A], hash1: Int, elem1: scala.collection.immutable.HashSet[A], level: Int)scala.collection.immutable.HashSet.HashTrieSet[A]" id="scala.collection.immutable.HashSet.makeHashTrieSet">makeHashTrieSet</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet.makeHashTrieSet;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Int" id="scala.collection.immutable.HashSet.makeHashTrieSet.hash0">hash0</a>:<a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet.makeHashTrieSet.elem0">elem0</a>:<a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet.makeHashTrieSet.hash1">hash1</a>:<a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet.makeHashTrieSet.elem1">elem1</a>:<a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet.makeHashTrieSet.level">level</a>:<a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> : <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
    val index0 = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.makeHashTrieSet.hash0" title="Int">hash0</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.level" title="Int">level</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.immutable.HashSet.makeHashTrieSet.index0">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
    val index1 = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.makeHashTrieSet.hash1" title="Int">hash1</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.level" title="Int">level</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.immutable.HashSet.makeHashTrieSet.index1">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
    if<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index0" title="Int">index0</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index1" title="Int">index1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val bitmap = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index0" title="Int">index0</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="Int">|</a> <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index1" title="Int">index1</a><span class="delimiter">)</span>
      val <span title="Array[scala.collection.immutable.HashSet[A]]">elems</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
      if<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index0" title="Int">index0</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index1" title="Int">index1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem0" title="scala.collection.immutable.HashSet[A]">elem0</a>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem1" title="scala.collection.immutable.HashSet[A]">elem1</a>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem1" title="scala.collection.immutable.HashSet[A]">elem1</a>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem0" title="scala.collection.immutable.HashSet[A]">elem0</a>
      <span class="delimiter">}</span>
      new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int">bitmap</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems</span>, <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem0" title="scala.collection.immutable.HashSet[A]">elem0</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem1" title="scala.collection.immutable.HashSet[A]">elem1</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val <span title="Array[scala.collection.immutable.HashSet[A]]">elems</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      val bitmap = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.index0" title="Int">index0</a><span class="delimiter">)</span>
      val <a title="scala.collection.immutable.HashSet.HashTrieSet[A]" id="scala.collection.immutable.HashSet.makeHashTrieSet.child">child</a> = <a href="#scala.collection.immutable.HashSet.makeHashTrieSet" title="(hash0: Int, elem0: scala.collection.immutable.HashSet[A], hash1: Int, elem1: scala.collection.immutable.HashSet[A], level: Int)scala.collection.immutable.HashSet.HashTrieSet[A]">makeHashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.makeHashTrieSet.hash0" title="Int">hash0</a>, <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem0" title="scala.collection.immutable.HashSet[A]">elem0</a>, <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.hash1" title="Int">hash1</a>, <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.elem1" title="scala.collection.immutable.HashSet[A]">elem1</a>, <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
      <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.child" title="scala.collection.immutable.HashSet.HashTrieSet[A]">child</a>
      new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int">bitmap</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems</span>, <a href="#scala.collection.immutable.HashSet.makeHashTrieSet.child" title="scala.collection.immutable.HashSet.HashTrieSet[A]">child</a>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Common superclass of HashSet1 and HashSetCollision1, which are the two possible leaves of the Trie
   */</span>
  private<span class="delimiter">[</span>HashSet<span class="delimiter">]</span> sealed abstract class <a title="class LeafHashSet[A] extends scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;LeafHashSet">LeafHashSet</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;LeafHashSet;A">A</a><span class="delimiter">]</span> extends <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    private<span class="delimiter">[</span>HashSet<span class="delimiter">]</span> def <a title="=&gt; Int" id="scala.collection.immutable.HashSet;LeafHashSet.hash">hash</a>:<a href="../../Int.scala.html#scala;Int" title="Int">Int</a>
  <span class="delimiter">}</span>

  class <a title="class HashSet1[A] extends scala.collection.immutable.HashSet.LeafHashSet[A]" id="scala.collection.immutable.HashSet;HashSet1">HashSet1</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;HashSet1;A">A</a><span class="delimiter">]</span><a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]" class="delimiter">(</a>private<span class="delimiter">[</span>HashSet<span class="delimiter">]</span> val <a title="A" id="scala.collection.immutable.HashSet;HashSet1.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSet1;A" title="A">A</a>, private<span class="delimiter">[</span>HashSet<span class="delimiter">]</span> val <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> extends <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    override def <a title="=&gt; Int" id="scala.collection.immutable.HashSet;HashSet1.size">size</a> = <span title="Int(1)" class="int">1</span>

    override def <a title="(key: A, hash: Int, level: Int)Boolean" id="scala.collection.immutable.HashSet;HashSet1.get0">get0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSet1.get0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSet1;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.get0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.get0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> =
      <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.get0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.immutable.HashSet;HashSet1.get0.key" title="A">key</a> <span title="(x$1: Any)Boolean">==</span> this.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span>

    override def <a title="(that: scala.collection.immutable.HashSet[A], level: Int)Boolean" id="scala.collection.immutable.HashSet;HashSet1.subsetOf0">subsetOf0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.subsetOf0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.subsetOf0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="comment">// check if that contains this.key</span>
      <span class="comment">// we use get0 with our key and hash at the correct level instead of calling contains,</span>
      <span class="comment">// which would not work since that might not be a top-level HashSet</span>
      <span class="comment">// and in any case would be inefficient because it would require recalculating the hash code</span>
      <a href="#scala.collection.immutable.HashSet;HashSet1.subsetOf0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.subsetOf0.level" title="Int">level</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.updated0">updated0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSet1.updated0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSet1;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.updated0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.updated0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.updated0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.immutable.HashSet;HashSet1.updated0.key" title="A">key</a> <span title="(x$1: Any)Boolean">==</span> this.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span> this
      else <span class="delimiter">{</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.updated0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.collection.immutable.HashSet.makeHashTrieSet" title="(hash0: Int, elem0: scala.collection.immutable.HashSet[A], hash1: Int, elem1: scala.collection.immutable.HashSet[A], level: Int)scala.collection.immutable.HashSet.HashTrieSet[A]">makeHashTrieSet</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, this, <a href="#scala.collection.immutable.HashSet;HashSet1.updated0.hash" title="Int">hash</a>, new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.updated0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.updated0.hash" title="Int">hash</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashSet1.updated0.level" title="Int">level</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// 32-bit hash collision (rare, but not impossible)</span>
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.updated0.hash" title="Int">hash</a>, <a href="ListSet.scala.html#scala.collection.immutable.ListSet" title="scala.collection.immutable.ListSet.type">ListSet</a>.<a href="../generic/ImmutableSetFactory.scala.html#scala.collection.generic;ImmutableSetFactory.empty" title="scala.collection.immutable.ListSet[A]">empty</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: A)scala.collection.immutable.ListSet[A]">+</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: A)scala.collection.immutable.ListSet[A]">+</a> <a href="#scala.collection.immutable.HashSet;HashSet1.updated0.key" title="A">key</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.union0(3afdfcdf44)">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.union0(3afdfcdf44).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span> if <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;LeafHashSet.hash" title="=&gt; Int">hash</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a> =&gt;
        <span class="comment">// different hash code, so there is no need to investigate further.</span>
        <span class="comment">// Just create a branch node containing the two.</span>
        <a href="#scala.collection.immutable.HashSet.makeHashTrieSet" title="(hash0: Int, elem0: scala.collection.immutable.HashSet[A], hash1: Int, elem1: scala.collection.immutable.HashSet[A], level: Int)scala.collection.immutable.HashSet.HashTrieSet[A]">makeHashTrieSet</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, this, <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;LeafHashSet.hash" title="=&gt; Int">hash</a>, <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>, <a href="#scala.collection.immutable.HashSet;HashSet1.union0(3afdfcdf44).level" title="Int">level</a><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        if <span class="delimiter">(</span>this.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a> <span title="(x$1: Any)Boolean">==</span> <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          this
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// 32-bit hash collision (rare, but not impossible)</span>
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, <a href="ListSet.scala.html#scala.collection.immutable.ListSet" title="scala.collection.immutable.ListSet.type">ListSet</a>.<a href="../generic/ImmutableSetFactory.scala.html#scala.collection.generic;ImmutableSetFactory.empty" title="scala.collection.immutable.ListSet[A]">empty</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: A)scala.collection.immutable.ListSet[A]">+</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: A)scala.collection.immutable.ListSet[A]">+</a> <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        val ks1 = <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashSet1.union0(3afdfcdf44).ks1">+</a> <a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>
        <span class="comment">// Could use eq check (faster) if ListSet was guaranteed to return itself</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.union0(3afdfcdf44).ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.union0(3afdfcdf44).ks1" title="scala.collection.immutable.ListSet[A]">ks1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c)">union0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c).that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c).buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c).offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="comment">// switch to the Leaf version of union</span>
      <span class="comment">// we can exchange the arguments because union is symmetrical</span>
      <a href="#scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c).that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.union0(3afdfcdf44)" title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span>this, <a href="#scala.collection.immutable.HashSet;HashSet1.union0(a131dc1a3c).level" title="Int">level</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.intersect0">intersect0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.intersect0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.intersect0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSet1.intersect0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.intersect0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.intersect0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.intersect0.level" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span> this else null

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.diff0">diff0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.diff0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.diff0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSet1.diff0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.diff0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.diff0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSet1.diff0.level" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span> null else this

    override def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.removed0">removed0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSet1.removed0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSet1;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.removed0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.removed0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.removed0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.collection.immutable.HashSet;HashSet1.removed0.key" title="A">key</a> <span title="(x$1: Any)Boolean">==</span> this.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span> null else this

    override protected def <a title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSet1.filter0">filter0</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="scala.collection.immutable.HashSet;HashSet1.filter0.p">p</a>: A =&gt; Boolean, <a title="Boolean" id="scala.collection.immutable.HashSet;HashSet1.filter0.negate">negate</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.filter0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSet1.filter0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSet1.filter0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.filter0.negate" title="Boolean">negate</a> <a href="../../Boolean.scala.html#scala;Boolean.^" title="(x: Boolean)Boolean">^</a> <a href="../../Function1.scala.html#scala;Function1.apply" title="(v1: A)Boolean">p</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> this else null

    override def <a title="=&gt; Iterator[A]" id="scala.collection.immutable.HashSet;HashSet1.iterator">iterator</a>: <a href="../Iterator.scala.html#scala.collection;Iterator" title="Iterator[A]">Iterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="../Iterator.scala.html#scala.collection.Iterator.apply" title="(elems: A*)Iterator[A]">Iterator</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span>
    override def <a title="[U](f: A =&gt; U)Unit" id="scala.collection.immutable.HashSet;HashSet1.foreach">foreach</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;HashSet1.foreach;U">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; U" id="scala.collection.immutable.HashSet;HashSet1.foreach.f">f</a>: A =&gt; U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="../../Function1.scala.html#scala;Function1.apply" title="(v1: A)U">f</a><span title="Unit" class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> class <a title="class HashSetCollision1[A] extends scala.collection.immutable.HashSet.LeafHashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1">HashSetCollision1</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;HashSetCollision1;A">A</a><span class="delimiter">]</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]" class="delimiter">(</a>private<span class="delimiter">[</span>HashSet<span class="delimiter">]</span> val <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, val <a title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.ks">ks</a>: <a href="ListSet.scala.html#scala.collection.immutable;ListSet" title="scala.collection.immutable.ListSet[A]">ListSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

    override def <a title="=&gt; Int" id="scala.collection.immutable.HashSet;HashSetCollision1.size">size</a> = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a>

    override def <a title="(key: A, hash: Int, level: Int)Boolean" id="scala.collection.immutable.HashSet;HashSetCollision1.get0">get0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSetCollision1.get0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSetCollision1;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.get0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.get0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.get0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.contains" title="(elem: A)Boolean">contains</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.get0.key" title="A">key</a><span class="delimiter">)</span> else false

    override def <a title="(that: scala.collection.immutable.HashSet[A], level: Int)Boolean" id="scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0">subsetOf0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="comment">// we have to check each element</span>
      <span class="comment">// we use get0 with our hash at the correct level instead of calling contains,</span>
      <span class="comment">// which would not work since that might not be a top-level HashSet</span>
      <span class="comment">// and in any case would be inefficient because it would require recalculating the hash code</span>
      <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="../IterableLike.scala.html#scala.collection;IterableLike.forall" title="(p: A =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0.$anonfun.key">key</a> =&gt; <a href="#scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0.$anonfun.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.subsetOf0.level" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    override def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.updated0">updated0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSetCollision1.updated0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSetCollision1;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.updated0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.updated0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span> new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.hash" title="Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="(elem: A)scala.collection.immutable.ListSet[A]">+</a> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.key" title="A">key</a><span class="delimiter">)</span>
      else <a href="#scala.collection.immutable.HashSet.makeHashTrieSet" title="(hash0: Int, elem0: scala.collection.immutable.HashSet[A], hash1: Int, elem1: scala.collection.immutable.HashSet[A], level: Int)scala.collection.immutable.HashSet.HashTrieSet[A]">makeHashTrieSet</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, this, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.hash" title="Int">hash</a>, new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.hash" title="Int">hash</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.updated0.level" title="Int">level</a><span class="delimiter">)</span>

    override def <a title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.union0(3afdfcdf44)">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.union0(3afdfcdf44).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span> if <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;LeafHashSet.hash" title="=&gt; Int">hash</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a> =&gt;
        <span class="comment">// different hash code, so there is no need to investigate further.</span>
        <span class="comment">// Just create a branch node containing the two.</span>
        <a href="#scala.collection.immutable.HashSet.makeHashTrieSet" title="(hash0: Int, elem0: scala.collection.immutable.HashSet[A], hash1: Int, elem1: scala.collection.immutable.HashSet[A], level: Int)scala.collection.immutable.HashSet.HashTrieSet[A]">makeHashTrieSet</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, this, <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;LeafHashSet.hash" title="=&gt; Int">hash</a>, <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.union0(3afdfcdf44).level" title="Int">level</a><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        val ks1 = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.+(f37116eb2d)" title="scala.collection.immutable.ListSet[A]">+</a> <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>
        <span class="comment">// Could use eq check (faster) if ListSet was guaranteed to return itself</span>
        if <span class="delimiter">(</span><span title="scala.collection.immutable.ListSet[A]">ks1</span>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          this
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// create a new HashSetCollision with the existing hash</span>
          <span class="comment">// we don't have to check for size=1 because union is never going to remove elements</span>
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <span title="scala.collection.immutable.ListSet[A]">ks1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        val ks1 = this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.++(4dfe2598f7)" title="scala.collection.immutable.ListSet[A]">++</a> <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>
        <span title="scala.collection.immutable.ListSet[A]">ks1</span>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> match <span class="delimiter">{</span>
          case <span title="Int">size</span> if <span title="Int">size</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> =&gt;
            <span class="comment">// could this check be made faster by doing an eq check?</span>
            <span class="comment">// I am not sure we can rely on ListSet returning itself when all elements are already in the set,</span>
            <span class="comment">// so it seems unwise to rely on it.</span>
            this
          case <span title="Int">size</span> if <span title="Int">size</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> =&gt;
            <span class="comment">// we have to check this as well, since we don't want to create a new instance if this is a subset of that</span>
            <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>
          case _ =&gt;
            <span class="comment">// create a new HashSetCollision with the existing hash</span>
            <span class="comment">// we don't have to check for size=1 because union is never going to remove elements</span>
            new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <span title="scala.collection.immutable.ListSet[A]">ks1</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.union0(a131dc1a3c)">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.union0(a131dc1a3c).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSetCollision1.union0(a131dc1a3c).buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.union0(a131dc1a3c).offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.HashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        <span class="comment">// switch to the simpler Tree/Leaf implementation</span>
        this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.union0(3afdfcdf44)" title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.union0(a131dc1a3c).level" title="Int">level</a><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        <span class="comment">// switch to the simpler Tree/Leaf implementation</span>
        <span class="comment">// we can swap this and that because union is symmetrical</span>
        <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44)" title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span>this, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.union0(a131dc1a3c).level" title="Int">level</a><span class="delimiter">)</span>
      case _ =&gt; this
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.intersect0">intersect0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.intersect0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.intersect0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSetCollision1.intersect0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.intersect0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">// filter the keys, taking advantage of the fact that we know their hash code</span>
      val <a title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.intersect0.ks1">ks1</a> = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="../TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: A =&gt; Boolean)scala.collection.immutable.ListSet[A]">filter</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.ks1.$anonfun.x$1" title="A">_</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.level" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> match <span class="delimiter">{</span>
        case <span title="Int(0)" class="int">0</span> =&gt;
          <span class="comment">// the empty set</span>
          null
        case <span title="Int">size</span> if <span title="Int">size</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.size" title="=&gt; Int">size</a> =&gt;
          <span class="comment">// unchanged</span>
          <span class="comment">// We do this check first since even if the result is of size 1 since</span>
          <span class="comment">// it is preferable to return the existing set for better structural sharing</span>
          this
        case <span title="Int">size</span> if <span title="Int">size</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a> =&gt;
          <span class="comment">// the other set</span>
          <span class="comment">// We do this check first since even if the result is of size 1 since</span>
          <span class="comment">// it is preferable to return the existing set for better structural sharing</span>
          <a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.that" title="scala.collection.immutable.HashSet[A]">that</a>
        case <span title="Int(1)" class="int">1</span> =&gt;
          <span class="comment">// create a new HashSet1 with the hash we already know</span>
          new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.head" title="=&gt; A">head</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span>
        case _ =&gt;
          <span class="comment">// create a new HashSetCollison with the hash we already know and the new keys</span>
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.intersect0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0">diff0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0.that">that</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val <a title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0.ks1">ks1</a> = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="../TraversableLike.scala.html#scala.collection;TraversableLike.filterNot" title="(p: A =&gt; Boolean)scala.collection.immutable.ListSet[A]">filterNot</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.that" title="scala.collection.immutable.HashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.ks1.$anonfun.x$2" title="A">_</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.level" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> match <span class="delimiter">{</span>
        case <span title="Int(0)" class="int">0</span> =&gt;
          <span class="comment">// the empty set</span>
          null
        case <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.diff0.size">size</a> if <a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.size" title="Int">size</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.size" title="=&gt; Int">size</a> =&gt;
          <span class="comment">// unchanged</span>
          <span class="comment">// We do this check first since even if the result is of size 1 since</span>
          <span class="comment">// it is preferable to return the existing set for better structural sharing</span>
          this
        case <span title="Int(1)" class="int">1</span> =&gt;
          <span class="comment">// create a new HashSet1 with the hash we already know</span>
          new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.head" title="=&gt; A">head</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span>
        case _ =&gt;
          <span class="comment">// create a new HashSetCollison with the hash we already know and the new keys</span>
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.diff0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.removed0">removed0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashSetCollision1.removed0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashSetCollision1;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.removed0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.removed0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val ks1 = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a> <a href="ListSet.scala.html#scala.collection.immutable;ListSet.-(f37116eb2d)" title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.removed0.ks1">-</a> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.key" title="A">key</a>
        <a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> match <span class="delimiter">{</span>
          case <span title="Int(0)" class="int">0</span> =&gt;
            <span class="comment">// the empty set</span>
            null
          case <span title="Int(1)" class="int">1</span> =&gt;
            <span class="comment">// create a new HashSet1 with the hash we already know</span>
            new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.head" title="=&gt; A">head</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.hash" title="Int">hash</a><span class="delimiter">)</span>
          case <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.removed0.size">size</a> if <a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.size" title="Int">size</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> =&gt;
            <span class="comment">// Should only have HSC1 if size &gt; 1</span>
            this
          case _ =&gt;
            <span class="comment">// create a new HashSetCollison with the hash we already know and the new keys</span>
            new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.hash" title="Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.removed0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else this

    override protected def <a title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0">filter0</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.p">p</a>: A =&gt; Boolean, <a title="Boolean" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.negate">negate</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val <a title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.ks1">ks1</a> = if<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.negate" title="Boolean">negate</a><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="../TraversableLike.scala.html#scala.collection;TraversableLike.filterNot" title="(p: A =&gt; Boolean)scala.collection.immutable.ListSet[A]">filterNot</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.p" title="A =&gt; Boolean">p</a><span class="delimiter">)</span> else <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="../TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: A =&gt; Boolean)scala.collection.immutable.ListSet[A]">filter</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.p" title="A =&gt; Boolean">p</a><span class="delimiter">)</span>
      <a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> match <span class="delimiter">{</span>
        case <span title="Int(0)" class="int">0</span> =&gt;
          null
        case <span title="Int(1)" class="int">1</span> =&gt;
          new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.head" title="=&gt; A">head</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a><span class="delimiter">)</span>
        case <a title="Int" id="scala.collection.immutable.HashSet;HashSetCollision1.filter0.x">x</a> if <a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.x" title="Int">x</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.size" title="=&gt; Int">size</a> =&gt;
          this
        case _ =&gt;
          new <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashSetCollision1.filter0.ks1" title="scala.collection.immutable.ListSet[A]">ks1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override def <a title="=&gt; Iterator[A]" id="scala.collection.immutable.HashSet;HashSetCollision1.iterator">iterator</a>: <a href="../Iterator.scala.html#scala.collection;Iterator" title="Iterator[A]">Iterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.iterator" title="=&gt; Iterator[A]">iterator</a>
    override def <a title="[U](f: A =&gt; U)Unit" id="scala.collection.immutable.HashSet;HashSetCollision1.foreach">foreach</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;HashSetCollision1.foreach;U">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; U" id="scala.collection.immutable.HashSet;HashSetCollision1.foreach.f">f</a>: A =&gt; U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a>.<a href="../IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: A =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashSetCollision1.foreach.f" title="A =&gt; U">f</a><span class="delimiter">)</span>

    private def <a title="(out: java.io.ObjectOutputStream)Unit" id="scala.collection.immutable.HashSet;HashSetCollision1.writeObject">writeObject</a><span class="delimiter">(</span><a title="java.io.ObjectOutputStream" id="scala.collection.immutable.HashSet;HashSetCollision1.writeObject.out">out</a>: java.io.<span title="java.io.ObjectOutputStream">ObjectOutputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// this cannot work - reading things in might produce different</span>
      <span class="comment">// hash codes and remove the collision. however this is never called</span>
      <span class="comment">// because no references to this class are ever handed out to client code</span>
      <span class="comment">// and HashTrieSet serialization takes care of the situation</span>
      sys.<a href="../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;cannot serialize an immutable.HashSet where all items have the same 32-bit hash code&quot;)" class="string">&quot;cannot serialize an immutable.HashSet where all items have the same 32-bit hash code&quot;</span><span class="delimiter">)</span>
      <span class="comment">//out.writeObject(kvs)</span>
    <span class="delimiter">}</span>

    private def <a title="(in: java.io.ObjectInputStream)Unit" id="scala.collection.immutable.HashSet;HashSetCollision1.readObject">readObject</a><span class="delimiter">(</span><a title="java.io.ObjectInputStream" id="scala.collection.immutable.HashSet;HashSetCollision1.readObject.in">in</a>: java.io.<span title="java.io.ObjectInputStream">ObjectInputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;cannot deserialize an immutable.HashSet where all items have the same 32-bit hash code&quot;)" class="string">&quot;cannot deserialize an immutable.HashSet where all items have the same 32-bit hash code&quot;</span><span class="delimiter">)</span>
      <span class="comment">//kvs = in.readObject().asInstanceOf[ListSet[A]]</span>
      <span class="comment">//hash = computeHash(kvs.)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/**
   * A branch node of the HashTrieSet with at least one and up to 32 children.
   *
   * @param bitmap encodes which element corresponds to which child
   * @param elems the up to 32 children of this node.
   *              the number of children must be identical to the number of 1 bits in bitmap
   * @param size0 the total number of elements. This is stored just for performance reasons.
   * @tparam A      the type of the elements contained in this hash set.
   *
   * How levels work:
   *
   * When looking up or adding elements, the part of the hashcode that is used to address the children array depends
   * on how deep we are in the tree. This is accomplished by having a level parameter in all internal methods
   * that starts at 0 and increases by 5 (32 = 2^5) every time we go deeper into the tree.
   *
   * hashcode (binary): 00000000000000000000000000000000
   * level=0 (depth=0)                             ^^^^^
   * level=5 (depth=1)                        ^^^^^
   * level=10 (depth=2)                  ^^^^^
   * ...
   *
   * Be careful: a non-toplevel HashTrieSet is not a self-contained set, so e.g. calling contains on it will not work!
   * It relies on its depth in the Trie for which part of a hash to use to address the children, but this information
   * (the level) is not stored due to storage efficiency reasons but has to be passed explicitly!
   *
   * How bitmap and elems correspond:
   *
   * A naive implementation of a HashTrieSet would always have an array of size 32 for children and leave the unused
   * children empty (null). But that would be very wasteful regarding memory. Instead, only non-empty children are
   * stored in elems, and the bitmap is used to encode which elem corresponds to which child bucket. The lowest 1 bit
   * corresponds to the first element, the second-lowest to the second, etc.
   *
   * bitmap (binary): 00010000000000000000100000000000
   * elems: [a,b]
   * children:        ---b----------------a-----------
   */</span>
  class <a title="class HashTrieSet[A] extends scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet">HashTrieSet</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;HashTrieSet;A">A</a><span class="delimiter">]</span><a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]" class="delimiter">(</a>private val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.bitmap">bitmap</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, private<span class="delimiter">[</span>collection<span class="delimiter">]</span> val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.elems">elems</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, private val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.size0">size0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>
        extends <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
    <a href="../../Predef.scala.html#scala.Predef.assert(65d7b4917f)" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
    <span class="comment">// assertion has to remain disabled until SI-6197 is solved</span>
    <span class="comment">// assert(elems.length &gt; 1 || (elems.length == 1 &amp;&amp; elems(0).isInstanceOf[HashTrieSet[_]]))</span>

    override def <a title="=&gt; Int" id="scala.collection.immutable.HashSet;HashTrieSet.size">size</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a>

    override def <a title="(key: A, hash: Int, level: Int)Boolean" id="scala.collection.immutable.HashSet;HashTrieSet.get0">get0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashTrieSet.get0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashTrieSet;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.get0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.get0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      val index = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.level" title="Int">level</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.get0.index">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
      val mask = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.get0.mask">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.index" title="Int">index</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> - <span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.index" title="Int">index</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span title="Int(31)" class="int">0x1f</span><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.hash" title="Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.mask" title="Int">mask</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.get0.offset">offset</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.mask" title="Int">mask</a><a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.offset" title="Int">offset</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.get0" title="(key: A, hash: Int, level: Int)Boolean">get0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.hash" title="Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.get0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else
        false
    <span class="delimiter">}</span>

    override def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.updated0">updated0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashTrieSet;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val index = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.level" title="Int">level</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.index">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
      val mask = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.mask">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.index" title="Int">index</a><span class="delimiter">)</span>
      val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.offset">offset</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.mask" title="Int">mask</a><a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.mask" title="Int">mask</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.sub">sub</a> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a><span class="delimiter">)</span>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.subNew">subNew</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.updated0" title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]">updated0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.hash" title="Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.sub" title="scala.collection.immutable.HashSet[A]">sub</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a><span class="delimiter">)</span> this
        else <span class="delimiter">{</span>
          val <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elemsNew</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a>
          new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        val <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elemsNew</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a><span class="delimiter">)</span> = new <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.hash" title="Int">hash</a><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.offset" title="Int">offset</a><span class="delimiter">)</span>
        val bitmapNew = <a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.updated0.bitmapNew">|</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.mask" title="Int">mask</a>
        new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.updated0.bitmapNew" title="Int">bitmapNew</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44)">union0</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet.LeafHashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).that">that</a>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val index = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).that" title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</a>.<a href="#scala.collection.immutable.HashSet;LeafHashSet.hash" title="=&gt; Int">hash</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).level" title="Int">level</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).index">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
      val mask = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).mask">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).index" title="Int">index</a><span class="delimiter">)</span>
      val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset">offset</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).mask" title="Int">mask</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).mask" title="Int">mask</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub">sub</a> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a><span class="delimiter">)</span>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub1">sub1</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.union0(3afdfcdf44)" title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).that" title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub" title="scala.collection.immutable.HashSet[A]">sub</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub1" title="scala.collection.immutable.HashSet[A]">sub1</a><span class="delimiter">)</span> this
        else <span class="delimiter">{</span>
          val <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub1" title="scala.collection.immutable.HashSet[A]">sub1</a>
          new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub1" title="scala.collection.immutable.HashSet[A]">sub1</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        val <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a><span class="delimiter">)</span>
        <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elems1</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).that" title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</a>
        <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).offset" title="Int">offset</a><span class="delimiter">)</span>
        val bitmap1 = <a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).bitmap1">|</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).mask" title="Int">mask</a>
        new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).bitmap1" title="Int">bitmap1</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elems1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44).that" title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c)">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.HashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet[A]">that</span> if <span title="scala.collection.immutable.HashSet[A]">that</span> <span title="(x$1: AnyRef)Boolean">eq</span> this =&gt;
        <span class="comment">// shortcut for when that is this</span>
        <span class="comment">// this happens often for nodes deeper in the tree, especially when that and this share a common &quot;heritage&quot;</span>
        <span class="comment">// e.g. you have a large set A and do some small operations (adding and removing elements) to it to create B</span>
        <span class="comment">// then A and B will have the vast majority of nodes in common, and this eq check will allow not even looking</span>
        <span class="comment">// at these nodes.</span>
        this
      case <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        <span class="comment">// when that is a leaf, we can switch to the simpler Tree/Leaf implementation</span>
        this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(3afdfcdf44)" title="(that: scala.collection.immutable.HashSet.LeafHashSet[A], level: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).level" title="Int">level</a><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).a">a</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm">abm</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).ai">ai</a> = <span title="Int(0)" class="int">0</span>

        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).b">b</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm">bbm</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bi">bi</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// fetch a new temporary array that is guaranteed to be big enough (32 elements)</span>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset">offset</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset0" title="Int">offset0</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs">rs</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// loop as long as there are bits left in either abm or bbm</span>
        while <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm" title="Int">bbm</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).while$1" title="()Unit" class="delimiter">{</a>
          <span class="comment">// lowest remaining bit in abm</span>
          val alsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).alsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// lowest remaining bit in bbm</span>
          val blsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).blsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).blsb" title="Int">blsb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <span title="scala.collection.immutable.HashSet[A]">sub1</span> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">a</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).ai" title="Int">ai</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.union0(a131dc1a3c)" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">union0</a><span class="delimiter">(</span><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">b</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bi" title="Int">bi</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a><span class="delimiter">)</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="scala.collection.immutable.HashSet[A]">sub1</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
            <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a><span class="delimiter">)</span> = <span title="scala.collection.immutable.HashSet[A]">sub1</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).alsb" title="Int">alsb</a>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in bbm and increase the b index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).blsb" title="Int">blsb</a>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.unsignedCompare" title="(i: Int, j: Int)Boolean">unsignedCompare</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).blsb" title="Int">blsb</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// alsb is smaller than blsb, or alsb is set and blsb is 0</span>
            <span class="comment">// in any case, alsb is guaranteed to be set here!</span>
            val <span title="scala.collection.immutable.HashSet[A]">sub1</span> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">a</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).ai" title="Int">ai</a><span class="delimiter">)</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="scala.collection.immutable.HashSet[A]">sub1</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
            <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a><span class="delimiter">)</span> = <span title="scala.collection.immutable.HashSet[A]">sub1</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).alsb" title="Int">alsb</a>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            <span class="comment">// blsb is smaller than alsb, or blsb is set and alsb is 0</span>
            <span class="comment">// in any case, blsb is guaranteed to be set here!</span>
            val <span title="scala.collection.immutable.HashSet[A]">sub1</span> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">b</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bi" title="Int">bi</a><span class="delimiter">)</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="scala.collection.immutable.HashSet[A]">sub1</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
            <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a><span class="delimiter">)</span> = <span title="scala.collection.immutable.HashSet[A]">sub1</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in bbm and increase the b index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).blsb" title="Int">blsb</a>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// if the result would be identical to this, we might as well return this</span>
          this
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// if the result would be identical to that, we might as well return that</span>
          <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// we don't have to check whether the result is a leaf, since union will only make the set larger</span>
          <span class="comment">// and this is not a leaf to begin with.</span>
          val length = <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).length">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset0" title="Int">offset0</a>
          val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).elems">elems</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).length" title="Int">length</a><span class="delimiter">)</span>
          <span title="System.type">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).offset0" title="Int">offset0</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).elems" title="Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).length" title="Int">length</a><span class="delimiter">)</span>
          new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span>this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|</a> <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).elems" title="Array[scala.collection.immutable.HashSet[A]]">elems</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.union0(a131dc1a3c).rs" title="Int">rs</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      case _ =&gt; this
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0">intersect0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.HashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet[A]">that</span> if <span title="scala.collection.immutable.HashSet[A]">that</span> <span title="(x$1: AnyRef)Boolean">eq</span> this =&gt;
        <span class="comment">// shortcut for when that is this</span>
        <span class="comment">// this happens often for nodes deeper in the tree, especially when that and this share a common &quot;heritage&quot;</span>
        <span class="comment">// e.g. you have a large set A and do some small operations (adding and removing elements) to it to create B</span>
        <span class="comment">// then A and B will have the vast majority of nodes in common, and this eq check will allow not even looking</span>
        <span class="comment">// at these nodes!</span>
        this
      case <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;LeafHashSet" title="scala.collection.immutable.HashSet.LeafHashSet[A]">LeafHashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        <span class="comment">// when that is a leaf, we can switch to the simpler Tree/Leaf implementation</span>
        <span class="comment">// it is OK to swap the arguments because intersect is symmetric</span>
        <span class="comment">// (we can't do this in case of diff, which is not symmetric)</span>
        <span title="scala.collection.immutable.HashSet.LeafHashSet[A]">that</span>.<a href="#scala.collection.immutable;HashSet.intersect0" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">intersect0</a><span class="delimiter">(</span>this, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.level" title="Int">level</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0" title="Int">offset0</a><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.a">a</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm">abm</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.ai">ai</a> = <span title="Int(0)" class="int">0</span>

        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.b">b</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm">bbm</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.bi">bi</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// if the bitmasks do not overlap, the result is definitely empty so we can abort here</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
          return null

        <span class="comment">// fetch a new temporary array that is guaranteed to be big enough (32 elements)</span>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset">offset</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0" title="Int">offset0</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.rs">rs</a> = <span title="Int(0)" class="int">0</span>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.rbm">rbm</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// loop as long as there are bits left that are set in both abm and bbm</span>
        while <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.while$2" title="()Unit" class="delimiter">{</a>
          <span class="comment">// highest remaining bit in abm</span>
          val alsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.alsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// highest remaining bit in bbm</span>
          val blsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.blsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.blsb" title="Int">blsb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.sub1">sub1</a> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">a</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.ai" title="Int">ai</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.intersect0" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">intersect0</a><span class="delimiter">(</span><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">b</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bi" title="Int">bi</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset" title="Int">offset</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.sub1" title="scala.collection.immutable.HashSet[A]">sub1</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.sub1" title="scala.collection.immutable.HashSet[A]">sub1</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rbm" title="Int">rbm</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|=</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.alsb" title="Int">alsb</a>
              <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset" title="Int">offset</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.sub1" title="scala.collection.immutable.HashSet[A]">sub1</a>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.alsb" title="Int">alsb</a>;
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in bbm and increase the b index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.blsb" title="Int">blsb</a>;
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.unsignedCompare" title="(i: Int, j: Int)Boolean">unsignedCompare</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.blsb" title="Int">blsb</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// alsb is smaller than blsb, or alsb is set and blsb is 0</span>
            <span class="comment">// in any case, alsb is guaranteed to be set here!</span>
            <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.alsb" title="Int">alsb</a>;
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            <span class="comment">// blsb is smaller than alsb, or blsb is set and alsb is 0</span>
            <span class="comment">// in any case, blsb is guaranteed to be set here!</span>
            <span class="comment">// clear lowest remaining one bit in bbm and increase the b index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.blsb" title="Int">blsb</a>;
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rbm" title="Int">rbm</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// if the result bitmap is empty, the result is the empty set</span>
          null
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// if the result has the same number of elements as this, it must be identical to this,</span>
          <span class="comment">// so we might as well return this</span>
          this
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// if the result has the same number of elements as that, it must be identical to that,</span>
          <span class="comment">// so we might as well return that</span>
          <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          val length = <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.length">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0" title="Int">offset0</a>
          if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.length" title="Int">length</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0" title="Int">offset0</a><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0" title="Int">offset0</a><span class="delimiter">)</span>
          else <span class="delimiter">{</span>
            val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.intersect0.elems">elems</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.length" title="Int">length</a><span class="delimiter">)</span>
            <span title="System.type">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.offset0" title="Int">offset0</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.elems" title="Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.length" title="Int">length</a><span class="delimiter">)</span>
            new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rbm" title="Int">rbm</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.elems" title="Array[scala.collection.immutable.HashSet[A]]">elems</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.intersect0.rs" title="Int">rs</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      case _ =&gt; null
    <span class="delimiter">}</span>

    override private<span class="delimiter">[</span>immutable<span class="delimiter">]</span> def <a title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0">diff0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.HashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet[A]">that</span> if <span title="scala.collection.immutable.HashSet[A]">that</span> <span title="(x$1: AnyRef)Boolean">eq</span> this =&gt;
        <span class="comment">// shortcut for when that is this</span>
        <span class="comment">// this happens often for nodes deeper in the tree, especially when that and this share a common &quot;heritage&quot;</span>
        <span class="comment">// e.g. you have a large set A and do some small operations (adding and removing elements) to it to create B</span>
        <span class="comment">// then A and B will have the vast majority of nodes in common, and this eq check will allow not even looking</span>
        <span class="comment">// at these nodes!</span>
        null
      case <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0" title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]">removed0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>, <span title="scala.collection.immutable.HashSet.HashSet1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSet1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.level" title="Int">level</a><span class="delimiter">)</span>
      case <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.a">a</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.abm">abm</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.ai">ai</a> = <span title="Int(0)" class="int">0</span>

        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.b">b</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.bbm">bbm</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.bi">bi</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// fetch a new temporary array that is guaranteed to be big enough (32 elements)</span>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.offset">offset</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset0" title="Int">offset0</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.rs">rs</a> = <span title="Int(0)" class="int">0</span>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.rbm">rbm</a> = <span title="Int(0)" class="int">0</span>

        <span class="comment">// loop until there are no more bits in abm</span>
        while<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.abm" title="Int">abm</a><a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.while$3" title="()Unit" class="delimiter">{</a>
          <span class="comment">// highest remaining bit in abm</span>
          val alsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// highest remaining bit in bbm</span>
          val blsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.blsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.blsb" title="Int">blsb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <span title="scala.collection.immutable.HashSet[A]">sub1</span> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">a</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.ai" title="Int">ai</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.diff0" title="(that: scala.collection.immutable.HashSet[A], level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">diff0</a><span class="delimiter">(</span><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">b</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bi" title="Int">bi</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset" title="Int">offset</a><span class="delimiter">)</span>
            if <span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">sub1</span> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="scala.collection.immutable.HashSet[A]">sub1</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rbm" title="Int">rbm</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|=</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb" title="Int">alsb</a>
              <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset" title="Int">offset</a><span class="delimiter">)</span> = <span title="scala.collection.immutable.HashSet[A]">sub1</span>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb" title="Int">alsb</a>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in bbm and increase the b index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.blsb" title="Int">blsb</a>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.unsignedCompare" title="(i: Int, j: Int)Boolean">unsignedCompare</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.blsb" title="Int">blsb</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// alsb is smaller than blsb, or alsb is set and blsb is 0</span>
            <span class="comment">// in any case, alsb is guaranteed to be set here!</span>
            val <span title="scala.collection.immutable.HashSet[A]">sub1</span> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">a</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.ai" title="Int">ai</a><span class="delimiter">)</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="scala.collection.immutable.HashSet[A]">sub1</span>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rbm" title="Int">rbm</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|=</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb" title="Int">alsb</a>
            <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset" title="Int">offset</a><span class="delimiter">)</span> = <span title="scala.collection.immutable.HashSet[A]">sub1</span>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.alsb" title="Int">alsb</a>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            <span class="comment">// blsb is smaller than alsb, or blsb is set and alsb is 0</span>
            <span class="comment">// in any case, blsb is guaranteed to be set here!</span>
            <span class="comment">// clear lowest remaining one bit in bbm and increase the b index</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.blsb" title="Int">blsb</a>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rbm" title="Int">rbm</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          null
        <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// if the result has the same number of elements as this, it must be identical to this,</span>
          <span class="comment">// so we might as well return this</span>
          this
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          val length = <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.length">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset0" title="Int">offset0</a>
          if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.length" title="Int">length</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset0" title="Int">offset0</a><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
            <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset0" title="Int">offset0</a><span class="delimiter">)</span>
          else <span class="delimiter">{</span>
            val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.elems">elems</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.length" title="Int">length</a><span class="delimiter">)</span>
            <span title="System.type">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.offset0" title="Int">offset0</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.elems" title="Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.length" title="Int">length</a><span class="delimiter">)</span>
            new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rbm" title="Int">rbm</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.elems" title="Array[scala.collection.immutable.HashSet[A]]">elems</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.rs" title="Int">rs</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      case <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashSetCollision1" title="scala.collection.immutable.HashSet.HashSetCollision1[A]">HashSetCollision1</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
        <span class="comment">// we remove the elements using removed0 so we can use the fact that we know the hash of all elements</span>
        <span class="comment">// to be removed</span>
        @tailrec def <a title="(s: scala.collection.immutable.HashSet[A], r: scala.collection.immutable.ListSet[A])scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll">removeAll</a><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.s">s</a>:<a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="scala.collection.immutable.ListSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.r">r</a>:<a href="ListSet.scala.html#scala.collection.immutable;ListSet" title="scala.collection.immutable.ListSet[A]">ListSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
          if<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.r" title="scala.collection.immutable.ListSet[A]">r</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.isEmpty" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.s" title="scala.collection.immutable.HashSet[A]">s</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.s" title="scala.collection.immutable.HashSet[A]">s</a>
          else <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll" title="(s: scala.collection.immutable.HashSet[A], r: scala.collection.immutable.ListSet[A])scala.collection.immutable.HashSet[A]">removeAll</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.s" title="scala.collection.immutable.HashSet[A]">s</a>.<a href="#scala.collection.immutable;HashSet.removed0" title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]">removed0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.r" title="scala.collection.immutable.ListSet[A]">r</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.head" title="=&gt; A">head</a>, <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.hash" title="=&gt; Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.level" title="Int">level</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll.r" title="scala.collection.immutable.ListSet[A]">r</a>.<a href="ListSet.scala.html#scala.collection.immutable;ListSet.tail" title="=&gt; scala.collection.immutable.ListSet[A]">tail</a><span class="delimiter">)</span>
        <a href="#scala.collection.immutable.HashSet;HashTrieSet.diff0.removeAll" title="(s: scala.collection.immutable.HashSet[A], r: scala.collection.immutable.ListSet[A])scala.collection.immutable.HashSet[A]">removeAll</a><span class="delimiter">(</span>this, <span title="scala.collection.immutable.HashSet.HashSetCollision1[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashSetCollision1.ks" title="=&gt; scala.collection.immutable.ListSet[A]">ks</a><span class="delimiter">)</span>
      case _ =&gt; this
    <span class="delimiter">}</span>

    override def <a title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.removed0">removed0</a><span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.key">key</a>: <a href="#scala.collection.immutable.HashSet;HashTrieSet;A" title="A">A</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.hash">hash</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val index = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.hash" title="Int">hash</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.level" title="Int">level</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.index">&amp;</a> <span title="Int(31)" class="int">0x1f</span>
      val mask = <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.mask">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.index" title="Int">index</a><span class="delimiter">)</span>
      val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.offset">offset</a> = <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">bitCount</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.mask" title="Int">mask</a><a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.mask" title="Int">mask</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.sub">sub</a> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.offset" title="Int">offset</a><span class="delimiter">)</span>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew">subNew</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.removed0" title="(key: A, hash: Int, level: Int)scala.collection.immutable.HashSet[A]">removed0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.key" title="A">key</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.hash" title="Int">hash</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.sub" title="scala.collection.immutable.HashSet[A]">sub</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a><span class="delimiter">)</span> this
        else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
          val bitmapNew = <a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.removed0.bitmapNew">^</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.mask" title="Int">mask</a>
          if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.bitmapNew" title="Int">bitmapNew</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            val <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.offset" title="Int">offset</a><span class="delimiter">)</span>
            <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.offset" title="Int">offset</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            val sizeNew = <a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
            <span class="comment">// if we have only one child, which is not a HashTrieSet but a self-contained set like</span>
            <span class="comment">// HashSet1 or HashSetCollision1, return the child instead</span>
            if <span class="delimiter">(</span><span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elemsNew</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[_]">HashTrieSet</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elemsNew</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
            else
              new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.bitmapNew" title="Int">bitmapNew</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <span title="Int">sizeNew</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> else
            null
        <span class="delimiter">}</span> else if<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[_]">HashTrieSet</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          val <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala.Array" title="Array.type">Array</a>.<a href="../../Array.scala.html#scala.Array.copy" title="(src: AnyRef, srcPos: Int, dest: AnyRef, destPos: Int, length: Int)Unit">copy</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>, <span title="Int(0)" class="int">0</span>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">elemsNew</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.offset" title="Int">offset</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a>
          val sizeNew = <a href="#scala.collection.immutable.HashSet;HashTrieSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="Int">+</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.subNew" title="scala.collection.immutable.HashSet[A]">subNew</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.removed0.sub" title="scala.collection.immutable.HashSet[A]">sub</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a><span class="delimiter">)</span>
          new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>, <span title="Array[scala.collection.immutable.HashSet[A]]">elemsNew</span>, <span title="Int">sizeNew</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        this
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override def <a title="(that: scala.collection.immutable.HashSet[A], level: Int)Boolean" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0">subsetOf0</a><span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = if <span class="delimiter">(</span><span title="scala.collection.immutable.HashSet[A]">that</span> <span title="(x$1: AnyRef)Boolean">eq</span> this<span class="delimiter">)</span> true else <span title="scala.collection.immutable.HashSet[A]">that</span> match <span class="delimiter">{</span>
      case <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>: <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> if this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a> <a href="../../Int.scala.html#scala;Int.<=(5f58a84eb3)" title="(x: Int)Boolean">&lt;=</a> <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a> =&gt;
        <span class="comment">// create local mutable copies of members</span>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm">abm</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.a">a</a> = this.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.ai">ai</a> = <span title="Int(0)" class="int">0</span>
        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.b">b</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bbm">bbm</a> = <span title="scala.collection.immutable.HashSet.HashTrieSet[A]">that</span>.<a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bi">bi</a> = <span title="Int(0)" class="int">0</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bbm" title="Int">bbm</a><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// I tried rewriting this using tail recursion, but the generated java byte code was less than optimal</span>
          while<span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a><a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.while$4" title="()Unit" class="delimiter">{</a>
            <span class="comment">// highest remaining bit in abm</span>
            val alsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.alsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="comment">// highest remaining bit in bbm</span>
            val blsb = <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.blsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="comment">// if both trees have a bit set at the same position, we need to check the subtrees</span>
            if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.alsb" title="Int">alsb</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.blsb" title="Int">blsb</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// we are doing a comparison of a child of this with a child of that,</span>
              <span class="comment">// so we have to increase the level by 5 to keep track of how deep we are in the tree</span>
              if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">a</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.ai" title="Int">ai</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.subsetOf0" title="(that: scala.collection.immutable.HashSet[A], level: Int)Boolean">subsetOf0</a><span class="delimiter">(</span><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">b</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bi" title="Int">bi</a><span class="delimiter">)</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span><span class="delimiter">)</span>
                return false
              <span class="comment">// clear lowest remaining one bit in abm and increase the a index</span>
              <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.abm" title="Int">abm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.alsb" title="Int">alsb</a>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.ai" title="Int">ai</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <span class="comment">// clear lowermost remaining one bit in bbm and increase the b index</span>
            <span class="comment">// we must do this in any case</span>
            <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bbm" title="Int">bbm</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.blsb" title="Int">blsb</a>; <a href="#scala.collection.immutable.HashSet;HashTrieSet.subsetOf0.bi" title="Int">bi</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          true
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// the bitmap of this contains more one bits than the bitmap of that,</span>
          <span class="comment">// so this can not possibly be a subset of that</span>
          false
        <span class="delimiter">}</span>
      case _ =&gt;
        <span class="comment">// if the other set is a HashTrieSet but has less elements than this, it can not be a subset</span>
        <span class="comment">// if the other set is a HashSet1, we can not be a subset of it because we are a HashTrieSet with at least two children (see assertion)</span>
        <span class="comment">// if the other set is a HashSetCollision1, we can not be a subset of it because we are a HashTrieSet with at least two different hash codes</span>
        <span class="comment">// if the other set is the empty set, we are not a subset of it because we are not empty</span>
        false
    <span class="delimiter">}</span>

    override protected def <a title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.filter0">filter0</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.p">p</a>: A =&gt; Boolean, <a title="Boolean" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.negate">negate</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.level">level</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.buffer">buffer</a>: <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0">offset0</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="comment">// current offset</span>
      var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.offset">offset</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a>
      <span class="comment">// result size</span>
      var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.rs">rs</a> = <span title="Int(0)" class="int">0</span>
      <span class="comment">// bitmap for kept elems</span>
      var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.kept">kept</a> = <span title="Int(0)" class="int">0</span>
      <span class="comment">// loop over all elements</span>
      var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.i">i</a> = <span title="Int(0)" class="int">0</span>
      while <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.while$5" title="()Unit" class="delimiter">{</a>
        val <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.result">result</a> = <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.i" title="Int">i</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.filter0" title="(p: A =&gt; Boolean, negate: Boolean, level: Int, buffer: Array[scala.collection.immutable.HashSet[A]], offset0: Int)scala.collection.immutable.HashSet[A]">filter0</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.p" title="A =&gt; Boolean">p</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.negate" title="Boolean">negate</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.level" title="Int">level</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(5)" class="int">5</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset" title="Int">offset</a><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.result" title="scala.collection.immutable.HashSet[A]">result</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../Array.scala.html#scala;Array.update" title="(i: Int, x: scala.collection.immutable.HashSet[A])Unit">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset" title="Int">offset</a><span class="delimiter">)</span> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.result" title="scala.collection.immutable.HashSet[A]">result</a>
          <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="comment">// add the result size</span>
          <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.result" title="scala.collection.immutable.HashSet[A]">result</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
          <span class="comment">// mark the bit i as kept</span>
          <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.kept" title="Int">kept</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|=</a> <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.<<(1409840560)" title="(x: Int)Int">&lt;&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.i" title="Int">i</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// empty</span>
        null
      <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.rs" title="Int">rs</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.size0" title="=&gt; Int">size0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// unchanged</span>
        this
      <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a><span class="delimiter">)</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// leaf</span>
        <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">buffer</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        <span class="comment">// we have to return a HashTrieSet</span>
        val length = <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset" title="Int">offset</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.length">-</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a>
        val <a title="Array[scala.collection.immutable.HashSet[A]]" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.elems1">elems1</a> = new <a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.HashSet[A]]">Array</a><span class="delimiter">[</span>HashSet<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.length" title="Int">length</a><span class="delimiter">)</span>
        <span title="System.type">System</span>.<span title="(x$1: Any, x$2: Int, x$3: Any, x$4: Int, x$5: Int)Unit">arraycopy</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.buffer" title="Array[scala.collection.immutable.HashSet[A]]">buffer</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.offset0" title="Int">offset0</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.elems1" title="Array[scala.collection.immutable.HashSet[A]]">elems1</a>, <span title="Int(0)" class="int">0</span>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.length" title="Int">length</a><span class="delimiter">)</span>
        val <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.filter0.bitmap1">bitmap1</a> = if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.length" title="Int">length</a> <a href="../../Int.scala.html#scala;Int.==(5f58a84eb3)" title="(x: Int)Boolean">==</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// we can reuse the original bitmap</span>
          <a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <span class="comment">// calculate new bitmap by keeping just bits in the kept bitmask</span>
          <a href="#scala.collection.immutable.HashSet.keepBits" title="(bitmap: Int, keep: Int)Int">keepBits</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.bitmap" title="=&gt; Int">bitmap</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.kept" title="Int">kept</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        new <a href="#scala.collection.immutable.HashSet;HashTrieSet" title="scala.collection.immutable.HashSet.HashTrieSet[A]">HashTrieSet</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.bitmap1" title="Int">bitmap1</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.elems1" title="Array[scala.collection.immutable.HashSet[A]]">elems1</a>, <a href="#scala.collection.immutable.HashSet;HashTrieSet.filter0.rs" title="Int">rs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    override def <a title="=&gt; scala.collection.immutable.TrieIterator[A]" id="scala.collection.immutable.HashSet;HashTrieSet.iterator">iterator</a> = new <a title="&lt;$anon: scala.collection.immutable.TrieIterator[A]&gt; extends scala.collection.immutable.TrieIterator[A]" id="scala.collection.immutable.HashSet;HashTrieSet.iterator;$anon">TrieIterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Array[scala.collection.immutable.Iterable[A]]" class="delimiter">[</span><a href="../../Array.scala.html#scala;Array" title="Array[scala.collection.immutable.Iterable[A]]">Array</a><span class="delimiter">[</span>Iterable<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      final override def <a title="(cc: AnyRef)A" id="scala.collection.immutable.HashSet;HashTrieSet.iterator;$anon.getElem">getElem</a><span class="delimiter">(</span><a title="AnyRef" id="scala.collection.immutable.HashSet;HashTrieSet.iterator;$anon.getElem.cc">cc</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="#scala.collection.immutable.HashSet;HashTrieSet;A" title="A">A</a> = <a href="#scala.collection.immutable.HashSet;HashTrieSet.iterator;$anon.getElem.cc" title="AnyRef">cc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.collection.immutable.HashSet.HashSet1[A]" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;HashSet1" title="scala.collection.immutable.HashSet.HashSet1[A]">HashSet1</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="#scala.collection.immutable.HashSet;HashSet1.key" title="=&gt; A">key</a>
    <span class="delimiter">}</span>

    override def <a title="[U](f: A =&gt; U)Unit" id="scala.collection.immutable.HashSet;HashTrieSet.foreach">foreach</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;HashTrieSet.foreach;U">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; U" id="scala.collection.immutable.HashSet;HashTrieSet.foreach.f">f</a>: A =&gt;  U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
      var <a title="Int" id="scala.collection.immutable.HashSet;HashTrieSet.foreach.i">i</a> = <span title="Int(0)" class="int">0</span>
      while <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.foreach.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.immutable.HashSet;HashTrieSet.elems" title="=&gt; Array[scala.collection.immutable.HashSet[A]]">elems</a>.<a href="../../Array.scala.html#scala;Array.length" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet;HashTrieSet.foreach.while$6" title="()Unit" class="delimiter">{</a>
        <a href="../../Array.scala.html#scala;Array.apply" title="(i: Int)scala.collection.immutable.HashSet[A]">elems</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.foreach.i" title="Int">i</a><span class="delimiter">)</span>.<a href="#scala.collection.immutable;HashSet.foreach" title="(f: A =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;HashTrieSet.foreach.f" title="A =&gt; U">f</a><span class="delimiter">)</span>
        <a href="#scala.collection.immutable.HashSet;HashTrieSet.foreach.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Calculates the maximum buffer size given the maximum possible total size of the trie-based collection
   * @param size the maximum size of the collection to be generated
   * @return the maximum buffer size
   */</span>
  @inline private def <a title="(size: Int)Int" id="scala.collection.immutable.HashSet.bufferSize">bufferSize</a><span class="delimiter">(</span><a title="Int" id="scala.collection.immutable.HashSet.bufferSize.size">size</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.bufferSize.size" title="Int">size</a> <a href="../../Predef.scala.html#scala;LowPriorityImplicits.intWrapper" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">+</a> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span> <a href="../../runtime/RichInt.scala.html#scala.runtime;RichInt.min" title="(that: Int)Int">min</a> <span class="delimiter">(</span><span class="int">32</span> <span title="Int(224)">*</span> <span class="int">7</span><span class="delimiter">)</span>

  <span class="comment">/**
   * In many internal operations the empty set is represented as null for performance reasons. This method converts
   * null to the empty set for use in public methods
   */</span>
  @inline private def <a title="[A](s: scala.collection.immutable.HashSet[A])scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet.nullToEmpty">nullToEmpty</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet.nullToEmpty;A">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet.nullToEmpty.s">s</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = if <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.nullToEmpty.s" title="scala.collection.immutable.HashSet[A]">s</a> <span title="(x$1: AnyRef)Boolean">eq</span> null<span class="delimiter">)</span> <a href="../generic/ImmutableSetFactory.scala.html#scala.collection.generic;ImmutableSetFactory.empty" title="[A]=&gt; scala.collection.immutable.HashSet[A]">empty</a><span title="scala.collection.immutable.HashSet[A]" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet.nullToEmpty;A" title="A">A</a><span class="delimiter">]</span> else <a href="#scala.collection.immutable.HashSet.nullToEmpty.s" title="scala.collection.immutable.HashSet[A]">s</a>

  <span class="comment">/**
   * Utility method to keep a subset of all bits in a given bitmap
   *
   * Example
   *    bitmap (binary): 00000001000000010000000100000001
   *    keep (binary):                               1010
   *    result (binary): 00000001000000000000000100000000
   *
   * @param bitmap the bitmap
   * @param keep a bitmask containing which bits to keep
   * @return the original bitmap with all bits where keep is not 1 set to 0
   */</span>
  private def <a title="(bitmap: Int, keep: Int)Int" id="scala.collection.immutable.HashSet.keepBits">keepBits</a><span class="delimiter">(</span><a title="Int" id="scala.collection.immutable.HashSet.keepBits.bitmap">bitmap</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet.keepBits.keep">keep</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = <span class="delimiter">{</span>
    var <a title="Int" id="scala.collection.immutable.HashSet.keepBits.result">result</a> = <span title="Int(0)" class="int">0</span>
    var <a title="Int" id="scala.collection.immutable.HashSet.keepBits.current">current</a> = <a href="#scala.collection.immutable.HashSet.keepBits.bitmap" title="Int">bitmap</a>
    var <a title="Int" id="scala.collection.immutable.HashSet.keepBits.kept">kept</a> = <a href="#scala.collection.immutable.HashSet.keepBits.keep" title="Int">keep</a>
    while <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.keepBits.kept" title="Int">kept</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#scala.collection.immutable.HashSet.keepBits.while$7" title="()Unit" class="delimiter">{</a>
      <span class="comment">// lowest remaining bit in current</span>
      val lsb = <a href="#scala.collection.immutable.HashSet.keepBits.current" title="Int">current</a> <a href="../../Int.scala.html#scala;Int.^(1409840560)" title="Int" id="scala.collection.immutable.HashSet.keepBits.lsb">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.keepBits.current" title="Int">current</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.keepBits.current" title="Int">current</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.keepBits.kept" title="Int">kept</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// mark bit in result bitmap</span>
        <a href="#scala.collection.immutable.HashSet.keepBits.result" title="Int">result</a> <a href="../../Int.scala.html#scala;Int.|(1409840560)" title="(x: Int)Int">|=</a> <a href="#scala.collection.immutable.HashSet.keepBits.lsb" title="Int">lsb</a>
      <span class="delimiter">}</span>
      <span class="comment">// clear lowest remaining one bit in abm</span>
      <a href="#scala.collection.immutable.HashSet.keepBits.current" title="Int">current</a> <a href="../../Int.scala.html#scala;Int.&(1409840560)" title="(x: Int)Int">&amp;=</a> <a href="../../Int.scala.html#scala;Int.unary_~" title="=&gt; Int">~</a><a href="#scala.collection.immutable.HashSet.keepBits.lsb" title="Int">lsb</a>
      <span class="comment">// look at the next kept bit</span>
      <a href="#scala.collection.immutable.HashSet.keepBits.kept" title="Int">kept</a> <a href="../../Int.scala.html#scala;Int.>>>(1409840560)" title="(x: Int)Int">&gt;&gt;&gt;=</a> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <a href="#scala.collection.immutable.HashSet.keepBits.result" title="Int">result</a>
  <span class="delimiter">}</span>

  <span class="comment">// unsigned comparison</span>
  @inline private<span class="delimiter">[</span>this<span class="delimiter">]</span> def <a title="(i: Int, j: Int)Boolean" id="scala.collection.immutable.HashSet.unsignedCompare">unsignedCompare</a><span class="delimiter">(</span><a title="Int" id="scala.collection.immutable.HashSet.unsignedCompare.i">i</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="Int" id="scala.collection.immutable.HashSet.unsignedCompare.j">j</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.unsignedCompare.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.collection.immutable.HashSet.unsignedCompare.j" title="Int">j</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.^" title="(x: Boolean)Boolean">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.unsignedCompare.i" title="Int">i</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.^" title="(x: Boolean)Boolean">^</a> <span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet.unsignedCompare.j" title="Int">j</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

  @SerialVersionUID<span class="delimiter">(</span><span class="long">2L</span><span class="delimiter">)</span> private class <a title="class SerializationProxy[A, B] extends AnyRef with Serializable" id="scala.collection.immutable.HashSet;SerializationProxy">SerializationProxy</a><span class="delimiter">[</span><a title="" id="scala.collection.immutable.HashSet;SerializationProxy;A">A</a>,<a title="" id="scala.collection.immutable.HashSet;SerializationProxy;B">B</a><span class="delimiter">]</span><a href="#scala.collection.immutable.HashSet;SerializationProxy" title="scala.collection.immutable.HashSet.SerializationProxy[A,B]" class="delimiter">(</a>@transient private var <a title="scala.collection.immutable.HashSet[A]" id="scala.collection.immutable.HashSet;SerializationProxy.orig">orig</a>: <a href="#scala.collection.immutable;HashSet" title="scala.collection.immutable.HashSet[A]">HashSet</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> extends <a href="../../Serializable.scala.html#scala;Serializable" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    private def <a title="(out: java.io.ObjectOutputStream)Unit" id="scala.collection.immutable.HashSet;SerializationProxy.writeObject">writeObject</a><span class="delimiter">(</span><a title="java.io.ObjectOutputStream" id="scala.collection.immutable.HashSet;SerializationProxy.writeObject.out">out</a>: java.io.<span title="java.io.ObjectOutputStream">ObjectOutputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="Int" id="scala.collection.immutable.HashSet;SerializationProxy.writeObject.s">s</a> = <a href="#scala.collection.immutable.HashSet;SerializationProxy.orig" title="=&gt; scala.collection.immutable.HashSet[A]">orig</a>.<a href="#scala.collection.immutable;HashSet.size" title="=&gt; Int">size</a>
      <a href="#scala.collection.immutable.HashSet;SerializationProxy.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Int)Unit">writeInt</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;SerializationProxy.writeObject.s" title="Int">s</a><span class="delimiter">)</span>
      for <span class="delimiter">(</span><a title="A" id="scala.collection.immutable.HashSet;SerializationProxy.writeObject.$anonfun.e">e</a> &lt;- <a href="#scala.collection.immutable;HashSet.foreach" title="(f: A =&gt; Unit)Unit">orig</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.collection.immutable.HashSet;SerializationProxy.writeObject.out" title="java.io.ObjectOutputStream">out</a>.<span title="(x$1: Any)Unit">writeObject</span><span class="delimiter">(</span><a href="#scala.collection.immutable.HashSet;SerializationProxy.writeObject.$anonfun.e" title="A">e</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="(in: java.io.ObjectInputStream)Unit" id="scala.collection.immutable.HashSet;SerializationProxy.readObject">readObject</a><span class="delimiter">(</span><a title="java.io.ObjectInputStream" id="scala.collection.immutable.HashSet;SerializationProxy.readObject.in">in</a>: java.io.<span title="java.io.ObjectInputStream">ObjectInputStream</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.collection.immutable.HashSet;SerializationProxy.orig" title="(x$1: scala.collection.immutable.HashSet[A])Unit">orig</a> = <a href="../generic/ImmutableSetFactory.scala.html#scala.collection.generic;ImmutableSetFactory.empty" title="scala.collection.immutable.HashSet[A]">empty</a>
      val <a title="Int" id="scala.collection.immutable.HashSet;SerializationProxy.readObject.s">s</a> = <a href="#scala.collection.immutable.HashSet;SerializationProxy.readObject.in" title="java.io.ObjectInputStream">in</a>.<span title="()Int">readInt</span><span class="delimiter">(</span><span class="delimiter">)</span>
      for <span class="delimiter">(</span><a title="Int" id="scala.collection.immutable.HashSet;SerializationProxy.readObject.$anonfun.i">i</a> &lt;- <a href="../../Predef.scala.html#scala;LowPriorityImplicits.intWrapper" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="Range.scala.html#scala.collection.immutable;Range.foreach" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#scala.collection.immutable.HashSet;SerializationProxy.readObject.s" title="Int">s</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="A" id="scala.collection.immutable.HashSet;SerializationProxy.readObject.$anonfun.e">e</a> = <a href="#scala.collection.immutable.HashSet;SerializationProxy.readObject.in" title="java.io.ObjectInputStream">in</a>.<span title="()Object">readObject</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A" class="delimiter">[</span><a href="#scala.collection.immutable.HashSet;SerializationProxy;A" title="A">A</a><span class="delimiter">]</span>
        <a href="#scala.collection.immutable.HashSet;SerializationProxy.orig" title="(x$1: scala.collection.immutable.HashSet[A])Unit">orig</a> = <a href="#scala.collection.immutable.HashSet;SerializationProxy.orig" title="=&gt; scala.collection.immutable.HashSet[A]">orig</a> <a href="#scala.collection.immutable;HashSet.+(ddf5840810)" title="(e: A)scala.collection.immutable.HashSet[A]">+</a> <a href="#scala.collection.immutable.HashSet;SerializationProxy.readObject.$anonfun.e" title="A">e</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    private def <a title="()AnyRef" id="scala.collection.immutable.HashSet;SerializationProxy.readResolve">readResolve</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="AnyRef">AnyRef</span> = <a href="#scala.collection.immutable.HashSet;SerializationProxy.orig" title="=&gt; scala.collection.immutable.HashSet[A]">orig</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>


        </pre>
    </body>
</html>
