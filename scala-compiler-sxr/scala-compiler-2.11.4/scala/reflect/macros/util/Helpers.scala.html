<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/reflect/macros/util/Helpers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scala.reflect.macros
package util

import scala.tools.nsc.typechecker.Analyzer

trait <a title="trait Helpers extends AnyRef" id="scala.reflect.macros.util;Helpers">Helpers</a> <a href="../../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  self: Analyzer =&gt;

  import <a href="../../../tools/nsc/typechecker/Analyzer.scala.html#scala.tools.nsc.typechecker;Analyzer.global" title="=&gt; scala.tools.nsc.Global">global</a>._
  import <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Helpers.this.global.definitions.type">definitions</a>._

  <span class="comment">/** Transforms parameters lists of a macro impl.
   *  The `transform` function is invoked only for WeakTypeTag evidence parameters.
   *
   *  The transformer takes two arguments: a value parameter from the parameter list
   *  and a type parameter that is witnesses by the value parameter.
   *
   *  If the transformer returns a NoSymbol, the value parameter is not included from the result.
   *  If the transformer returns something else, this something else is included in the result instead of the value parameter.
   *
   *  Despite of being highly esoteric, this function significantly simplifies signature analysis.
   *  For example, it can be used to strip macroImpl.paramss from the evidences (necessary when checking def &lt;-&gt; impl correspondence)
   *  or to streamline creation of the list of macro arguments.
   */</span>
  def <a title="(macroImplRef: Helpers.this.global.Tree, transform: (Helpers.this.global.Symbol, Helpers.this.global.Symbol) =&gt; Helpers.this.global.Symbol)List[List[Helpers.this.global.Symbol]]" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams">transformTypeTagEvidenceParams</a><span class="delimiter">(</span><a title="Helpers.this.global.Tree" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.macroImplRef">macroImplRef</a>: <a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Helpers.this.global.Tree">Tree</a>, <a title="(Helpers.this.global.Symbol, Helpers.this.global.Symbol) =&gt; Helpers.this.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transform">transform</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; Symbol<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[List[Helpers.this.global.Symbol]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    val <a title="Helpers.this.global.definitions.RunDefinitions" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.runDefinitions">runDefinitions</a> = <a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; Helpers.this.global.Run">currentRun</a>.<a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>
    import <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.runDefinitions" title="Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>._

    val <a title="Helpers.this.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.MacroContextUniverse">MacroContextUniverse</a> = <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Helpers.this.global.definitions.type">definitions</a>.<a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.MacroContextUniverse" title="=&gt; Helpers.this.global.Symbol">MacroContextUniverse</a>
    val <a href="../../../tools/nsc/ast/Trees.scala.html#scala.tools.nsc.ast;Trees.treeInfo" title="Helpers.this.global.treeInfo.type">treeInfo</a>.<a href="../../internal/TreeInfo.scala.html#scala.reflect.internal;TreeInfo.MacroImplReference.unapply" title="(tree: Helpers.this.global.treeInfo.global.Tree)Option[(Boolean, Boolean, Helpers.this.global.treeInfo.global.Symbol, Helpers.this.global.treeInfo.global.Symbol, List[Helpers.this.global.treeInfo.global.Tree])]">MacroImplReference</a><a href="../../../Tuple2.scala.html#scala;Tuple2" title="(Boolean, Helpers.this.global.treeInfo.global.Symbol)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#scala;Tuple2._1" title="Boolean" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.isBundle">isBundle</a>, _, _, <a href="../../../Tuple2.scala.html#scala;Tuple2._2" title="Helpers.this.global.treeInfo.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.macroImpl">macroImpl</a>, _<span class="delimiter">)</span> = <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.macroImplRef" title="Helpers.this.global.Tree">macroImplRef</a>
    val <a title="List[List[Helpers.this.global.treeInfo.global.Symbol]]" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.paramss">paramss</a> = <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.macroImpl" title="Helpers.this.global.treeInfo.global.Symbol">macroImpl</a>.<a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.paramss" title="=&gt; List[List[Helpers.this.global.treeInfo.global.Symbol]]">paramss</a>
    val <a title="Helpers.this.global.treeInfo.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.ContextParam">ContextParam</a> = <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.paramss" title="List[List[Helpers.this.global.treeInfo.global.Symbol]]">paramss</a> match <span class="delimiter">{</span>
      case <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a> | _ <a href="../../../collection/SeqExtractors.scala.html#scala.collection.:+.unapply" title="(t: List[List[Helpers.this.global.treeInfo.global.Symbol]] with scala.collection.SeqLike[List[Helpers.this.global.treeInfo.global.Symbol],List[List[Helpers.this.global.treeInfo.global.Symbol]]])Option[(List[List[Helpers.this.global.treeInfo.global.Symbol]], List[Helpers.this.global.treeInfo.global.Symbol])]">:+</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>                                       =&gt; <a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Helpers.this.global.NoSymbol">NoSymbol</a> <span class="comment">// no implicit parameters in the signature =&gt; nothing to do</span>
      case _ if <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.isBundle" title="Boolean">isBundle</a>                                        =&gt; <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.macroImpl" title="Helpers.this.global.treeInfo.global.Symbol">macroImpl</a>.<a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Helpers.this.global.treeInfo.global.Symbol">owner</a>.<a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Helpers.this.global.treeInfo.global.Type">tpe</a> <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type.member" title="(name: Helpers.this.global.treeInfo.global.Name)Helpers.this.global.treeInfo.global.Symbol">member</a> <a href="../../internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="Helpers.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.c" title="=&gt; Helpers.this.global.nme.NameType">c</a>
      case <span class="delimiter">(</span><a title="Helpers.this.global.treeInfo.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.ContextParam.cparam">cparam</a> :: _<span class="delimiter">)</span> :: _ if <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.isMacroContextType" title="(tp: Helpers.this.global.Type)Boolean">isMacroContextType</a><span class="delimiter">(</span><a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.ContextParam.cparam" title="Helpers.this.global.treeInfo.global.Symbol">cparam</a>.<a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Helpers.this.global.treeInfo.global.Type">tpe</a><span class="delimiter">)</span> =&gt; <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.ContextParam.cparam" title="Helpers.this.global.treeInfo.global.Symbol">cparam</a>
      case _                                                    =&gt; <a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Helpers.this.global.NoSymbol">NoSymbol</a> <span class="comment">// no context parameter in the signature =&gt; nothing to do</span>
    <span class="delimiter">}</span>
    def <a title="(param: Helpers.this.global.Symbol)Helpers.this.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag">transformTag</a><span class="delimiter">(</span><a title="Helpers.this.global.Symbol" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag.param">param</a>: <a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Helpers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Helpers.this.global.Symbol">Symbol</a> = <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag.param" title="Helpers.this.global.Symbol">param</a>.<a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.tpe" title="=&gt; Helpers.this.global.Type">tpe</a>.<a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type.dealias" title="=&gt; Helpers.this.global.Type">dealias</a> match <span class="delimiter">{</span>
      case TypeRef<span class="delimiter">(</span>SingleType<span class="delimiter">(</span>SingleType<span class="delimiter">(</span>_, <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.ContextParam" title="Helpers.this.global.treeInfo.global.Symbol">ContextParam</a><span class="delimiter">)</span>, <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.MacroContextUniverse" title="Helpers.this.global.Symbol">MacroContextUniverse</a><span class="delimiter">)</span>, <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.WeakTypeTagClass" title="=&gt; Helpers.this.global.Symbol">WeakTypeTagClass</a>, <a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag.targ">targ</a> :: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> =&gt; <a href="../../../Function2.scala.html#scala;Function2.apply" title="(v1: Helpers.this.global.Symbol, v2: Helpers.this.global.Symbol)Helpers.this.global.Symbol">transform</a><span class="delimiter">(</span><a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag.param" title="Helpers.this.global.Symbol">param</a>, <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag.targ" title="Helpers.this.global.Type">targ</a>.<a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; Helpers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
      case _                                                                                                     =&gt; <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag.param" title="Helpers.this.global.Symbol">param</a>
    <span class="delimiter">}</span>
    <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.ContextParam" title="Helpers.this.global.treeInfo.global.Symbol">ContextParam</a> match <span class="delimiter">{</span>
      case <a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Helpers.this.global.NoSymbol">NoSymbol</a> =&gt; <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.paramss" title="List[List[Helpers.this.global.treeInfo.global.Symbol]]">paramss</a>
      case _        =&gt;
        <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.paramss" title="List[List[Helpers.this.global.treeInfo.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.last" title="=&gt; List[Helpers.this.global.treeInfo.global.Symbol]">last</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Helpers.this.global.treeInfo.global.Symbol =&gt; Helpers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Helpers.this.global.treeInfo.global.Symbol],Helpers.this.global.Symbol,List[Helpers.this.global.Symbol]])List[Helpers.this.global.Symbol]">map</a> <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformTag" title="(param: Helpers.this.global.Symbol)Helpers.this.global.Symbol">transformTag</a> <a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.filter" title="(p: Helpers.this.global.Symbol =&gt; Boolean)List[Helpers.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.$anonfun.x$2" title="Helpers.this.global.Symbol">_</a>.<a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.exists" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
          case <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>         =&gt; <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.paramss" title="List[List[Helpers.this.global.treeInfo.global.Symbol]]">paramss</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.init" title="=&gt; List[List[Helpers.this.global.treeInfo.global.Symbol]]">init</a>
          case <a title="List[Helpers.this.global.Symbol]" id="scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformed">transformed</a> =&gt; <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.paramss" title="List[List[Helpers.this.global.treeInfo.global.Symbol]]">paramss</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.init" title="=&gt; List[List[Helpers.this.global.treeInfo.global.Symbol]]">init</a> <a href="../../../collection/SeqLike.scala.html#scala.collection;SeqLike.:+" title="(elem: List[Helpers.this.global.treeInfo.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Helpers.this.global.treeInfo.global.Symbol]],List[Helpers.this.global.treeInfo.global.Symbol],List[List[Helpers.this.global.Symbol]]])List[List[Helpers.this.global.Symbol]]">:+</a> <a href="#scala.reflect.macros.util;Helpers.transformTypeTagEvidenceParams.transformed" title="List[Helpers.this.global.Symbol]">transformed</a>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Increases metalevel of the type, i.e. transforms:
   *    * T to c.Expr[T]
   *
   *  @see Metalevels.scala for more information and examples about metalevels
   */</span>
  def <a title="(pre: Helpers.this.global.Type, tp: Helpers.this.global.Type)Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.increaseMetalevel">increaseMetalevel</a><span class="delimiter">(</span><a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.increaseMetalevel.pre">pre</a>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a>, <a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.increaseMetalevel.tp">tp</a>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a> = <span class="delimiter">{</span>
    val <a title="Helpers.this.global.definitions.RunDefinitions" id="scala.reflect.macros.util;Helpers.increaseMetalevel.runDefinitions">runDefinitions</a> = <a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; Helpers.this.global.Run">currentRun</a>.<a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>
    import <a href="#scala.reflect.macros.util;Helpers.increaseMetalevel.runDefinitions" title="Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>._

    <a href="../../internal/Types.scala.html#scala.reflect.internal;Types.transparentShallowTransform" title="(container: Helpers.this.global.Symbol, tp: Helpers.this.global.Type)(f: Helpers.this.global.Type =&gt; Helpers.this.global.Type)Helpers.this.global.Type">transparentShallowTransform</a><span class="delimiter">(</span><a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.RepeatedParamClass" title="=&gt; Helpers.this.global.ClassSymbol">RepeatedParamClass</a>, <a href="#scala.reflect.macros.util;Helpers.increaseMetalevel.tp" title="Helpers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="#scala.reflect.macros.util;Helpers.increaseMetalevel.$anonfun.x0$1" title="Helpers.this.global.Type" class="delimiter">{</a>
      case <a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.increaseMetalevel.$anonfun.tp">tp</a> =&gt; <a href="../../internal/Types.scala.html#scala.reflect.internal;Types.typeRef" title="(pre: Helpers.this.global.Type, sym: Helpers.this.global.Symbol, args: List[Helpers.this.global.Type])Helpers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#scala.reflect.macros.util;Helpers.increaseMetalevel.pre" title="Helpers.this.global.Type">pre</a>, <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.MacroContextExprClass" title="=&gt; Helpers.this.global.Symbol">MacroContextExprClass</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: Helpers.this.global.Type*)List[Helpers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#scala.reflect.macros.util;Helpers.increaseMetalevel.$anonfun.tp" title="Helpers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Transforms c.Expr[T] types into c.Tree and leaves the rest unchanged.
   */</span>
  def <a title="(tp: Helpers.this.global.Type)Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.untypeMetalevel">untypeMetalevel</a><span class="delimiter">(</span><a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.untypeMetalevel.tp">tp</a>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a> = <span class="delimiter">{</span>
    val <a title="Helpers.this.global.definitions.RunDefinitions" id="scala.reflect.macros.util;Helpers.untypeMetalevel.runDefinitions">runDefinitions</a> = <a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; Helpers.this.global.Run">currentRun</a>.<a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>
    import <a href="#scala.reflect.macros.util;Helpers.untypeMetalevel.runDefinitions" title="Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>._

    <a href="../../internal/Types.scala.html#scala.reflect.internal;Types.transparentShallowTransform" title="(container: Helpers.this.global.Symbol, tp: Helpers.this.global.Type)(f: Helpers.this.global.Type =&gt; Helpers.this.global.Type)Helpers.this.global.Type">transparentShallowTransform</a><span class="delimiter">(</span><a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.RepeatedParamClass" title="=&gt; Helpers.this.global.ClassSymbol">RepeatedParamClass</a>, <a href="#scala.reflect.macros.util;Helpers.untypeMetalevel.tp" title="Helpers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="#scala.reflect.macros.util;Helpers.untypeMetalevel.$anonfun.x0$2" title="Helpers.this.global.Type" class="delimiter">{</a>
      case <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.ExprClassOf.unapply" title="(tp: Helpers.this.global.Type)Option[Helpers.this.global.Type]">ExprClassOf</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="../../internal/Types.scala.html#scala.reflect.internal;Types.typeRef" title="(pre: Helpers.this.global.Type, sym: Helpers.this.global.Symbol, args: List[Helpers.this.global.Type])Helpers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#scala.reflect.macros.util;Helpers.untypeMetalevel.tp" title="Helpers.this.global.Type">tp</a>.<a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type.prefix" title="=&gt; Helpers.this.global.Type">prefix</a>, <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.TreesTreeType" title="=&gt; Helpers.this.global.Symbol">TreesTreeType</a>, <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
      case <a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.untypeMetalevel.$anonfun.tp">tp</a> =&gt; <a href="#scala.reflect.macros.util;Helpers.untypeMetalevel.$anonfun.tp" title="Helpers.this.global.Type">tp</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Decreases metalevel of the type, i.e. transforms:
   *    * c.Expr[T] to T
   *    * Nothing to Nothing
   *    * Anything else to NoType
   *
   *  @see Metalevels.scala for more information and examples about metalevels
   */</span>
  def <a title="(tp: Helpers.this.global.Type)Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.decreaseMetalevel">decreaseMetalevel</a><span class="delimiter">(</span><a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.decreaseMetalevel.tp">tp</a>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Helpers.this.global.Type">Type</a> = <span class="delimiter">{</span>
    val <a title="Helpers.this.global.definitions.RunDefinitions" id="scala.reflect.macros.util;Helpers.decreaseMetalevel.runDefinitions">runDefinitions</a> = <a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; Helpers.this.global.Run">currentRun</a>.<a href="../../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>
    import <a href="#scala.reflect.macros.util;Helpers.decreaseMetalevel.runDefinitions" title="Helpers.this.global.definitions.RunDefinitions">runDefinitions</a>._
    <a href="../../internal/Types.scala.html#scala.reflect.internal;Types.transparentShallowTransform" title="(container: Helpers.this.global.Symbol, tp: Helpers.this.global.Type)(f: Helpers.this.global.Type =&gt; Helpers.this.global.Type)Helpers.this.global.Type">transparentShallowTransform</a><span class="delimiter">(</span><a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.RepeatedParamClass" title="=&gt; Helpers.this.global.ClassSymbol">RepeatedParamClass</a>, <a href="#scala.reflect.macros.util;Helpers.decreaseMetalevel.tp" title="Helpers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="#scala.reflect.macros.util;Helpers.decreaseMetalevel.$anonfun.x0$3" title="Helpers.this.global.Type" class="delimiter">{</a>
      case <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.ExprClassOf.unapply" title="(tp: Helpers.this.global.Type)Option[Helpers.this.global.Type]">ExprClassOf</a><span class="delimiter">(</span><a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.decreaseMetalevel.$anonfun.runtimeType">runtimeType</a><span class="delimiter">)</span> =&gt; <a href="#scala.reflect.macros.util;Helpers.decreaseMetalevel.$anonfun.runtimeType" title="Helpers.this.global.Type">runtimeType</a>
      <span class="comment">// special-casing Nothing here is a useful convention</span>
      <span class="comment">// that enables no-hassle prototyping with `macro ???` and `macro { ...; ??? }`</span>
      case <a title="Helpers.this.global.Type" id="scala.reflect.macros.util;Helpers.decreaseMetalevel.$anonfun.nothing">nothing</a> if <a href="#scala.reflect.macros.util;Helpers.decreaseMetalevel.$anonfun.nothing" title="Helpers.this.global.Type">nothing</a> <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type.=:=" title="(that: Helpers.this.global.Type)Boolean">=:=</a> <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.NothingTpe" title="=&gt; Helpers.this.global.Type">NothingTpe</a> =&gt; <a href="../../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.NothingTpe" title="=&gt; Helpers.this.global.Type">NothingTpe</a>
      case _ =&gt; <a href="../../internal/Types.scala.html#scala.reflect.internal;Types.NoType" title="Helpers.this.global.NoType.type">NoType</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
