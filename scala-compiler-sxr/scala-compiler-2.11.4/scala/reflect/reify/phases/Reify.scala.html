<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/reflect/reify/phases/Reify.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scala.reflect.reify
package phases

import scala.runtime.<a href="../../../runtime/ScalaRunTime.scala.html#scala.runtime.ScalaRunTime" title="scala.runtime.ScalaRunTime.type">ScalaRunTime</a>.isAnyVal
import scala.reflect.reify.codegen._

trait <a title="trait Reify extends AnyRef with scala.reflect.reify.codegen.GenSymbols with scala.reflect.reify.codegen.GenTypes with scala.reflect.reify.codegen.GenNames with scala.reflect.reify.codegen.GenTrees with scala.reflect.reify.codegen.GenAnnotationInfos with scala.reflect.reify.codegen.GenPositions with scala.reflect.reify.codegen.GenUtils" id="scala.reflect.reify.phases;Reify">Reify</a> extends <a href="../codegen/GenSymbols.scala.html#scala.reflect.reify.codegen;GenSymbols" title="scala.reflect.reify.codegen.GenSymbols">GenSymbols</a>
               with <a href="../codegen/GenTypes.scala.html#scala.reflect.reify.codegen;GenTypes" title="scala.reflect.reify.codegen.GenTypes">GenTypes</a>
               with <a href="../codegen/GenNames.scala.html#scala.reflect.reify.codegen;GenNames" title="scala.reflect.reify.codegen.GenNames">GenNames</a>
               with <a href="../codegen/GenTrees.scala.html#scala.reflect.reify.codegen;GenTrees" title="scala.reflect.reify.codegen.GenTrees">GenTrees</a>
               with <a href="../codegen/GenAnnotationInfos.scala.html#scala.reflect.reify.codegen;GenAnnotationInfos" title="scala.reflect.reify.codegen.GenAnnotationInfos">GenAnnotationInfos</a>
               with <a href="../codegen/GenPositions.scala.html#scala.reflect.reify.codegen;GenPositions" title="scala.reflect.reify.codegen.GenPositions">GenPositions</a>
               with <a href="../codegen/GenUtils.scala.html#scala.reflect.reify.codegen;GenUtils" title="scala.reflect.reify.codegen.GenUtils">GenUtils</a> <span class="delimiter">{</span>

  self: Reifier =&gt;

  import <a href="../Reifier.scala.html#scala.reflect.reify;Reifier.global" title="=&gt; scala.tools.nsc.Global">global</a>._

  private object <a title="Reify.this.reifyStack.type" id="scala.reflect.reify.phases;Reify.reifyStack">reifyStack</a> <a href="#scala.reflect.reify.phases;Reify.reifyStack" title="Reify.this.reifyStack.type" class="delimiter">{</a>
    def <a title="=&gt; List[Any]" id="scala.reflect.reify.phases;Reify.reifyStack.currents">currents</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Any]">List</a><span class="delimiter">[</span>Any<span class="delimiter">]</span> = <a href="../States.scala.html#scala.reflect.reify;States.state" title="=&gt; Reify.this.State">state</a>.<a href="../States.scala.html#scala.reflect.reify;States;State.reifyStack" title="=&gt; List[Any]">reifyStack</a>
    def <a title="(value: List[Any])Unit" id="scala.reflect.reify.phases;Reify.reifyStack.currents_=">currents_=</a><span class="delimiter">(</span><a title="List[Any]" id="scala.reflect.reify.phases;Reify.reifyStack.currents_=.value">value</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Any]">List</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="../States.scala.html#scala.reflect.reify;States.state" title="=&gt; Reify.this.State">state</a>.<a href="../States.scala.html#scala.reflect.reify;States;State.reifyStack_=" title="(x$1: List[Any])Unit">reifyStack</a> = <a href="#scala.reflect.reify.phases;Reify.reifyStack.currents_=.value" title="List[Any]">value</a>

    @inline final def <a title="[T](reifee: Any)(body: =&gt; T)T" id="scala.reflect.reify.phases;Reify.reifyStack.push">push</a><span class="delimiter">[</span><a title="" id="scala.reflect.reify.phases;Reify.reifyStack.push;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Any" id="scala.reflect.reify.phases;Reify.reifyStack.push.reifee">reifee</a>: <span title="Any">Any</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="scala.reflect.reify.phases;Reify.reifyStack.push.body">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#scala.reflect.reify.phases;Reify.reifyStack.push;T" title="T">T</a> = <span class="delimiter">{</span>
      <a href="#scala.reflect.reify.phases;Reify.reifyStack.currents_=" title="(value: List[Any])Unit">currents</a> <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: Any)List[Any]">::=</a> <a href="#scala.reflect.reify.phases;Reify.reifyStack.push.reifee" title="Any">reifee</a>
      try <a href="#scala.reflect.reify.phases;Reify.reifyStack.push.body" title="=&gt; T">body</a>
      finally <a href="#scala.reflect.reify.phases;Reify.reifyStack.currents_=" title="(value: List[Any])Unit">currents</a> = <a href="#scala.reflect.reify.phases;Reify.reifyStack.currents" title="=&gt; List[Any]">currents</a>.<a href="../../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; List[Any]">tail</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  def <a title="=&gt; List[Reify.this.global.Symbol]" id="scala.reflect.reify.phases;Reify.boundSymbolsInCallstack">boundSymbolsInCallstack</a> = <a href="../../internal/util/Collections.scala.html#scala.reflect.internal.util;Collections.flatCollect" title="(elems: List[Any])(pf: PartialFunction[Any,Traversable[Reify.this.global.Symbol]])List[Reify.this.global.Symbol]">flatCollect</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reifyStack" title="Reify.this.reifyStack.type">reifyStack</a>.<a href="#scala.reflect.reify.phases;Reify.reifyStack.currents" title="=&gt; List[Any]">currents</a><span class="delimiter">)</span> <a title="&lt;$anon: Any =&gt; List[Reify.this.global.Symbol]&gt; extends scala.runtime.AbstractPartialFunction[Any,List[Reify.this.global.Symbol]] with Serializable" id="scala.reflect.reify.phases;Reify.boundSymbolsInCallstack;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a>
    case ExistentialType<span class="delimiter">(</span><a title="List[Reify.this.global.Symbol]" id="scala.reflect.reify.phases;Reify.boundSymbolsInCallstack;$anonfun.isDefinedAt.quantified">quantified</a>, _<span class="delimiter">)</span> =&gt; <a href="#scala.reflect.reify.phases;Reify.boundSymbolsInCallstack;$anonfun.isDefinedAt.quantified" title="List[Reify.this.global.Symbol]">quantified</a>
    case PolyType<span class="delimiter">(</span><a title="List[Reify.this.global.Symbol]" id="scala.reflect.reify.phases;Reify.boundSymbolsInCallstack;$anonfun.isDefinedAt.typeParams">typeParams</a>, _<span class="delimiter">)</span> =&gt; <a href="#scala.reflect.reify.phases;Reify.boundSymbolsInCallstack;$anonfun.isDefinedAt.typeParams" title="List[Reify.this.global.Symbol]">typeParams</a>
  <span class="delimiter">}</span>
  def <a title="=&gt; Any" id="scala.reflect.reify.phases;Reify.current">current</a> = <a href="#scala.reflect.reify.phases;Reify.reifyStack" title="Reify.this.reifyStack.type">reifyStack</a>.<a href="#scala.reflect.reify.phases;Reify.reifyStack.currents" title="=&gt; List[Any]">currents</a>.<a href="../../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; Any">head</a>
  def <a title="=&gt; List[Any]" id="scala.reflect.reify.phases;Reify.currents">currents</a> = <a href="#scala.reflect.reify.phases;Reify.reifyStack" title="Reify.this.reifyStack.type">reifyStack</a>.<a href="#scala.reflect.reify.phases;Reify.reifyStack.currents" title="=&gt; List[Any]">currents</a>

  <span class="comment">/**
   *  Reifies any supported value.
   *  For internal use only, use `reified` instead.
   */</span>
  def <a title="(reifee: Any)Reify.this.global.Tree" id="scala.reflect.reify.phases;Reify.reify">reify</a><span class="delimiter">(</span><a title="Any" id="scala.reflect.reify.phases;Reify.reify.reifee">reifee</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Reify.this.global.Tree">Tree</a> = <a href="#scala.reflect.reify.phases;Reify.reifyStack" title="Reify.this.reifyStack.type">reifyStack</a>.<a href="#scala.reflect.reify.phases;Reify.reifyStack.push" title="(reifee: Any)(body: =&gt; Reify.this.global.Tree)Reify.this.global.Tree">push</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.reifee" title="Any">reifee</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.reifee" title="Any">reifee</a> match <span class="delimiter">{</span>
    <span class="comment">// before adding some case here, in global scope, please, consider</span>
    <span class="comment">// whether it can be localized like reifyAnnotationInfo or reifyScope</span>
    <span class="comment">// this will help reification stay as sane as possible</span>
    case <a title="Reify.this.global.Symbol" id="scala.reflect.reify.phases;Reify.reify.sym">sym</a>: <a href="../../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Reify.this.global.Symbol">Symbol</a>              =&gt; <a href="../codegen/GenSymbols.scala.html#scala.reflect.reify.codegen;GenSymbols.reifySymRef" title="(sym: Reify.this.global.Symbol)Reify.this.global.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.sym" title="Reify.this.global.Symbol">sym</a><span class="delimiter">)</span>
    case <a title="Reify.this.global.Type" id="scala.reflect.reify.phases;Reify.reify.tpe">tpe</a>: <a href="../../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Reify.this.global.Type">Type</a>                =&gt; <a href="../codegen/GenTypes.scala.html#scala.reflect.reify.codegen;GenTypes.reifyType" title="(tpe: Reify.this.global.Type)Reify.this.global.Tree">reifyType</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.tpe" title="Reify.this.global.Type">tpe</a><span class="delimiter">)</span>
    case <a title="Reify.this.global.Name" id="scala.reflect.reify.phases;Reify.reify.name">name</a>: <a href="../../internal/Names.scala.html#scala.reflect.internal;Names;Name" title="Reify.this.global.Name">Name</a>               =&gt; <a href="../codegen/GenNames.scala.html#scala.reflect.reify.codegen;GenNames.reifyName" title="(name: Reify.this.global.Name)Reify.this.global.Tree">reifyName</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.name" title="Reify.this.global.Name">name</a><span class="delimiter">)</span>
    case <a title="Reify.this.global.Tree" id="scala.reflect.reify.phases;Reify.reify.tree">tree</a>: <a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Reify.this.global.Tree">Tree</a>               =&gt; <a href="../codegen/GenTrees.scala.html#scala.reflect.reify.codegen;GenTrees.reifyTree" title="(tree: Reify.this.global.Tree)Reify.this.global.Tree">reifyTree</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.tree" title="Reify.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="comment">// disabled because this is a very special case that I plan to remove later</span>
    <span class="comment">// why do I dislike annotations? see comments to `reifyAnnotationInfo`</span>
    <span class="comment">// case ann: AnnotationInfo      =&gt; reifyAnnotationInfo(ann)</span>
    case <a title="Reify.this.global.Position" id="scala.reflect.reify.phases;Reify.reify.pos">pos</a>: <a href="../../internal/util/Position.scala.html#scala.reflect.internal.util;Position" title="Reify.this.global.Position">Position</a>            =&gt; <a href="../codegen/GenPositions.scala.html#scala.reflect.reify.codegen;GenPositions.reifyPosition" title="(pos: Reify.this.global.Position)Reify.this.global.Tree">reifyPosition</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.pos" title="Reify.this.global.Position">pos</a><span class="delimiter">)</span>
    case <a title="Reify.this.global.Modifiers" id="scala.reflect.reify.phases;Reify.reify.mods">mods</a>: global.<a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Modifiers" title="Reify.this.global.Modifiers">Modifiers</a>   =&gt; <a href="../codegen/GenTrees.scala.html#scala.reflect.reify.codegen;GenTrees.reifyModifiers" title="(m: Reify.this.global.Modifiers)Reify.this.global.Tree">reifyModifiers</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.mods" title="Reify.this.global.Modifiers">mods</a><span class="delimiter">)</span>
    case <a title="List[_]" id="scala.reflect.reify.phases;Reify.reify.xs">xs</a>: <a href="../../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span>              =&gt; <a href="../codegen/GenUtils.scala.html#scala.reflect.reify.codegen;GenUtils.reifyList" title="(xs: List[Any])Reify.this.global.Tree">reifyList</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.xs" title="List[_]">xs</a><span class="delimiter">)</span>
    case <a title="String" id="scala.reflect.reify.phases;Reify.reify.s">s</a>: <span title="String">String</span>                =&gt; <a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: Reify.this.global.Constant)Reify.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../internal/Constants.scala.html#scala.reflect.internal;Constants;Constant" title="(value: Any)Reify.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.s" title="String">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case <a title="Any" id="scala.reflect.reify.phases;Reify.reify.v">v</a> if <a href="../../../runtime/ScalaRunTime.scala.html#scala.runtime.ScalaRunTime.isAnyVal" title="(x: Any)Boolean">isAnyVal</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.v" title="Any">v</a><span class="delimiter">)</span>         =&gt; <a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: Reify.this.global.Constant)Reify.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../internal/Constants.scala.html#scala.reflect.internal;Constants;Constant" title="(value: Any)Reify.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.v" title="Any">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
    case null                     =&gt; <a href="../../internal/Trees.scala.html#scala.reflect.internal;Trees;Literal" title="(value: Reify.this.global.Constant)Reify.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../internal/Constants.scala.html#scala.reflect.internal;Constants;Constant" title="(value: Any)Reify.this.global.Constant">Constant</a><span class="delimiter">(</span>null<span class="delimiter">)</span><span class="delimiter">)</span>
    case _                        =&gt;
      throw new <a href="../../../package.scala.html#scala.package;Error" title="Error">Error</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;reifee %s of type %s is not supported&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.reflect.reify.phases;Reify.reify.reifee" title="Any">reifee</a>, <a href="#scala.reflect.reify.phases;Reify.reify.reifee" title="Any">reifee</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
