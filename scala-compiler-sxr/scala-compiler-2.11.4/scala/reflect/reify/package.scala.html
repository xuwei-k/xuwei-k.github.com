<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/reflect/reify/package.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scala
package reflect

import scala.reflect.macros.ReificationException
import scala.tools.nsc.Global

package object <a title="scala.reflect.reify.package.type" id="scala.reflect.reify.package">reify</a> <a href="#scala.reflect.reify.package" title="scala.reflect.reify.package.type" class="delimiter">{</a>
  private def <a title="(global1: scala.tools.nsc.Global)(typer: global1.analyzer.Typer, universe: global1.Tree, mirror: global1.Tree, reifee: Any, concrete: Boolean)scala.reflect.reify.Reifier{val global: global1.type}" id="scala.reflect.reify.package.mkReifier">mkReifier</a><span class="delimiter">(</span><a title="scala.tools.nsc.Global" id="scala.reflect.reify.package.mkReifier.global1">global1</a>: <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="global1.analyzer.Typer" id="scala.reflect.reify.package.mkReifier.typer">typer</a>: global1.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="global1.analyzer.Typer">Typer</a>, <a title="global1.Tree" id="scala.reflect.reify.package.mkReifier.universe">universe</a>: global1.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global1.Tree">Tree</a>, <a title="global1.Tree" id="scala.reflect.reify.package.mkReifier.mirror">mirror</a>: global1.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global1.Tree">Tree</a>, <a title="Any" id="scala.reflect.reify.package.mkReifier.reifee">reifee</a>: <span title="Any">Any</span>, <a title="Boolean" id="scala.reflect.reify.package.mkReifier.concrete">concrete</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#scala.reflect.reify.package;<refinement>" title="&lt;refinement of scala.reflect.reify.Reifier&gt; extends scala.reflect.reify.Reifier">Reifier</a> <span class="delimiter">{</span> val global: global1.type <span class="delimiter">}</span> = <span class="delimiter">{</span>
    val <a title="typer.type" id="scala.reflect.reify.package.mkReifier.typer1">typer1</a>: typer.type = <a href="#scala.reflect.reify.package.mkReifier.typer" title="global1.analyzer.Typer">typer</a>
    val <a title="universe.type" id="scala.reflect.reify.package.mkReifier.universe1">universe1</a>: universe.type = <a href="#scala.reflect.reify.package.mkReifier.universe" title="global1.Tree">universe</a>
    val <a title="mirror.type" id="scala.reflect.reify.package.mkReifier.mirror1">mirror1</a>: mirror.type = <a href="#scala.reflect.reify.package.mkReifier.mirror" title="global1.Tree">mirror</a>
    val <a title="Any" id="scala.reflect.reify.package.mkReifier.reifee1">reifee1</a> = <a href="#scala.reflect.reify.package.mkReifier.reifee" title="Any">reifee</a>
    val <a title="Boolean" id="scala.reflect.reify.package.mkReifier.concrete1">concrete1</a> = <a href="#scala.reflect.reify.package.mkReifier.concrete" title="Boolean">concrete</a>

    new <a title="&lt;$anon: scala.reflect.reify.Reifier&gt; extends scala.reflect.reify.Reifier" id="scala.reflect.reify.package.mkReifier;$anon" class="delimiter">{</a>
      val <a title="global1.type" id="scala.reflect.reify.package.mkReifier;$anon.global">global</a>: global1.type = <a href="#scala.reflect.reify.package.mkReifier.global1" title="scala.tools.nsc.Global">global1</a>
      val <a title="typer.type" id="scala.reflect.reify.package.mkReifier;$anon.typer">typer</a> = <a href="#scala.reflect.reify.package.mkReifier.typer1" title="typer.type">typer1</a>
      val <a title="universe.type" id="scala.reflect.reify.package.mkReifier;$anon.universe">universe</a> = <a href="#scala.reflect.reify.package.mkReifier.universe1" title="universe.type">universe1</a>
      val <a title="mirror.type" id="scala.reflect.reify.package.mkReifier;$anon.mirror">mirror</a> = <a href="#scala.reflect.reify.package.mkReifier.mirror1" title="mirror.type">mirror1</a>
      val <a title="Any" id="scala.reflect.reify.package.mkReifier;$anon.reifee">reifee</a> = <a href="#scala.reflect.reify.package.mkReifier.reifee1" title="Any">reifee1</a>
      val <a title="Boolean" id="scala.reflect.reify.package.mkReifier;$anon.concrete">concrete</a> = <a href="#scala.reflect.reify.package.mkReifier.concrete1" title="Boolean">concrete1</a>
    <span class="delimiter">}</span> with <a href="Reifier.scala.html#scala.reflect.reify;Reifier" title="scala.reflect.reify.Reifier">Reifier</a>
  <span class="delimiter">}</span>

  private<span class="delimiter">[</span>reify<span class="delimiter">]</span> def <a title="(global: scala.tools.nsc.Global)(universe: global.Tree, typer0: global.analyzer.Typer)global.Tree" id="scala.reflect.reify.package.mkDefaultMirrorRef">mkDefaultMirrorRef</a><span class="delimiter">(</span><a title="scala.tools.nsc.Global" id="scala.reflect.reify.package.mkDefaultMirrorRef.global">global</a>: <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="global.Tree" id="scala.reflect.reify.package.mkDefaultMirrorRef.universe">universe</a>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a>, <a title="global.analyzer.Typer" id="scala.reflect.reify.package.mkDefaultMirrorRef.typer0">typer0</a>: global.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="global.analyzer.Typer">Typer</a><span class="delimiter">)</span>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a> = <span class="delimiter">{</span>
    import <a href="#scala.reflect.reify.package.mkDefaultMirrorRef.global" title="scala.tools.nsc.Global">global</a>._
    import <a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="global.definitions.type">definitions</a>.JavaUniverseClass

    val <a title="global.Tree" id="scala.reflect.reify.package.mkDefaultMirrorRef.enclosingErasure">enclosingErasure</a> = <span class="delimiter">{</span>
      val <a title="global.Tree" id="scala.reflect.reify.package.mkDefaultMirrorRef.enclosingErasure.rClassTree">rClassTree</a> = <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass" title="(global: scala.tools.nsc.Global)(typer0: global.analyzer.Typer)global.Tree">reifyEnclosingRuntimeClass</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.typer0" title="global.analyzer.Typer">typer0</a><span class="delimiter">)</span>
      <span class="comment">// HACK around SI-6259</span>
      <span class="comment">// If we're in the constructor of an object or others don't have easy access to `this`, we have no good way to grab</span>
      <span class="comment">// the class of that object.  Instead, we construct an anonymous class and grab his class file, assuming</span>
      <span class="comment">// this is enough to get the correct class loadeer for the class we *want* a mirror for, the object itself.</span>
      <a href="#scala.reflect.reify.package.mkDefaultMirrorRef.enclosingErasure.rClassTree" title="global.Tree">rClassTree</a> <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;TreeContextApiImpl.orElse" title="(alt: =&gt; global.Tree)global.Tree">orElse</a> <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: global.Tree, args: List[global.Tree])global.Apply">Apply</a><span class="delimiter">(</span><a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: global.Tree, name: global.Name)global.Select">Select</a><span class="delimiter">(</span><a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.gen" title="global.gen.type">gen</a>.<a href="../../tools/nsc/ast/TreeGen.scala.html#scala.tools.nsc.ast;TreeGen.mkAnonymousNew" title="(stats: List[global.gen.global.Tree])global.gen.global.Tree">mkAnonymousNew</a><span class="delimiter">(</span><a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>, <a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.sn" title="=&gt; global.SymbolNames">sn</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;SymbolNames.GetClass" title="=&gt; global.TermName">GetClass</a><span class="delimiter">)</span>, <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">// JavaUniverse is defined in scala-reflect.jar, so we must be very careful in case someone reifies stuff having only scala-library.jar on the classpath</span>
    val isJavaUniverse = <a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.JavaUniverseClass" title="=&gt; global.Symbol">JavaUniverseClass</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../internal/Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; global.NoSymbol">NoSymbol</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="Boolean" id="scala.reflect.reify.package.mkDefaultMirrorRef.isJavaUniverse">&amp;&amp;</a> <a href="#scala.reflect.reify.package.mkDefaultMirrorRef.universe" title="global.Tree">universe</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.tpe" title="=&gt; global.Type">tpe</a> <a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type.<:<" title="(that: global.Type)Boolean">&lt;:&lt;</a> <a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.JavaUniverseClass" title="=&gt; global.Symbol">JavaUniverseClass</a>.<a href="../internal/Symbols.scala.html#scala.reflect.internal;Symbols;SymbolContextApiImpl.toTypeConstructor" title="=&gt; global.Type">toTypeConstructor</a>
    if <span class="delimiter">(</span><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.isJavaUniverse" title="Boolean">isJavaUniverse</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.enclosingErasure" title="global.Tree">enclosingErasure</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Apply" title="(fun: global.Tree, args: List[global.Tree])global.Apply">Apply</a><span class="delimiter">(</span><a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: global.Tree, name: global.Name)global.Select">Select</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.universe" title="global.Tree">universe</a>, <a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.runtimeMirror" title="=&gt; global.nme.NameType">runtimeMirror</a><span class="delimiter">)</span>, <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: global.Select*)List[global.Select]">List</a><span class="delimiter">(</span><a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: global.Tree, name: global.Name)global.Select">Select</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.enclosingErasure" title="global.Tree">enclosingErasure</a>, <a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.sn" title="=&gt; global.SymbolNames">sn</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;SymbolNames.GetClassLoader" title="=&gt; global.TermName">GetClassLoader</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    else <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: global.Tree, name: global.Name)global.Select">Select</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.mkDefaultMirrorRef.universe" title="global.Tree">universe</a>, <a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.rootMirror" title="=&gt; global.nme.NameType">rootMirror</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(global: scala.tools.nsc.Global)(typer: global.analyzer.Typer, universe: global.Tree, mirror: global.Tree, tree: global.Tree)global.Tree" id="scala.reflect.reify.package.reifyTree">reifyTree</a><span class="delimiter">(</span><a title="scala.tools.nsc.Global" id="scala.reflect.reify.package.reifyTree.global">global</a>: <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="global.analyzer.Typer" id="scala.reflect.reify.package.reifyTree.typer">typer</a>: global.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="global.analyzer.Typer">Typer</a>, <a title="global.Tree" id="scala.reflect.reify.package.reifyTree.universe">universe</a>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a>, <a title="global.Tree" id="scala.reflect.reify.package.reifyTree.mirror">mirror</a>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a>, <a title="global.Tree" id="scala.reflect.reify.package.reifyTree.tree">tree</a>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a><span class="delimiter">)</span>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a> =
    <a href="#scala.reflect.reify.package.mkReifier" title="(global1: scala.tools.nsc.Global)(typer: global1.analyzer.Typer, universe: global1.Tree, mirror: global1.Tree, reifee: Any, concrete: Boolean)scala.reflect.reify.Reifier{val global: global1.type}">mkReifier</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyTree.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyTree.typer" title="global.analyzer.Typer">typer</a>, <a href="#scala.reflect.reify.package.reifyTree.universe" title="global.Tree">universe</a>, <a href="#scala.reflect.reify.package.reifyTree.mirror" title="global.Tree">mirror</a>, <a href="#scala.reflect.reify.package.reifyTree.tree" title="global.Tree">tree</a>, concrete = false<span class="delimiter">)</span>.<a href="Reifier.scala.html#scala.reflect.reify;Reifier.reification" title="(=&gt; _4428.global.Tree) forSome { val _4428: scala.reflect.reify.Reifier{val global: global.type} }">reification</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Tree" class="delimiter">[</span>global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a><span class="delimiter">]</span>

  def <a title="(global: scala.tools.nsc.Global)(typer: global.analyzer.Typer, universe: global.Tree, mirror: global.Tree, tpe: global.Type, concrete: Boolean)global.Tree" id="scala.reflect.reify.package.reifyType">reifyType</a><span class="delimiter">(</span><a title="scala.tools.nsc.Global" id="scala.reflect.reify.package.reifyType$default$6.global">global</a>: <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="global.analyzer.Typer" id="scala.reflect.reify.package.reifyType.typer">typer</a>: global.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="global.analyzer.Typer">Typer</a>,<a title="global.Tree" id="scala.reflect.reify.package.reifyType.universe">universe</a>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a>, <a title="global.Tree" id="scala.reflect.reify.package.reifyType.mirror">mirror</a>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a>, <a title="global.Type" id="scala.reflect.reify.package.reifyType.tpe">tpe</a>: global.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="global.Type">Type</a>, <a title="Boolean" id="scala.reflect.reify.package.reifyType$default$6">concrete</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false<span class="delimiter">)</span>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a> =
    <a href="#scala.reflect.reify.package.mkReifier" title="(global1: scala.tools.nsc.Global)(typer: global1.analyzer.Typer, universe: global1.Tree, mirror: global1.Tree, reifee: Any, concrete: Boolean)scala.reflect.reify.Reifier{val global: global1.type}">mkReifier</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyType$default$6.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyType.typer" title="global.analyzer.Typer">typer</a>, <a href="#scala.reflect.reify.package.reifyType.universe" title="global.Tree">universe</a>, <a href="#scala.reflect.reify.package.reifyType.mirror" title="global.Tree">mirror</a>, <a href="#scala.reflect.reify.package.reifyType.tpe" title="global.Type">tpe</a>, concrete = <a href="#scala.reflect.reify.package.reifyType$default$6" title="Boolean">concrete</a><span class="delimiter">)</span>.<a href="Reifier.scala.html#scala.reflect.reify;Reifier.reification" title="(=&gt; _4429.global.Tree) forSome { val _4429: scala.reflect.reify.Reifier{val global: global.type} }">reification</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="global.Tree" class="delimiter">[</span>global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a><span class="delimiter">]</span>

  def <a title="(global: scala.tools.nsc.Global)(typer0: global.analyzer.Typer, tpe0: global.Type, concrete: Boolean)global.Tree" id="scala.reflect.reify.package.reifyRuntimeClass">reifyRuntimeClass</a><span class="delimiter">(</span><a title="scala.tools.nsc.Global" id="scala.reflect.reify.package.reifyRuntimeClass$default$4.global">global</a>: <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="global.analyzer.Typer" id="scala.reflect.reify.package.reifyRuntimeClass.typer0">typer0</a>: global.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="global.analyzer.Typer">Typer</a>, <a title="global.Type" id="scala.reflect.reify.package.reifyRuntimeClass.tpe0">tpe0</a>: global.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="global.Type">Type</a>, <a title="Boolean" id="scala.reflect.reify.package.reifyRuntimeClass$default$4">concrete</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = true<span class="delimiter">)</span>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a> = <span class="delimiter">{</span>
    import <a href="#scala.reflect.reify.package.reifyRuntimeClass$default$4.global" title="scala.tools.nsc.Global">global</a>._
    import <a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="global.definitions.type">definitions</a>._
    import <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.analyzer" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: global.type}">analyzer</a>.enclosingMacroPosition

    <span class="comment">// SI-7375</span>
    val <a title="global.Type" id="scala.reflect.reify.package.reifyRuntimeClass.tpe">tpe</a> = <a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe0" title="global.Type">tpe0</a>.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type.dealiasWiden" title="=&gt; global.Type">dealiasWiden</a>

    if <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a>.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;TypeApiImpl.isSpliceable" title="=&gt; Boolean">isSpliceable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="global.analyzer.global.Tree" id="scala.reflect.reify.package.reifyRuntimeClass.classTagInScope">classTagInScope</a> = <a href="#scala.reflect.reify.package.reifyRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>.<a href="../../tools/nsc/typechecker/Tags.scala.html#scala.tools.nsc.typechecker;Tags;Tag.resolveClassTag" title="(pos: global.analyzer.global.Position, tp: global.analyzer.global.Type, allowMaterialization: Boolean)global.analyzer.global.Tree">resolveClassTag</a><span class="delimiter">(</span><a href="../../tools/nsc/typechecker/Macros.scala.html#scala.tools.nsc.typechecker;Macros.enclosingMacroPosition" title="=&gt; scala.reflect.internal.util.Position">enclosingMacroPosition</a>, <a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a>, allowMaterialization = false<span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.reify.package.reifyRuntimeClass.classTagInScope" title="global.analyzer.global.Tree">classTagInScope</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> return <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: global.Tree, name: global.Name)global.Select">Select</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.classTagInScope" title="global.analyzer.global.Tree">classTagInScope</a>, <a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.nme" title="global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;TermNames.runtimeClass" title="=&gt; global.nme.NameType">runtimeClass</a><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass$default$4" title="Boolean">concrete</a><span class="delimiter">)</span> throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;ReificationException" title="scala.reflect.macros.ReificationException">ReificationException</a><span class="delimiter">(</span><a href="../../tools/nsc/typechecker/Macros.scala.html#scala.tools.nsc.typechecker;Macros.enclosingMacroPosition" title="=&gt; scala.reflect.internal.util.Position">enclosingMacroPosition</a>, <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;tpe %s is an unresolved spliceable type&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a>.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type.dealiasWiden" title="=&gt; global.Type">dealiasWiden</a> match <span class="delimiter">{</span>
      case TypeRef<span class="delimiter">(</span>_, <a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.ArrayClass" title="=&gt; global.ClassSymbol">ArrayClass</a>, <a title="global.Type" id="scala.reflect.reify.package.reifyRuntimeClass.componentTpe">componentTpe</a> :: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> =&gt;
        val <a title="global.Tree" id="scala.reflect.reify.package.reifyRuntimeClass.componentErasure">componentErasure</a> = <a href="#scala.reflect.reify.package.reifyRuntimeClass" title="(global: scala.tools.nsc.Global)(typer0: global.analyzer.Typer, tpe0: global.Type, concrete: Boolean)global.Tree">reifyRuntimeClass</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass$default$4.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>, <a href="#scala.reflect.reify.package.reifyRuntimeClass.componentTpe" title="global.Type">componentTpe</a>, <a href="#scala.reflect.reify.package.reifyRuntimeClass$default$4" title="Boolean">concrete</a><span class="delimiter">)</span>
        <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.gen" title="global.gen.type">gen</a>.<a href="../internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkMethodCall(bf4b8a7bd3)" title="(method: global.gen.global.Symbol, args: List[global.gen.global.Tree])global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; global.Run">currentRun</a>.<a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; global.definitions.RunDefinitions">runDefinitions</a>.<a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.arrayClassMethod" title="=&gt; global.TermSymbol">arrayClassMethod</a>, <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: global.Tree*)List[global.Tree]">List</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.componentErasure" title="global.Tree">componentErasure</a><span class="delimiter">)</span><span class="delimiter">)</span>
      case _ =&gt;
        var <a title="global.Type" id="scala.reflect.reify.package.reifyRuntimeClass.erasure">erasure</a> = <a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a>.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;TypeApiImpl.erasure" title="=&gt; global.Type">erasure</a>
        if <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a>.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type.typeSymbol" title="=&gt; global.Symbol">typeSymbol</a>.<a href="../internal/Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isDerivedValueClass" title="=&gt; Boolean">isDerivedValueClass</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.reflect.reify.package.reifyRuntimeClass$default$4.global" title="scala.tools.nsc.Global">global</a>.<a href="../internal/SymbolTable.scala.html#scala.reflect.internal;SymbolTable.phase" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../internal/Phase.scala.html#scala.reflect.internal;Phase.id" title="=&gt; Int">id</a> <a href="../../Int.scala.html#scala;Int.<(5f58a84eb3)" title="(x: Int)Boolean">&lt;</a> <a href="#scala.reflect.reify.package.reifyRuntimeClass$default$4.global" title="scala.tools.nsc.Global">global</a>.<a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; global.Run">currentRun</a>.<a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.erasurePhase" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../internal/Phase.scala.html#scala.reflect.internal;Phase.id" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="#scala.reflect.reify.package.reifyRuntimeClass.erasure" title="global.Type">erasure</a> = <a href="#scala.reflect.reify.package.reifyRuntimeClass.tpe" title="global.Type">tpe</a>
        <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.gen" title="global.gen.type">gen</a>.<a href="../internal/TreeGen.scala.html#scala.reflect.internal;TreeGen.mkNullaryCall" title="(method: global.gen.global.Symbol, targs: List[global.gen.global.Type])global.gen.global.Tree">mkNullaryCall</a><span class="delimiter">(</span><a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.currentRun" title="=&gt; global.Run">currentRun</a>.<a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global;Run.runDefinitions" title="=&gt; global.definitions.RunDefinitions">runDefinitions</a>.<a href="../internal/Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass;RunDefinitions.Predef_classOf" title="=&gt; global.TermSymbol">Predef_classOf</a>, <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.List.apply" title="(xs: global.Type*)List[global.Type]">List</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyRuntimeClass.erasure" title="global.Type">erasure</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// Note: If  current context is inside the constructor of an object or otherwise not inside</span>
  <span class="comment">// a class/object body, this will return an EmptyTree.</span>
  def <a title="(global: scala.tools.nsc.Global)(typer0: global.analyzer.Typer)global.Tree" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass">reifyEnclosingRuntimeClass</a><span class="delimiter">(</span><a title="scala.tools.nsc.Global" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.global">global</a>: <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global" title="scala.tools.nsc.Global">Global</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="global.analyzer.Typer" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.typer0">typer0</a>: global.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer" title="global.analyzer.Typer">Typer</a><span class="delimiter">)</span>: global.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="global.Tree">Tree</a> = <span class="delimiter">{</span>
    import <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.global" title="scala.tools.nsc.Global">global</a>._
    def <a title="=&gt; Boolean" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.isThisInScope">isThisInScope</a> = <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; global.analyzer.Context">context</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.enclosingContextChain" title="=&gt; List[global.analyzer.Context]">enclosingContextChain</a> <a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: global.analyzer.Context =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isThisInScope.$anonfun.x$1" title="global.analyzer.Context">_</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.tree" title="=&gt; global.analyzer.global.Tree">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;ImplDef" title="global.ImplDef">ImplDef</a><span class="delimiter">]</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isThisInScope" title="=&gt; Boolean">isThisInScope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      val enclosingClasses = <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; global.analyzer.Context">context</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.enclosingContextChain" title="=&gt; List[global.analyzer.Context]">enclosingContextChain</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: global.analyzer.Context =&gt; global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[global.analyzer.Context],global.analyzer.global.Tree,List[global.analyzer.global.Tree]])List[global.analyzer.global.Tree]">map</a> <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.enclosingClasses.$anonfun.x$2" title="global.analyzer.Context">_</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.tree" title="=&gt; global.analyzer.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.collect" title="List[global.ClassDef]" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.enclosingClasses">collect</a> <a title="&lt;$anon: global.analyzer.global.Tree =&gt; global.ClassDef&gt; extends scala.runtime.AbstractPartialFunction[global.analyzer.global.Tree,global.ClassDef] with Serializable" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.enclosingClasses;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="global.ClassDef" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.enclosingClasses;$anonfun.isDefinedAt.classDef">classDef</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;ClassDef" title="global.ClassDef">ClassDef</a> =&gt; <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.enclosingClasses;$anonfun.isDefinedAt.classDef" title="global.ClassDef">classDef</a> <span class="delimiter">}</span>
      val classInScope = <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.enclosingClasses" title="List[global.ClassDef]">enclosingClasses</a>.<a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.headOption" title="=&gt; Option[global.ClassDef]">headOption</a> <a href="../../Option.scala.html#scala;Option.getOrElse" title="&lt;refinement of global.Tree&gt; extends global.Tree with Serializable" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.classInScope">getOrElse</a> <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="global.EmptyTree.type">EmptyTree</a>
      def <a title="=&gt; Boolean" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis">isUnsafeToUseThis</a> = <span class="delimiter">{</span>
        val isInsideConstructorSuper = <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; global.analyzer.Context">context</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.enclosingContextChain" title="=&gt; List[global.analyzer.Context]">enclosingContextChain</a> <a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="Boolean" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideConstructorSuper">exists</a> <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideConstructorSuper.$anonfun.x$3" title="global.analyzer.Context">_</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.inSelfSuperCall" title="=&gt; Boolean">inSelfSuperCall</a><span class="delimiter">)</span>
        <span class="comment">// Note: It's ok to check for any object here, because if we were in an enclosing class, we'd already have returned its classOf</span>
        val isInsideObject = <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>.<a href="../../tools/nsc/typechecker/Typers.scala.html#scala.tools.nsc.typechecker;Typers;Typer.context" title="=&gt; global.analyzer.Context">context</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.enclosingContextChain" title="=&gt; List[global.analyzer.Context]">enclosingContextChain</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: global.analyzer.Context =&gt; global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[global.analyzer.Context],global.analyzer.global.Tree,List[global.analyzer.global.Tree]])List[global.analyzer.global.Tree]">map</a> <span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideObject.$anonfun.x$4" title="global.analyzer.Context">_</a>.<a href="../../tools/nsc/typechecker/Contexts.scala.html#scala.tools.nsc.typechecker;Contexts;Context.tree" title="=&gt; global.analyzer.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="Boolean" id="scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideObject">exists</a> <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideObject.$anonfun.x0$1" title="Boolean" class="delimiter">{</a>	case _: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;ModuleDef" title="global.ModuleDef">ModuleDef</a> =&gt; true; case _ =&gt; false <span class="delimiter">}</span>
        <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideConstructorSuper" title="Boolean">isInsideConstructorSuper</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis.isInsideObject" title="Boolean">isInsideObject</a>
      <span class="delimiter">}</span>
      if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.classInScope" title="&lt;refinement of global.Tree&gt; extends global.Tree with Serializable">classInScope</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#scala.reflect.reify.package.reifyRuntimeClass" title="(global: scala.tools.nsc.Global)(typer0: global.analyzer.Typer, tpe0: global.Type, concrete: Boolean)global.Tree">reifyRuntimeClass</a><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.global" title="scala.tools.nsc.Global">global</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.typer0" title="global.analyzer.Typer">typer0</a>, <a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.classInScope" title="&lt;refinement of global.Tree&gt; extends global.Tree with Serializable">classInScope</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; global.Symbol">symbol</a>.<a href="../internal/Symbols.scala.html#scala.reflect.internal;Symbols;SymbolContextApiImpl.toTypeConstructor" title="=&gt; global.Type">toTypeConstructor</a>, concrete = true<span class="delimiter">)</span>
      else if<span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.reify.package.reifyEnclosingRuntimeClass.isUnsafeToUseThis" title="=&gt; Boolean">isUnsafeToUseThis</a><span class="delimiter">)</span> <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Select" title="(qualifier: global.Tree, name: global.Name)global.Select">Select</a><span class="delimiter">(</span><a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;This" title="(qual: global.TypeName)global.This">This</a><span class="delimiter">(</span><a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.tpnme" title="global.tpnme.type">tpnme</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;CommonNames.EMPTY" title="=&gt; global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span>, <a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames.sn" title="=&gt; global.SymbolNames">sn</a>.<a href="../internal/StdNames.scala.html#scala.reflect.internal;StdNames;SymbolNames.GetClass" title="=&gt; global.TermName">GetClass</a><span class="delimiter">)</span>
      else <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="global.EmptyTree.type">EmptyTree</a>
    <span class="delimiter">}</span> else <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees.EmptyTree" title="global.EmptyTree.type">EmptyTree</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
