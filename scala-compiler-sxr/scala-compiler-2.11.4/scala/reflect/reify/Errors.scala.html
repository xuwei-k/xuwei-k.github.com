<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/reflect/reify/Errors.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
package scala.reflect.reify

import scala.reflect.macros.ReificationException
import scala.reflect.macros.UnexpectedReificationException

trait <a title="trait Errors extends AnyRef" id="scala.reflect.reify;Errors">Errors</a> <a href="../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  self: Reifier =&gt;

  import <a href="Reifier.scala.html#scala.reflect.reify;Reifier.global" title="=&gt; scala.tools.nsc.Global">global</a>._

  def <a title="=&gt; Errors.this.global.Position" id="scala.reflect.reify;Errors.defaultErrorPosition">defaultErrorPosition</a> = <span class="delimiter">{</span>
    val stack = <a href="phases/Reify.scala.html#scala.reflect.reify.phases;Reify.currents" title="=&gt; List[Any]">currents</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.collect" title="List[Errors.this.global.Position]" id="scala.reflect.reify;Errors.defaultErrorPosition.stack">collect</a> <a title="&lt;$anon: Any =&gt; Errors.this.global.Position&gt; extends scala.runtime.AbstractPartialFunction[Any,Errors.this.global.Position] with Serializable" id="scala.reflect.reify;Errors.defaultErrorPosition.stack;$anonfun.isDefinedAt.defaultCase$" class="delimiter">{</a> case <a title="Errors.this.global.Tree" id="scala.reflect.reify;Errors.defaultErrorPosition.stack;$anonfun.isDefinedAt.t">t</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Errors.this.global.Tree">Tree</a> if <a href="#scala.reflect.reify;Errors.defaultErrorPosition.stack;$anonfun.isDefinedAt.t" title="Errors.this.global.Tree">t</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Errors.this.global.Position">pos</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../internal/Positions.scala.html#scala.reflect.internal;Positions.NoPosition" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a> =&gt; <a href="#scala.reflect.reify;Errors.defaultErrorPosition.stack;$anonfun.isDefinedAt.t" title="Errors.this.global.Tree">t</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Errors.this.global.Position">pos</a> <span class="delimiter">}</span>
    <a href="#scala.reflect.reify;Errors.defaultErrorPosition.stack" title="List[Errors.this.global.Position]">stack</a>.<a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.headOption" title="=&gt; Option[Errors.this.global.Position]">headOption</a> <a href="../../Option.scala.html#scala;Option.getOrElse" title="(default: =&gt; Errors.this.global.Position)Errors.this.global.Position">getOrElse</a> <a href="../../tools/nsc/Global.scala.html#scala.tools.nsc;Global.analyzer" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: Errors.this.global.type}">analyzer</a>.<a href="../../tools/nsc/typechecker/Macros.scala.html#scala.tools.nsc.typechecker;Macros.enclosingMacroPosition" title="=&gt; scala.reflect.internal.util.Position">enclosingMacroPosition</a>
  <span class="delimiter">}</span>

  <span class="comment">// expected errors: these can happen if the user casually writes whatever.reify(...)</span>
  <span class="comment">// hence we don't crash here, but nicely report a typechecking error and bail out asap</span>

  def <a title="(tpe: Errors.this.global.Type)Nothing" id="scala.reflect.reify;Errors.CannotReifyType">CannotReifyType</a><span class="delimiter">(</span><a title="Errors.this.global.Type" id="scala.reflect.reify;Errors.CannotReifyType.tpe">tpe</a>: <a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Errors.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyType.msg">msg</a> = <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;implementation restriction: cannot reify type %s (%s)&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.CannotReifyType.tpe" title="Errors.this.global.Type">tpe</a>, <a href="#scala.reflect.reify;Errors.CannotReifyType.tpe" title="Errors.this.global.Type">tpe</a>.<a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type.kind" title="=&gt; String">kind</a><span class="delimiter">)</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;ReificationException" title="scala.reflect.macros.ReificationException">ReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotReifyType.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(ctt: Errors.this.global.CompoundTypeTree)Nothing" id="scala.reflect.reify;Errors.CannotReifyCompoundTypeTreeWithNonEmptyBody">CannotReifyCompoundTypeTreeWithNonEmptyBody</a><span class="delimiter">(</span><a title="Errors.this.global.CompoundTypeTree" id="scala.reflect.reify;Errors.CannotReifyCompoundTypeTreeWithNonEmptyBody.ctt">ctt</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;CompoundTypeTree" title="Errors.this.global.CompoundTypeTree">CompoundTypeTree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyCompoundTypeTreeWithNonEmptyBody.msg">msg</a> = <span title="String(&quot;implementation restriction: cannot reify refinement type trees with non-empty bodies&quot;)" class="string">&quot;implementation restriction: cannot reify refinement type trees with non-empty bodies&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;ReificationException" title="scala.reflect.macros.ReificationException">ReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.CannotReifyCompoundTypeTreeWithNonEmptyBody.ctt" title="Errors.this.global.CompoundTypeTree">ctt</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Errors.this.global.Position">pos</a>, <a href="#scala.reflect.reify;Errors.CannotReifyCompoundTypeTreeWithNonEmptyBody.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(details: Any)Nothing" id="scala.reflect.reify;Errors.CannotReifyWeakType">CannotReifyWeakType</a><span class="delimiter">(</span><a title="Any" id="scala.reflect.reify;Errors.CannotReifyWeakType.details">details</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val msg = <span title="String(&quot;cannot create a TypeTag&quot;)" class="string">&quot;cannot create a TypeTag&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.reflect.reify;Errors.CannotReifyWeakType.details" title="Any">details</a> <a title="String" id="scala.reflect.reify;Errors.CannotReifyWeakType.msg">+</a> <span title="String(&quot;: use WeakTypeTag instead&quot;)" class="string">&quot;: use WeakTypeTag instead&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;ReificationException" title="scala.reflect.macros.ReificationException">ReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotReifyWeakType.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(tpe: Errors.this.global.Type, manifestInScope: Errors.this.global.Tree)Nothing" id="scala.reflect.reify;Errors.CannotConvertManifestToTagWithoutScalaReflect">CannotConvertManifestToTagWithoutScalaReflect</a><span class="delimiter">(</span><a title="Errors.this.global.Type" id="scala.reflect.reify;Errors.CannotConvertManifestToTagWithoutScalaReflect.tpe">tpe</a>: <a href="../internal/Types.scala.html#scala.reflect.internal;Types;Type" title="Errors.this.global.Type">Type</a>, <a title="Errors.this.global.Tree" id="scala.reflect.reify;Errors.CannotConvertManifestToTagWithoutScalaReflect.manifestInScope">manifestInScope</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Errors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotConvertManifestToTagWithoutScalaReflect.msg">msg</a> =
      <a href="../internal/util/StripMarginInterpolator.scala.html#scala.reflect.internal.util;StripMarginInterpolator.sm" title="(args: Any*)String">sm</a>&quot;&quot;&quot;<span title="String(&quot;to create a type tag here, it is necessary to interoperate with the manifest `&quot;)">to create a type tag here, it is necessary to interoperate with the manifest `$</span><a href="#scala.reflect.reify;Errors.CannotConvertManifestToTagWithoutScalaReflect.manifestInScope" title="Errors.this.global.Tree">manifestInScope</a><span title="String(&quot;` in scope.\n          |however manifest -&gt; typetag conversion requires Scala reflection, which is not present on the classpath.\n          |to proceed put scala-reflect.jar on your compilation classpath and recompile.&quot;)" class="string">` in scope.
          |however manifest -&gt; typetag conversion requires Scala reflection, which is not present on the classpath.
          |to proceed put scala-reflect.jar on your compilation classpath and recompile.&quot;&quot;&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;ReificationException" title="scala.reflect.macros.ReificationException">ReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotConvertManifestToTagWithoutScalaReflect.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(tree: Errors.this.global.Tree)Nothing" id="scala.reflect.reify;Errors.CannotReifyRuntimeSplice">CannotReifyRuntimeSplice</a><span class="delimiter">(</span><a title="Errors.this.global.Tree" id="scala.reflect.reify;Errors.CannotReifyRuntimeSplice.tree">tree</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Errors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyRuntimeSplice.msg">msg</a> = <span title="String(&quot;\n      |the splice cannot be resolved statically, which means there is a cross-stage evaluation involved.\n      |cross-stage evaluations need to be invoked explicitly, so we\'re showing you this error.\n      |if you\'re sure this is not an oversight, add scala-compiler.jar to the classpath,\n      |import `scala.tools.reflect.Eval` and call `&lt;your expr&gt;.eval` instead.&quot;)" class="string">&quot;&quot;&quot;
      |the splice cannot be resolved statically, which means there is a cross-stage evaluation involved.
      |cross-stage evaluations need to be invoked explicitly, so we're showing you this error.
      |if you're sure this is not an oversight, add scala-compiler.jar to the classpath,
      |import `scala.tools.reflect.Eval` and call `&lt;your expr&gt;.eval` instead.&quot;&quot;&quot;</span>.<a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">trim</a>.<a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.stripMargin(3bf7c90be7)" title="=&gt; String">stripMargin</a>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;ReificationException" title="scala.reflect.macros.ReificationException">ReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.CannotReifyRuntimeSplice.tree" title="Errors.this.global.Tree">tree</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Errors.this.global.Position">pos</a>, <a href="#scala.reflect.reify;Errors.CannotReifyRuntimeSplice.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// unexpected errors: these can never happen under normal conditions unless there's a bug in the compiler (or in a compiler plugin or in a macro)</span>
  <span class="comment">// hence, we fail fast and loudly and don't care about being nice - in this situation noone will appreciate our quiet nicety</span>

  def <a title="(prefix: Errors.this.global.Tree)Nothing" id="scala.reflect.reify;Errors.CannotReifyUntypedPrefix">CannotReifyUntypedPrefix</a><span class="delimiter">(</span><a title="Errors.this.global.Tree" id="scala.reflect.reify;Errors.CannotReifyUntypedPrefix.prefix">prefix</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Errors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyUntypedPrefix.msg">msg</a> = <span title="String(&quot;internal error: untyped prefixes are not supported, consider typechecking the prefix before passing it to the reifier&quot;)" class="string">&quot;internal error: untyped prefixes are not supported, consider typechecking the prefix before passing it to the reifier&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;UnexpectedReificationException" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotReifyUntypedPrefix.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(reifee: Any)Nothing" id="scala.reflect.reify;Errors.CannotReifyUntypedReifee">CannotReifyUntypedReifee</a><span class="delimiter">(</span><a title="Any" id="scala.reflect.reify;Errors.CannotReifyUntypedReifee.reifee">reifee</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyUntypedReifee.msg">msg</a> = <span title="String(&quot;internal error: untyped trees are not supported, consider typechecking the reifee before passing it to the reifier&quot;)" class="string">&quot;internal error: untyped trees are not supported, consider typechecking the reifee before passing it to the reifier&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;UnexpectedReificationException" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotReifyUntypedReifee.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(prefix: Errors.this.global.Tree)Nothing" id="scala.reflect.reify;Errors.CannotReifyErroneousPrefix">CannotReifyErroneousPrefix</a><span class="delimiter">(</span><a title="Errors.this.global.Tree" id="scala.reflect.reify;Errors.CannotReifyErroneousPrefix.prefix">prefix</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Errors.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyErroneousPrefix.msg">msg</a> = <span title="String(&quot;internal error: erroneous prefixes are not supported, make sure that your prefix has typechecked successfully before passing it to the reifier&quot;)" class="string">&quot;internal error: erroneous prefixes are not supported, make sure that your prefix has typechecked successfully before passing it to the reifier&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;UnexpectedReificationException" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotReifyErroneousPrefix.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(reifee: Any)Nothing" id="scala.reflect.reify;Errors.CannotReifyErroneousReifee">CannotReifyErroneousReifee</a><span class="delimiter">(</span><a title="Any" id="scala.reflect.reify;Errors.CannotReifyErroneousReifee.reifee">reifee</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyErroneousReifee.msg">msg</a> = <span title="String(&quot;internal error: erroneous reifees are not supported, make sure that your reifee has typechecked successfully before passing it to the reifier&quot;)" class="string">&quot;internal error: erroneous reifees are not supported, make sure that your reifee has typechecked successfully before passing it to the reifier&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;UnexpectedReificationException" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.defaultErrorPosition" title="=&gt; Errors.this.global.Position">defaultErrorPosition</a>, <a href="#scala.reflect.reify;Errors.CannotReifyErroneousReifee.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(tree: Errors.this.global.ValDef)Nothing" id="scala.reflect.reify;Errors.CannotReifyInvalidLazyVal">CannotReifyInvalidLazyVal</a><span class="delimiter">(</span><a title="Errors.this.global.ValDef" id="scala.reflect.reify;Errors.CannotReifyInvalidLazyVal.tree">tree</a>: <a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;ValDef" title="Errors.this.global.ValDef">ValDef</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    val <a title="String" id="scala.reflect.reify;Errors.CannotReifyInvalidLazyVal.msg">msg</a> = <span title="String(&quot;internal error: could not reconstruct original lazy val due to missing accessor&quot;)" class="string">&quot;internal error: could not reconstruct original lazy val due to missing accessor&quot;</span>
    throw new <a href="../macros/Reifiers.scala.html#scala.reflect.macros;UnexpectedReificationException" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a><span class="delimiter">(</span><a href="#scala.reflect.reify;Errors.CannotReifyInvalidLazyVal.tree" title="Errors.this.global.ValDef">tree</a>.<a href="../internal/Trees.scala.html#scala.reflect.internal;Trees;Tree.pos" title="=&gt; Errors.this.global.Position">pos</a>, <a href="#scala.reflect.reify;Errors.CannotReifyInvalidLazyVal.msg" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
