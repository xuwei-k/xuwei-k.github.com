<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/reflect/internal/Variances.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

package scala
package reflect
package internal

import <a href="Variance.scala.html#scala.reflect.internal.Variance" title="scala.reflect.internal.Variance.type">Variance</a>._
import scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
import scala.annotation.tailrec

<span class="comment">/** See comments at scala.reflect.internal.Variance.
 */</span>
trait <a title="trait Variances extends AnyRef" id="scala.reflect.internal;Variances">Variances</a> <a href="../../Unit.scala.html#scala;Unit" title="Unit" class="delimiter">{</a>
  self: SymbolTable =&gt;

  <span class="comment">/** Used in Refchecks.
   *  TODO - eliminate duplication with varianceInType
   */</span>
  class <a title="class VarianceValidator extends Variances.this.Traverser" id="scala.reflect.internal;Variances;VarianceValidator">VarianceValidator</a> extends <a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser" title="Variances.this.Traverser">Traverser</a> <span class="delimiter">{</span>
    private val <a title="scala.collection.mutable.HashSet[Variances.this.Symbol]" id="scala.reflect.internal;Variances;VarianceValidator.escapedLocals">escapedLocals</a> = mutable.<a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: Variances.this.Symbol*)scala.collection.mutable.HashSet[Variances.this.Symbol]" class="delimiter">[</span><a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="comment">// A flag for when we're in a refinement, meaning method parameter types</span>
    <span class="comment">// need to be checked.</span>
    private var <a title="Boolean" id="scala.reflect.internal;Variances;VarianceValidator.inRefinement_=">inRefinement</a> = false
    @inline private def <a title="(body: =&gt; Variances.this.Type)Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.withinRefinement">withinRefinement</a><span class="delimiter">(</span><a title="=&gt; Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.withinRefinement.body">body</a>: =&gt; Type<span class="delimiter">)</span>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a> = <span class="delimiter">{</span>
      val <a title="Boolean" id="scala.reflect.internal;Variances;VarianceValidator.withinRefinement.saved">saved</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.inRefinement_=" title="=&gt; Boolean">inRefinement</a>
      <a href="#scala.reflect.internal;Variances;VarianceValidator.inRefinement_=" title="(x$1: Boolean)Unit">inRefinement</a> = true
      try <a href="#scala.reflect.internal;Variances;VarianceValidator.withinRefinement.body" title="=&gt; Variances.this.Type">body</a> finally <a href="#scala.reflect.internal;Variances;VarianceValidator.inRefinement_=" title="(x$1: Boolean)Unit">inRefinement</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.withinRefinement.saved" title="Boolean">saved</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Is every symbol in the owner chain between `site` and the owner of `sym`
     *  either a term symbol or private[this]? If not, add `sym` to the set of
     *  esacped locals.
     *  @pre  sym.isLocalToThis
     */</span>
    @tailrec final def <a title="(sym: Variances.this.Symbol, site: Variances.this.Symbol)Unit" id="scala.reflect.internal;Variances;VarianceValidator.checkForEscape">checkForEscape</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.checkForEscape.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site">site</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site" title="Variances.this.Symbol">site</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site" title="Variances.this.Symbol">site</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.moduleClass" title="=&gt; Variances.this.Symbol">moduleClass</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site" title="Variances.this.Symbol">site</a>.<a href="HasFlags.scala.html#scala.reflect.internal;HasFlags.hasPackageFlag" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// done</span>
      else if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site" title="Variances.this.Symbol">site</a>.<a href="../api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isTerm" title="=&gt; Boolean">isTerm</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site" title="Variances.this.Symbol">site</a>.<a href="HasFlags.scala.html#scala.reflect.internal;HasFlags.isPrivateLocal" title="=&gt; Boolean">isPrivateLocal</a><span class="delimiter">)</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape" title="(sym: Variances.this.Symbol, site: Variances.this.Symbol)Unit">checkForEscape</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.sym" title="Variances.this.Symbol">sym</a>, <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.site" title="Variances.this.Symbol">site</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// ok - recurse to owner</span>
      else <a href="#scala.reflect.internal;Variances;VarianceValidator.escapedLocals" title="=&gt; scala.collection.mutable.HashSet[Variances.this.Symbol]">escapedLocals</a> <a href="../../collection/mutable/HashSet.scala.html#scala.collection.mutable;HashSet.+=(53f2a8289f)" title="(elem: Variances.this.Symbol)VarianceValidator.this.escapedLocals.type">+=</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.checkForEscape.sym" title="Variances.this.Symbol">sym</a>
    <span class="delimiter">}</span>

    protected def <a title="(base: Variances.this.Symbol, sym: Variances.this.Symbol, required: scala.reflect.internal.Variance)Unit" id="scala.reflect.internal;Variances;VarianceValidator.issueVarianceError">issueVarianceError</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.issueVarianceError.base">base</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.issueVarianceError.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.issueVarianceError.required">required</a>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// Flip occurrences of type parameters and parameters, unless</span>
    <span class="comment">//  - it's a constructor, or case class factory or extractor</span>
    <span class="comment">//  - it's a type parameter of tvar's owner.</span>
    def <a title="(sym: Variances.this.Symbol, tvar: Variances.this.Symbol)Boolean" id="scala.reflect.internal;Variances;VarianceValidator.shouldFlip">shouldFlip</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.shouldFlip.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.shouldFlip.tvar">tvar</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#scala.reflect.internal;Variances;VarianceValidator.shouldFlip.sym" title="Variances.this.Symbol">sym</a>.<a href="HasFlags.scala.html#scala.reflect.internal;HasFlags.isParameter" title="=&gt; Boolean">isParameter</a>
      <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.shouldFlip.tvar" title="Variances.this.Symbol">tvar</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isTypeParameterOrSkolem" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.shouldFlip.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isTypeParameterOrSkolem" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.shouldFlip.tvar" title="Variances.this.Symbol">tvar</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.shouldFlip.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="comment">// return Bivariant if `sym` is local to a term</span>
    <span class="comment">// or is private[this] or protected[this]</span>
    def <a title="(sym: Variances.this.Symbol)Boolean" id="scala.reflect.internal;Variances;VarianceValidator.isLocalOnly">isLocalOnly</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.isLocalOnly.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.internal;Variances;VarianceValidator.isLocalOnly.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>.<a href="../api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>
         <a href="#scala.reflect.internal;Variances;VarianceValidator.isLocalOnly.sym" title="Variances.this.Symbol">sym</a>.<a href="../api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isTerm" title="=&gt; Boolean">isTerm</a> <span class="comment">// ?? shouldn't this be sym.owner.isTerm according to the comments above?</span>
      <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.isLocalOnly.sym" title="Variances.this.Symbol">sym</a>.<a href="HasFlags.scala.html#scala.reflect.internal;HasFlags.isLocalToThis" title="=&gt; Boolean">isLocalToThis</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.isLocalOnly.sym" title="Variances.this.Symbol">sym</a>.<a href="HasFlags.scala.html#scala.reflect.internal;HasFlags.isSuperAccessor" title="=&gt; Boolean">isSuperAccessor</a><span class="delimiter">)</span> <span class="comment">// super accessors are implicitly local #4345</span>
      <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="../../collection/GenSetLike.scala.html#scala.collection;GenSetLike.apply" title="(elem: Variances.this.Symbol)Boolean">escapedLocals</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.isLocalOnly.sym" title="Variances.this.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    private object <a title="VarianceValidator.this.ValidateVarianceMap.type" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap">ValidateVarianceMap</a> extends <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap" title="Variances.this.TypeMap">TypeMap</a><span class="delimiter">(</span>trackVariance = true<span class="delimiter">)</span> <span class="delimiter">{</span>
      private var <a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=">base</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a> = _

      <span class="comment">/** The variance of a symbol occurrence of `tvar` seen at the level of the definition of `base`.
       *  The search proceeds from `base` to the owner of `tvar`.
       *  Initially the state is covariant, but it might change along the search.
       *
       *  A local alias type is treated as Bivariant;
       *  this is OK because we always expand aliases for variance checking.
       *  However, for an alias which might be externally visible, we must assume Invariant,
       *  because there may be references to the type parameter that are not checked,
       *  leading to unsoundness (see SI-6566).
       */</span>
      def <a title="(tvar: Variances.this.Symbol)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance">relativeVariance</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.tvar">tvar</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> = <span class="delimiter">{</span>
        def <a title="(sym: Variances.this.Symbol, v: scala.reflect.internal.Variance)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance">nextVariance</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.v">v</a>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> = <span class="delimiter">(</span>
          if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.shouldFlip" title="(sym: Variances.this.Symbol, tvar: Variances.this.Symbol)Boolean">shouldFlip</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.sym" title="Variances.this.Symbol">sym</a>, <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.tvar" title="Variances.this.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.v" title="scala.reflect.internal.Variance">v</a>.<a href="Variance.scala.html#scala.reflect.internal;Variance.flip" title="=&gt; scala.reflect.internal.Variance">flip</a>
          else if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.isLocalOnly" title="(sym: Variances.this.Symbol)Boolean">isLocalOnly</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.sym" title="Variances.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Variance.scala.html#scala.reflect.internal.Variance.Bivariant" title="=&gt; scala.reflect.internal.Variance">Bivariant</a>
          else if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAliasType" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">(</span>
            <span class="comment">// Unsound pre-2.11 behavior preserved under -Xsource:2.10</span>
            if <span class="delimiter">(</span><a href="Required.scala.html#scala.reflect.internal;Required.settings" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#scala.reflect.internal.settings;MutableSettings.isScala211" title="=&gt; Boolean">isScala211</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isOverridingSymbol" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <a href="Variance.scala.html#scala.reflect.internal.Variance.Invariant" title="=&gt; scala.reflect.internal.Variance">Invariant</a>
            else <span class="delimiter">{</span>
              <a href="Reporting.scala.html#scala.reflect.internal;Reporting.currentRun" title="=&gt; Variances.this.RunReporting">currentRun</a>.<a href="Reporting.scala.html#scala.reflect.internal;Reporting;RunReporting.reporting" title="=&gt; Variances.this.PerRunReporting">reporting</a>.<a href="Reporting.scala.html#scala.reflect.internal;Reporting;PerRunReportingBase.deprecationWarning" title="(pos: Variances.this.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.sym" title="Variances.this.Symbol">sym</a>.<a href="StdAttachments.scala.html#scala.reflect.internal;StdAttachments;Attachable.pos" title="=&gt; Variances.this.Position">pos</a>, <a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Construct depends on unsound variance analysis and will not compile in scala 2.11 and beyond&quot;)" class="string">Construct depends on unsound variance analysis and will not compile in scala 2.11 and beyond&quot;</span><span class="delimiter">)</span>
              <a href="Variance.scala.html#scala.reflect.internal.Variance.Bivariant" title="=&gt; scala.reflect.internal.Variance">Bivariant</a>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
          else <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance.v" title="scala.reflect.internal.Variance">v</a>
        <span class="delimiter">)</span>
        def <a title="(sym: Variances.this.Symbol, v: scala.reflect.internal.Variance)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop">loop</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.v">v</a>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> = <span class="delimiter">(</span>
          if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.sym" title="Variances.this.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.tvar" title="Variances.this.Symbol">tvar</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.v" title="scala.reflect.internal.Variance">v</a>.<a href="Variance.scala.html#scala.reflect.internal;Variance.isBivariant" title="=&gt; Boolean">isBivariant</a><span class="delimiter">)</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.v" title="scala.reflect.internal.Variance">v</a>
          else <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop" title="(sym: Variances.this.Symbol, v: scala.reflect.internal.Variance)scala.reflect.internal.Variance">loop</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>, <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.nextVariance" title="(sym: Variances.this.Symbol, v: scala.reflect.internal.Variance)scala.reflect.internal.Variance">nextVariance</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.sym" title="Variances.this.Symbol">sym</a>, <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop.v" title="scala.reflect.internal.Variance">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance.loop" title="(sym: Variances.this.Symbol, v: scala.reflect.internal.Variance)scala.reflect.internal.Variance">loop</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a>, <a href="Variance.scala.html#scala.reflect.internal.Variance.Covariant" title="=&gt; scala.reflect.internal.Variance">Covariant</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      def <a title="(tp: Variances.this.Type)Boolean" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance">isUncheckedVariance</a><span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance.tp">tp</a>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a><span class="delimiter">)</span> = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance.tp" title="Variances.this.Type">tp</a> match <span class="delimiter">{</span>
        case AnnotatedType<span class="delimiter">(</span><a title="List[Variances.this.AnnotationInfo]" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance.annots">annots</a>, _<span class="delimiter">)</span>    =&gt; <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance.annots" title="List[Variances.this.AnnotationInfo]">annots</a> <a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.exists" title="(p: Variances.this.AnnotationInfo =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance.$anonfun.x$1" title="Variances.this.AnnotationInfo">_</a> <a href="AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.matches" title="(clazz: Variances.this.Symbol)Boolean">matches</a> <a href="Definitions.scala.html#scala.reflect.internal;Definitions.definitions" title="Variances.this.definitions.type">definitions</a>.<a href="Definitions.scala.html#scala.reflect.internal;Definitions;DefinitionsClass.uncheckedVarianceClass" title="=&gt; Variances.this.ClassSymbol">uncheckedVarianceClass</a><span class="delimiter">)</span>
        case _                           =&gt; false
      <span class="delimiter">}</span>

      private def <a title="(sym: Variances.this.Symbol)Unit" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol">checkVarianceOfSymbol</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.relative">relative</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.relativeVariance" title="(tvar: Variances.this.Symbol)scala.reflect.internal.Variance">relativeVariance</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym" title="Variances.this.Symbol">sym</a><span class="delimiter">)</span>
        val required = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.relative" title="scala.reflect.internal.Variance">relative</a> <a href="Variance.scala.html#scala.reflect.internal;Variance.*" title="scala.reflect.internal.Variance" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.required">*</a> <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.variance" title="=&gt; scala.reflect.internal.Variance">variance</a>
        if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.relative" title="scala.reflect.internal.Variance">relative</a>.<a href="Variance.scala.html#scala.reflect.internal;Variance.isBivariant" title="=&gt; Boolean">isBivariant</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          def <a title="=&gt; String" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym_s">sym_s</a>  = <a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym" title="Variances.this.Symbol">sym</a><span title="String(&quot; (&quot;)"> ($</span><span class="delimiter">{</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.variance" title="=&gt; scala.reflect.internal.Variance">variance</a><span class="delimiter">}</span><span title="String(&quot;&quot;)">$</span><span class="delimiter">{</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.locationString" title="=&gt; String">locationString</a><span class="delimiter">}</span><span title="String(&quot;)&quot;)" class="string">)&quot;</span>
          def <a title="=&gt; String" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.base_s">base_s</a> = <a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;&quot;)">$</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a><span title="String(&quot; in &quot;)"> in $</span><span class="delimiter">{</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>.<a href="../api/Symbols.scala.html#scala.reflect.api;Symbols;SymbolApi.isClass" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> else <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.enclClass" title="=&gt; Variances.this.Symbol">enclClass</a><span class="delimiter">)</span>
          <a href="SymbolTable.scala.html#scala.reflect.internal;SymbolTable.log" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;verifying &quot;)">verifying $</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym_s" title="=&gt; String">sym_s</a><span title="String(&quot; is &quot;)"> is $</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.required" title="scala.reflect.internal.Variance">required</a><span title="String(&quot; at &quot;)"> at $</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.base_s" title="=&gt; String">base_s</a><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.variance" title="=&gt; scala.reflect.internal.Variance">variance</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.required" title="scala.reflect.internal.Variance">required</a><span class="delimiter">)</span>
            <a href="#scala.reflect.internal;Variances;VarianceValidator.issueVarianceError" title="(base: Variances.this.Symbol, sym: Variances.this.Symbol, required: scala.reflect.internal.Variance)Unit">issueVarianceError</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a>, <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.sym" title="Variances.this.Symbol">sym</a>, <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol.required" title="scala.reflect.internal.Variance">required</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      override def <a title="(decls: Variances.this.Scope)Variances.this.Scope" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693)">mapOver</a><span class="delimiter">(</span><a title="Variances.this.Scope" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693).decls">decls</a>: <a href="Scopes.scala.html#scala.reflect.internal;Scopes;Scope" title="Variances.this.Scope">Scope</a><span class="delimiter">)</span>: <a href="Scopes.scala.html#scala.reflect.internal;Scopes;Scope" title="Variances.this.Scope">Scope</a> = <span class="delimiter">{</span>
        <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693).decls" title="Variances.this.Scope">decls</a> <a href="Scopes.scala.html#scala.reflect.internal;Scopes;Scope.foreach" title="(p: Variances.this.Symbol =&gt; Variances.this.Type)Unit">foreach</a> <span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693).$anonfun.sym">sym</a> =&gt; <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.withVariance" title="(v: scala.reflect.internal.Variance)(body: =&gt; Variances.this.Type)Variances.this.Type">withVariance</a><span class="delimiter">(</span>if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693).$anonfun.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAliasType" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="Variance.scala.html#scala.reflect.internal.Variance.Invariant" title="=&gt; scala.reflect.internal.Variance">Invariant</a> else <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.variance" title="=&gt; scala.reflect.internal.Variance">variance</a><span class="delimiter">)</span><span class="delimiter">(</span>this<span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693).$anonfun.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Variances.this.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.mapOver(5dc8630693).decls" title="Variances.this.Scope">decls</a>
      <span class="delimiter">}</span>
      private def <a title="(tp: Variances.this.Type)Boolean" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.resultTypeOnly">resultTypeOnly</a><span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.resultTypeOnly.tp">tp</a>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a><span class="delimiter">)</span> = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.resultTypeOnly.tp" title="Variances.this.Type">tp</a> match <span class="delimiter">{</span>
        case <a title="Variances.this.MethodType" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.resultTypeOnly.mt">mt</a>: <a href="Types.scala.html#scala.reflect.internal;Types;MethodType" title="Variances.this.MethodType">MethodType</a> =&gt; <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.reflect.internal;Variances;VarianceValidator.inRefinement_=" title="=&gt; Boolean">inRefinement</a>
        case <a title="Variances.this.PolyType" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.resultTypeOnly.pt">pt</a>: <a href="Types.scala.html#scala.reflect.internal;Types;PolyType" title="Variances.this.PolyType">PolyType</a>   =&gt; true
        case _              =&gt; false
      <span class="delimiter">}</span>

      <span class="comment">/** For PolyTypes, type parameters are skipped because they are defined
       *  explicitly (their TypeDefs will be passed here.) For MethodTypes, the
       *  same is true of the parameters (ValDefs) unless we are inside a
       *  refinement, in which case they are checked from here.
       */</span>
      def <a title="(tp: Variances.this.Type)Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply">apply</a><span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp">tp</a>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a><span class="delimiter">)</span>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a> match <span class="delimiter">{</span>
        case _ if <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.isUncheckedVariance" title="(tp: Variances.this.Type)Boolean">isUncheckedVariance</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span>                    =&gt; <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a>
        case _ if <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.resultTypeOnly" title="(tp: Variances.this.Type)Boolean">resultTypeOnly</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span>                         =&gt; this<span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a>.<a href="Types.scala.html#scala.reflect.internal;Types;Type.resultType(9b9cdebb0f)" title="=&gt; Variances.this.Type">resultType</a><span class="delimiter">)</span>
        case TypeRef<span class="delimiter">(</span>_, <span title="Variances.this.Symbol">sym</span>, _<span class="delimiter">)</span> if <span title="Variances.this.Symbol">sym</span>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAliasType" title="=&gt; Boolean">isAliasType</a>           =&gt; this<span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a>.<a href="Types.scala.html#scala.reflect.internal;Types;Type.normalize" title="=&gt; Variances.this.Type">normalize</a><span class="delimiter">)</span>
        case TypeRef<span class="delimiter">(</span>_, <span title="Variances.this.Symbol">sym</span>, _<span class="delimiter">)</span> if <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><span title="Variances.this.Symbol">sym</span>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.variance" title="=&gt; scala.reflect.internal.Variance">variance</a>.<a href="Variance.scala.html#scala.reflect.internal;Variance.isInvariant" title="=&gt; Boolean">isInvariant</a> =&gt; <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.checkVarianceOfSymbol" title="(sym: Variances.this.Symbol)Unit">checkVarianceOfSymbol</a><span class="delimiter">(</span><span title="Variances.this.Symbol">sym</span><span class="delimiter">)</span> ; <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.mapOver(ad9e013c92)" title="(tp: Variances.this.Type)Variances.this.Type">mapOver</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span>
        case RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>                               =&gt; <a href="#scala.reflect.internal;Variances;VarianceValidator.withinRefinement" title="(body: =&gt; Variances.this.Type)Variances.this.Type">withinRefinement</a><span class="delimiter">(</span><a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.mapOver(ad9e013c92)" title="(tp: Variances.this.Type)Variances.this.Type">mapOver</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
        case ClassInfoType<span class="delimiter">(</span><a title="List[Variances.this.Type]" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.parents">parents</a>, _, _<span class="delimiter">)</span>                    =&gt; <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.parents" title="List[Variances.this.Type]">parents</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Variances.this.Type =&gt; Variances.this.Type)Unit">foreach</a> this ; <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a>
        case <a title="Variances.this.MethodType" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.mt">mt</a> @ MethodType<span class="delimiter">(</span>_, <a title="Variances.this.Type" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.result">result</a><span class="delimiter">)</span>                      =&gt; <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.flipped" title="(body: =&gt; Unit)Unit">flipped</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.mt" title="Variances.this.MethodType">mt</a>.<a href="Types.scala.html#scala.reflect.internal;Types;MethodType.paramTypes" title="=&gt; List[Variances.this.Type]">paramTypes</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.foreach" title="(f: Variances.this.Type =&gt; Variances.this.Type)Unit">foreach</a> this<span class="delimiter">)</span> ; this<span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.result" title="Variances.this.Type">result</a><span class="delimiter">)</span>
        case _                                               =&gt; <a href="tpe/TypeMaps.scala.html#scala.reflect.internal.tpe;TypeMaps;TypeMap.mapOver(ad9e013c92)" title="(tp: Variances.this.Type)Variances.this.Type">mapOver</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      def <a title="(base: Variances.this.Symbol)Unit" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition">validateDefinition</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition.base">base</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        val <a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition.saved">saved</a> = this.<a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="=&gt; Variances.this.Symbol">base</a>
        this.<a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="(x$1: Variances.this.Symbol)Unit">base</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition.base" title="Variances.this.Symbol">base</a>
        try <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.apply" title="(tp: Variances.this.Type)Variances.this.Type">apply</a><span title="Unit" class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition.base" title="Variances.this.Symbol">base</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Variances.this.Type">info</a><span class="delimiter">)</span>
        finally this.<a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.base_=" title="(x$1: Variances.this.Symbol)Unit">base</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition.saved" title="Variances.this.Symbol">saved</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Validate variance of info of symbol `base` */</span>
    private def <a title="(base: Variances.this.Symbol)Unit" id="scala.reflect.internal;Variances;VarianceValidator.validateVariance">validateVariance</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.validateVariance.base">base</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap" title="VarianceValidator.this.ValidateVarianceMap.type">ValidateVarianceMap</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.ValidateVarianceMap.validateDefinition" title="(base: Variances.this.Symbol)Unit">validateDefinition</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.validateVariance.base" title="Variances.this.Symbol">base</a>
    <span class="delimiter">}</span>

    override def <a title="(tree: Variances.this.Tree)Unit" id="scala.reflect.internal;Variances;VarianceValidator.traverse">traverse</a><span class="delimiter">(</span><a title="Variances.this.Tree" id="scala.reflect.internal;Variances;VarianceValidator.traverse.tree">tree</a>: <a href="Trees.scala.html#scala.reflect.internal;Trees;Tree" title="Variances.this.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      def <a title="=&gt; Variances.this.Symbol" id="scala.reflect.internal;Variances;VarianceValidator.traverse.sym">sym</a> = <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.tree" title="Variances.this.Tree">tree</a>.<a href="Trees.scala.html#scala.reflect.internal;Trees;Tree.symbol" title="=&gt; Variances.this.Symbol">symbol</a>
      <span class="comment">// No variance check for object-private/protected methods/values.</span>
      <span class="comment">// Or constructors, or case class factory or extractor.</span>
      def <a title="=&gt; Boolean" id="scala.reflect.internal;Variances;VarianceValidator.traverse.skip">skip</a> = <span class="delimiter">(</span>
           <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a> <span title="(x$1: Any)Boolean">==</span> <a href="Symbols.scala.html#scala.reflect.internal;Symbols.NoSymbol" title="=&gt; Variances.this.NoSymbol">NoSymbol</a>
        <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a>.<a href="HasFlags.scala.html#scala.reflect.internal;HasFlags.isLocalToThis" title="=&gt; Boolean">isLocalToThis</a>
        <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isConstructor" title="=&gt; Boolean">isConstructor</a>
        <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.owner" title="=&gt; Variances.this.Symbol">owner</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isCaseApplyOrUnapply" title="=&gt; Boolean">isCaseApplyOrUnapply</a>
      <span class="delimiter">)</span>
      <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.tree" title="Variances.this.Tree">tree</a> match <span class="delimiter">{</span>
        case <a title="Variances.this.MemberDef" id="scala.reflect.internal;Variances;VarianceValidator.traverse.defn">defn</a>: <a href="Trees.scala.html#scala.reflect.internal;Trees;MemberDef" title="Variances.this.MemberDef">MemberDef</a> if <a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.skip" title="=&gt; Boolean">skip</a> =&gt;
          <a href="SymbolTable.scala.html#scala.reflect.internal;SymbolTable.debuglog" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../StringContext.scala.html#scala;StringContext.s" title="(args: Any*)String">s</a>&quot;<span title="String(&quot;Skipping variance check of &quot;)">Skipping variance check of $</span><span class="delimiter">{</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.defString" title="=&gt; String">defString</a><span class="delimiter">}</span><span title="String(&quot;&quot;)" class="string">&quot;</span><span class="delimiter">)</span>
        case ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#scala.reflect.internal;Variances;VarianceValidator.validateVariance" title="(base: Variances.this.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a><span class="delimiter">)</span>
          super.<a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Variances.this.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.tree" title="Variances.this.Tree">tree</a><span class="delimiter">)</span>
        <span class="comment">// ModuleDefs need not be considered because they have been eliminated already</span>
        case ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#scala.reflect.internal;Variances;VarianceValidator.validateVariance" title="(base: Variances.this.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a><span class="delimiter">)</span>
        case DefDef<span class="delimiter">(</span>_, _, <a title="List[Variances.this.TypeDef]" id="scala.reflect.internal;Variances;VarianceValidator.traverse.tparams">tparams</a>, <a title="List[List[Variances.this.ValDef]]" id="scala.reflect.internal;Variances;VarianceValidator.traverse.vparamss">vparamss</a>, _, _<span class="delimiter">)</span> =&gt;
          <a href="#scala.reflect.internal;Variances;VarianceValidator.validateVariance" title="(base: Variances.this.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.sym" title="=&gt; Variances.this.Symbol">sym</a><span class="delimiter">)</span>
          <a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverseTrees" title="(trees: List[Variances.this.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.tparams" title="List[Variances.this.TypeDef]">tparams</a><span class="delimiter">)</span>
          <a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverseTreess" title="(treess: List[List[Variances.this.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.vparamss" title="List[List[Variances.this.ValDef]]">vparamss</a><span class="delimiter">)</span>
        case Template<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          super.<a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Variances.this.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.tree" title="Variances.this.Tree">tree</a><span class="delimiter">)</span>
        case CompoundTypeTree<span class="delimiter">(</span><a title="Variances.this.Template" id="scala.reflect.internal;Variances;VarianceValidator.traverse.templ">templ</a><span class="delimiter">)</span> =&gt;
          super.<a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Variances.this.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances;VarianceValidator.traverse.tree" title="Variances.this.Tree">tree</a><span class="delimiter">)</span>

        <span class="comment">// SI-7872 These two cases make sure we don't miss variance exploits</span>
        <span class="comment">// in originals, e.g. in `foo[({type l[+a] = List[a]})#l]`</span>
        case <span title="Variances.this.TypeTree">tt</span> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> if <span title="Variances.this.TypeTree">tt</span>.<a href="Trees.scala.html#scala.reflect.internal;Trees;TypeTree.original" title="=&gt; Variances.this.Tree">original</a> <span title="(x$1: Any)Boolean">!=</span> null =&gt;
          super.<a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Variances.this.Tree)Unit">traverse</a><span class="delimiter">(</span><span title="Variances.this.TypeTree">tt</span>.<a href="Trees.scala.html#scala.reflect.internal;Trees;TypeTree.original" title="=&gt; Variances.this.Tree">original</a><span class="delimiter">)</span>
        case <span title="Variances.this.TypTree">tt</span> : <a href="Trees.scala.html#scala.reflect.internal;Trees;TypTree" title="Variances.this.TypTree">TypTree</a> =&gt;
          super.<a href="../api/Trees.scala.html#scala.reflect.api;Trees;Traverser.traverse" title="(tree: Variances.this.Tree)Unit">traverse</a><span class="delimiter">(</span><span title="Variances.this.TypTree">tt</span><span class="delimiter">)</span>

        case _ =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Compute variance of type parameter `tparam` in all types `tps`. */</span>
  def <a title="(tps: List[Variances.this.Type])(tparam: Variances.this.Symbol)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInTypes">varianceInTypes</a><span class="delimiter">(</span><a title="List[Variances.this.Type]" id="scala.reflect.internal;Variances.varianceInTypes.tps">tps</a>: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Variances.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances.varianceInTypes.tparam">tparam</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> =
    <a href="Variance.scala.html#scala.reflect.internal.Variance.fold" title="(variances: List[scala.reflect.internal.Variance])scala.reflect.internal.Variance">fold</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInTypes.tps" title="List[Variances.this.Type]">tps</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Variances.this.Type =&gt; scala.reflect.internal.Variance)(implicit bf: scala.collection.generic.CanBuildFrom[List[Variances.this.Type],scala.reflect.internal.Variance,List[scala.reflect.internal.Variance]])List[scala.reflect.internal.Variance]">map</a> <span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances.varianceInTypes.$anonfun.tp">tp</a> =&gt; <a href="#scala.reflect.internal;Variances.varianceInType" title="(tp: Variances.this.Type)(tparam: Variances.this.Symbol)scala.reflect.internal.Variance">varianceInType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInTypes.$anonfun.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInTypes.tparam" title="Variances.this.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Compute variance of type parameter `tparam` in type `tp`. */</span>
  def <a title="(tp: Variances.this.Type)(tparam: Variances.this.Symbol)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInType">varianceInType</a><span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances.varianceInType.tp">tp</a>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances.varianceInType.tparam">tparam</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> = <span class="delimiter">{</span>
    def <a title="(sym: Variances.this.Symbol, args: List[Variances.this.Type])scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInType.inArgs">inArgs</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances.varianceInType.inArgs.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a>, <a title="List[Variances.this.Type]" id="scala.reflect.internal;Variances.varianceInType.inArgs.args">args</a>: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Variances.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> = <a href="Variance.scala.html#scala.reflect.internal.Variance.fold" title="(variances: List[scala.reflect.internal.Variance])scala.reflect.internal.Variance">fold</a><span class="delimiter">(</span><a href="util/Collections.scala.html#scala.reflect.internal.util;Collections.map2" title="(xs1: List[Variances.this.Type], xs2: List[Variances.this.Symbol])(f: (Variances.this.Type, Variances.this.Symbol) =&gt; scala.reflect.internal.Variance)List[scala.reflect.internal.Variance]">map2</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inArgs.args" title="List[Variances.this.Type]">args</a>, <a href="#scala.reflect.internal;Variances.varianceInType.inArgs.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.typeParams" title="=&gt; List[Variances.this.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances.varianceInType.inArgs.$anonfun.a">a</a>, <a title="Variances.this.Symbol" id="scala.reflect.internal;Variances.varianceInType.inArgs.$anonfun.p">p</a><span class="delimiter">)</span> =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inArgs.$anonfun.a" title="Variances.this.Type">a</a><span class="delimiter">)</span> <a href="Variance.scala.html#scala.reflect.internal;Variance.*" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">*</a> <a href="#scala.reflect.internal;Variances.varianceInType.inArgs.$anonfun.p" title="Variances.this.Symbol">p</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.variance" title="=&gt; scala.reflect.internal.Variance">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
    def <a title="(syms: List[Variances.this.Symbol])scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInType.inSyms">inSyms</a><span class="delimiter">(</span><a title="List[Variances.this.Symbol]" id="scala.reflect.internal;Variances.varianceInType.inSyms.syms">syms</a>: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Variances.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a>            = <a href="Variance.scala.html#scala.reflect.internal.Variance.fold" title="(variances: List[scala.reflect.internal.Variance])scala.reflect.internal.Variance">fold</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inSyms.syms" title="List[Variances.this.Symbol]">syms</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Variances.this.Symbol =&gt; scala.reflect.internal.Variance)(implicit bf: scala.collection.generic.CanBuildFrom[List[Variances.this.Symbol],scala.reflect.internal.Variance,List[scala.reflect.internal.Variance]])List[scala.reflect.internal.Variance]">map</a> <a href="#scala.reflect.internal;Variances.varianceInType.inSym" title="(sym: Variances.this.Symbol)scala.reflect.internal.Variance">inSym</a><span class="delimiter">)</span>
    def <a title="(tps: List[Variances.this.Type])scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInType.inTypes">inTypes</a><span class="delimiter">(</span><a title="List[Variances.this.Type]" id="scala.reflect.internal;Variances.varianceInType.inTypes.tps">tps</a>: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[Variances.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a>              = <a href="Variance.scala.html#scala.reflect.internal.Variance.fold" title="(variances: List[scala.reflect.internal.Variance])scala.reflect.internal.Variance">fold</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inTypes.tps" title="List[Variances.this.Type]">tps</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Variances.this.Type =&gt; scala.reflect.internal.Variance)(implicit bf: scala.collection.generic.CanBuildFrom[List[Variances.this.Type],scala.reflect.internal.Variance,List[scala.reflect.internal.Variance]])List[scala.reflect.internal.Variance]">map</a> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">)</span>

    def <a title="(sym: Variances.this.Symbol)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInType.inSym">inSym</a><span class="delimiter">(</span><a title="Variances.this.Symbol" id="scala.reflect.internal;Variances.varianceInType.inSym.sym">sym</a>: <a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol" title="Variances.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a> = if <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inSym.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.isAliasType" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inSym.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Variances.this.Type">info</a><span class="delimiter">)</span>.<a href="Variance.scala.html#scala.reflect.internal;Variance.cut" title="=&gt; scala.reflect.internal.Variance">cut</a> else <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inSym.sym" title="Variances.this.Symbol">sym</a>.<a href="Symbols.scala.html#scala.reflect.internal;Symbols;Symbol.info" title="=&gt; Variances.this.Type">info</a><span class="delimiter">)</span>
    def <a title="(tp: Variances.this.Type)scala.reflect.internal.Variance" id="scala.reflect.internal;Variances.varianceInType.inType">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">tp</span>: <a href="Types.scala.html#scala.reflect.internal;Types;Type" title="Variances.this.Type">Type</a><span class="delimiter">)</span>: <a href="Variance.scala.html#scala.reflect.internal;Variance" title="scala.reflect.internal.Variance">Variance</a>   = <span title="Variances.this.Type">tp</span> match <span class="delimiter">{</span>
      case <a href="Types.scala.html#scala.reflect.internal;Types.ErrorType" title="Variances.this.ErrorType.type">ErrorType</a> | <a href="Types.scala.html#scala.reflect.internal;Types.WildcardType" title="Variances.this.WildcardType.type">WildcardType</a> | <a href="Types.scala.html#scala.reflect.internal;Types.NoType" title="Variances.this.NoType.type">NoType</a> | <a href="Types.scala.html#scala.reflect.internal;Types.NoPrefix" title="Variances.this.NoPrefix.type">NoPrefix</a> =&gt; <a href="Variance.scala.html#scala.reflect.internal.Variance.Bivariant" title="=&gt; scala.reflect.internal.Variance">Bivariant</a>
      case ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span> | ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span>                =&gt; <a href="Variance.scala.html#scala.reflect.internal.Variance.Bivariant" title="=&gt; scala.reflect.internal.Variance">Bivariant</a>
      case TypeRef<span class="delimiter">(</span>_, <a href="#scala.reflect.internal;Variances.varianceInType.tparam" title="Variances.this.Symbol">`tparam`</a>, _<span class="delimiter">)</span>                      =&gt; <a href="Variance.scala.html#scala.reflect.internal.Variance.Covariant" title="=&gt; scala.reflect.internal.Variance">Covariant</a>
      case BoundedWildcardType<span class="delimiter">(</span><a title="Variances.this.TypeBounds" id="scala.reflect.internal;Variances.varianceInType.inType.bounds">bounds</a><span class="delimiter">)</span>                  =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.bounds" title="Variances.this.TypeBounds">bounds</a><span class="delimiter">)</span>
      case NullaryMethodType<span class="delimiter">(</span><span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>                    =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>
      case SingleType<span class="delimiter">(</span><span title="Variances.this.Type">pre</span>, <span title="Variances.this.Symbol">sym</span><span class="delimiter">)</span>                         =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">pre</span><span class="delimiter">)</span>
      case TypeRef<span class="delimiter">(</span><span title="Variances.this.Type">pre</span>, _, _<span class="delimiter">)</span> if <span title="Variances.this.Type">tp</span>.<a href="Types.scala.html#scala.reflect.internal;Types;Type.isHigherKinded" title="=&gt; Boolean">isHigherKinded</a>      =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">pre</span><span class="delimiter">)</span>                 <span class="comment">// a type constructor cannot occur in tp's args</span>
      case TypeRef<span class="delimiter">(</span><span title="Variances.this.Type">pre</span>, <span title="Variances.this.Symbol">sym</span>, <a title="List[Variances.this.Type]" id="scala.reflect.internal;Variances.varianceInType.inType.args">args</a><span class="delimiter">)</span>                      =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">pre</span><span class="delimiter">)</span>                 <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inArgs" title="(sym: Variances.this.Symbol, args: List[Variances.this.Type])scala.reflect.internal.Variance">inArgs</a><span class="delimiter">(</span><span title="Variances.this.Symbol">sym</span>, <a href="#scala.reflect.internal;Variances.varianceInType.inType.args" title="List[Variances.this.Type]">args</a><span class="delimiter">)</span>
      case TypeBounds<span class="delimiter">(</span><a title="Variances.this.Type" id="scala.reflect.internal;Variances.varianceInType.inType.lo">lo</a>, <a title="Variances.this.Type" id="scala.reflect.internal;Variances.varianceInType.inType.hi">hi</a><span class="delimiter">)</span>                           =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.lo" title="Variances.this.Type">lo</a><span class="delimiter">)</span>.<a href="Variance.scala.html#scala.reflect.internal;Variance.flip" title="=&gt; scala.reflect.internal.Variance">flip</a>             <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.hi" title="Variances.this.Type">hi</a><span class="delimiter">)</span>
      case RefinedType<span class="delimiter">(</span><a title="List[Variances.this.Type]" id="scala.reflect.internal;Variances.varianceInType.inType.parents">parents</a>, <a title="Variances.this.Scope" id="scala.reflect.internal;Variances.varianceInType.inType.defs">defs</a><span class="delimiter">)</span>                   =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inTypes" title="(tps: List[Variances.this.Type])scala.reflect.internal.Variance">inTypes</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.parents" title="List[Variances.this.Type]">parents</a><span class="delimiter">)</span>            <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inSyms" title="(syms: List[Variances.this.Symbol])scala.reflect.internal.Variance">inSyms</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.defs" title="Variances.this.Scope">defs</a>.<a href="Scopes.scala.html#scala.reflect.internal;Scopes;Scope.toList" title="=&gt; List[Variances.this.Symbol]">toList</a><span class="delimiter">)</span>
      case MethodType<span class="delimiter">(</span><a title="List[Variances.this.Symbol]" id="scala.reflect.internal;Variances.varianceInType.inType.params">params</a>, <span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>                   =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inSyms" title="(syms: List[Variances.this.Symbol])scala.reflect.internal.Variance">inSyms</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.params" title="List[Variances.this.Symbol]">params</a><span class="delimiter">)</span>.<a href="Variance.scala.html#scala.reflect.internal;Variance.flip" title="=&gt; scala.reflect.internal.Variance">flip</a>         <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>
      case PolyType<span class="delimiter">(</span><span title="List[Variances.this.Symbol]">tparams</span>, <span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>                    =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inSyms" title="(syms: List[Variances.this.Symbol])scala.reflect.internal.Variance">inSyms</a><span class="delimiter">(</span><span title="List[Variances.this.Symbol]">tparams</span><span class="delimiter">)</span>.<a href="Variance.scala.html#scala.reflect.internal;Variance.flip" title="=&gt; scala.reflect.internal.Variance">flip</a>        <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>
      case ExistentialType<span class="delimiter">(</span><span title="List[Variances.this.Symbol]">tparams</span>, <span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>             =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inSyms" title="(syms: List[Variances.this.Symbol])scala.reflect.internal.Variance">inSyms</a><span class="delimiter">(</span><span title="List[Variances.this.Symbol]">tparams</span><span class="delimiter">)</span>             <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">restpe</span><span class="delimiter">)</span>
      case AnnotatedType<span class="delimiter">(</span><a title="List[Variances.this.AnnotationInfo]" id="scala.reflect.internal;Variances.varianceInType.inType.annots">annots</a>, <span title="Variances.this.Type">tp</span><span class="delimiter">)</span>                    =&gt; <a href="#scala.reflect.internal;Variances.varianceInType.inTypes" title="(tps: List[Variances.this.Type])scala.reflect.internal.Variance">inTypes</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.annots" title="List[Variances.this.AnnotationInfo]">annots</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.map" title="(f: Variances.this.AnnotationInfo =&gt; Variances.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Variances.this.AnnotationInfo],Variances.this.Type,List[Variances.this.Type]])List[Variances.this.Type]">map</a> <span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.inType.$anonfun.x$2" title="Variances.this.AnnotationInfo">_</a>.<a href="AnnotationInfos.scala.html#scala.reflect.internal;AnnotationInfos;AnnotationInfo.atp" title="=&gt; Variances.this.Type">atp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Variance.scala.html#scala.reflect.internal;Variance.&" title="(other: scala.reflect.internal.Variance)scala.reflect.internal.Variance">&amp;</a> <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><span title="Variances.this.Type">tp</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#scala.reflect.internal;Variances.varianceInType.inType" title="(tp: Variances.this.Type)scala.reflect.internal.Variance">inType</a><span class="delimiter">(</span><a href="#scala.reflect.internal;Variances.varianceInType.tp" title="Variances.this.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
