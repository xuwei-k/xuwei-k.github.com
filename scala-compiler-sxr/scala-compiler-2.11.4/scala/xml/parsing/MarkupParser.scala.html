<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>scala/xml/parsing/MarkupParser.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>

package scala
package xml
package parsing

import scala.io.Source
import scala.xml.dtd._
import <a href="../Utility.scala.html#scala.xml.Utility" title="scala.xml.Utility.type">Utility</a>.<a href="../Utility.scala.html#scala.xml.Utility.Escapes" title="scala.xml.Utility.Escapes.type">Escapes</a>.<span class="delimiter">{</span> pairs =&gt; unescape <span class="delimiter">}</span>

<span class="comment">/**
 * An XML parser.
 *
 * Parses XML 1.0, invokes callback methods of a `MarkupHandler` and returns
 * whatever the markup handler returns. Use `ConstructingParser` if you just
 * want to parse XML to construct instances of `scala.xml.Node`.
 *
 * While XML elements are returned, DTD declarations - if handled - are
 * collected using side-effects.
 *
 * @author  Burak Emir
 * @version 1.0
 */</span>
trait <a title="trait MarkupParser extends AnyRef with scala.xml.parsing.MarkupParserCommon with scala.xml.parsing.TokenTests" id="scala.xml.parsing;MarkupParser">MarkupParser</a> extends <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon" title="scala.xml.parsing.MarkupParserCommon">MarkupParserCommon</a> with <a href="TokenTests.scala.html#scala.xml.parsing;TokenTests" title="scala.xml.parsing.TokenTests">TokenTests</a> <span class="delimiter">{</span>
  self: MarkupParser with MarkupHandler =&gt;

  type <a title="Int" id="scala.xml.parsing;MarkupParser;PositionType">PositionType</a> = <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>
  type <a title="scala.io.Source" id="scala.xml.parsing;MarkupParser;InputType">InputType</a> = <a href="../../io/Source.scala.html#scala.io;Source" title="scala.io.Source">Source</a>
  type <a title="scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser;ElementType">ElementType</a> = <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a>
  type <a title="(scala.xml.MetaData, scala.xml.NamespaceBinding)" id="scala.xml.parsing;MarkupParser;AttributesType">AttributesType</a> = <a href="../../Tuple2.scala.html#scala;Tuple2" title="(scala.xml.MetaData, scala.xml.NamespaceBinding)" class="delimiter">(</a>MetaData, NamespaceBinding<span class="delimiter">)</span>
  type <a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser;NamespaceType">NamespaceType</a> = <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a>

  def <a title="(msg: String)Nothing" id="scala.xml.parsing;MarkupParser.truncatedError">truncatedError</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.truncatedError.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Nothing">Nothing</span> = throw <a href="FatalError.scala.html#scala.xml.parsing;FatalError" title="(msg: String)scala.xml.parsing.FatalError">FatalError</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.truncatedError.msg" title="String">msg</a><span class="delimiter">)</span>
  def <a title="(tag: String)Nothing" id="scala.xml.parsing;MarkupParser.errorNoEnd">errorNoEnd</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.errorNoEnd.tag">tag</a>: <span title="String">String</span><span class="delimiter">)</span> = throw <a href="FatalError.scala.html#scala.xml.parsing;FatalError" title="(msg: String)scala.xml.parsing.FatalError">FatalError</a><span class="delimiter">(</span><span title="String(&quot;expected closing tag of &quot;)" class="string">&quot;expected closing tag of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.xml.parsing;MarkupParser.errorNoEnd.tag" title="String">tag</a><span class="delimiter">)</span>

  def <a title="(that: Char, msg: String)Unit" id="scala.xml.parsing;MarkupParser.xHandleError">xHandleError</a><span class="delimiter">(</span><a title="Char" id="scala.xml.parsing;MarkupParser.xHandleError.that">that</a>: <a href="../../Char.scala.html#scala;Char" title="Char">Char</a>, <a title="String" id="scala.xml.parsing;MarkupParser.xHandleError.msg">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xHandleError.msg" title="String">msg</a><span class="delimiter">)</span>

  val <a title="=&gt; scala.io.Source" id="scala.xml.parsing;MarkupParser.input">input</a>: <a href="../../io/Source.scala.html#scala.io;Source" title="scala.io.Source">Source</a>

  <span class="comment">/** if true, does not remove surplus whitespace */</span>
  val <a title="=&gt; Boolean" id="scala.xml.parsing;MarkupParser.preserveWS">preserveWS</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a>

  def <a title="(systemLiteral: String)scala.io.Source" id="scala.xml.parsing;MarkupParser.externalSource">externalSource</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.externalSource.systemLiteral">systemLiteral</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/Source.scala.html#scala.io;Source" title="scala.io.Source">Source</a>

  <span class="comment">//</span>
  <span class="comment">// variables, values</span>
  <span class="comment">//</span>

  protected var <a title="scala.io.Source" id="scala.xml.parsing;MarkupParser.curInput_=">curInput</a>: <a href="../../io/Source.scala.html#scala.io;Source" title="scala.io.Source">Source</a> = <a href="#scala.xml.parsing;MarkupParser.input" title="=&gt; scala.io.Source">input</a>

  <span class="comment">// See ticket #3720 for motivations.</span>
  private class <a title="class WithLookAhead extends scala.io.Source" id="scala.xml.parsing;MarkupParser;WithLookAhead">WithLookAhead</a><a href="#scala.xml.parsing;MarkupParser;WithLookAhead" title="MarkupParser.this.WithLookAhead" class="delimiter">(</a><a title="scala.io.Source" id="scala.xml.parsing;MarkupParser;WithLookAhead.underlying">underlying</a>: <a href="../../io/Source.scala.html#scala.io;Source" title="scala.io.Source">Source</a><span class="delimiter">)</span> extends <a href="../../io/Source.scala.html#scala.io;Source" title="scala.io.Source">Source</a> <span class="delimiter">{</span>
    private val <a title="scala.collection.mutable.Queue[Char]" id="scala.xml.parsing;MarkupParser;WithLookAhead.queue">queue</a> = scala.collection.mutable.<a href="../../collection/generic/GenericCompanion.scala.html#scala.collection.generic;GenericCompanion.apply" title="[A](elems: A*)scala.collection.mutable.Queue[A]">Queue</a><span title="(elems: Char*)scala.collection.mutable.Queue[Char]" class="delimiter">[</span><a href="../../Char.scala.html#scala;Char" title="Char">Char</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    def <a title="()BufferedIterator[Char]" id="scala.xml.parsing;MarkupParser;WithLookAhead.lookahead">lookahead</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../collection/BufferedIterator.scala.html#scala.collection;BufferedIterator" title="BufferedIterator[Char]">BufferedIterator</a><span class="delimiter">[</span>Char<span class="delimiter">]</span> = <span class="delimiter">{</span>
      val iter = <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.queue" title="=&gt; scala.collection.mutable.Queue[Char]">queue</a>.<a href="../../collection/mutable/MutableList.scala.html#scala.collection.mutable;MutableList.iterator" title="=&gt; Iterator[Char]">iterator</a> <a href="../../collection/Iterator.scala.html#scala.collection;Iterator.++" title="Iterator[Char]" id="scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter">++</a> new <a title="&lt;$anon: Iterator[Char]&gt; extends AnyRef with Iterator[Char]" id="scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter;$anon">Iterator</a><span class="delimiter">[</span>Char<span class="delimiter">]</span> <span class="delimiter">{</span>
        def <a title="=&gt; Boolean" id="scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter;$anon.hasNext">hasNext</a> = <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.underlying" title="scala.io.Source">underlying</a>.<a href="../../io/Source.scala.html#scala.io;Source.hasNext" title="=&gt; Boolean">hasNext</a>
        def <a title="()Char" id="scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter;$anon.next">next</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span> val <a title="Char" id="scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter;$anon.next.x">x</a> = <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.underlying" title="scala.io.Source">underlying</a>.<a href="../../io/Source.scala.html#scala.io;Source.next" title="()Char">next</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.queue" title="=&gt; scala.collection.mutable.Queue[Char]">queue</a> <a href="../../collection/mutable/MutableList.scala.html#scala.collection.mutable;MutableList.+=(e9294d59ec)" title="(elem: Char)WithLookAhead.this.queue.type">+=</a> <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter;$anon.next.x" title="Char">x</a>; <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter;$anon.next.x" title="Char">x</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.lookahead.iter" title="Iterator[Char]">iter</a>.<a href="../../collection/Iterator.scala.html#scala.collection;Iterator.buffered" title="=&gt; scala.collection.BufferedIterator[Char]">buffered</a>
    <span class="delimiter">}</span>
    val <a title="&lt;refinement of Iterator[Char]&gt; extends AnyRef with Iterator[Char]" id="scala.xml.parsing;MarkupParser;WithLookAhead.iter">iter</a> = new <a title="&lt;$anon: Iterator[Char]&gt; extends AnyRef with Iterator[Char]" id="scala.xml.parsing;MarkupParser;WithLookAhead.iter;$anon">Iterator</a><span class="delimiter">[</span>Char<span class="delimiter">]</span> <span class="delimiter">{</span>
      def <a title="=&gt; Boolean" id="scala.xml.parsing;MarkupParser;WithLookAhead.iter;$anon.hasNext">hasNext</a> = <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.underlying" title="scala.io.Source">underlying</a>.<a href="../../io/Source.scala.html#scala.io;Source.hasNext" title="=&gt; Boolean">hasNext</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser;WithLookAhead.queue" title="=&gt; scala.collection.mutable.Queue[Char]">queue</a>.<a href="../../collection/mutable/MutableList.scala.html#scala.collection.mutable;MutableList.isEmpty" title="=&gt; Boolean">isEmpty</a>
      def <a title="()Char" id="scala.xml.parsing;MarkupParser;WithLookAhead.iter;$anon.next">next</a><span class="delimiter">(</span><span class="delimiter">)</span> = if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser;WithLookAhead.queue" title="=&gt; scala.collection.mutable.Queue[Char]">queue</a>.<a href="../../collection/mutable/MutableList.scala.html#scala.collection.mutable;MutableList.isEmpty" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.queue" title="=&gt; scala.collection.mutable.Queue[Char]">queue</a>.<a href="../../collection/mutable/Queue.scala.html#scala.collection.mutable;Queue.dequeue" title="()Char">dequeue</a><span class="delimiter">(</span><span class="delimiter">)</span> else <a href="#scala.xml.parsing;MarkupParser;WithLookAhead.underlying" title="scala.io.Source">underlying</a>.<a href="../../io/Source.scala.html#scala.io;Source.next" title="()Char">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="()BufferedIterator[Char]" id="scala.xml.parsing;MarkupParser.lookahead">lookahead</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../collection/BufferedIterator.scala.html#scala.collection;BufferedIterator" title="BufferedIterator[Char]">BufferedIterator</a><span class="delimiter">[</span>Char<span class="delimiter">]</span> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a> match <span class="delimiter">{</span>
    case <a title="MarkupParser.this.WithLookAhead" id="scala.xml.parsing;MarkupParser.lookahead.curInputWLA">curInputWLA</a>: <a href="#scala.xml.parsing;MarkupParser;WithLookAhead" title="MarkupParser.this.WithLookAhead">WithLookAhead</a> =&gt;
      <a href="#scala.xml.parsing;MarkupParser.lookahead.curInputWLA" title="MarkupParser.this.WithLookAhead">curInputWLA</a>.<a href="#scala.xml.parsing;MarkupParser;WithLookAhead.lookahead" title="()BufferedIterator[Char]">lookahead</a><span class="delimiter">(</span><span class="delimiter">)</span>
    case _ =&gt;
      val <a title="MarkupParser.this.WithLookAhead" id="scala.xml.parsing;MarkupParser.lookahead.newInput">newInput</a> = new <a href="#scala.xml.parsing;MarkupParser;WithLookAhead" title="MarkupParser.this.WithLookAhead">WithLookAhead</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="(x$1: scala.io.Source)Unit">curInput</a> = <a href="#scala.xml.parsing;MarkupParser.lookahead.newInput" title="MarkupParser.this.WithLookAhead">newInput</a>
      <a href="#scala.xml.parsing;MarkupParser.lookahead.newInput" title="MarkupParser.this.WithLookAhead">newInput</a>.<a href="#scala.xml.parsing;MarkupParser;WithLookAhead.lookahead" title="()BufferedIterator[Char]">lookahead</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** the handler of the markup, returns this */</span>
  private val <a title="scala.xml.parsing.MarkupHandler" id="scala.xml.parsing;MarkupParser.handle">handle</a>: <a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler" title="scala.xml.parsing.MarkupHandler">MarkupHandler</a> = this

  <span class="comment">/** stack of inputs */</span>
  var <a title="List[scala.io.Source]" id="scala.xml.parsing;MarkupParser.inpStack_=">inpStack</a>: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.io.Source]">List</a><span class="delimiter">[</span>Source<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>

  <span class="comment">/** holds the position in the source file */</span>
  var <a title="Int" id="scala.xml.parsing;MarkupParser.pos_=">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = _

  <span class="comment">/* used when reading external subset */</span>
  var <a title="Int" id="scala.xml.parsing;MarkupParser.extIndex_=">extIndex</a> = -<span title="Int(-1)" class="int">1</span>

  <span class="comment">/** holds temporary values of pos */</span>
  var <a title="Int" id="scala.xml.parsing;MarkupParser.tmppos_=">tmppos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a> = _

  <span class="comment">/** holds the next character */</span>
  var <a title="Boolean" id="scala.xml.parsing;MarkupParser.nextChNeeded_=">nextChNeeded</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false
  var <a title="Boolean" id="scala.xml.parsing;MarkupParser.reachedEof_=">reachedEof</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = false
  var <a title="Char" id="scala.xml.parsing;MarkupParser.lastChRead_=">lastChRead</a>: <a href="../../Char.scala.html#scala;Char" title="Char">Char</a> = _
  def <a title="=&gt; Char" id="scala.xml.parsing;MarkupParser.ch">ch</a>: <a href="../../Char.scala.html#scala;Char" title="Char">Char</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.nextChNeeded_=" title="=&gt; Boolean">nextChNeeded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.hasNext" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.xml.parsing;MarkupParser.lastChRead_=" title="(x$1: Char)Unit">lastChRead</a> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.next" title="()Char">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.pos_=" title="(x$1: Int)Unit">pos</a> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.pos" title="=&gt; Int">pos</a>
      <span class="delimiter">}</span> else <span class="delimiter">{</span>
        val <a title="Int" id="scala.xml.parsing;MarkupParser.ch.ilen">ilen</a> = <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>.<a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a>
        <span class="comment">//Console.println(&quot;  ilen = &quot;+ilen+ &quot; extIndex = &quot;+extIndex);</span>
        if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch.ilen" title="Int">ilen</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.extIndex_=" title="=&gt; Int">extIndex</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch.ilen" title="Int">ilen</a> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">/* for external source, inpStack == Nil ! need notify of eof! */</span>
          <a href="#scala.xml.parsing;MarkupParser.pop" title="()Unit">pop</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span>
          <a href="#scala.xml.parsing;MarkupParser.reachedEof_=" title="(x$1: Boolean)Unit">reachedEof</a> = true
          <a href="#scala.xml.parsing;MarkupParser.lastChRead_=" title="(x$1: Char)Unit">lastChRead</a> = <span title="Int(0)" class="int">0</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Char" class="delimiter">[</span><a href="../../Char.scala.html#scala;Char" title="Char">Char</a><span class="delimiter">]</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#scala.xml.parsing;MarkupParser.nextChNeeded_=" title="(x$1: Boolean)Unit">nextChNeeded</a> = false
    <span class="delimiter">}</span>
    <a href="#scala.xml.parsing;MarkupParser.lastChRead_=" title="=&gt; Char">lastChRead</a>
  <span class="delimiter">}</span>

  <span class="comment">/** character buffer, for names */</span>
  protected val <a title="StringBuilder" id="scala.xml.parsing;MarkupParser.cbuf">cbuf</a> = new <a href="../../package.scala.html#scala.package;StringBuilder" title="StringBuilder">StringBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span>

  var <a title="scala.xml.dtd.DTD" id="scala.xml.parsing;MarkupParser.dtd_=">dtd</a>: <a href="../dtd/DTD.scala.html#scala.xml.dtd;DTD" title="scala.xml.dtd.DTD">DTD</a> = null

  protected var <a title="scala.xml.Document" id="scala.xml.parsing;MarkupParser.doc_=">doc</a>: <a href="../Document.scala.html#scala.xml;Document" title="scala.xml.Document">Document</a> = null

  def <a title="=&gt; Boolean" id="scala.xml.parsing;MarkupParser.eof">eof</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a> = <span class="delimiter">{</span> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>; <a href="#scala.xml.parsing;MarkupParser.reachedEof_=" title="=&gt; Boolean">reachedEof</a> <span class="delimiter">}</span>

  <span class="comment">//</span>
  <span class="comment">// methods</span>
  <span class="comment">//</span>

  <span class="comment">/**
   * {{{
   *  &lt;? prolog ::= xml S ... ?&gt;
   *  }}}
   */</span>
  def <a title="()scala.xml.MetaData" id="scala.xml.parsing;MarkupParser.xmlProcInstr">xmlProcInstr</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../MetaData.scala.html#scala.xml;MetaData" title="scala.xml.MetaData">MetaData</a> = <span class="delimiter">{</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;xml&quot;</a><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a href="../../Tuple2.scala.html#scala;Tuple2" title="(scala.xml.MetaData, scala.xml.NamespaceBinding)" class="delimiter">(</a><a href="../../Tuple2.scala.html#scala;Tuple2._1" title="scala.xml.MetaData" id="scala.xml.parsing;MarkupParser.xmlProcInstr.md">md</a>, <a href="../../Tuple2.scala.html#scala;Tuple2._2" title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.xmlProcInstr.scp">scp</a><span class="delimiter">)</span> = <a href="#scala.xml.parsing;MarkupParser.xAttributes" title="(pscope: scala.xml.NamespaceBinding)(scala.xml.MetaData, scala.xml.NamespaceBinding)">xAttributes</a><a href="../../Tuple2.scala.html#scala;Tuple2" title="(scala.xml.MetaData, scala.xml.NamespaceBinding) @unchecked" class="delimiter">(</a><a href="../TopScope.scala.html#scala.xml.TopScope" title="scala.xml.TopScope.type">TopScope</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xmlProcInstr.scp" title="scala.xml.NamespaceBinding">scp</a> <span title="(x$1: Any)Boolean">!=</span> <a href="../TopScope.scala.html#scala.xml.TopScope" title="scala.xml.TopScope.type">TopScope</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;no xmlns definitions here, please.&quot;)" class="string">&quot;no xmlns definitions here, please.&quot;</span><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('?')" class="char">'?'</span><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.xmlProcInstr.md" title="scala.xml.MetaData">md</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Factored out common code.
   */</span>
  private def <a title="(isProlog: Boolean)(Option[String], Option[String], Option[Boolean])" id="scala.xml.parsing;MarkupParser.prologOrTextDecl">prologOrTextDecl</a><span class="delimiter">(</span><a title="Boolean" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.isProlog">isProlog</a>: <a href="../../Boolean.scala.html#scala;Boolean" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../Tuple3.scala.html#scala;Tuple3" title="(Option[String], Option[String], Option[Boolean])" class="delimiter">(</a>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    var <a title="Option[String]" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.info_ver">info_ver</a>: <a href="../../Option.scala.html#scala;Option" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
    var <a title="Option[String]" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.info_enc">info_enc</a>: <a href="../../Option.scala.html#scala;Option" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>
    var <a title="Option[Boolean]" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.info_stdl">info_stdl</a>: <a href="../../Option.scala.html#scala;Option" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="../../Option.scala.html#scala.None" title="None.type">None</a>

    val <a title="scala.xml.MetaData" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.m">m</a> = <a href="#scala.xml.parsing;MarkupParser.xmlProcInstr" title="()scala.xml.MetaData">xmlProcInstr</a><span class="delimiter">(</span><span class="delimiter">)</span>
    var <a title="Int" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.n">n</a> = <span title="Int(0)" class="int">0</span>

    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.isProlog" title="Boolean">isProlog</a><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <a href="../MetaData.scala.html#scala.xml;MetaData.apply(af8b10ded4)" title="(key: String)Seq[scala.xml.Node]">m</a><span class="delimiter">(</span><span title="String(&quot;version&quot;)" class="string">&quot;version&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case null        =&gt;
      case <a href="../Text.scala.html#scala.xml.Text.unapply" title="(other: Any)Option[String]">Text</a><span class="delimiter">(</span><span title="String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span> =&gt;
        <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_ver" title="Option[String]">info_ver</a> = <a href="../../Option.scala.html#scala;Some" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><span title="String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.n" title="Int">n</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      case _           =&gt; <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;cannot deal with versions != 1.0&quot;)" class="string">&quot;cannot deal with versions != 1.0&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../MetaData.scala.html#scala.xml;MetaData.apply(af8b10ded4)" title="(key: String)Seq[scala.xml.Node]">m</a><span class="delimiter">(</span><span title="String(&quot;encoding&quot;)" class="string">&quot;encoding&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case null =&gt;
      case <a href="../Text.scala.html#scala.xml.Text.unapply" title="(other: Any)Option[String]">Text</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.enc">enc</a><span class="delimiter">)</span> =&gt;
        if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="TokenTests.scala.html#scala.xml.parsing;TokenTests.isValidIANAEncoding" title="(ianaEncoding: Seq[Char])Boolean">isValidIANAEncoding</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">enc</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.enc" title="String">enc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot; is not a valid encoding&quot;)" class="string">&quot;\&quot; is not a valid encoding&quot;</span><span class="delimiter">)</span>
        else <span class="delimiter">{</span>
          <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_enc" title="Option[String]">info_enc</a> = <a href="../../Option.scala.html#scala;Some" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.enc" title="String">enc</a><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.n" title="Int">n</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.isProlog" title="Boolean">isProlog</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../MetaData.scala.html#scala.xml;MetaData.apply(af8b10ded4)" title="(key: String)Seq[scala.xml.Node]">m</a><span class="delimiter">(</span><span title="String(&quot;standalone&quot;)" class="string">&quot;standalone&quot;</span><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case null        =&gt;
        case <a href="../Text.scala.html#scala.xml.Text.unapply" title="(other: Any)Option[String]">Text</a><span class="delimiter">(</span><span title="String(&quot;yes&quot;)" class="string">&quot;yes&quot;</span><span class="delimiter">)</span> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_stdl" title="Option[Boolean]">info_stdl</a> = <a href="../../Option.scala.html#scala;Some" title="(x: Boolean)Some[Boolean]">Some</a><span class="delimiter">(</span>true<span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.n" title="Int">n</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        case <a href="../Text.scala.html#scala.xml.Text.unapply" title="(other: Any)Option[String]">Text</a><span class="delimiter">(</span><span title="String(&quot;no&quot;)" class="string">&quot;no&quot;</span><span class="delimiter">)</span>  =&gt;
          <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_stdl" title="Option[Boolean]">info_stdl</a> = <a href="../../Option.scala.html#scala;Some" title="(x: Boolean)Some[Boolean]">Some</a><span class="delimiter">(</span>false<span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.n" title="Int">n</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        case _           =&gt; <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;either \'yes\' or \'no\' expected&quot;)" class="string">&quot;either 'yes' or 'no' expected&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.m" title="scala.xml.MetaData">m</a>.<a href="../MetaData.scala.html#scala.xml;MetaData.length(f94e342797)" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.n" title="Int">n</a> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.prologOrTextDecl.s">s</a> = if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.isProlog" title="Boolean">isProlog</a><span class="delimiter">)</span> <span title="String(&quot;SDDecl? &quot;)" class="string">&quot;SDDecl? &quot;</span> else <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;VersionInfo EncodingDecl? %sor '?&gt;' expected!&quot;</a> <a href="../../collection/immutable/StringLike.scala.html#scala.collection.immutable;StringLike.format" title="(args: Any*)String">format</a> <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../../Tuple3.scala.html#scala;Tuple3" title="(_1: Option[String], _2: Option[String], _3: Option[Boolean])(Option[String], Option[String], Option[Boolean])" class="delimiter">(</a><a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_ver" title="Option[String]">info_ver</a>, <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_enc" title="Option[String]">info_enc</a>, <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl.info_stdl" title="Option[Boolean]">info_stdl</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  &lt;? prolog ::= xml S?
   *  // this is a bit more lenient than necessary...
   *  }}}
   */</span>
  def <a title="()(Option[String], Option[String], Option[Boolean])" id="scala.xml.parsing;MarkupParser.prolog">prolog</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Tuple3.scala.html#scala;Tuple3" title="(Option[String], Option[String], Option[Boolean])" class="delimiter">(</a>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl" title="(isProlog: Boolean)(Option[String], Option[String], Option[Boolean])">prologOrTextDecl</a><span class="delimiter">(</span>isProlog = true<span class="delimiter">)</span>

  <span class="comment">/** prolog, but without standalone */</span>
  def <a title="()(Option[String], Option[String])" id="scala.xml.parsing;MarkupParser.textDecl">textDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="(Option[String], Option[String])" class="delimiter">(</a>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#scala.xml.parsing;MarkupParser.prologOrTextDecl" title="(isProlog: Boolean)(Option[String], Option[String], Option[Boolean])">prologOrTextDecl</a><span class="delimiter">(</span>isProlog = false<span class="delimiter">)</span> match <span class="delimiter">{</span> case <span class="delimiter">(</span><a title="Option[String]" id="scala.xml.parsing;MarkupParser.textDecl.x1">x1</a>, <a title="Option[String]" id="scala.xml.parsing;MarkupParser.textDecl.x2">x2</a>, _<span class="delimiter">)</span> =&gt; <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: Option[String], _2: Option[String])(Option[String], Option[String])" class="delimiter">(</a><a href="#scala.xml.parsing;MarkupParser.textDecl.x1" title="Option[String]">x1</a>, <a href="#scala.xml.parsing;MarkupParser.textDecl.x2" title="Option[String]">x2</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  [22]     prolog      ::= XMLDecl? Misc* (doctypedecl Misc*)?
   *  [23]     XMLDecl     ::= '&lt;?xml' VersionInfo EncodingDecl? SDDecl? S? '?&gt;'
   *  [24]     VersionInfo ::= S 'version' Eq (&quot;'&quot; VersionNum &quot;'&quot; | '&quot;' VersionNum '&quot;')
   *  [25]     Eq          ::= S? '=' S?
   *  [26]     VersionNum  ::= '1.0'
   *  [27]     Misc        ::= Comment | PI | S
   * }}}
   */</span>
  def <a title="()scala.xml.Document" id="scala.xml.parsing;MarkupParser.document">document</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../Document.scala.html#scala.xml;Document" title="scala.xml.Document">Document</a> = <span class="delimiter">{</span>
    <a href="#scala.xml.parsing;MarkupParser.doc_=" title="(x$1: scala.xml.Document)Unit">doc</a> = new <a href="../Document.scala.html#scala.xml;Document" title="scala.xml.Document">Document</a><span class="delimiter">(</span><span class="delimiter">)</span>

    this.<a href="#scala.xml.parsing;MarkupParser.dtd_=" title="(x$1: scala.xml.dtd.DTD)Unit">dtd</a> = null
    var <a title="(Option[String], Option[String], Option[Boolean])" id="scala.xml.parsing;MarkupParser.document.info_prolog">info_prolog</a>: <a href="../../Tuple3.scala.html#scala;Tuple3" title="(Option[String], Option[String], Option[Boolean])" class="delimiter">(</a>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple3.scala.html#scala;Tuple3" title="(_1: None.type, _2: None.type, _3: None.type)(None.type, None.type, None.type)" class="delimiter">(</a><a href="../../Option.scala.html#scala.None" title="None.type">None</a>, <a href="../../Option.scala.html#scala.None" title="None.type">None</a>, <a href="../../Option.scala.html#scala.None" title="None.type">None</a><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span title="Char('&lt;')" class="char">'&lt;'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;&lt; expected&quot;)" class="string">&quot;&lt; expected&quot;</span><span class="delimiter">)</span>
      return null
    <span class="delimiter">}</span>

    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// is prolog ?</span>
    var <a title="scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.document.children">children</a>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = null
    if <span class="delimiter">(</span><span title="Char('?')" class="char">'?'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.document.info_prolog" title="(Option[String], Option[String], Option[Boolean])">info_prolog</a> = <a href="#scala.xml.parsing;MarkupParser.prolog" title="()(Option[String], Option[String], Option[Boolean])">prolog</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>.<a href="../Document.scala.html#scala.xml;Document.version_=" title="(x$1: Option[String])Unit">version</a> = <a href="#scala.xml.parsing;MarkupParser.document.info_prolog" title="(Option[String], Option[String], Option[Boolean])">info_prolog</a>.<a href="../../Tuple3.scala.html#scala;Tuple3._1" title="=&gt; Option[String]">_1</a>
      <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>.<a href="../Document.scala.html#scala.xml;Document.encoding_=" title="(x$1: Option[String])Unit">encoding</a> = <a href="#scala.xml.parsing;MarkupParser.document.info_prolog" title="(Option[String], Option[String], Option[Boolean])">info_prolog</a>.<a href="../../Tuple3.scala.html#scala;Tuple3._2" title="=&gt; Option[String]">_2</a>
      <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>.<a href="../Document.scala.html#scala.xml;Document.standAlone_=" title="(x$1: Option[Boolean])Unit">standAlone</a> = <a href="#scala.xml.parsing;MarkupParser.document.info_prolog" title="(Option[String], Option[String], Option[Boolean])">info_prolog</a>.<a href="../../Tuple3.scala.html#scala;Tuple3._3" title="=&gt; Option[Boolean]">_3</a>

      <a href="#scala.xml.parsing;MarkupParser.document.children" title="scala.xml.NodeSeq">children</a> = <a href="#scala.xml.parsing;MarkupParser.content" title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq">content</a><span class="delimiter">(</span><a href="../TopScope.scala.html#scala.xml.TopScope" title="scala.xml.TopScope.type">TopScope</a><span class="delimiter">)</span> <span class="comment">// DTD handled as side effect</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      val <a title="scala.xml.NodeBuffer" id="scala.xml.parsing;MarkupParser.document.ts">ts</a> = new <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer" title="scala.xml.NodeBuffer">NodeBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.content1" title="(pscope: scala.xml.NamespaceBinding, ts: scala.xml.NodeBuffer)Unit">content1</a><span class="delimiter">(</span><a href="../TopScope.scala.html#scala.xml.TopScope" title="scala.xml.TopScope.type">TopScope</a>, <a href="#scala.xml.parsing;MarkupParser.document.ts" title="scala.xml.NodeBuffer">ts</a><span class="delimiter">)</span> <span class="comment">// DTD handled as side effect</span>
      <a href="#scala.xml.parsing;MarkupParser.document.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.content" title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq">content</a><span class="delimiter">(</span><a href="../TopScope.scala.html#scala.xml.TopScope" title="scala.xml.TopScope.type">TopScope</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.document.children" title="scala.xml.NodeSeq">children</a> = <a href="../NodeSeq.scala.html#scala.xml.NodeSeq" title="scala.xml.NodeSeq.type">NodeSeq</a>.<a href="../NodeSeq.scala.html#scala.xml.NodeSeq.fromSeq" title="(s: Seq[scala.xml.Node])scala.xml.NodeSeq">fromSeq</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.document.ts" title="scala.xml.NodeBuffer">ts</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">//println(&quot;[MarkupParser::document] children now: &quot;+children.toList)</span>
    var <a title="Int" id="scala.xml.parsing;MarkupParser.document.elemCount">elemCount</a> = <span title="Int(0)" class="int">0</span>
    var <a title="scala.xml.Node" id="scala.xml.parsing;MarkupParser.document.theNode">theNode</a>: <a href="../Node.scala.html#scala.xml;Node" title="scala.xml.Node">Node</a> = null
    for <span class="delimiter">(</span><a title="scala.xml.Node" id="scala.xml.parsing;MarkupParser.document.$anonfun.c">c</a> &lt;- <a href="../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: scala.xml.Node =&gt; Unit)Unit">children</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.document.$anonfun.c" title="scala.xml.Node">c</a> match <span class="delimiter">{</span>
      case _: <a href="../ProcInstr.scala.html#scala.xml;ProcInstr" title="scala.xml.ProcInstr">ProcInstr</a> =&gt;
      case _: <a href="../Comment.scala.html#scala.xml;Comment" title="scala.xml.Comment">Comment</a>   =&gt;
      case _: <a href="../EntityRef.scala.html#scala.xml;EntityRef" title="scala.xml.EntityRef">EntityRef</a> =&gt; <span class="comment">// todo: fix entities, shouldn't be &quot;special&quot;</span>
        <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;no entity references allowed here&quot;)" class="string">&quot;no entity references allowed here&quot;</span><span class="delimiter">)</span>
      case <a title="scala.xml.SpecialNode" id="scala.xml.parsing;MarkupParser.document.$anonfun.s">s</a>: <a href="../SpecialNode.scala.html#scala.xml;SpecialNode" title="scala.xml.SpecialNode">SpecialNode</a> =&gt;
        if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.document.$anonfun.s" title="scala.xml.SpecialNode">s</a>.<a href="../Node.scala.html#scala.xml;Node.toString" title="()String">toString</a>.<span title="()String">trim</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Int">length</span> <a href="../../Int.scala.html#scala;Int.>(5f58a84eb3)" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="comment">//non-empty text nodes not allowed</span>
          <a href="#scala.xml.parsing;MarkupParser.document.elemCount" title="Int">elemCount</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>
      case <a title="scala.xml.Node" id="scala.xml.parsing;MarkupParser.document.$anonfun.m">m</a>: <a href="../Node.scala.html#scala.xml;Node" title="scala.xml.Node">Node</a> =&gt;
        <a href="#scala.xml.parsing;MarkupParser.document.elemCount" title="Int">elemCount</a> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#scala.xml.parsing;MarkupParser.document.theNode" title="scala.xml.Node">theNode</a> = <a href="#scala.xml.parsing;MarkupParser.document.$anonfun.m" title="scala.xml.Node">m</a>
    <span class="delimiter">}</span>
    if <span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#scala;Int.!=(5f58a84eb3)" title="(x: Int)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.document.elemCount" title="Int">elemCount</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;document must contain exactly one element&quot;)" class="string">&quot;document must contain exactly one element&quot;</span><span class="delimiter">)</span>
      <a href="../../Console.scala.html#scala.Console" title="Console.type">Console</a>.<a href="../../Console.scala.html#scala.Console.println(b0c81b2e65)" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.document.children" title="scala.xml.NodeSeq">children</a>.<a href="../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[scala.xml.Node]">toList</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>.<a href="../Document.scala.html#scala.xml;Document.children_=" title="(x$1: Seq[scala.xml.Node])Unit">children</a> = <a href="#scala.xml.parsing;MarkupParser.document.children" title="scala.xml.NodeSeq">children</a>
    <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>.<a href="../Document.scala.html#scala.xml;Document.docElem_=" title="(x$1: scala.xml.Node)Unit">docElem</a> = <a href="#scala.xml.parsing;MarkupParser.document.theNode" title="scala.xml.Node">theNode</a>
    <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>
  <span class="delimiter">}</span>

  <span class="comment">/** append Unicode character to name buffer*/</span>
  protected def <a title="(c: Char)StringBuilder" id="scala.xml.parsing;MarkupParser.putChar">putChar</a><span class="delimiter">(</span><a title="Char" id="scala.xml.parsing;MarkupParser.putChar.c">c</a>: <a href="../../Char.scala.html#scala;Char" title="Char">Char</a><span class="delimiter">)</span> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a> <a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.append(5aefef7300)" title="(x: Char)StringBuilder">append</a> <a href="#scala.xml.parsing;MarkupParser.putChar.c" title="Char">c</a>

  <span class="comment">/**
   * As the current code requires you to call nextch once manually
   *  after construction, this method formalizes that suboptimal reality.
   */</span>
  def <a title="=&gt; scala.xml.parsing.&lt;refinement&gt;.type" id="scala.xml.parsing;MarkupParser.initialize">initialize</a>: this.type = <span class="delimiter">{</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    this
  <span class="delimiter">}</span>

  protected def <a title="=&gt; Char" id="scala.xml.parsing;MarkupParser.ch_returning_nextch">ch_returning_nextch</a>: <a href="../../Char.scala.html#scala;Char" title="Char">Char</a> = <span class="delimiter">{</span> val <a title="Char" id="scala.xml.parsing;MarkupParser.ch_returning_nextch.res">res</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>; <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.ch_returning_nextch.res" title="Char">res</a> <span class="delimiter">}</span>

  def <a title="(name: String, pscope: scala.xml.NamespaceBinding)MarkupParser.this.AttributesType" id="scala.xml.parsing;MarkupParser.mkAttributes">mkAttributes</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.mkAttributes.name">name</a>: <span title="String">String</span>, <a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.mkAttributes.pscope">pscope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">)</span>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="MarkupParser.this.AttributesType">AttributesType</a> =
    if <span class="delimiter">(</span><a href="TokenTests.scala.html#scala.xml.parsing;TokenTests.isNameStart" title="(ch: Char)Boolean">isNameStart</a> <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.xAttributes" title="(pscope: scala.xml.NamespaceBinding)(scala.xml.MetaData, scala.xml.NamespaceBinding)">xAttributes</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.mkAttributes.pscope" title="scala.xml.NamespaceBinding">pscope</a><span class="delimiter">)</span>
    else <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.xml.Null.type, _2: scala.xml.NamespaceBinding)(scala.xml.Null.type, scala.xml.NamespaceBinding)" class="delimiter">(</a><a href="../Null.scala.html#scala.xml.Null" title="scala.xml.Null.type">Null</a>, <a href="#scala.xml.parsing;MarkupParser.mkAttributes.pscope" title="scala.xml.NamespaceBinding">pscope</a><span class="delimiter">)</span>

  def <a title="(position: Int, name: String, text: String)MarkupParser.this.ElementType" id="scala.xml.parsing;MarkupParser.mkProcInstr">mkProcInstr</a><span class="delimiter">(</span><a title="Int" id="scala.xml.parsing;MarkupParser.mkProcInstr.position">position</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="String" id="scala.xml.parsing;MarkupParser.mkProcInstr.name">name</a>: <span title="String">String</span>, <a title="String" id="scala.xml.parsing;MarkupParser.mkProcInstr.text">text</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="MarkupParser.this.ElementType">ElementType</a> =
    <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.procInstr" title="(pos: Int, target: String, txt: String)scala.xml.NodeSeq">procInstr</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.mkProcInstr.position" title="Int">position</a>, <a href="#scala.xml.parsing;MarkupParser.mkProcInstr.name" title="String">name</a>, <a href="#scala.xml.parsing;MarkupParser.mkProcInstr.text" title="String">text</a><span class="delimiter">)</span>

  <span class="comment">/** this method tells ch to get the next character when next called */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.nextch">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">// Read current ch if needed</span>
    <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>

    <span class="comment">// Mark next ch to be required</span>
    <a href="#scala.xml.parsing;MarkupParser.nextChNeeded_=" title="(x$1: Boolean)Unit">nextChNeeded</a> = true
  <span class="delimiter">}</span>

  <span class="comment">/**
   * parse attribute and create namespace scope, metadata
   *  {{{
   *  [41] Attributes    ::= { S Name Eq AttValue }
   *  }}}
   */</span>
  def <a title="(pscope: scala.xml.NamespaceBinding)(scala.xml.MetaData, scala.xml.NamespaceBinding)" id="scala.xml.parsing;MarkupParser.xAttributes">xAttributes</a><span class="delimiter">(</span><a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.xAttributes.pscope">pscope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">)</span>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="(scala.xml.MetaData, scala.xml.NamespaceBinding)" class="delimiter">(</a>MetaData, NamespaceBinding<span class="delimiter">)</span> = <span class="delimiter">{</span>
    var <a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.xAttributes.scope">scope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a> = <a href="#scala.xml.parsing;MarkupParser.xAttributes.pscope" title="scala.xml.NamespaceBinding">pscope</a>
    var <a title="scala.xml.MetaData" id="scala.xml.parsing;MarkupParser.xAttributes.aMap">aMap</a>: <a href="../MetaData.scala.html#scala.xml;MetaData" title="scala.xml.MetaData">MetaData</a> = <a href="../Null.scala.html#scala.xml.Null" title="scala.xml.Null.type">Null</a>
    while <span class="delimiter">(</span><a href="TokenTests.scala.html#scala.xml.parsing;TokenTests.isNameStart" title="(ch: Char)Boolean">isNameStart</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.xAttributes.while$1" title="()Unit" class="delimiter">{</a>
      val <a title="String" id="scala.xml.parsing;MarkupParser.xAttributes.qname">qname</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xEQ" title="()Unit">xEQ</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// side effect</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.xAttributes.value">value</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xAttributeValue(612e557918)" title="()String">xAttributeValue</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="../Utility.scala.html#scala.xml.Utility" title="scala.xml.Utility.type">Utility</a>.<a href="../Utility.scala.html#scala.xml.Utility.prefix" title="(name: String)Option[String]">prefix</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
        case Some<span class="delimiter">(</span><span title="String(&quot;xmlns&quot;)" class="string">&quot;xmlns&quot;</span><span class="delimiter">)</span> =&gt;
          val <span title="String">prefix</span> = <a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(6)" class="int">6</span> <span class="comment">/*xmlns:*/</span> , <a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a>.<span title="()Int">length</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.xAttributes.scope" title="scala.xml.NamespaceBinding">scope</a> = new <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">(</span><span title="String">prefix</span>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.value" title="String">value</a>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span>

        case Some<span class="delimiter">(</span><span title="String">prefix</span><span class="delimiter">)</span> =&gt;
          val <a title="String" id="scala.xml.parsing;MarkupParser.xAttributes.key">key</a> = <a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="String">prefix</span>.<span title="()Int">length</span> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a>.<span title="()Int">length</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.xAttributes.aMap" title="scala.xml.MetaData">aMap</a> = new <a href="../PrefixedAttribute.scala.html#scala.xml;PrefixedAttribute" title="scala.xml.PrefixedAttribute">PrefixedAttribute</a><span class="delimiter">(</span><span title="String">prefix</span>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.key" title="String">key</a>, <a href="../Text.scala.html#scala.xml.Text.apply" title="(data: String)scala.xml.Text">Text</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xAttributes.value" title="String">value</a><span class="delimiter">)</span>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.aMap" title="scala.xml.MetaData">aMap</a><span class="delimiter">)</span>

        case _ =&gt;
          if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a> <span title="(x$1: Any)Boolean">==</span> <span title="String(&quot;xmlns&quot;)" class="string">&quot;xmlns&quot;</span><span class="delimiter">)</span>
            <a href="#scala.xml.parsing;MarkupParser.xAttributes.scope" title="scala.xml.NamespaceBinding">scope</a> = new <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">(</span>null, <a href="#scala.xml.parsing;MarkupParser.xAttributes.value" title="String">value</a>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span>
          else
            <a href="#scala.xml.parsing;MarkupParser.xAttributes.aMap" title="scala.xml.MetaData">aMap</a> = new <a href="../UnprefixedAttribute.scala.html#scala.xml;UnprefixedAttribute" title="scala.xml.UnprefixedAttribute">UnprefixedAttribute</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xAttributes.qname" title="String">qname</a>, <a href="../Text.scala.html#scala.xml.Text.apply" title="(data: String)scala.xml.Text">Text</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xAttributes.value" title="String">value</a><span class="delimiter">)</span>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.aMap" title="scala.xml.MetaData">aMap</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      if <span class="delimiter">(</span><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span title="Char('?')" class="char">'?'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.xAttributes.aMap" title="scala.xml.MetaData">aMap</a>.<a href="../MetaData.scala.html#scala.xml;MetaData.wellformed" title="(scope: scala.xml.NamespaceBinding)Boolean">wellformed</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xAttributes.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;double attribute&quot;)" class="string">&quot;double attribute&quot;</span><span class="delimiter">)</span>

    <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: scala.xml.MetaData, _2: scala.xml.NamespaceBinding)(scala.xml.MetaData, scala.xml.NamespaceBinding)" class="delimiter">(</a><a href="#scala.xml.parsing;MarkupParser.xAttributes.aMap" title="scala.xml.MetaData">aMap</a>, <a href="#scala.xml.parsing;MarkupParser.xAttributes.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * entity value, terminated by either ' or &quot;. value may not contain &amp;lt;.
   *  {{{
   *       AttValue     ::= `'` { _  } `'`
   *                      | `&quot;` { _ } `&quot;`
   *  }}}
   */</span>
  def <a title="()String" id="scala.xml.parsing;MarkupParser.xEntityValue">xEntityValue</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="Char" id="scala.xml.parsing;MarkupParser.xEntityValue.endch">endch</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    while <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.xEntityValue.endch" title="Char">endch</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.xEntityValue.while$2" title="()Unit" class="delimiter">{</a>
      <a href="#scala.xml.parsing;MarkupParser.putChar" title="(c: Char)StringBuilder">putChar</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.xEntityValue.str">str</a> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>
    <a href="#scala.xml.parsing;MarkupParser.xEntityValue.str" title="String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  '&lt;! CharData ::= [CDATA[ ( {char} - {char}&quot;]]&gt;&quot;{char} ) ']]&gt;'
   *
   *  see [15]
   *  }}}
   */</span>
  def <a title="=&gt; scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.xCharData">xCharData</a>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = <span class="delimiter">{</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;[CDATA[&quot;</a><span class="delimiter">)</span>
    def <a title="(pos: Int, s: String)scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.xCharData.mkResult">mkResult</a><span class="delimiter">(</span><a title="Int" id="scala.xml.parsing;MarkupParser.xCharData.mkResult.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="String" id="scala.xml.parsing;MarkupParser.xCharData.mkResult.s">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.text" title="(pos: Int, txt: String)scala.xml.NodeSeq">text</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xCharData.mkResult.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.xCharData.mkResult.s" title="String">s</a><span class="delimiter">)</span>
      <a href="../PCData.scala.html#scala.xml.PCData.apply" title="(data: String)scala.xml.PCData">PCData</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xCharData.mkResult.s" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xTakeUntil" title="(handler: (MarkupParser.this.PositionType, String) =&gt; scala.xml.NodeSeq, positioner: () =&gt; MarkupParser.this.PositionType, until: String)scala.xml.NodeSeq">xTakeUntil</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.xCharData.mkResult" title="(pos: Int, s: String)scala.xml.NodeSeq">mkResult</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#scala.xml.parsing;MarkupParser.pos_=" title="=&gt; Int">pos</a>, <span title="String(&quot;]]&gt;&quot;)" class="string">&quot;]]&gt;&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  Comment ::= '&lt;!--' ((Char - '-') | ('-' (Char - '-')))* '--&gt;'
   *
   * see [15]
   *  }}}
   */</span>
  def <a title="=&gt; scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.xComment">xComment</a>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = <span class="delimiter">{</span>
    val <a title="StringBuilder" id="scala.xml.parsing;MarkupParser.xComment.sb">sb</a>: <a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder" title="StringBuilder">StringBuilder</a> = new <a href="../../package.scala.html#scala.package;StringBuilder" title="StringBuilder">StringBuilder</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;--&quot;</a><span class="delimiter">)</span>
    while <span class="delimiter">(</span>true<span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.xComment.while$3" title="()Unit" class="delimiter">{</a>
      if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('-')" class="char">'-'</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span> <a href="#scala.xml.parsing;MarkupParser.xComment.sb" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.append(5aefef7300)" title="(x: Char)StringBuilder">append</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('-')" class="char">'-'</span> <span class="delimiter">}</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.xml.parsing;MarkupParser.xComment.sb" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <a href="#scala.xml.parsing;MarkupParser.xComment.sb" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.-(1409840560)" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
        return <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.comment" title="(pos: Int, comment: String)scala.xml.NodeSeq">comment</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.pos_=" title="=&gt; Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.xComment.sb" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else <a href="#scala.xml.parsing;MarkupParser.xComment.sb" title="StringBuilder">sb</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.append(5aefef7300)" title="(x: Char)StringBuilder">append</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    throw <a href="FatalError.scala.html#scala.xml.parsing;FatalError" title="(msg: String)scala.xml.parsing.FatalError">FatalError</a><span class="delimiter">(</span><span title="String(&quot;this cannot happen&quot;)" class="string">&quot;this cannot happen&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/* todo: move this into the NodeBuilder class */</span>
  def <a title="(pos: Int, ts: scala.xml.NodeBuffer, txt: String)Unit" id="scala.xml.parsing;MarkupParser.appendText">appendText</a><span class="delimiter">(</span><a title="Int" id="scala.xml.parsing;MarkupParser.appendText.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="scala.xml.NodeBuffer" id="scala.xml.parsing;MarkupParser.appendText.ts">ts</a>: <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer" title="scala.xml.NodeBuffer">NodeBuffer</a>, <a title="String" id="scala.xml.parsing;MarkupParser.appendText.txt">txt</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.preserveWS" title="=&gt; Boolean">preserveWS</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.appendText.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.text" title="(pos: Int, txt: String)scala.xml.NodeSeq">text</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.appendText.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.appendText.txt" title="String">txt</a><span class="delimiter">)</span>
    else
      for <span class="delimiter">(</span><a title="scala.xml.Text" id="scala.xml.parsing;MarkupParser.appendText.$anonfun.t">t</a> &lt;- <a href="../TextBuffer.scala.html#scala.xml.TextBuffer" title="scala.xml.TextBuffer.type">TextBuffer</a>.<a href="../TextBuffer.scala.html#scala.xml.TextBuffer.fromString" title="(str: String)scala.xml.TextBuffer">fromString</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.appendText.txt" title="String">txt</a><span class="delimiter">)</span>.<a href="../../collection/IterableLike.scala.html#scala.collection;IterableLike.foreach" title="(f: scala.xml.Text =&gt; scala.xml.NodeBuffer)Unit">toText</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.xml.parsing;MarkupParser.appendText.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.text" title="(pos: Int, txt: String)scala.xml.NodeSeq">text</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.appendText.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.appendText.$anonfun.t" title="scala.xml.Text">t</a>.<a href="../Atom.scala.html#scala.xml;Atom.text" title="=&gt; String">text</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  '&lt;' content1 ::=  ...
   *  }}}
   */</span>
  def <a title="(pscope: scala.xml.NamespaceBinding, ts: scala.xml.NodeBuffer)Unit" id="scala.xml.parsing;MarkupParser.content1">content1</a><span class="delimiter">(</span><a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.content1.pscope">pscope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a>, <a title="scala.xml.NodeBuffer" id="scala.xml.parsing;MarkupParser.content1.ts">ts</a>: <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer" title="scala.xml.NodeBuffer">NodeBuffer</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
      case <span title="Char('!')" class="char">'!'</span> =&gt;
        <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><span title="Char('[')" class="char">'['</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="comment">// CDATA</span>
          <a href="#scala.xml.parsing;MarkupParser.content1.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.xCharData" title="=&gt; scala.xml.NodeSeq">xCharData</a>
        else if <span class="delimiter">(</span><span title="Char('D')" class="char">'D'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="comment">// doctypedecl, parse DTD // @todo REMOVE HACK</span>
          <a href="#scala.xml.parsing;MarkupParser.parseDTD" title="()Unit">parseDTD</a><span class="delimiter">(</span><span class="delimiter">)</span>
        else <span class="comment">// comment</span>
          <a href="#scala.xml.parsing;MarkupParser.content1.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.xComment" title="=&gt; scala.xml.NodeSeq">xComment</a>
      case <span title="Char('?')" class="char">'?'</span> =&gt; <span class="comment">// PI</span>
        <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.content1.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xProcInstr" title="=&gt; MarkupParser.this.ElementType">xProcInstr</a>
      case _ =&gt;
        <a href="#scala.xml.parsing;MarkupParser.content1.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.element1" title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq">element1</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.content1.pscope" title="scala.xml.NamespaceBinding">pscope</a><span class="delimiter">)</span> <span class="comment">// child</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  content1 ::=  '&lt;' content1 | '&amp;' charref ...
   *  }}}
   */</span>
  def <a title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.content">content</a><span class="delimiter">(</span><a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.content.pscope">pscope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">)</span>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = <span class="delimiter">{</span>
    val <a title="scala.xml.NodeBuffer" id="scala.xml.parsing;MarkupParser.content.ts">ts</a> = new <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer" title="scala.xml.NodeBuffer">NodeBuffer</a>
    var <a title="Boolean" id="scala.xml.parsing;MarkupParser.content.exit">exit</a> = <a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a>
    <span class="comment">// todo: optimize seq repr.</span>
    def <a title="=&gt; scala.xml.NodeSeq{val theSeq: List[scala.xml.Node]}" id="scala.xml.parsing;MarkupParser.content.done">done</a> = new <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="&lt;$anon: Int =&gt; scala.xml.Node&gt; extends scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.content.done;$anon">NodeSeq</a> <span class="delimiter">{</span> val <a title="List[scala.xml.Node]" id="scala.xml.parsing;MarkupParser.content.done;$anon.theSeq">theSeq</a> = <a href="#scala.xml.parsing;MarkupParser.content.ts" title="scala.xml.NodeBuffer">ts</a>.<a href="../../collection/TraversableOnce.scala.html#scala.collection;TraversableOnce.toList" title="=&gt; List[scala.xml.Node]">toList</a> <span class="delimiter">}</span>

    while <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.content.exit" title="Boolean">exit</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.content.while$4" title="()Unit" class="delimiter">{</a>
      <a href="#scala.xml.parsing;MarkupParser.tmppos_=" title="(x$1: Int)Unit">tmppos</a> = <a href="#scala.xml.parsing;MarkupParser.pos_=" title="=&gt; Int">pos</a>
      <a href="#scala.xml.parsing;MarkupParser.content.exit" title="Boolean">exit</a> = <a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a>

      if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span>
        return <a href="#scala.xml.parsing;MarkupParser.content.done" title="=&gt; scala.xml.NodeSeq{val theSeq: List[scala.xml.Node]}">done</a>

      <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
        case <span title="Char('&lt;')" class="char">'&lt;'</span> =&gt; <span class="comment">// another tag</span>
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
            case <span title="Char('/')" class="char">'/'</span> =&gt; <a href="#scala.xml.parsing;MarkupParser.content.exit" title="Boolean">exit</a> = true <span class="comment">// end tag</span>
            case _   =&gt; <a href="#scala.xml.parsing;MarkupParser.content1" title="(pscope: scala.xml.NamespaceBinding, ts: scala.xml.NodeBuffer)Unit">content1</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.content.pscope" title="scala.xml.NamespaceBinding">pscope</a>, <a href="#scala.xml.parsing;MarkupParser.content.ts" title="scala.xml.NodeBuffer">ts</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="comment">// postcond: xEmbeddedBlock == false!</span>
        case <span title="Char('&amp;')" class="char">'&amp;'</span> =&gt; <span class="comment">// EntityRef or CharRef</span>
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
            case <span title="Char('#')" class="char">'#'</span> =&gt; <span class="comment">// CharacterRef</span>
              <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
              val <a title="scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.content.theChar">theChar</a> = <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.text" title="(pos: Int, txt: String)scala.xml.NodeSeq">text</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.tmppos_=" title="=&gt; Int">tmppos</a>, <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xCharRef(c3d9d70bf7)" title="(ch: () =&gt; Char, nextch: () =&gt; Unit)String">xCharRef</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char(';')" class="char">';'</span><span class="delimiter">)</span>
              <a href="#scala.xml.parsing;MarkupParser.content.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="#scala.xml.parsing;MarkupParser.content.theChar" title="scala.xml.NodeSeq">theChar</a>
            case _ =&gt; <span class="comment">// EntityRef</span>
              val <a title="String" id="scala.xml.parsing;MarkupParser.content.n">n</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char(';')" class="char">';'</span><span class="delimiter">)</span>

              if <span class="delimiter">(</span><a href="../Utility.scala.html#scala.xml.Utility.Escapes.pairs" title="=&gt; scala.collection.immutable.Map[String,Char]">unescape</a> <a href="../../collection/MapLike.scala.html#scala.collection;MapLike.contains" title="(key: String)Boolean">contains</a> <a href="#scala.xml.parsing;MarkupParser.content.n" title="String">n</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.entityRef" title="(pos: Int, n: String)scala.xml.NodeSeq">entityRef</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.tmppos_=" title="=&gt; Int">tmppos</a>, <a href="#scala.xml.parsing;MarkupParser.content.n" title="String">n</a><span class="delimiter">)</span>
                <a href="#scala.xml.parsing;MarkupParser.content.ts" title="scala.xml.NodeBuffer">ts</a> <a href="../NodeBuffer.scala.html#scala.xml;NodeBuffer.&+" title="(o: Any)scala.xml.NodeBuffer">&amp;+</a> <a href="../../collection/MapLike.scala.html#scala.collection;MapLike.apply" title="(key: String)Char">unescape</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.content.n" title="String">n</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> else <a href="#scala.xml.parsing;MarkupParser.push" title="(entityName: String)Unit">push</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.content.n" title="String">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        case _ =&gt; <span class="comment">// text content</span>
          <a href="#scala.xml.parsing;MarkupParser.appendText" title="(pos: Int, ts: scala.xml.NodeBuffer, txt: String)Unit">appendText</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.tmppos_=" title="=&gt; Int">tmppos</a>, <a href="#scala.xml.parsing;MarkupParser.content.ts" title="scala.xml.NodeBuffer">ts</a>, <a href="#scala.xml.parsing;MarkupParser.xText" title="=&gt; String">xText</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#scala.xml.parsing;MarkupParser.content.done" title="=&gt; scala.xml.NodeSeq{val theSeq: List[scala.xml.Node]}">done</a>
  <span class="delimiter">}</span> <span class="comment">// content(NamespaceBinding)</span>

  <span class="comment">/**
   * {{{
   *  externalID ::= SYSTEM S syslit
   *                 PUBLIC S pubid S syslit
   *  }}}
   */</span>
  def <a title="()scala.xml.dtd.ExternalID" id="scala.xml.parsing;MarkupParser.externalID">externalID</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../dtd/ExternalID.scala.html#scala.xml.dtd;ExternalID" title="scala.xml.dtd.ExternalID">ExternalID</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
    case <span title="Char('S')" class="char">'S'</span> =&gt;
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;YSTEM&quot;</a><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <span title="String">sysID</span> = <a href="#scala.xml.parsing;MarkupParser.systemLiteral" title="()String">systemLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>
      new <a href="../dtd/ExternalID.scala.html#scala.xml.dtd;SystemID" title="scala.xml.dtd.SystemID">SystemID</a><span class="delimiter">(</span><span title="String">sysID</span><span class="delimiter">)</span>
    case <span title="Char('P')" class="char">'P'</span> =&gt;
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;UBLIC&quot;</a><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.externalID.pubID">pubID</a> = <a href="#scala.xml.parsing;MarkupParser.pubidLiteral" title="()String">pubidLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <span title="String">sysID</span> = <a href="#scala.xml.parsing;MarkupParser.systemLiteral" title="()String">systemLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>
      new <a href="../dtd/ExternalID.scala.html#scala.xml.dtd;PublicID" title="scala.xml.dtd.PublicID">PublicID</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.externalID.pubID" title="String">pubID</a>, <span title="String">sysID</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * parses document type declaration and assigns it to instance variable
   *  dtd.
   *  {{{
   *  &lt;! parseDTD ::= DOCTYPE name ... &gt;
   *  }}}
   */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.parseDTD">parseDTD</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// dirty but fast</span>
    var <a title="scala.xml.dtd.ExternalID" id="scala.xml.parsing;MarkupParser.parseDTD.extID">extID</a>: <a href="../dtd/ExternalID.scala.html#scala.xml.dtd;ExternalID" title="scala.xml.dtd.ExternalID">ExternalID</a> = null
    if <span class="delimiter">(</span>this.<a href="#scala.xml.parsing;MarkupParser.dtd_=" title="=&gt; scala.xml.dtd.DTD">dtd</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;unexpected character (DOCTYPE already defined&quot;)" class="string">&quot;unexpected character (DOCTYPE already defined&quot;</span><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;DOCTYPE&quot;</a><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.parseDTD.n">n</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="comment">//external ID</span>
    if <span class="delimiter">(</span><span title="Char('S')" class="char">'S'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span title="Char('P')" class="char">'P'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.parseDTD.extID" title="scala.xml.dtd.ExternalID">extID</a> = <a href="#scala.xml.parsing;MarkupParser.externalID" title="()scala.xml.dtd.ExternalID">externalID</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* parse external subset of DTD
     */</span>

    if <span class="delimiter">(</span><span class="delimiter">(</span>null <span title="(x$1: Any)Boolean">!=</span> <a href="#scala.xml.parsing;MarkupParser.parseDTD.extID" title="scala.xml.dtd.ExternalID">extID</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.isValidating" title="=&gt; Boolean">isValidating</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <a href="#scala.xml.parsing;MarkupParser.pushExternal" title="(systemId: String)Unit">pushExternal</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.parseDTD.extID" title="scala.xml.dtd.ExternalID">extID</a>.<a href="../dtd/ExternalID.scala.html#scala.xml.dtd;ExternalID.systemId" title="=&gt; String">systemId</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.extIndex_=" title="(x$1: Int)Unit">extIndex</a> = <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>.<a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a>

      <a href="#scala.xml.parsing;MarkupParser.extSubset" title="()Unit">extSubset</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.pop" title="()Unit">pop</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.extIndex_=" title="(x$1: Int)Unit">extIndex</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="delimiter">}</span>

    if <span class="delimiter">(</span><span title="Char('[')" class="char">'['</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// internal subset</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">/* TODO */</span>
      <a href="#scala.xml.parsing;MarkupParser.intSubset" title="()Unit">intSubset</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">// TODO: do the DTD parsing?? ?!?!?!?!!</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char(']')" class="char">']'</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
    this.<a href="#scala.xml.parsing;MarkupParser.dtd_=" title="(x$1: scala.xml.dtd.DTD)Unit">dtd</a> = new <a href="../dtd/DTD.scala.html#scala.xml.dtd;DTD" title="&lt;$anon: scala.xml.dtd.DTD&gt; extends scala.xml.dtd.DTD" id="scala.xml.parsing;MarkupParser.parseDTD;$anon">DTD</a> <span class="delimiter">{</span>
      <span class="comment">/*override var*/</span> <a href="../dtd/DTD.scala.html#scala.xml.dtd;DTD.externalID_=" title="(x$1: scala.xml.dtd.ExternalID)Unit">externalID</a> = <a href="#scala.xml.parsing;MarkupParser.parseDTD.extID" title="scala.xml.dtd.ExternalID">extID</a>
      <span class="comment">/*override val */</span> <a href="../dtd/DTD.scala.html#scala.xml.dtd;DTD.decls_=" title="(x$1: List[scala.xml.dtd.Decl])Unit">decls</a> = <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.decls" title="=&gt; List[scala.xml.dtd.Decl]">decls</a>.<a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.reverse" title="=&gt; List[scala.xml.dtd.Decl]">reverse</a>
    <span class="delimiter">}</span>
    <span class="comment">//this.dtd.initializeEntities();</span>
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a> <span title="(x$1: AnyRef)Boolean">ne</span> null<span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.doc_=" title="=&gt; scala.xml.Document">doc</a>.<a href="../Document.scala.html#scala.xml;Document.dtd_=" title="(x$1: scala.xml.dtd.DTD)Unit">dtd</a> = this.<a href="#scala.xml.parsing;MarkupParser.dtd_=" title="=&gt; scala.xml.dtd.DTD">dtd</a>

    <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.endDTD" title="(n: String)Unit">endDTD</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.parseDTD.n" title="String">n</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.element">element</a><span class="delimiter">(</span><a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.element.pscope">pscope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">)</span>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = <span class="delimiter">{</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&lt;')" class="char">'&lt;'</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.element1" title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq">element1</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element.pscope" title="scala.xml.NamespaceBinding">pscope</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  '&lt;' element ::= xmlTag1 '&gt;'  { xmlExpr | '{' simpleExpr '}' } ETag
   *               | xmlTag1 '/' '&gt;'
   *  }}}
   */</span>
  def <a title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.element1">element1</a><span class="delimiter">(</span><a title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.element1.pscope">pscope</a>: <a href="../NamespaceBinding.scala.html#scala.xml;NamespaceBinding" title="scala.xml.NamespaceBinding">NamespaceBinding</a><span class="delimiter">)</span>: <a href="../NodeSeq.scala.html#scala.xml;NodeSeq" title="scala.xml.NodeSeq">NodeSeq</a> = <span class="delimiter">{</span>
    val <a title="Int" id="scala.xml.parsing;MarkupParser.element1.pos">pos</a> = this.<a href="#scala.xml.parsing;MarkupParser.pos_=" title="=&gt; Int">pos</a>
    val <a href="../../Tuple3.scala.html#scala;Tuple3" title="(String, scala.xml.MetaData, scala.xml.NamespaceBinding)" class="delimiter">(</a><a href="../../Tuple3.scala.html#scala;Tuple3._1" title="String" id="scala.xml.parsing;MarkupParser.element1.qname">qname</a>, <span class="delimiter">(</span><a href="../../Tuple3.scala.html#scala;Tuple3._2" title="scala.xml.MetaData" id="scala.xml.parsing;MarkupParser.element1.aMap">aMap</a>, <a href="../../Tuple3.scala.html#scala;Tuple3._3" title="scala.xml.NamespaceBinding" id="scala.xml.parsing;MarkupParser.element1.scope">scope</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xTag" title="(pscope: MarkupParser.this.NamespaceType)(String, MarkupParser.this.AttributesType)">xTag</a><a href="../../Tuple2.scala.html#scala;Tuple2" title="(String, MarkupParser.this.AttributesType) @unchecked" class="delimiter">(</a><a href="#scala.xml.parsing;MarkupParser.element1.pscope" title="scala.xml.NamespaceBinding">pscope</a><span class="delimiter">)</span>
    val <a href="../../Tuple2.scala.html#scala;Tuple2" title="(String, String)" class="delimiter">(</a><a href="../../Tuple2.scala.html#scala;Tuple2._1" title="String" id="scala.xml.parsing;MarkupParser.element1.pre">pre</a>, <a href="../../Tuple2.scala.html#scala;Tuple2._2" title="String" id="scala.xml.parsing;MarkupParser.element1.local">local</a><span class="delimiter">)</span> = <a href="../Utility.scala.html#scala.xml.Utility" title="scala.xml.Utility.type">Utility</a>.<a href="../Utility.scala.html#scala.xml.Utility.prefix" title="(name: String)Option[String]">prefix</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.qname" title="String">qname</a><span class="delimiter">)</span> match <span class="delimiter">{</span>
      case Some<span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.element1.x$3.p">p</a><span class="delimiter">)</span> =&gt; <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: String, _2: String)(String, String)" class="delimiter">(</a><a href="#scala.xml.parsing;MarkupParser.element1.x$3.p" title="String">p</a>, <a href="../../Predef.scala.html#scala.Predef.augmentString" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">qname</a> <a href="../../collection/IndexedSeqOptimized.scala.html#scala.collection;IndexedSeqOptimized.drop" title="(n: Int)String">drop</a> <a href="#scala.xml.parsing;MarkupParser.element1.x$3.p" title="String">p</a>.<span title="()Int">length</span> <a href="../../Int.scala.html#scala;Int.+(1409840560)" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      case _       =&gt; <a href="../../Tuple2.scala.html#scala;Tuple2" title="(_1: Null, _2: String)(Null, String)" class="delimiter">(</a>null, <a href="#scala.xml.parsing;MarkupParser.element1.qname" title="String">qname</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    val <a title="scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.element1.ts">ts</a> = <span class="delimiter">{</span>
      if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// empty element</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;/&gt;&quot;</a><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.elemStart" title="(pos: Int, pre: String, label: String, attrs: scala.xml.MetaData, scope: scala.xml.NamespaceBinding)Unit">elemStart</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.element1.pre" title="String">pre</a>, <a href="#scala.xml.parsing;MarkupParser.element1.local" title="String">local</a>, <a href="#scala.xml.parsing;MarkupParser.element1.aMap" title="scala.xml.MetaData">aMap</a>, <a href="#scala.xml.parsing;MarkupParser.element1.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span>
        <a href="../NodeSeq.scala.html#scala.xml.NodeSeq" title="scala.xml.NodeSeq.type">NodeSeq</a>.<a href="../NodeSeq.scala.html#scala.xml.NodeSeq.Empty" title="=&gt; scala.xml.NodeSeq">Empty</a>
      <span class="delimiter">}</span> else <span class="delimiter">{</span> <span class="comment">// element with content</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.elemStart" title="(pos: Int, pre: String, label: String, attrs: scala.xml.MetaData, scope: scala.xml.NamespaceBinding)Unit">elemStart</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.element1.pre" title="String">pre</a>, <a href="#scala.xml.parsing;MarkupParser.element1.local" title="String">local</a>, <a href="#scala.xml.parsing;MarkupParser.element1.aMap" title="scala.xml.MetaData">aMap</a>, <a href="#scala.xml.parsing;MarkupParser.element1.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span>
        val <a title="scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.element1.ts.tmp">tmp</a> = <a href="#scala.xml.parsing;MarkupParser.content" title="(pscope: scala.xml.NamespaceBinding)scala.xml.NodeSeq">content</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.scope" title="scala.xml.NamespaceBinding">scope</a><span class="delimiter">)</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xEndTag" title="(startName: String)Unit">xEndTag</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.qname" title="String">qname</a><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.element1.ts.tmp" title="scala.xml.NodeSeq">tmp</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    val <a title="scala.xml.NodeSeq" id="scala.xml.parsing;MarkupParser.element1.res">res</a> = <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.elem" title="(pos: Int, pre: String, label: String, attrs: scala.xml.MetaData, scope: scala.xml.NamespaceBinding, empty: Boolean, args: scala.xml.NodeSeq)scala.xml.NodeSeq">elem</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.element1.pre" title="String">pre</a>, <a href="#scala.xml.parsing;MarkupParser.element1.local" title="String">local</a>, <a href="#scala.xml.parsing;MarkupParser.element1.aMap" title="scala.xml.MetaData">aMap</a>, <a href="#scala.xml.parsing;MarkupParser.element1.scope" title="scala.xml.NamespaceBinding">scope</a>, <a href="#scala.xml.parsing;MarkupParser.element1.ts" title="scala.xml.NodeSeq">ts</a> <span title="(x$1: Any)Boolean">==</span> <a href="../NodeSeq.scala.html#scala.xml.NodeSeq" title="scala.xml.NodeSeq.type">NodeSeq</a>.<a href="../NodeSeq.scala.html#scala.xml.NodeSeq.Empty" title="=&gt; scala.xml.NodeSeq">Empty</a>, <a href="#scala.xml.parsing;MarkupParser.element1.ts" title="scala.xml.NodeSeq">ts</a><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.elemEnd" title="(pos: Int, pre: String, label: String)Unit">elemEnd</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.element1.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.element1.pre" title="String">pre</a>, <a href="#scala.xml.parsing;MarkupParser.element1.local" title="String">local</a><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.element1.res" title="scala.xml.NodeSeq">res</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * Parse character data.
   *
   *  precondition: `xEmbeddedBlock == false` (we are not in a scala block)
   */</span>
  private def <a title="=&gt; String" id="scala.xml.parsing;MarkupParser.xText">xText</a>: <span title="String">String</span> = <span class="delimiter">{</span>
    var <a title="Boolean" id="scala.xml.parsing;MarkupParser.xText.exit">exit</a> = false
    while <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.xText.exit" title="Boolean">exit</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.xText.while$5" title="()Unit" class="delimiter">{</a>
      <a href="#scala.xml.parsing;MarkupParser.putChar" title="(c: Char)StringBuilder">putChar</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#scala.xml.parsing;MarkupParser.xText.exit" title="Boolean">exit</a> = <a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('&lt;')" class="char">'&lt;'</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#scala;Boolean.||" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('&amp;')" class="char">'&amp;'</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.xText.str">str</a> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a>
    <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>
    <a href="#scala.xml.parsing;MarkupParser.xText.str" title="String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * attribute value, terminated by either ' or &quot;. value may not contain &amp;lt;.
   *  {{{
   *       AttValue     ::= `'` { _ } `'`
   *                      | `&quot;` { _ } `&quot;`
   *  }}}
   */</span>
  def <a title="()String" id="scala.xml.parsing;MarkupParser.systemLiteral">systemLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="Char" id="scala.xml.parsing;MarkupParser.systemLiteral.endch">endch</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('\'')" class="char">'\''</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('\&quot;')" class="char">'&quot;'</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;quote \' or \&quot; expected&quot;)" class="string">&quot;quote ' or \&quot; expected&quot;</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    while <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.systemLiteral.endch" title="Char">endch</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.systemLiteral.while$6" title="()Unit" class="delimiter">{</a>
      <a href="#scala.xml.parsing;MarkupParser.putChar" title="(c: Char)StringBuilder">putChar</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.systemLiteral.str">str</a> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>
    <a href="#scala.xml.parsing;MarkupParser.systemLiteral.str" title="String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  [12]       PubidLiteral ::=        '&quot;' PubidChar* '&quot;' | &quot;'&quot; (PubidChar - &quot;'&quot;)* &quot;'&quot;
   *  }}}
   */</span>
  def <a title="()String" id="scala.xml.parsing;MarkupParser.pubidLiteral">pubidLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    val <a title="Char" id="scala.xml.parsing;MarkupParser.pubidLiteral.endch">endch</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('\'')" class="char">'\''</span> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('\&quot;')" class="char">'&quot;'</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;quote \' or \&quot; expected&quot;)" class="string">&quot;quote ' or \&quot; expected&quot;</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    while <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.pubidLiteral.endch" title="Char">endch</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.pubidLiteral.while$7" title="()Unit" class="delimiter">{</a>
      <a href="#scala.xml.parsing;MarkupParser.putChar" title="(c: Char)StringBuilder">putChar</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <span class="comment">//println(&quot;hello '&quot;+ch+&quot;'&quot;+isPubIDChar(ch))</span>
      if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="TokenTests.scala.html#scala.xml.parsing;TokenTests.isPubIDChar" title="(ch: Char)Boolean">isPubIDChar</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;char \'&quot;)" class="string">&quot;char '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' is not allowed in public id&quot;)" class="string">&quot;' is not allowed in public id&quot;</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.pubidLiteral.str">str</a> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a>
    <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>
    <a href="#scala.xml.parsing;MarkupParser.pubidLiteral.str" title="String">str</a>
  <span class="delimiter">}</span>

  <span class="comment">//</span>
  <span class="comment">//  dtd parsing</span>
  <span class="comment">//</span>

  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.extSubset">extSubset</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <span class="delimiter">{</span>
    var <a title="(Option[String], Option[String])" id="scala.xml.parsing;MarkupParser.extSubset.textdecl">textdecl</a>: <a href="../../Tuple2.scala.html#scala;Tuple2" title="(Option[String], Option[String])" class="delimiter">(</a>Option<span class="delimiter">[</span>String<span class="delimiter">]</span>, Option<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = null
    if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('&lt;')" class="char">'&lt;'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('?')" class="char">'?'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.extSubset.textdecl" title="(Option[String], Option[String])">textdecl</a> = <a href="#scala.xml.parsing;MarkupParser.textDecl" title="()(Option[String], Option[String])">textDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> else
        <a href="#scala.xml.parsing;MarkupParser.markupDecl1" title="()Any">markupDecl1</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    while <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.markupDecl" title="()Unit">markupDecl</a><a href="#scala.xml.parsing;MarkupParser.extSubset.while$8" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Any" id="scala.xml.parsing;MarkupParser.markupDecl1">markupDecl1</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    def <a title="()Unit" id="scala.xml.parsing;MarkupParser.markupDecl1.doInclude">doInclude</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('[')" class="char">'['</span><span class="delimiter">)</span>; while <span class="delimiter">(</span><span title="Char(']')" class="char">']'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.markupDecl" title="()Unit">markupDecl</a><a href="#scala.xml.parsing;MarkupParser.markupDecl1.doInclude.while$9" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// ']'</span>
    <span class="delimiter">}</span>
    def <a title="()Unit" id="scala.xml.parsing;MarkupParser.markupDecl1.doIgnore">doIgnore</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('[')" class="char">'['</span><span class="delimiter">)</span>; while <span class="delimiter">(</span><span title="Char(']')" class="char">']'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><a href="#scala.xml.parsing;MarkupParser.markupDecl1.doIgnore.while$10" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>; <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// ']'</span>
    <span class="delimiter">}</span>
    if <span class="delimiter">(</span><span title="Char('?')" class="char">'?'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xProcInstr" title="=&gt; MarkupParser.this.ElementType">xProcInstr</a> <span class="comment">// simply ignore processing instructions!</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('!')" class="char">'!'</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
        case <span title="Char('-')" class="char">'-'</span> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.xComment" title="=&gt; scala.xml.NodeSeq">xComment</a> <span class="comment">// ignore comments</span>

        case <span title="Char('E')" class="char">'E'</span> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><span title="Char('L')" class="char">'L'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#scala.xml.parsing;MarkupParser.elementDecl" title="()Unit">elementDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> else
            <a href="#scala.xml.parsing;MarkupParser.entityDecl" title="()Unit">entityDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>

        case <span title="Char('A')" class="char">'A'</span> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.attrDecl" title="()Unit">attrDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>

        case <span title="Char('N')" class="char">'N'</span> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.notationDecl" title="()Unit">notationDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>

        case <span title="Char('[')" class="char">'['</span> if <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>.<a href="../../collection/LinearSeqOptimized.scala.html#scala.collection;LinearSeqOptimized.length" title="=&gt; Int">length</a> <a href="../../Int.scala.html#scala;Int.>=(5f58a84eb3)" title="(x: Int)Boolean">&gt;=</a> <a href="#scala.xml.parsing;MarkupParser.extIndex_=" title="=&gt; Int">extIndex</a> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
            case <span title="Char('%')" class="char">'%'</span> =&gt;
              <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
              val <a title="String" id="scala.xml.parsing;MarkupParser.markupDecl1.ent">ent</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char(';')" class="char">';'</span><span class="delimiter">)</span>
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>

              <a href="#scala.xml.parsing;MarkupParser.push" title="(entityName: String)Unit">push</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.markupDecl1.ent" title="String">ent</a><span class="delimiter">)</span>
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
              val <a title="String" id="scala.xml.parsing;MarkupParser.markupDecl1.stmt">stmt</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>

              <a href="#scala.xml.parsing;MarkupParser.markupDecl1.stmt" title="String">stmt</a> match <span class="delimiter">{</span>
                <span class="comment">// parameter entity</span>
                case <span title="String(&quot;INCLUDE&quot;)" class="string">&quot;INCLUDE&quot;</span> =&gt; <a href="#scala.xml.parsing;MarkupParser.markupDecl1.doInclude" title="()Unit">doInclude</a><span class="delimiter">(</span><span class="delimiter">)</span>
                case <span title="String(&quot;IGNORE&quot;)" class="string">&quot;IGNORE&quot;</span>  =&gt; <a href="#scala.xml.parsing;MarkupParser.markupDecl1.doIgnore" title="()Unit">doIgnore</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            case <span title="Char('I')" class="char">'I'</span> =&gt;
              <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
                case <span title="Char('G')" class="char">'G'</span> =&gt;
                  <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;NORE&quot;</a><span class="delimiter">)</span>
                  <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <a href="#scala.xml.parsing;MarkupParser.markupDecl1.doIgnore" title="()Unit">doIgnore</a><span class="delimiter">(</span><span class="delimiter">)</span>
                case <span title="Char('N')" class="char">'N'</span> =&gt;
                  <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;NCLUDE&quot;</a><span class="delimiter">)</span>
                  <a href="#scala.xml.parsing;MarkupParser.markupDecl1.doInclude" title="()Unit">doInclude</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char(']')" class="char">']'</span><span class="delimiter">)</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>

        case _ =&gt;
          <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="scala.io.Source" id="scala.xml.parsing;MarkupParser.markupDecl1.qual$1">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.reportError$default$3" title="java.io.PrintStream" id="scala.xml.parsing;MarkupParser.markupDecl1.x$8">reportError</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.pos_=" title="Int" id="scala.xml.parsing;MarkupParser.markupDecl1.x$6">pos</a>, <span title="String(&quot;unexpected character \'&quot;)" class="string">&quot;unexpected character '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a title="String" id="scala.xml.parsing;MarkupParser.markupDecl1.x$7">+</a> <span title="String(&quot;\', expected some markupdecl&quot;)" class="string">&quot;', expected some markupdecl&quot;</span><span class="delimiter">)</span>
          while <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
            <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><a href="#scala.xml.parsing;MarkupParser.markupDecl1.while$11" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.markupDecl">markupDecl</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#scala;Unit" title="Unit">Unit</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
    case <span title="Char('%')" class="char">'%'</span> =&gt; <span class="comment">// parameter entity reference</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.markupDecl.ent">ent</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char(';')" class="char">';'</span><span class="delimiter">)</span>
      if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.isValidating" title="=&gt; Boolean">isValidating</a><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.peReference" title="(name: String)Unit">peReference</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.markupDecl.ent" title="String">ent</a><span class="delimiter">)</span> <span class="comment">//  n-v: just create PE-reference</span>
      else
        <a href="#scala.xml.parsing;MarkupParser.push" title="(entityName: String)Unit">push</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.markupDecl.ent" title="String">ent</a><span class="delimiter">)</span> <span class="comment">//    v: parse replacementText</span>

    <span class="comment">//peReference</span>
    case <span title="Char('&lt;')" class="char">'&lt;'</span> =&gt;
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.markupDecl1" title="()Any">markupDecl1</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    case _ if <a href="TokenTests.scala.html#scala.xml.parsing;TokenTests.isSpace(171d059a75)" title="(ch: Char)Boolean">isSpace</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> =&gt;
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    case _ =&gt;
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;markupdecl: unexpected character \'&quot;)" class="string">&quot;markupdecl: unexpected character '&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\' #&quot;)" class="string">&quot;' #&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>.<a href="../../Char.scala.html#scala;Char.toInt" title="=&gt; Int">toInt</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * &quot;rec-xml/#ExtSubset&quot; pe references may not occur within markup declarations
   */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.intSubset">intSubset</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">//Console.println(&quot;(DEBUG) intSubset()&quot;)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    while <span class="delimiter">(</span><span title="Char(']')" class="char">']'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.markupDecl" title="()Unit">markupDecl</a><a href="#scala.xml.parsing;MarkupParser.intSubset.while$12" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * &amp;lt;! element := ELEMENT
   */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.elementDecl">elementDecl</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;EMENT&quot;</a><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.elementDecl.n">n</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    while <span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.elementDecl.while$13" title="()Unit" class="delimiter">{</a>
      <span class="comment">//Console.println(&quot;[&quot;+ch+&quot;]&quot;)</span>
      <a href="#scala.xml.parsing;MarkupParser.putChar" title="(c: Char)StringBuilder">putChar</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">//Console.println(&quot;END[&quot;+ch+&quot;]&quot;)</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.elementDecl.cmstr">cmstr</a> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>
    <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.elemDecl" title="(n: String, cmstr: String)Unit">elemDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.elementDecl.n" title="String">n</a>, <a href="#scala.xml.parsing;MarkupParser.elementDecl.cmstr" title="String">cmstr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  &lt;! attlist := ATTLIST
   *  }}}
   */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.attrDecl">attrDecl</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;TTLIST&quot;</a><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.attrDecl.n">n</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    var <a title="List[scala.xml.dtd.AttrDecl]" id="scala.xml.parsing;MarkupParser.attrDecl.attList">attList</a>: <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List" title="List[scala.xml.dtd.AttrDecl]">List</a><span class="delimiter">[</span>AttrDecl<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#scala.collection.immutable.Nil" title="scala.collection.immutable.Nil.type">Nil</a>

    <span class="comment">// later: find the elemDecl for n</span>
    while <span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.attrDecl.while$15" title="()Unit" class="delimiter">{</a>
      val <a title="String" id="scala.xml.parsing;MarkupParser.attrDecl.aname">aname</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">// could be enumeration (foo,bar) parse this later :-/</span>
      while <span class="delimiter">(</span><span title="Char('\&quot;')" class="char">'&quot;'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span title="Char('\'')" class="char">'\''</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span title="Char('#')" class="char">'#'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Boolean.scala.html#scala;Boolean.&&" title="(x: Boolean)Boolean">&amp;&amp;</a> <span title="Char('&lt;')" class="char">'&lt;'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="#scala.xml.parsing;MarkupParser.attrDecl.while$14" title="()Unit" class="delimiter">{</a>
        if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="TokenTests.scala.html#scala.xml.parsing;TokenTests.isSpace(171d059a75)" title="(ch: Char)Boolean">isSpace</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.append(5aefef7300)" title="(x: Char)StringBuilder">append</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.attrDecl.atpe">atpe</a> = <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.toString" title="()String">toString</a>
      <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>

      val <a title="scala.xml.dtd.DefaultDecl" id="scala.xml.parsing;MarkupParser.attrDecl.defdecl">defdecl</a>: <a href="../dtd/Decl.scala.html#scala.xml.dtd;DefaultDecl" title="scala.xml.dtd.DefaultDecl">DefaultDecl</a> = <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
        case <span title="Char('\'')" class="char">'\''</span> | <span title="Char('\&quot;')" class="char">'&quot;'</span> =&gt;
          <a href="../dtd/Decl.scala.html#scala.xml.dtd;DEFAULT" title="(fixed: Boolean, attValue: String)scala.xml.dtd.DEFAULT">DEFAULT</a><span class="delimiter">(</span>fixed = false, <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xAttributeValue(612e557918)" title="()String">xAttributeValue</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        case <span title="Char('#')" class="char">'#'</span> =&gt;
          <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a> match <span class="delimiter">{</span>
            case <span title="String(&quot;FIXED&quot;)" class="string">&quot;FIXED&quot;</span>    =&gt;
              <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="../dtd/Decl.scala.html#scala.xml.dtd;DEFAULT" title="(fixed: Boolean, attValue: String)scala.xml.dtd.DEFAULT">DEFAULT</a><span class="delimiter">(</span>fixed = true, <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xAttributeValue(612e557918)" title="()String">xAttributeValue</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            case <span title="String(&quot;IMPLIED&quot;)" class="string">&quot;IMPLIED&quot;</span>  =&gt; <a href="../dtd/Decl.scala.html#scala.xml.dtd.IMPLIED" title="scala.xml.dtd.IMPLIED.type">IMPLIED</a>
            case <span title="String(&quot;REQUIRED&quot;)" class="string">&quot;REQUIRED&quot;</span> =&gt; <a href="../dtd/Decl.scala.html#scala.xml.dtd.REQUIRED" title="scala.xml.dtd.REQUIRED.type">REQUIRED</a>
          <span class="delimiter">}</span>
        case _ =&gt;
          null
      <span class="delimiter">}</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#scala.xml.parsing;MarkupParser.attrDecl.attList" title="List[scala.xml.dtd.AttrDecl]">attList</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: scala.xml.dtd.AttrDecl)List[scala.xml.dtd.AttrDecl]">::=</a> <a href="../dtd/Decl.scala.html#scala.xml.dtd;AttrDecl" title="(name: String, tpe: String, default: scala.xml.dtd.DefaultDecl)scala.xml.dtd.AttrDecl">AttrDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.attrDecl.aname" title="String">aname</a>, <a href="#scala.xml.parsing;MarkupParser.attrDecl.atpe" title="String">atpe</a>, <a href="#scala.xml.parsing;MarkupParser.attrDecl.defdecl" title="scala.xml.dtd.DefaultDecl">defdecl</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.cbuf" title="=&gt; StringBuilder">cbuf</a>.<a href="../../collection/mutable/StringBuilder.scala.html#scala.collection.mutable;StringBuilder.length_=" title="(n: Int)Unit">length</a> = <span title="Int(0)" class="int">0</span>
    <span class="delimiter">}</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.attListDecl" title="(name: String, attList: List[scala.xml.dtd.AttrDecl])Unit">attListDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.attrDecl.n" title="String">n</a>, <a href="#scala.xml.parsing;MarkupParser.attrDecl.attList" title="List[scala.xml.dtd.AttrDecl]">attList</a>.<a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.reverse" title="=&gt; List[scala.xml.dtd.AttrDecl]">reverse</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**
   * {{{
   *  &lt;! element := ELEMENT
   *  }}}
   */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.entityDecl">entityDecl</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    var <a title="Boolean" id="scala.xml.parsing;MarkupParser.entityDecl.isParameterEntity">isParameterEntity</a> = false
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;NTITY&quot;</a><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    if <span class="delimiter">(</span><span title="Char('%')" class="char">'%'</span> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.entityDecl.isParameterEntity" title="Boolean">isParameterEntity</a> = true
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.entityDecl.n">n</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> match <span class="delimiter">{</span>
      case <span title="Char('S')" class="char">'S'</span> | <span title="Char('P')" class="char">'P'</span> =&gt; <span class="comment">//sy</span>
        val <a title="scala.xml.dtd.ExternalID" id="scala.xml.parsing;MarkupParser.entityDecl.extID">extID</a> = <a href="#scala.xml.parsing;MarkupParser.externalID" title="()scala.xml.dtd.ExternalID">externalID</a><span class="delimiter">(</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.isParameterEntity" title="Boolean">isParameterEntity</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.parameterEntityDecl" title="(name: String, edef: scala.xml.dtd.EntityDef)Unit">parameterEntityDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.n" title="String">n</a>, <a href="../dtd/Decl.scala.html#scala.xml.dtd;ExtDef" title="(extID: scala.xml.dtd.ExternalID)scala.xml.dtd.ExtDef">ExtDef</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.extID" title="scala.xml.dtd.ExternalID">extID</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> else <span class="delimiter">{</span> <span class="comment">// notation?</span>
          <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
          if <span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;NDATA&quot;</a><span class="delimiter">)</span>
            <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
            val <a title="String" id="scala.xml.parsing;MarkupParser.entityDecl.notat">notat</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
            <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
            <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.unparsedEntityDecl" title="(name: String, extID: scala.xml.dtd.ExternalID, notat: String)Unit">unparsedEntityDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.n" title="String">n</a>, <a href="#scala.xml.parsing;MarkupParser.entityDecl.extID" title="scala.xml.dtd.ExternalID">extID</a>, <a href="#scala.xml.parsing;MarkupParser.entityDecl.notat" title="String">notat</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> else <span class="delimiter">{</span>
            <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.parsedEntityDecl" title="(name: String, edef: scala.xml.dtd.EntityDef)Unit">parsedEntityDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.n" title="String">n</a>, <a href="../dtd/Decl.scala.html#scala.xml.dtd;ExtDef" title="(extID: scala.xml.dtd.ExternalID)scala.xml.dtd.ExtDef">ExtDef</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.extID" title="scala.xml.dtd.ExternalID">extID</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      case <span title="Char('\&quot;')" class="char">'&quot;'</span> | <span title="Char('\'')" class="char">'\''</span> =&gt;
        val <a title="String" id="scala.xml.parsing;MarkupParser.entityDecl.av">av</a> = <a href="#scala.xml.parsing;MarkupParser.xEntityValue" title="()String">xEntityValue</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
        if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.isParameterEntity" title="Boolean">isParameterEntity</a><span class="delimiter">)</span>
          <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.parameterEntityDecl" title="(name: String, edef: scala.xml.dtd.EntityDef)Unit">parameterEntityDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.n" title="String">n</a>, <a href="../dtd/Decl.scala.html#scala.xml.dtd;IntDef" title="(value: String)scala.xml.dtd.IntDef">IntDef</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.av" title="String">av</a><span class="delimiter">)</span><span class="delimiter">)</span>
        else
          <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.parsedEntityDecl" title="(name: String, edef: scala.xml.dtd.EntityDef)Unit">parsedEntityDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.n" title="String">n</a>, <a href="../dtd/Decl.scala.html#scala.xml.dtd;IntDef" title="(value: String)scala.xml.dtd.IntDef">IntDef</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.entityDecl.av" title="String">av</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">// entityDecl</span>

  <span class="comment">/**
   * {{{
   *  'N' notationDecl ::= &quot;OTATION&quot;
   *  }}}
   */</span>
  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.notationDecl">notationDecl</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;OTATION&quot;</a><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="String" id="scala.xml.parsing;MarkupParser.notationDecl.notat">notat</a> = <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xName" title="=&gt; String">xName</a>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
    val <a title="scala.xml.dtd.ExternalID" id="scala.xml.parsing;MarkupParser.notationDecl.extID">extID</a> = if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('S')" class="char">'S'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.externalID" title="()scala.xml.dtd.ExternalID">externalID</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> else if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.==(2232296601)" title="(x: Char)Boolean">==</a> <span title="Char('P')" class="char">'P'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">/* PublicID (without system, only used in NOTATION) */</span>
      <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(2852cf6ea0)" title="(that: Seq[Char])Unit">xToken</a><span class="delimiter">(</span><a href="../../Predef.scala.html#scala;LowPriorityImplicits.wrapString" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString" class="string">&quot;UBLIC&quot;</a><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpace" title="()Unit">xSpace</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.notationDecl.extID.pubID">pubID</a> = <a href="#scala.xml.parsing;MarkupParser.pubidLiteral" title="()String">pubidLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
      val <a title="String" id="scala.xml.parsing;MarkupParser.notationDecl.extID.sysID">sysID</a> = if <span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a> <a href="../../Char.scala.html#scala;Char.!=(2232296601)" title="(x: Char)Boolean">!=</a> <span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
        <a href="#scala.xml.parsing;MarkupParser.systemLiteral" title="()String">systemLiteral</a><span class="delimiter">(</span><span class="delimiter">)</span>
      else
        null
      new <a href="../dtd/ExternalID.scala.html#scala.xml.dtd;PublicID" title="scala.xml.dtd.PublicID">PublicID</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.notationDecl.extID.pubID" title="String">pubID</a>, <a href="#scala.xml.parsing;MarkupParser.notationDecl.extID.sysID" title="String">sysID</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> else <span class="delimiter">{</span>
      <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)" title="(str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><span title="String(&quot;PUBLIC or SYSTEM expected&quot;)" class="string">&quot;PUBLIC or SYSTEM expected&quot;</span><span class="delimiter">)</span>
      scala.sys.<a href="../../sys/package.scala.html#scala.sys.package.error" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;died parsing notationdecl&quot;)" class="string">&quot;died parsing notationdecl&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xSpaceOpt" title="()Unit">xSpaceOpt</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="MarkupParserCommon.scala.html#scala.xml.parsing;MarkupParserCommon.xToken(d21727fbb8)" title="(that: Char)Unit">xToken</a><span class="delimiter">(</span><span title="Char('&gt;')" class="char">'&gt;'</span><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.handle" title="=&gt; scala.xml.parsing.MarkupHandler">handle</a>.<a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.notationDecl" title="(notat: String, extID: scala.xml.dtd.ExternalID)Unit">notationDecl</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.notationDecl.notat" title="String">notat</a>, <a href="#scala.xml.parsing;MarkupParser.notationDecl.extID" title="scala.xml.dtd.ExternalID">extID</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(pos: Int, str: String)Unit" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145)">reportSyntaxError</a><span class="delimiter">(</span><a title="Int" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="String" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).str">str</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="scala.io.Source" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).qual$2">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.reportError$default$3" title="java.io.PrintStream" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).x$11">reportError</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).pos" title="Int" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).x$9">pos</a>, <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).str" title="String" id="scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145).x$10">str</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  def <a title="(str: String)Unit" id="scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72)">reportSyntaxError</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72).str">str</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145)" title="(pos: Int, str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.pos_=" title="=&gt; Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(e95230ba72).str" title="String">str</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  def <a title="(pos: Int, str: String)Unit" id="scala.xml.parsing;MarkupParser.reportValidationError">reportValidationError</a><span class="delimiter">(</span><a title="Int" id="scala.xml.parsing;MarkupParser.reportValidationError.pos">pos</a>: <a href="../../Int.scala.html#scala;Int" title="Int">Int</a>, <a title="String" id="scala.xml.parsing;MarkupParser.reportValidationError.str">str</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#scala.xml.parsing;MarkupParser.reportSyntaxError(36292eb145)" title="(pos: Int, str: String)Unit">reportSyntaxError</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.reportValidationError.pos" title="Int">pos</a>, <a href="#scala.xml.parsing;MarkupParser.reportValidationError.str" title="String">str</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  def <a title="(entityName: String)Unit" id="scala.xml.parsing;MarkupParser.push">push</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.push.entityName">entityName</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="(x$1: List[scala.io.Source])Unit">inpStack</a> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: scala.io.Source)List[scala.io.Source]">::</a> <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>

    <span class="comment">// can't push before getting next character if needed</span>
    <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>

    <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="(x$1: scala.io.Source)Unit">curInput</a> = <a href="MarkupHandler.scala.html#scala.xml.parsing;MarkupHandler.replacementText" title="(entityName: String)scala.io.Source">replacementText</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.push.entityName" title="String">entityName</a><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="(systemId: String)Unit" id="scala.xml.parsing;MarkupParser.pushExternal">pushExternal</a><span class="delimiter">(</span><a title="String" id="scala.xml.parsing;MarkupParser.pushExternal.systemId">systemId</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    if <span class="delimiter">(</span><a href="../../Boolean.scala.html#scala;Boolean.unary_!" title="=&gt; Boolean">!</a><a href="#scala.xml.parsing;MarkupParser.eof" title="=&gt; Boolean">eof</a><span class="delimiter">)</span>
      <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="(x$1: List[scala.io.Source])Unit">inpStack</a> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a> <a href="../../collection/immutable/List.scala.html#scala.collection.immutable;List.::" title="(x: scala.io.Source)List[scala.io.Source]">::</a> <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>

    <span class="comment">// can't push before getting next character if needed</span>
    <a href="#scala.xml.parsing;MarkupParser.ch" title="=&gt; Char">ch</a>

    <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="(x$1: scala.io.Source)Unit">curInput</a> = <a href="#scala.xml.parsing;MarkupParser.externalSource" title="(systemLiteral: String)scala.io.Source">externalSource</a><span class="delimiter">(</span><a href="#scala.xml.parsing;MarkupParser.pushExternal.systemId" title="String">systemId</a><span class="delimiter">)</span>
    <a href="#scala.xml.parsing;MarkupParser.nextch" title="()Unit">nextch</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  def <a title="()Unit" id="scala.xml.parsing;MarkupParser.pop">pop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="(x$1: scala.io.Source)Unit">curInput</a> = <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>.<a href="../../collection/IterableLike.scala.html#scala.collection;IterableLike.head" title="=&gt; scala.io.Source">head</a>
    <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="(x$1: List[scala.io.Source])Unit">inpStack</a> = <a href="#scala.xml.parsing;MarkupParser.inpStack_=" title="=&gt; List[scala.io.Source]">inpStack</a>.<a href="../../collection/TraversableLike.scala.html#scala.collection;TraversableLike.tail" title="=&gt; List[scala.io.Source]">tail</a>
    <a href="#scala.xml.parsing;MarkupParser.lastChRead_=" title="(x$1: Char)Unit">lastChRead</a> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.ch" title="=&gt; Char">ch</a>
    <a href="#scala.xml.parsing;MarkupParser.nextChNeeded_=" title="(x$1: Boolean)Unit">nextChNeeded</a> = false
    <a href="#scala.xml.parsing;MarkupParser.pos_=" title="(x$1: Int)Unit">pos</a> = <a href="#scala.xml.parsing;MarkupParser.curInput_=" title="=&gt; scala.io.Source">curInput</a>.<a href="../../io/Source.scala.html#scala.io;Source.pos" title="=&gt; Int">pos</a>
    <a href="#scala.xml.parsing;MarkupParser.reachedEof_=" title="(x$1: Boolean)Unit">reachedEof</a> = false <span class="comment">// must be false, because of places where entity refs occur</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
