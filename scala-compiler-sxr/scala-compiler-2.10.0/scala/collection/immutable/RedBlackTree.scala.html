<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/collection/immutable/RedBlackTree.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2005-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */



<span class="keyword">package</span> scala
<span class="keyword">package</span> collection
<span class="keyword">package</span> immutable

<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.annotation.meta.getter

/** An object containing the RedBlack tree implementation used by for `TreeMaps` and `TreeSets`.
 *
 *  Implementation note: since efficiency is important for data structures this implementation
 *  uses &lt;code&gt;null&lt;/code&gt; to represent empty trees. This also means pattern matching cannot
 *  easily be used. The API represented by the RedBlackTree object tries to hide these
 *  optimizations behind a reasonably clean API.
 *
 *  @since 2.10
 */
<span class="keyword">private</span><span class="delimiter">[</span>immutable<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="scala.collection.immutable.RedBlackTree.type" id="11152">RedBlackTree</a> <a href="#11153" title="scala.collection.immutable.RedBlackTree.type" class="delimiter">{</a>

  <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="223067">isEmpty</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="223294">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#223294" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>

  <span class="keyword">def</span> <a title="[A](tree: scala.collection.immutable.RedBlackTree.Tree[A, _], x: A)(implicit ordering: Ordering[A])Boolean" id="223068">contains</a><span class="delimiter">[</span><a title="" id="223070">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A, _]" id="223318">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">Tree</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span>, <a title="A" id="223319">x</a>: <a href="#223070" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223320">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#223076" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,_$3], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,_$3]">lookup</a><a href="#223320" title="Ordering[A]" class="delimiter">(</a><a href="#223318" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>, <a href="#223319" title="A">x</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])Option[B]" id="223071">get</a><span class="delimiter">[</span><a title="" id="223074">A</a>, <a title="" id="223075">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223345">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223346">x</a>: <a href="#223074" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223347">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Option.scala.html#978" title="Option[B]">Option</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#223076" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">lookup</a><a href="#223347" title="Ordering[A]" class="delimiter">(</a><a href="#223345" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223346" title="A">x</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#3270260" title="Option[B]" id="3270263" class="keyword">null</a> =&gt; <a href="#3270265" title="(x: Option[B])Option[B]">None</a>
    <span class="keyword">case</span> tree =&gt; <a href="../../Option.scala.html#63128" title="(x: B)Some[B]">Some</a><a href="#3270265" title="(x: Option[B])Option[B]" class="delimiter">(</a>tree.<a href="#224052" title="=&gt; B">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223076">lookup</a><span class="delimiter">[</span><a title="" id="223079">A</a>, <a title="" id="223080">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223328">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223329">x</a>: <a href="#223079" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223330">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223328" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="223365">cmp</a> = <a href="#223330" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82117" title="(x: A, y: A)Int">compare</a><span class="delimiter">(</span><a href="#223329" title="A">x</a>, <a href="#223328" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223365" title="Int">cmp</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#223076" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">lookup</a><a href="#223330" title="Ordering[A]" class="delimiter">(</a><a href="#223328" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223329" title="A">x</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223365" title="Int">cmp</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#223076" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">lookup</a><a href="#223330" title="Ordering[A]" class="delimiter">(</a><a href="#223328" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223329" title="A">x</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223328" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int" id="223081">count</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="223398">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#223398" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#223398" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a>.<a href="#223314" title="=&gt; Int">count</a>
  <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="223082">update</a><span class="delimiter">[</span><a title="" id="223086">A</a>, <a title="" id="223087">B</a>, <a title=" &gt;: B" id="223088">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223405">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223406">k</a>: <a href="#223086" title="A">A</a>, <a title="B1" id="223407">v</a>: <a href="#223088" title="B1">B1</a>, <a title="Boolean" id="223408">overwrite</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223409">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">blacken</a><span class="delimiter">(</span><a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]">upd</a><a href="#223409" title="Ordering[A]" class="delimiter">(</a><a href="#223405" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223406" title="A">k</a>, <a href="#223407" title="B1">v</a>, <a href="#223408" title="Boolean">overwrite</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223089">delete</a><span class="delimiter">[</span><a title="" id="223092">A</a>, <a title="" id="223093">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223446">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223447">k</a>: <a href="#223092" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223448">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223217" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#223448" title="Ordering[A]" class="delimiter">(</a><a href="#223446" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223447" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Option[A], until: Option[A])(implicit evidence$1: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223475">rangeImpl</a><span class="delimiter">[</span><a title="" id="223097">A</a>: Ordering, <a title="" id="223098">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223472">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Option[A]" id="223473">from</a>: <a href="../../Option.scala.html#978" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="223474">until</a>: <a href="../../Option.scala.html#978" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="../../Tuple2.scala.html#62849" title="(_1: Option[A], _2: Option[A])(Option[A], Option[A])" class="delimiter">(</a><a href="#223473" title="Option[A]">from</a>, <a href="#223474" title="Option[A]">until</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>Some<a href="../../Tuple2.scala.html#60635" title="Option[A]" id="3270276" class="delimiter">(</a><a href="../../Option.scala.html#63132" title="A" id="223492">from</a><span class="delimiter">)</span>, Some<a href="../../Tuple2.scala.html#60637" title="Option[A]" id="3270277" class="delimiter">(</a><a href="../../Option.scala.html#63132" title="A" id="223495">until</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="keyword">this</span>.<a href="#223499" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit evidence$2: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">range</a><a href="#3270295" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a><a href="#223472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223492" title="A">from</a>, <a href="#223495" title="A">until</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>Some<a href="../../Tuple2.scala.html#60635" title="Option[A]" id="3270280" class="delimiter">(</a><a href="../../Option.scala.html#63132" title="A" id="223522">from</a><span class="delimiter">)</span>, <a href="../../Tuple2.scala.html#60637" title="Option[A]" id="3270290">None</a><span class="delimiter">)</span>        =&gt; <span class="keyword">this</span>.<a href="#223525" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit evidence$3: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">from</a><a href="#3270295" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a><a href="#223472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223522" title="A">from</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../Tuple2.scala.html#60635" title="Option[A]" id="3270291">None</a>,       Some<a href="../../Tuple2.scala.html#60637" title="Option[A]" id="3270285" class="delimiter">(</a><a href="../../Option.scala.html#63132" title="A" id="223545">until</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="keyword">this</span>.<a href="#223548" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], key: A)(implicit evidence$5: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">until</a><a href="#3270295" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a><a href="#223472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223545" title="A">until</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../Tuple2.scala.html#60635" title="Option[A]" id="3270292">None</a>,       <a href="../../Tuple2.scala.html#60637" title="Option[A]" id="3270293">None</a><span class="delimiter">)</span>        =&gt; <a href="#3270295" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit evidence$2: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223499">range</a><span class="delimiter">[</span><a title="" id="223102">A</a>: Ordering, <a title="" id="223103">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223496">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223497">from</a>: <a href="#223102" title="A">A</a>, <a title="A" id="223498">until</a>: <a href="#223102" title="A">A</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223237" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doRange</a><a href="#223499" title="Ordering[A]" class="delimiter">(</a><a href="#223496" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223497" title="A">from</a>, <a href="#223498" title="A">until</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit evidence$3: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223525">from</a><span class="delimiter">[</span><a title="" id="223107">A</a>: Ordering, <a title="" id="223108">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223523">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223524">from</a>: <a href="#223107" title="A">A</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223222" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#223525" title="Ordering[A]" class="delimiter">(</a><a href="#223523" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223524" title="A">from</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit evidence$4: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223612">to</a><span class="delimiter">[</span><a title="" id="223112">A</a>: Ordering, <a title="" id="223113">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223610">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223611">to</a>: <a href="#223112" title="A">A</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223227" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doTo</a><a href="#223612" title="Ordering[A]" class="delimiter">(</a><a href="#223610" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223611" title="A">to</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], key: A)(implicit evidence$5: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223548">until</a><span class="delimiter">[</span><a title="" id="223117">A</a>: Ordering, <a title="" id="223118">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223546">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223547">key</a>: <a href="#223117" title="A">A</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223232" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#223548" title="Ordering[A]" class="delimiter">(</a><a href="#223546" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223547" title="A">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)(implicit evidence$6: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223658">drop</a><span class="delimiter">[</span><a title="" id="223122">A</a>: Ordering, <a title="" id="223123">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223656">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223657">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223242" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#223656" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223657" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)(implicit evidence$7: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223678">take</a><span class="delimiter">[</span><a title="" id="223127">A</a>: Ordering, <a title="" id="223128">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223676">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223677">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223247" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#223676" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223677" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)(implicit evidence$8: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223699">slice</a><span class="delimiter">[</span><a title="" id="223132">A</a>: Ordering, <a title="" id="223133">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223696">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223697">from</a>: <a href="../../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="223698">until</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#223252" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doSlice</a><span class="delimiter">(</span><a href="#223696" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223697" title="Int">from</a>, <a href="#223698" title="Int">until</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223134">smallest</a><span class="delimiter">[</span><a title="" id="223137">A</a>, <a title="" id="223138">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223722">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223722" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#55510" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223724">result</a> = <a href="#223722" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#223724" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223724" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a> = <a href="#223724" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>
    <a href="#223724" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223139">greatest</a><span class="delimiter">[</span><a title="" id="223142">A</a>, <a title="" id="223143">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223728">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223728" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#55510" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223730">result</a> = <a href="#223728" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#223730" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223730" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a> = <a href="#223730" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>
    <a href="#223730" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B, U](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], f: ((A, B)) =&gt; U)Unit" id="223144">foreach</a><span class="delimiter">[</span><a title="" id="223148">A</a>, <a title="" id="223149">B</a>, <a title="" id="223150">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223734">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="((A, B)) =&gt; U" id="223735">f</a>: <span class="delimiter">(</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#1515" title="Unit">Unit</a> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223144" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], f: ((A, B)) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223735" title="((A, B)) =&gt; U">f</a><span class="delimiter">)</span>
    <a href="../../Function1.scala.html#58642" title="(v1: (A, B))U">f</a><span class="delimiter">(</span><a href="../../Tuple2.scala.html#62849" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223144" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], f: ((A, B)) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#223734" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223735" title="((A, B)) =&gt; U">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A, U](tree: scala.collection.immutable.RedBlackTree.Tree[A, _], f: A =&gt; U)Unit" id="223151">foreachKey</a><span class="delimiter">[</span><a title="" id="223154">A</a>, <a title="" id="223155">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A, _]" id="223759">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">Tree</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span>, <a title="A =&gt; U" id="223760">f</a>: A =&gt; U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#1515" title="Unit">Unit</a> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223759" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223759" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">left</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223151" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A, _], f: A =&gt; U)Unit">foreachKey</a><span class="delimiter">(</span><a href="#223759" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">left</a>, <a href="#223760" title="A =&gt; U">f</a><span class="delimiter">)</span>
    <a href="../../Function1.scala.html#58642" title="(v1: A)U">f</a><span class="delimiter">(</span><a href="#223759" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223759" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">right</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223151" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A, _], f: A =&gt; U)Unit">foreachKey</a><span class="delimiter">(</span><a href="#223759" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">right</a>, <a href="#223760" title="A =&gt; U">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Iterator[(A, B)]" id="223156">iterator</a><span class="delimiter">[</span><a title="" id="223159">A</a>, <a title="" id="223160">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223791">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iterator.scala.html#4100" title="Iterator[(A, B)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.EntriesIterator[A,B]" class="keyword">new</span> <a href="#223284" title="scala.collection.immutable.RedBlackTree.EntriesIterator[A,B]">EntriesIterator</a><span class="delimiter">(</span><a href="#223791" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, _](tree: scala.collection.immutable.RedBlackTree.Tree[A, _])Iterator[A]" id="223161">keysIterator</a><span class="delimiter">[</span><a title="" id="223164">A</a>, <a title="" id="223165">_</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A, _]" id="223814">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">Tree</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iterator.scala.html#4100" title="Iterator[A]">Iterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.KeysIterator[A,_$7]" class="keyword">new</span> <a href="#223287" title="scala.collection.immutable.RedBlackTree.KeysIterator[A,_$7]">KeysIterator</a><span class="delimiter">(</span><a href="#223814" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[_, B](tree: scala.collection.immutable.RedBlackTree.Tree[_, B])Iterator[B]" id="223166">valuesIterator</a><span class="delimiter">[</span><a title="" id="223169">_</a>, <a title="" id="223170">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, B]" id="223830">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[_, B]">Tree</a><span class="delimiter">[</span>_, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iterator.scala.html#4100" title="Iterator[B]">Iterator</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.ValuesIterator[_$8,B]" class="keyword">new</span> <a href="#223290" title="scala.collection.immutable.RedBlackTree.ValuesIterator[_$8,B]">ValuesIterator</a><span class="delimiter">(</span><a href="#223830" title="scala.collection.immutable.RedBlackTree.Tree[_, B]">tree</a><span class="delimiter">)</span>

  @tailrec
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223171">nth</a><span class="delimiter">[</span><a title="" id="223174">A</a>, <a title="" id="223175">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223846">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223847">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="223850">count</a> = <span class="keyword">this</span>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#223846" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223847" title="Int">n</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#223850" title="Int">count</a><span class="delimiter">)</span> <a href="#223171" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">nth</a><span class="delimiter">(</span><a href="#223846" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223847" title="Int">n</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223847" title="Int">n</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#223850" title="Int">count</a><span class="delimiter">)</span> <a href="#223171" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">nth</a><span class="delimiter">(</span><a href="#223846" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223847" title="Int">n</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#223850" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223846" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="223176">isBlack</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="223881">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#223881" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#223881" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="223177">isRedTree</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="223921">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#223921" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#223270" title="scala.collection.immutable.RedBlackTree.RedTree[_, _]">RedTree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="223178">isBlackTree</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="223886">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#223886" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#223273" title="scala.collection.immutable.RedBlackTree.BlackTree[_, _]">BlackTree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223179">blacken</a><span class="delimiter">[</span><a title="" id="223182">A</a>, <a title="" id="223183">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223415">t</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223415" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#223415" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](isBlack: Boolean, k: A, v: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B], r: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223184">mkTree</a><span class="delimiter">[</span><a title="" id="223187">A</a>, <a title="" id="223188">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="223956">isBlack</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="A" id="223957">k</a>: <a href="#223187" title="A">A</a>, <a title="B" id="223958">v</a>: <a href="#223188" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223959">l</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223960">r</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223956" title="Boolean">isBlack</a><span class="delimiter">)</span> <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#223957" title="A">k</a>, <a href="#223958" title="B">v</a>, <a href="#223959" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">l</a>, <a href="#223960" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">r</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#223957" title="A">k</a>, <a href="#223958" title="B">v</a>, <a href="#223959" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">l</a>, <a href="#223960" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">r</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], d: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="223189">balanceLeft</a><span class="delimiter">[</span><a title="" id="223193">A</a>, <a title="" id="223194">B</a>, <a title=" &gt;: B" id="223195">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="224075">isBlack</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="A" id="224076">z</a>: <a href="#223193" title="A">A</a>, <a title="B" id="224077">zv</a>: <a href="#223194" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="224078">l</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="224079">d</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#224005" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224076" title="A">z</a>, <a href="#224077" title="B">zv</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>, <a href="#224079" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#224005" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224076" title="A">z</a>, <a href="#224077" title="B">zv</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>, <a href="#224079" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#223184" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#224075" title="Boolean">isBlack</a>, <a href="#224076" title="A">z</a>, <a href="#224077" title="B">zv</a>, <a href="#224078" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>, <a href="#224079" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">d</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="223196">balanceRight</a><span class="delimiter">[</span><a title="" id="223200">A</a>, <a title="" id="223201">B</a>, <a title=" &gt;: B" id="223202">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="224165">isBlack</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="A" id="224166">x</a>: <a href="#223200" title="A">A</a>, <a title="B" id="224167">xv</a>: <a href="#223201" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="224168">a</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="224169">r</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#224005" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224166" title="A">x</a>, <a href="#224167" title="B">xv</a>, <a href="#224168" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">a</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#224005" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224166" title="A">x</a>, <a href="#224167" title="B">xv</a>, <a href="#224168" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">a</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224052" title="=&gt; B1">value</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#223184" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#224165" title="Boolean">isBlack</a>, <a href="#224166" title="A">x</a>, <a href="#224167" title="B">xv</a>, <a href="#224168" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">a</a>, <a href="#224169" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="223203">upd</a><span class="delimiter">[</span><a title="" id="223207">A</a>, <a title="" id="223208">B</a>, <a title=" &gt;: B" id="223209">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223420">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223421">k</a>: <a href="#223207" title="A">A</a>, <a title="B1" id="223422">v</a>: <a href="#223209" title="B1">B1</a>, <a title="Boolean" id="223423">overwrite</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223424">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#224005" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#223421" title="A">k</a>, <a href="#223422" title="B1">v</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="224265">cmp</a> = <a href="#223424" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82117" title="(x: A, y: A)Int">compare</a><span class="delimiter">(</span><a href="#223421" title="A">k</a>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224265" title="Int">cmp</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#223189" title="(isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], d: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceLeft</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]">upd</a><a href="#223424" title="Ordering[A]" class="delimiter">(</a><a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223421" title="A">k</a>, <a href="#223422" title="B1">v</a>, <a href="#223423" title="Boolean">overwrite</a><span class="delimiter">)</span>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224265" title="Int">cmp</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#223196" title="(isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceRight</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]">upd</a><a href="#223424" title="Ordering[A]" class="delimiter">(</a><a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223421" title="A">k</a>, <a href="#223422" title="B1">v</a>, <a href="#223423" title="Boolean">overwrite</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223423" title="Boolean">overwrite</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#223421" title="A">k</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span> <a href="#223184" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#223421" title="A">k</a>, <a href="#223422" title="B1">v</a>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B1, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="223210">updNth</a><span class="delimiter">[</span><a title="" id="223214">A</a>, <a title="" id="223215">B</a>, <a title=" &gt;: B" id="223216">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224352">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="224353">idx</a>: <a href="../../Int.scala.html#321" title="Int">Int</a>, <a title="A" id="224354">k</a>: <a href="#223214" title="A">A</a>, <a title="B1" id="224355">v</a>: <a href="#223216" title="B1">B1</a>, <a title="Boolean" id="224356">overwrite</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#224005" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#224354" title="A">k</a>, <a href="#224355" title="B1">v</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="224372">rank</a> = <a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224353" title="Int">idx</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#224372" title="Int">rank</a><span class="delimiter">)</span> <a href="#223189" title="(isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], d: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceLeft</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223210" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B1, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B1]">updNth</a><span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224353" title="Int">idx</a>, <a href="#224354" title="A">k</a>, <a href="#224355" title="B1">v</a>, <a href="#224356" title="Boolean">overwrite</a><span class="delimiter">)</span>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224353" title="Int">idx</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#224372" title="Int">rank</a><span class="delimiter">)</span> <a href="#223196" title="(isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceRight</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223210" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B1, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B1]">updNth</a><span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224353" title="Int">idx</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#224372" title="Int">rank</a>, <a href="#224354" title="A">k</a>, <a href="#224355" title="B1">v</a>, <a href="#224356" title="Boolean">overwrite</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224356" title="Boolean">overwrite</a><span class="delimiter">)</span> <a href="#223184" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#224354" title="A">k</a>, <a href="#224355" title="B1">v</a>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#224352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>

  /* Based on Stefan Kahrs' Haskell version of Okasaki's Red&amp;Black Trees
   * http://www.cse.unsw.edu.au/~dons/data/RedBlackTree.html */
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223217">del</a><span class="delimiter">[</span><a title="" id="223220">A</a>, <a title="" id="223221">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223455">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223456">k</a>: <a href="#223220" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223457">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224461">balance</a><span class="delimiter">(</span><a title="A" id="224469">x</a>: <a href="#223220" title="A">A</a>, <a title="B" id="224470">xv</a>: <a href="#223221" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224471">tl</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224472">tr</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224469" title="A">x</a>, <a href="#224470" title="B">xv</a>, <a href="#224471" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224472" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224462">subl</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224659">t</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224659" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#223273" title="scala.collection.immutable.RedBlackTree.BlackTree[_, _]">BlackTree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#224659" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a>.<a href="#223317" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">red</a>
      <span class="keyword">else</span> sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation; expected black, got &quot;)" class="string">&quot;Defect: invariance violation; expected black, got &quot;</span><span title="(x$1: Any)String">+</span><a href="#224659" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224463">balLeft</a><span class="delimiter">(</span><a title="A" id="224670">x</a>: <a href="#223220" title="A">A</a>, <a title="B" id="224671">xv</a>: <a href="#223221" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224672">tl</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224673">tr</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224672" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224670" title="A">x</a>, <a href="#224671" title="B">xv</a>, <a href="#224672" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>, <a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224461" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#224670" title="A">x</a>, <a href="#224671" title="B">xv</a>, <a href="#224672" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#223317" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">red</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224670" title="A">x</a>, <a href="#224671" title="B">xv</a>, <a href="#224672" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#224461" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224462" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">subl</a><span class="delimiter">(</span><a href="#224673" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation&quot;)" class="string">&quot;Defect: invariance violation&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224464">balRight</a><span class="delimiter">(</span><a title="A" id="224712">x</a>: <a href="#223220" title="A">A</a>, <a title="B" id="224713">xv</a>: <a href="#223221" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224714">tl</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224715">tr</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224712" title="A">x</a>, <a href="#224713" title="B">xv</a>, <a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#223316" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224461" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#224712" title="A">x</a>, <a href="#224713" title="B">xv</a>, <a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#223317" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">red</a>, <a href="#224715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224461" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224462" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">subl</a><span class="delimiter">(</span><a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224712" title="A">x</a>, <a href="#224713" title="B">xv</a>, <a href="#224714" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation&quot;)" class="string">&quot;Defect: invariance violation&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224465">delLeft</a> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#224463" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balLeft</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223217" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#223457" title="Ordering[A]" class="delimiter">(</a><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223456" title="A">k</a><span class="delimiter">)</span>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223217" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#223457" title="Ordering[A]" class="delimiter">(</a><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223456" title="A">k</a><span class="delimiter">)</span>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224466">delRight</a> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#224464" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balRight</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223217" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#223457" title="Ordering[A]" class="delimiter">(</a><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223456" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223217" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#223457" title="Ordering[A]" class="delimiter">(</a><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223456" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224467">append</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224818">tl</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224819">tr</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224824">bc</a> = <a href="#224467" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
      <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224824" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224824" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224824" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224824" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224824" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224824" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224881">bc</a> = <a href="#224467" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224881" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224881" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224881" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224881" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224881" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#224463" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balLeft</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224881" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224467" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224467" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;unmatched tree on append: &quot;)" class="string">&quot;unmatched tree on append: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#224818" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#224819" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Int" id="224468">cmp</a> = <a href="#223457" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82117" title="(x: A, y: A)Int">compare</a><span class="delimiter">(</span><a href="#223456" title="A">k</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224468" title="Int">cmp</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#224465" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">delLeft</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224468" title="Int">cmp</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#224466" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">delRight</a>
    <span class="keyword">else</span> <a href="#224467" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223455" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223222">doFrom</a><span class="delimiter">[</span><a title="" id="223225">A</a>, <a title="" id="223226">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223593">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223594">from</a>: <a href="#223225" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223595">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223595" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82120" title="(x: A, y: A)Boolean">lt</a><span class="delimiter">(</span><a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223594" title="A">from</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223222" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#223595" title="Ordering[A]" class="delimiter">(</a><a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223594" title="A">from</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224960">newLeft</a> = <a href="#223222" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#223595" title="Ordering[A]" class="delimiter">(</a><a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223594" title="A">from</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224960" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#224960" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#223595" title="Ordering[A]" class="delimiter">(</a><a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#224960" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#223593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223227">doTo</a><span class="delimiter">[</span><a title="" id="223230">A</a>, <a title="" id="223231">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223619">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223620">to</a>: <a href="#223230" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223621">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223621" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82120" title="(x: A, y: A)Boolean">lt</a><span class="delimiter">(</span><a href="#223620" title="A">to</a>, <a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223227" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doTo</a><a href="#223621" title="Ordering[A]" class="delimiter">(</a><a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223620" title="A">to</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225173">newRight</a> = <a href="#223227" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doTo</a><a href="#223621" title="Ordering[A]" class="delimiter">(</a><a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223620" title="A">to</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225173" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225173" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#223621" title="Ordering[A]" class="delimiter">(</a><a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225173" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223232">doUntil</a><span class="delimiter">[</span><a title="" id="223235">A</a>, <a title="" id="223236">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223639">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223640">until</a>: <a href="#223235" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223641">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223641" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82118" title="(x: A, y: A)Boolean">lteq</a><span class="delimiter">(</span><a href="#223640" title="A">until</a>, <a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223232" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#223641" title="Ordering[A]" class="delimiter">(</a><a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223640" title="A">until</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225221">newRight</a> = <a href="#223232" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#223641" title="Ordering[A]" class="delimiter">(</a><a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223640" title="A">until</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225221" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225221" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#223641" title="Ordering[A]" class="delimiter">(</a><a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223639" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225221" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223237">doRange</a><span class="delimiter">[</span><a title="" id="223240">A</a>, <a title="" id="223241">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223569">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="223570">from</a>: <a href="#223240" title="A">A</a>, <a title="A" id="223571">until</a>: <a href="#223240" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="223572">ordering</a>: <a href="../../math/Ordering.scala.html#17425" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223572" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82120" title="(x: A, y: A)Boolean">lt</a><span class="delimiter">(</span><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223570" title="A">from</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223237" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doRange</a><a href="#223572" title="Ordering[A]" class="delimiter">(</a><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223570" title="A">from</a>, <a href="#223571" title="A">until</a><span class="delimiter">)</span>;
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223572" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#82118" title="(x: A, y: A)Boolean">lteq</a><span class="delimiter">(</span><a href="#223571" title="A">until</a>, <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223237" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doRange</a><a href="#223572" title="Ordering[A]" class="delimiter">(</a><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223570" title="A">from</a>, <a href="#223571" title="A">until</a><span class="delimiter">)</span>;
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225269">newLeft</a> = <a href="#223222" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#223572" title="Ordering[A]" class="delimiter">(</a><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223570" title="A">from</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225270">newRight</a> = <a href="#223232" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#223572" title="Ordering[A]" class="delimiter">(</a><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223571" title="A">until</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#225269" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#225270" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225269" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#223572" title="Ordering[A]" class="delimiter">(</a><a href="#225270" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a>, <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225270" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223203" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#223572" title="Ordering[A]" class="delimiter">(</a><a href="#225269" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#225269" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#225270" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223242">doDrop</a><span class="delimiter">[</span><a title="" id="223245">A</a>, <a title="" id="223246">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223665">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223666">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223666" title="Int">n</a> <a href="../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223666" title="Int">n</a> <a href="../../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span class="keyword">this</span>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="Int" id="225361">count</a> = <span class="keyword">this</span>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223666" title="Int">n</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#225361" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223242" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223666" title="Int">n</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225361" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225362">newLeft</a> = <a href="#223242" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223666" title="Int">n</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225362" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225362" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223210" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223666" title="Int">n</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225361" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#225362" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#223665" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223247">doTake</a><span class="delimiter">[</span><a title="" id="223250">A</a>, <a title="" id="223251">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223685">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223686">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223686" title="Int">n</a> <a href="../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223686" title="Int">n</a> <a href="../../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span class="keyword">this</span>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">val</span> <a title="Int" id="225428">count</a> = <span class="keyword">this</span>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223686" title="Int">n</a> <a href="../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#225428" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223247" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223686" title="Int">n</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225429">newRight</a> = <a href="#223247" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223686" title="Int">n</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225428" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225429" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225429" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223210" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223686" title="Int">n</a>, <a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#223685" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225429" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223252">doSlice</a><span class="delimiter">[</span><a title="" id="223255">A</a>, <a title="" id="223256">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223707">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="223708">from</a>: <a href="../../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="223709">until</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="Int" id="225487">count</a> = <span class="keyword">this</span>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223708" title="Int">from</a> <a href="../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#225487" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223252" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doSlice</a><span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223708" title="Int">from</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225487" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#223709" title="Int">until</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225487" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#223709" title="Int">until</a> <a href="../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#225487" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#223252" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doSlice</a><span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223708" title="Int">from</a>, <a href="#223709" title="Int">until</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225488">newLeft</a> = <a href="#223242" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223708" title="Int">from</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225489">newRight</a> = <a href="#223247" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#223709" title="Int">until</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225487" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#225488" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#225489" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225488" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223210" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#225489" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a>, <a href="#223708" title="Int">from</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#225487" title="Int">count</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225489" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223210" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#225488" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#223709" title="Int">until</a>, <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#223262" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#223707" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#225488" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#225489" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // The zipper returned might have been traversed left-most (always the left child)
  // or right-most (always the right child). Left trees are traversed right-most,
  // and right trees are traversed leftmost.

  // Returns the zipper for the side with deepest black nodes depth, a flag
  // indicating whether the trees were unbalanced at all, and a flag indicating
  // whether the zipper was traversed left-most or right-most.

  // If the trees were balanced, returns an empty zipper
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" id="223257">compareDepth</a><span class="delimiter">[</span><a title="" id="223260">A</a>, <a title="" id="223261">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225044">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225045">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1227" title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
    // Once a side is found to be deeper, unzip it to the bottom
    <span class="keyword">def</span> <a title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225594">unzip</a><span class="delimiter">(</span><a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225596">zipper</a>: <a href="List.scala.html#11952" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="225597">leftMost</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="List.scala.html#11952" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225598">next</a> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225597" title="Boolean">leftMost</a><span class="delimiter">)</span> <a href="#225596" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>.<a href="../IterableLike.scala.html#58577" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span class="keyword">else</span> <a href="#225596" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>.<a href="../IterableLike.scala.html#58577" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>
      <a href="#225598" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#3270314" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="3270317" class="keyword">null</a> =&gt; <a href="#3270319" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>
        <span class="keyword">case</span> node =&gt; <a href="#225594" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">unzip</a><a href="#3270319" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="delimiter">(</a>node <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225596" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>, <a href="#225597" title="Boolean">leftMost</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // Unzip left tree on the rightmost side and right tree on the leftmost side until one is
    // found to be deeper, or the bottom is reached
    <span class="keyword">def</span> <a title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" id="225595">unzipBoth</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225606">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                  <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225607">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                  <a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225608">leftZipper</a>: <a href="List.scala.html#11952" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>,
                  <a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225609">rightZipper</a>: <a href="List.scala.html#11952" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>,
                  <a title="Int" id="225610">smallerDepth</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1227" title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#225595" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225608" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225609" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#225610" title="Int">smallerDepth</a> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#225595" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225608" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225609" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#225610" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#225595" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225608" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225609" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#225610" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#223177" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#225595" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225608" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#225609" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#225610" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Tuple4.scala.html#83441" title="(_1: scala.collection.immutable.Nil.type, _2: Boolean, _3: Boolean, _4: Int)(scala.collection.immutable.Nil.type, Boolean, Boolean, Int)" class="delimiter">(</a><a href="List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#225610" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="225675">leftMost</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="../../Tuple4.scala.html#83441" title="(_1: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], _2: Boolean, _3: Boolean, _4: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#225594" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">unzip</a><span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225609" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#225675" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#225675" title="Boolean">leftMost</a>, <a href="#225610" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="225698">leftMost</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="../../Tuple4.scala.html#83441" title="(_1: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], _2: Boolean, _3: Boolean, _4: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#225594" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">unzip</a><span class="delimiter">(</span><a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#62685" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#225608" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#225698" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#225698" title="Boolean">leftMost</a>, <a href="#225610" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;unmatched trees in unzip: &quot;)" class="string">&quot;unmatched trees in unzip: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#225606" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#225607" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#225595" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#225044" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225045" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223262">rebalance</a><span class="delimiter">[</span><a title="" id="223265">A</a>, <a title="" id="223266">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225000">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225001">newLeft</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225002">newRight</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    // This is like drop(n-1), but only counting black nodes
    <span class="keyword">def</span>  <a title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225003">findDepth</a><span class="delimiter">(</span><a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225011">zipper</a>: <a href="List.scala.html#11952" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="225012">depth</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="List.scala.html#11952" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#225011" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="List.scala.html#206583" title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225018">head</a> <a href="#3270327" title="Boolean" id="3270328">::</a> <a href="List.scala.html#206584" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225019">tail</a> <span class="keyword">if</span> <a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225018" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a><span class="delimiter">)</span> =&gt;
        <a href="#3270335" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="keyword">if</a> <span class="delimiter">(</span><a href="#225012" title="Int">depth</a> <a href="../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#225011" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a> <span class="keyword">else</span> <a href="#225003" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">findDepth</a><span class="delimiter">(</span><a href="#225019" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">tail</a>, <a href="#225012" title="Int">depth</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="List.scala.html#206583" title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="3270329">_</a> :: <a href="List.scala.html#206584" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225035">tail</a> =&gt; <a href="#225003" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">findDepth</a><a href="#3270335" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="delimiter">(</a><a href="#225035" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">tail</a>, <a href="#225012" title="Int">depth</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="List.scala.html#11188" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="3270332">Nil</a> =&gt; sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><a href="#3270335" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="delimiter">(</a><span title="String(&quot;Defect: unexpected empty zipper while computing range&quot;)" class="string">&quot;Defect: unexpected empty zipper while computing range&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Blackening the smaller tree avoids balancing problems on union;
    // this can't be done later, though, or it would change the result of compareDepth
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225004">blkNewLeft</a> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#225001" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225005">blkNewRight</a> = <a href="#223179" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#225002" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#3270346" title="(x: (List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int))(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="../../Tuple4.scala.html#81737" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225007">zipper</a>, <a href="../../Tuple4.scala.html#81739" title="Boolean" id="225008">levelled</a>, <a href="../../Tuple4.scala.html#81741" title="Boolean" id="225009">leftMost</a>, <a href="../../Tuple4.scala.html#81743" title="Int" id="225010">smallerDepth</a><span class="delimiter">)</span> = <a href="#223257" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">compareDepth</a><a href="../../Tuple4.scala.html#1227" title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int) @unchecked" class="delimiter">(</a><a href="#225004" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewLeft</a>, <a href="#225005" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewRight</a><span class="delimiter">)</span>

    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225008" title="Boolean">levelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#225000" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225000" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225004" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewLeft</a>, <a href="#225005" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewRight</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="225088">zipFrom</a> = <a href="#225003" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">findDepth</a><span class="delimiter">(</span><a href="#225007" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>, <a href="#225010" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" id="225089">union</a> = <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225009" title="Boolean">leftMost</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#225000" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225000" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225004" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewLeft</a>, <a href="#225088" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipFrom</a>.<a href="../IterableLike.scala.html#58577" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#225000" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225000" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225088" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipFrom</a>.<a href="../IterableLike.scala.html#58577" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a>, <a href="#225005" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewRight</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225090">zippedTree</a> = <a href="#225088" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipFrom</a>.<a href="../TraversableLike.scala.html#58104" title="=&gt; List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">tail</a>.<a href="../LinearSeqOptimized.scala.html#86382" title="(z: scala.collection.immutable.RedBlackTree.Tree[A,B])(f: (scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B]) =&gt; scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">foldLeft</a><span class="delimiter">(</span><a href="#225089" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">union</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225130">tree</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225131">node</a><span class="delimiter">)</span> =&gt;
        <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225009" title="Boolean">leftMost</a><span class="delimiter">)</span>
          <a href="#223189" title="(isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B], d: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balanceLeft</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a><span class="delimiter">)</span>, <a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225130" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#223196" title="(isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B], r: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balanceRight</a><span class="delimiter">(</span><a href="#223178" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a><span class="delimiter">)</span>, <a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225131" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225130" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#225090" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">zippedTree</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /*
   * Forcing direct fields access using the @inline annotation helps speed up
   * various operations (especially smallest/greatest and update/delete).
   *
   * Unfortunately the direct field access is not guaranteed to work (but
   * works on the current implementation of the Scala compiler).
   *
   * An alternative is to implement the these classes using plain old Java code...
   */
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Tree[A, +B] extends AnyRef with Serializable" id="223267">Tree</a><span class="delimiter">[</span><a title="" id="223268">A</a>, +<a title="" id="223269">B</a><span class="delimiter">]</span><a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a>
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="A" id="224051">key</a>: <a href="#223268" title="A">A</a>,
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="B" id="224052">value</a>: <a href="#223269" title="B">B</a>,
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224053">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224054">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../../Serializable.scala.html#891" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="223314">count</a>: <a href="../../Int.scala.html#321" title="Int">Int</a> = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#11152" title="scala.collection.immutable.RedBlackTree.type">RedBlackTree</a>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#11152" title="scala.collection.immutable.RedBlackTree.type">RedBlackTree</a>.<a href="#223081" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223316">black</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223317">red</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>
  <span class="delimiter">}</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class RedTree[A, +B] extends scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223270">RedTree</a><span class="delimiter">[</span><a title="" id="223271">A</a>, +<a title="" id="223272">B</a><span class="delimiter">]</span><a href="#223270" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="delimiter">(</a><a title="A" id="224021">key</a>: <a href="#223271" title="A">A</a>,
                             <a title="B" id="224022">value</a>: <a href="#223272" title="B">B</a>,
                             <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224023">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                             <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224024">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#224021" title="A">key</a>, <a href="#224022" title="B">value</a>, <a href="#224023" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224024" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223939">black</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223962" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#224021" title="A">key</a>, <a href="#224022" title="B">value</a>, <a href="#224023" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224024" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223940">red</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223270" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">this</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="223941">toString</a>: <span title="String">String</span> = <span title="String(&quot;RedTree(&quot;)" class="string">&quot;RedTree(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#224021" title="A">key</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#224022" title="B">value</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#224023" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#224024" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class BlackTree[A, +B] extends scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223273">BlackTree</a><span class="delimiter">[</span><a title="" id="223274">A</a>, +<a title="" id="223275">B</a><span class="delimiter">]</span><a href="#223273" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" class="delimiter">(</a><a title="A" id="223978">key</a>: <a href="#223274" title="A">A</a>,
                               <a title="B" id="223979">value</a>: <a href="#223275" title="B">B</a>,
                               <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223980">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                               <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223981">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#223978" title="A">key</a>, <a href="#223979" title="B">value</a>, <a href="#223980" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223981" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223904">black</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223273" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" class="keyword">this</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223905">red</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#224005" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#223978" title="A">key</a>, <a href="#223979" title="B">value</a>, <a href="#223980" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223981" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="223906">toString</a>: <span title="String">String</span> = <span title="String(&quot;BlackTree(&quot;)" class="string">&quot;BlackTree(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#223978" title="A">key</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#223979" title="B">value</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#223980" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#223981" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="scala.collection.immutable.RedBlackTree.RedTree.type" id="225810">RedTree</a> <a href="#223277" title="scala.collection.immutable.RedBlackTree.RedTree.type" class="delimiter">{</a>
    @inline <span class="keyword">def</span> <a title="[A, B](key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]" id="224005">apply</a><span class="delimiter">[</span><a title="" id="224008">A</a>, <a title="" id="224009">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="224015">key</a>: <a href="#224008" title="A">A</a>, <a title="B" id="224016">value</a>: <a href="#224009" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224017">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="224018">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">new</span> <a href="#223270" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#224015" title="A">key</a>, <a href="#224016" title="B">value</a>, <a href="#224017" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#224018" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](t: scala.collection.immutable.RedBlackTree.RedTree[A,B])Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]" id="224010">unapply</a><span class="delimiter">[</span><a title="" id="224013">A</a>, <a title="" id="224014">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" id="225791">t</a>: <a href="#223270" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Option.scala.html#63128" title="(x: (A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B]))Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]">Some</a><span class="delimiter">(</span><a href="../../Tuple4.scala.html#83441" title="(_1: A, _2: B, _3: scala.collection.immutable.RedBlackTree.Tree[A,B], _4: scala.collection.immutable.RedBlackTree.Tree[A,B])(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])" class="delimiter">(</a><a href="#225791" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225791" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225791" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225791" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="scala.collection.immutable.RedBlackTree.BlackTree.type" id="225831">BlackTree</a> <a href="#223279" title="scala.collection.immutable.RedBlackTree.BlackTree.type" class="delimiter">{</a>
    @inline <span class="keyword">def</span> <a title="[A, B](key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]" id="223962">apply</a><span class="delimiter">[</span><a title="" id="223965">A</a>, <a title="" id="223966">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="223972">key</a>: <a href="#223965" title="A">A</a>, <a title="B" id="223973">value</a>: <a href="#223966" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223974">left</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223975">right</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" class="keyword">new</span> <a href="#223273" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#223972" title="A">key</a>, <a href="#223973" title="B">value</a>, <a href="#223974" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#223975" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](t: scala.collection.immutable.RedBlackTree.BlackTree[A,B])Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]" id="223967">unapply</a><span class="delimiter">[</span><a title="" id="223970">A</a>, <a title="" id="223971">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" id="225812">t</a>: <a href="#223273" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Option.scala.html#63128" title="(x: (A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B]))Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]">Some</a><span class="delimiter">(</span><a href="../../Tuple4.scala.html#83441" title="(_1: A, _2: B, _3: scala.collection.immutable.RedBlackTree.Tree[A,B], _4: scala.collection.immutable.RedBlackTree.Tree[A,B])(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])" class="delimiter">(</a><a href="#225812" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#225812" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#224052" title="=&gt; B">value</a>, <a href="#225812" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#225812" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeIterator[A, B, R] extends AnyRef with Iterator[R]" id="223280">TreeIterator</a><span class="delimiter">[</span><a title="" id="223281">A</a>, <a title="" id="223282">B</a>, <a title="" id="223283">R</a><span class="delimiter">]</span><a href="#223280" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,R]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225834">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../Iterator.scala.html#4100" title="Iterator[R]">Iterator</a><span class="delimiter">[</span>R<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])R" id="223796">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225835">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223283" title="R">R</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="223797">hasNext</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#223804" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()R" id="223798">next</a>: <a href="#223283" title="R">R</a> = <a href="#223804" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#3270350" title="R" id="3270353" class="keyword">null</a> =&gt;
        <a href="#3270355" title="(x: R)R" class="keyword">throw</a> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#55510" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;next on empty iterator&quot;)" class="string">&quot;next on empty iterator&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> tree =&gt;
        <a href="#223804" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> = <a href="#223799" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">findNext</a><span class="delimiter">(</span>tree.<a href="#224054" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
        <a href="#223796" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])R">nextResult</a><span class="delimiter">(</span>tree<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @tailrec
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223799">findNext</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225856">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#223801" title="()scala.collection.immutable.RedBlackTree.Tree[A,B]">popPath</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#225856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#223800" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit">pushPath</a><span class="delimiter">(</span><a href="#225856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
        <a href="#223799" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">findNext</a><span class="delimiter">(</span><a href="#225856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224053" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit" id="223800">pushPath</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="225859">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="../../Array.scala.html#56640" title="(i: Int, x: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit">path</a><span class="delimiter">(</span><a href="#223803" title="Int">index</a><span class="delimiter">)</span> = <a href="#225859" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
        <a href="#223803" title="Int">index</a> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">_</span>: <span title="ArrayIndexOutOfBoundsException">ArrayIndexOutOfBoundsException</span> =&gt;
          /*
           * Either the tree became unbalanced or we calculated the maximum height incorrectly.
           * To avoid crashing the iterator we expand the path array. Obviously this should never
           * happen...
           *
           * An exception handler is used instead of an if-condition to optimize the normal path.
           * This makes a large difference in iteration speed!
           */
          <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#223803" title="Int">index</a> <a href="../../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#223802" title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">path</a>.<a href="../../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="#223802" title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">path</a> <a href="../SeqLike.scala.html#58855" title="(elem: scala.collection.immutable.RedBlackTree.Tree[A,B])(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.immutable.RedBlackTree.Tree[A,B]],scala.collection.immutable.RedBlackTree.Tree[A,B],Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]])Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">:+=</a> <span title="Null(null)" class="keyword">null</span>
          <a href="#223800" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit">pushPath</a><span class="delimiter">(</span><a href="#225859" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="()scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223801">popPath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#223803" title="Int">index</a> <a href="../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#223803" title="Int">index</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
      <a href="../../Array.scala.html#56639" title="(i: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">path</a><span class="delimiter">(</span><a href="#223803" title="Int">index</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="223802">path</a> = <span title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#225834" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      /*
       * According to &quot;Ralf Hinze. Constructing red-black trees&quot; [http://www.cs.ox.ac.uk/ralf.hinze/publications/#P5]
       * the maximum height of a red-black tree is 2*log_2(n + 2) - 2.
       *
       * According to {@see Integer#numberOfLeadingZeros} ceil(log_2(n)) = (32 - Integer.numberOfLeadingZeros(n - 1))
       *
       * We also don't store the deepest nodes in the path so the maximum path length is further reduced by one.
       */
      <span class="keyword">val</span> <a title="Int" id="225861">maximumHeight</a> = <span title="Int(2)" class="int">2</span> <a href="../../Int.scala.html#57168" title="(x: Int)Int">*</a> <span class="delimiter">(</span><span title="Int(32)" class="int">32</span> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">numberOfLeadingZeros</span><span class="delimiter">(</span><a href="#225834" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#223314" title="=&gt; Int">count</a> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(2)" class="int">2</span> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
      <span title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="keyword">new</span> <a href="../../Array.scala.html#174" title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">Array</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#225861" title="Int">maximumHeight</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Int" id="223803">index</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223804">next</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#223799" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">findNext</a><span class="delimiter">(</span><a href="#225834" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">class</span> <a title="class EntriesIterator[A, B] extends scala.collection.immutable.RedBlackTree.TreeIterator[A,B,(A, B)]" id="223284">EntriesIterator</a><span class="delimiter">[</span><a title="" id="223285">A</a>, <a title="" id="223286">B</a><span class="delimiter">]</span><a href="#223284" title="scala.collection.immutable.RedBlackTree.EntriesIterator[A,B]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223811">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#223280" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,(A, B)]">TreeIterator</a><span class="delimiter">[</span>A, B, <span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#223811" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])(A, B)" id="223808">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="226414">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#62849" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#226414" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>, <a href="#226414" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">class</span> <a title="class KeysIterator[A, B] extends scala.collection.immutable.RedBlackTree.TreeIterator[A,B,A]" id="223287">KeysIterator</a><span class="delimiter">[</span><a title="" id="223288">A</a>, <a title="" id="223289">B</a><span class="delimiter">]</span><a href="#223287" title="scala.collection.immutable.RedBlackTree.KeysIterator[A,B]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223826">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#223280" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,A]">TreeIterator</a><span class="delimiter">[</span>A, B, A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#223826" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])A" id="223823">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="226425">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#226425" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224051" title="=&gt; A">key</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">class</span> <a title="class ValuesIterator[A, B] extends scala.collection.immutable.RedBlackTree.TreeIterator[A,B,B]" id="223290">ValuesIterator</a><span class="delimiter">[</span><a title="" id="223291">A</a>, <a title="" id="223292">B</a><span class="delimiter">]</span><a href="#223290" title="scala.collection.immutable.RedBlackTree.ValuesIterator[A,B]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="223842">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#223280" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,B]">TreeIterator</a><span class="delimiter">[</span>A, B, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#223842" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])B" id="223839">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="226430">tree</a>: <a href="#223267" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#226430" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#224052" title="=&gt; B">value</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>