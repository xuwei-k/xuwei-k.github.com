<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/runtime/SymbolLoaders.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> runtime

<span class="keyword">import</span> internal.Flags
<span class="keyword">import</span> java.lang.<span class="delimiter">{</span>Class =&gt; jClass, Package =&gt; jPackage<span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable

<span class="keyword">private</span><span class="delimiter">[</span>reflect<span class="delimiter">]</span> <span class="keyword">trait</span> <a title="trait SymbolLoaders extends Object" id="24593">SymbolLoaders</a> <a href="../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a> self: SymbolTable =&gt;

  /** The standard completer for top-level classes
   *  @param clazz   The top-level class
   *  @param module  The companion object of `clazz`
   *  Calling `complete` on this type will assign the infos of `clazz` and `module`
   *  by unpickling information from the corresponding Java class. If no Java class
   *  is found, a package is created instead.
   */
  <span class="keyword">class</span> <a title="class TopClassCompleter extends SymbolLoaders.this.SymLoader with SymbolLoaders.this.FlagAssigningCompleter" id="558591">TopClassCompleter</a><a href="#558591" title="SymbolLoaders.this.TopClassCompleter" class="delimiter">(</a><a title="SymbolLoaders.this.Symbol" id="576533">clazz</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a>, <a title="SymbolLoaders.this.Symbol" id="576534">module</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../internal/SymbolTable.scala.html#406694" title="SymbolLoaders.this.SymLoader">SymLoader</a> <span class="keyword">with</span> <a href="../internal/Types.scala.html#407394" title="SymbolLoaders.this.FlagAssigningCompleter">FlagAssigningCompleter</a> <span class="delimiter">{</span>
//    def makePackage() {
//      println(&quot;wrong guess; making package &quot;+clazz)
//      val ptpe = newPackageType(module.moduleClass)
//      for (sym &lt;- List(clazz, module, module.moduleClass)) {
//        sym setFlag Flags.PACKAGE
//        sym setInfo ptpe
//      }
//    }

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SymbolLoaders.this.Symbol)Unit" id="576528">complete</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="576535">sym</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="SymbolTable.scala.html#558586" title="(msg: =&gt; String)Unit">debugInfo</a><span class="delimiter">(</span><span title="String(&quot;completing &quot;)" class="string">&quot;completing &quot;</span><span title="(x$1: Any)String">+</span><a href="#576535" title="SymbolLoaders.this.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#576533" title="SymbolLoaders.this.Symbol">clazz</a>.<a href="../internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
      <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#576535" title="SymbolLoaders.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#576533" title="SymbolLoaders.this.Symbol">clazz</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#576535" title="SymbolLoaders.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#576534" title="SymbolLoaders.this.Symbol">module</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#576535" title="SymbolLoaders.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#576534" title="SymbolLoaders.this.Symbol">module</a>.<a href="../internal/Symbols.scala.html#411459" title="=&gt; SymbolLoaders.this.Symbol">moduleClass</a><span class="delimiter">)</span>
//      try {
      <a href="../internal/SymbolTable.scala.html#406687" title="(target: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhaseNotLaterThan</a><span class="delimiter">(</span><a href="../internal/Required.scala.html#408332" title="=&gt; scala.reflect.internal.Phase">picklerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SymbolLoaders.this.Mirror" id="576564">loadingMirror</a> = <a href="JavaMirrors.scala.html#558579" title="(sym: SymbolLoaders.this.Symbol)SymbolLoaders.this.Mirror">mirrorThatLoaded</a><span class="delimiter">(</span><a href="#576535" title="SymbolLoaders.this.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Class[_]" id="576565">javaClass</a> = <a href="#576564" title="SymbolLoaders.this.Mirror">loadingMirror</a>.<a href="JavaMirrors.scala.html#558760" title="(path: String)Class[_]">javaClass</a><span class="delimiter">(</span><a href="#576533" title="SymbolLoaders.this.Symbol">clazz</a>.<a href="../internal/Symbols.scala.html#411330" title="=&gt; String">javaClassName</a><span class="delimiter">)</span>
        <a href="#576564" title="SymbolLoaders.this.Mirror">loadingMirror</a>.<a href="JavaMirrors.scala.html#558765" title="(clazz: SymbolLoaders.this.Symbol, module: SymbolLoaders.this.Symbol, jclazz: Class[_])Unit">unpickleClass</a><span class="delimiter">(</span><a href="#576533" title="SymbolLoaders.this.Symbol">clazz</a>, <a href="#576534" title="SymbolLoaders.this.Symbol">module</a>, <a href="#576565" title="Class[_]">javaClass</a><span class="delimiter">)</span>
//      } catch {
//        case ex: ClassNotFoundException =&gt; makePackage()
//        case ex: NoClassDefFoundError =&gt; makePackage()
          // Note: We catch NoClassDefFoundError because there are situations
          // where a package and a class have the same name except for capitalization.
          // It seems in this case the class is loaded even if capitalization differs
          // but then a NoClassDefFound error is issued with a (&quot;wrong name: ...&quot;)
          // reason. (I guess this is a concession to Windows).
          // The present behavior is a bit too forgiving, in that it masks
          // all class load errors, not just wrong name errors. We should try
          // to be more discriminating. To get on the right track simply delete
          // the clause above and load a collection class such as collection.Iterable.
          // You'll see an error that class `parallel` has the wrong name.
//      }
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SymbolLoaders.this.Symbol)Unit" id="576529">load</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="576578">sym</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#576528" title="(sym: SymbolLoaders.this.Symbol)Unit">complete</a><span class="delimiter">(</span><a href="#576578" title="SymbolLoaders.this.Symbol">sym</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Create a class and a companion object, enter in enclosing scope,
   *  and initialize with a lazy type completer.
   *  @param owner   The owner of the newly created class and object
   *  @param name    The simple name of the newly created class
   *  @param completer  The completer to be used to set the info of the class and the module
   */
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(owner: SymbolLoaders.this.Symbol, name: SymbolLoaders.this.TypeName, completer: (SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol) =&gt; SymbolLoaders.this.LazyType)(SymbolLoaders.this.ClassSymbol, SymbolLoaders.this.ModuleSymbol)" id="558592">createClassModule</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="574026">owner</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a>, <a title="SymbolLoaders.this.TypeName" id="574027">name</a>: <a href="../internal/Names.scala.html#406882" title="SymbolLoaders.this.TypeName">TypeName</a>, <a title="(SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol) =&gt; SymbolLoaders.this.LazyType" id="574028">completer</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; LazyType<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../Predef.scala.html#7485" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#574027" title="SymbolLoaders.this.TypeName">name</a>.<span title="()String">toString</span> <span title="(x$1: String)Boolean">endsWith</span> <span title="String(&quot;[]&quot;)" class="string">&quot;[]&quot;</span><span class="delimiter">)</span>, <a href="#574027" title="SymbolLoaders.this.TypeName">name</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="SymbolLoaders.this.ClassSymbol" id="574029">clazz</a> = <a href="#574026" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411148" title="(name: SymbolLoaders.this.TypeName, pos: SymbolLoaders.this.Position, newFlags: Long)SymbolLoaders.this.ClassSymbol">newClass</a><span class="delimiter">(</span><a href="#574027" title="SymbolLoaders.this.TypeName">name</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="SymbolLoaders.this.ModuleSymbol" id="574030">module</a> = <a href="#574026" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411120" title="(name: SymbolLoaders.this.TermName, pos: SymbolLoaders.this.Position, newFlags0: Long)SymbolLoaders.this.ModuleSymbol">newModule</a><span class="delimiter">(</span><a href="#574027" title="SymbolLoaders.this.TypeName">name</a>.<a href="../internal/Names.scala.html#410469" title="=&gt; SymbolLoaders.this.TermName">toTermName</a><span class="delimiter">)</span>
    // without this check test/files/run/t5256g and test/files/run/t5256h will crash
    // todo. reflection meeting verdict: need to enter the symbols into the first symbol in the owner chain that has a non-empty scope
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#574026" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a>.<a href="../internal/Types.scala.html#408442" title="=&gt; SymbolLoaders.this.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../internal/Scopes.scala.html#407763" title="SymbolLoaders.this.EmptyScope.type">EmptyScope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#574026" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a>.<a href="../internal/Types.scala.html#408442" title="=&gt; SymbolLoaders.this.Scope">decls</a> <a href="../internal/Scopes.scala.html#410508" title="(sym: SymbolLoaders.this.ClassSymbol)SymbolLoaders.this.ClassSymbol">enter</a> <a href="#574029" title="SymbolLoaders.this.ClassSymbol">clazz</a>
      <a href="#574026" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a>.<a href="../internal/Types.scala.html#408442" title="=&gt; SymbolLoaders.this.Scope">decls</a> <a href="../internal/Scopes.scala.html#410508" title="(sym: SymbolLoaders.this.ModuleSymbol)SymbolLoaders.this.ModuleSymbol">enter</a> <a href="#574030" title="SymbolLoaders.this.ModuleSymbol">module</a>
    <span class="delimiter">}</span>
    <a href="#558594" title="(clazz: SymbolLoaders.this.Symbol, module: SymbolLoaders.this.Symbol, completer: SymbolLoaders.this.LazyType)Unit">initClassModule</a><span class="delimiter">(</span><a href="#574029" title="SymbolLoaders.this.ClassSymbol">clazz</a>, <a href="#574030" title="SymbolLoaders.this.ModuleSymbol">module</a>, <a href="../../Function2.scala.html#65848" title="(v1: SymbolLoaders.this.Symbol, v2: SymbolLoaders.this.Symbol)SymbolLoaders.this.LazyType">completer</a><span class="delimiter">(</span><a href="#574029" title="SymbolLoaders.this.ClassSymbol">clazz</a>, <a href="#574030" title="SymbolLoaders.this.ModuleSymbol">module</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../Tuple2.scala.html#62849" title="(_1: SymbolLoaders.this.ClassSymbol, _2: SymbolLoaders.this.ModuleSymbol)(SymbolLoaders.this.ClassSymbol, SymbolLoaders.this.ModuleSymbol)" class="delimiter">(</a><a href="#574029" title="SymbolLoaders.this.ClassSymbol">clazz</a>, <a href="#574030" title="SymbolLoaders.this.ModuleSymbol">module</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(clazz: SymbolLoaders.this.Symbol, module: SymbolLoaders.this.Symbol, info: SymbolLoaders.this.Type)Unit" id="558593">setAllInfos</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="562744">clazz</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a>, <a title="SymbolLoaders.this.Symbol" id="562745">module</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a>, <a title="SymbolLoaders.this.Type" id="562746">info</a>: <a href="../internal/Types.scala.html#407270" title="SymbolLoaders.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../collection/immutable/List.scala.html#62451" title="(xs: SymbolLoaders.this.Symbol*)List[SymbolLoaders.this.Symbol]">List</a><span class="delimiter">(</span><a href="#562744" title="SymbolLoaders.this.Symbol">clazz</a>, <a href="#562745" title="SymbolLoaders.this.Symbol">module</a>, <a href="#562745" title="SymbolLoaders.this.Symbol">module</a>.<a href="../internal/Symbols.scala.html#411459" title="=&gt; SymbolLoaders.this.Symbol">moduleClass</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#62719" title="(f: SymbolLoaders.this.Symbol =&gt; SymbolLoaders.this.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#562780" title="SymbolLoaders.this.Symbol">_</a> <a href="../internal/Symbols.scala.html#411369" title="(info: SymbolLoaders.this.Type)x$1.type">setInfo</a> <a href="#562746" title="SymbolLoaders.this.Type">info</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(clazz: SymbolLoaders.this.Symbol, module: SymbolLoaders.this.Symbol, completer: SymbolLoaders.this.LazyType)Unit" id="558594">initClassModule</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="568066">clazz</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a>, <a title="SymbolLoaders.this.Symbol" id="568067">module</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a>, <a title="SymbolLoaders.this.LazyType" id="568068">completer</a>: <a href="../internal/Types.scala.html#407392" title="SymbolLoaders.this.LazyType">LazyType</a><span class="delimiter">)</span> =
    <a href="#558593" title="(clazz: SymbolLoaders.this.Symbol, module: SymbolLoaders.this.Symbol, info: SymbolLoaders.this.Type)Unit">setAllInfos</a><span class="delimiter">(</span><a href="#568066" title="SymbolLoaders.this.Symbol">clazz</a>, <a href="#568067" title="SymbolLoaders.this.Symbol">module</a>, <a href="#568068" title="SymbolLoaders.this.LazyType">completer</a><span class="delimiter">)</span>

  /** The type completer for packages.
   */
  <span class="keyword">class</span> <a title="class LazyPackageType extends SymbolLoaders.this.LazyType with SymbolLoaders.this.FlagAgnosticCompleter" id="558595">LazyPackageType</a> <a href="#558595" title="SymbolLoaders.this.LazyPackageType" class="keyword">extends</a> <a href="../internal/Types.scala.html#407392" title="SymbolLoaders.this.LazyType">LazyType</a> <span class="keyword">with</span> <a href="../internal/Types.scala.html#407393" title="SymbolLoaders.this.FlagAgnosticCompleter">FlagAgnosticCompleter</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SymbolLoaders.this.Symbol)Unit" id="559039">complete</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="576584">sym</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#576584" title="SymbolLoaders.this.Symbol">sym</a>.<a href="../internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
      <a href="#576584" title="SymbolLoaders.this.Symbol">sym</a> <a href="../internal/Symbols.scala.html#411369" title="(info: SymbolLoaders.this.Type)sym.type">setInfo</a> <span title="SymbolLoaders.this.ClassInfoType" class="keyword">new</span> <a href="../internal/Types.scala.html#407313" title="SymbolLoaders.this.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>List<a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <span title="SymbolLoaders.this.PackageScope" class="keyword">new</span> <a href="#558597" title="SymbolLoaders.this.PackageScope">PackageScope</a><span class="delimiter">(</span><a href="#576584" title="SymbolLoaders.this.Symbol">sym</a><span class="delimiter">)</span>, <a href="#576584" title="SymbolLoaders.this.Symbol">sym</a><span class="delimiter">)</span>
        // override def safeToString = pkgClass.toString
      <a href="../internal/SymbolTable.scala.html#406695" title="(pkgClass: SymbolLoaders.this.Symbol)Unit">openPackageModule</a><span class="delimiter">(</span><a href="#576584" title="SymbolLoaders.this.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Is the given name valid for a top-level class? We exclude names with embedded $-signs, because
   *  these are nested classes or anonymous classes,
   */
  <span class="keyword">def</span> <a title="(name: SymbolLoaders.this.Name)Boolean" id="558596">isInvalidClassName</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Name" id="573304">name</a>: <a href="../internal/Names.scala.html#406868" title="SymbolLoaders.this.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="573305">dp</a> = <a href="#573304" title="SymbolLoaders.this.Name">name</a> <a href="../internal/Names.scala.html#410392" title="(c: Char)Int">pos</a> <span title="Char('$')" class="char">'$'</span>
    <span title="Int(0)" class="int">0</span> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#573305" title="Int">dp</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#573305" title="Int">dp</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span class="delimiter">(</span><a href="#573304" title="SymbolLoaders.this.Name">name</a>.<a href="../internal/Names.scala.html#410373" title="=&gt; Int">length</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class PackageScope extends SymbolLoaders.this.Scope with SymbolLoaders.this.SynchronizedScope" id="558597">PackageScope</a><a href="#558597" title="SymbolLoaders.this.PackageScope" id="576646" class="delimiter">(</a><a title="SymbolLoaders.this.Symbol" id="575573">pkgClass</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../internal/Scopes.scala.html#407751" title="SymbolLoaders.this.Scope">Scope</a><span class="delimiter">(</span>initFingerPrints = -<a title="Long" id="576645" class="long">1L</a><span class="delimiter">)</span> // disable fingerprinting as we do not know entries beforehand
      <span class="keyword">with</span> <a href="SynchronizedOps.scala.html#558611" title="SymbolLoaders.this.SynchronizedScope">SynchronizedScope</a> <span class="delimiter">{</span>
    <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>.<a href="../api/Symbols.scala.html#402394" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
    // disable fingerprinting as we do not know entries beforehand
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[SymbolLoaders.this.Name]" id="575563">negatives</a> = mutable.<a href="../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.mutable.Set[A]">Set</a><span title="(elems: SymbolLoaders.this.Name*)scala.collection.mutable.Set[SymbolLoaders.this.Name]" class="delimiter">[</span><a href="../internal/Names.scala.html#406868" title="SymbolLoaders.this.Name">Name</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // Syncnote: Performance only, so need not be protected.
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: SymbolLoaders.this.Name)SymbolLoaders.this.ScopeEntry" id="575565">lookupEntry</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Name" id="576649">name</a>: <a href="../internal/Names.scala.html#406868" title="SymbolLoaders.this.Name">Name</a><span class="delimiter">)</span>: <a href="../internal/Scopes.scala.html#407747" title="SymbolLoaders.this.ScopeEntry">ScopeEntry</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SymbolLoaders.this.ScopeEntry" id="576660">e</a> = <a href="#558597" title="SymbolLoaders.this.PackageScope" class="keyword">super</a>.<a href="SynchronizedOps.scala.html#569596" title="(name: SymbolLoaders.this.Name)SymbolLoaders.this.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#576649" title="SymbolLoaders.this.Name">name</a><span class="delimiter">)</span>
      <span title="SymbolLoaders.this.ScopeEntry" class="keyword">if</span> <span class="delimiter">(</span><a href="#576660" title="SymbolLoaders.this.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <a href="#576660" title="SymbolLoaders.this.ScopeEntry">e</a>
      <span class="keyword">else</span> <span title="SymbolLoaders.this.ScopeEntry" class="keyword">if</span> <span class="delimiter">(</span><a href="#558596" title="(name: SymbolLoaders.this.Name)Boolean">isInvalidClassName</a><span class="delimiter">(</span><a href="#576649" title="SymbolLoaders.this.Name">name</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#575563" title="=&gt; scala.collection.mutable.Set[SymbolLoaders.this.Name]">negatives</a> <a href="../../collection/SetLike.scala.html#66442" title="(elem: SymbolLoaders.this.Name)Boolean">contains</a> <a href="#576649" title="SymbolLoaders.this.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="576670">path</a> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>.<a href="../internal/Symbols.scala.html#411228" title="=&gt; Boolean">isEmptyPackageClass</a><span class="delimiter">)</span> <a href="#576649" title="SymbolLoaders.this.Name">name</a>.<span title="()String">toString</span>
          <span class="keyword">else</span> <a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>.<a href="../internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#576649" title="SymbolLoaders.this.Name">name</a>
        <span class="keyword">val</span> <a title="SymbolLoaders.this.Mirror" id="576671">currentMirror</a> = <a href="JavaMirrors.scala.html#558579" title="(sym: SymbolLoaders.this.Symbol)SymbolLoaders.this.Mirror">mirrorThatLoaded</a><span class="delimiter">(</span><a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a><span class="delimiter">)</span>
        <a href="#576671" title="SymbolLoaders.this.Mirror">currentMirror</a>.<a href="JavaMirrors.scala.html#558761" title="(path: String)Option[Class[_]]">tryJavaClass</a><span title="SymbolLoaders.this.ScopeEntry" class="delimiter">(</span><a href="#576670" title="String">path</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<a href="#3297208" title="SymbolLoaders.this.ScopeEntry" id="3297209" class="delimiter">(</a><a href="../../Option.scala.html#63132" title="Class[_]" id="576675">cls</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="SymbolLoaders.this.JavaMirror" id="576683">loadingMirror</a> = <a href="#576671" title="SymbolLoaders.this.Mirror">currentMirror</a>.<a href="JavaMirrors.scala.html#558762" title="(jclazz: Class[_])SymbolLoaders.this.JavaMirror">mirrorDefining</a><span class="delimiter">(</span><a href="#576675" title="Class[_]">cls</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#3297204" title="(x: (SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol))(SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol)" class="delimiter">(</a><a href="../../Tuple2.scala.html#60635" title="SymbolLoaders.this.Symbol" id="576685">clazz</a>, <a href="../../Tuple2.scala.html#60637" title="SymbolLoaders.this.Symbol" id="576686">module</a><span class="delimiter">)</span> =
              <a href="#3297202" title="(SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol)" class="keyword">if</a> <span class="delimiter">(</span><a href="#576683" title="SymbolLoaders.this.JavaMirror">loadingMirror</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#576671" title="SymbolLoaders.this.Mirror">currentMirror</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#558592" title="(owner: SymbolLoaders.this.Symbol, name: SymbolLoaders.this.TypeName, completer: (SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol) =&gt; SymbolLoaders.this.LazyType)(SymbolLoaders.this.ClassSymbol, SymbolLoaders.this.ModuleSymbol)">createClassModule</a><span class="delimiter">(</span><a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>, <a href="#576649" title="SymbolLoaders.this.Name">name</a>.<a href="../internal/Names.scala.html#410380" title="=&gt; SymbolLoaders.this.TypeName">toTypeName</a>, <span title="SymbolLoaders.this.TopClassCompleter" class="keyword">new</span> <a href="#558591" title="SymbolLoaders.this.TopClassCompleter">TopClassCompleter</a><span class="delimiter">(</span><a href="#576691" title="SymbolLoaders.this.Symbol">_</a>, <a href="#576692" title="SymbolLoaders.this.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="SymbolLoaders.this.ModuleSymbol" id="576693">origOwner</a> = <a href="#576683" title="SymbolLoaders.this.JavaMirror">loadingMirror</a>.<a href="JavaMirrors.scala.html#558784" title="(fullname: String)SymbolLoaders.this.ModuleSymbol">packageNameToScala</a><span class="delimiter">(</span><a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>.<a href="../internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="SymbolLoaders.this.Symbol" id="576694">clazz</a> = <a href="#576693" title="SymbolLoaders.this.ModuleSymbol">origOwner</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a> <a href="../internal/Types.scala.html#408443" title="(name: SymbolLoaders.this.Name)SymbolLoaders.this.Symbol">decl</a> <a href="#576649" title="SymbolLoaders.this.Name">name</a>.<a href="../internal/Names.scala.html#410380" title="=&gt; SymbolLoaders.this.TypeName">toTypeName</a>
                <span class="keyword">val</span> <a title="SymbolLoaders.this.Symbol" id="576695">module</a> = <a href="#576693" title="SymbolLoaders.this.ModuleSymbol">origOwner</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a> <a href="../internal/Types.scala.html#408443" title="(name: SymbolLoaders.this.Name)SymbolLoaders.this.Symbol">decl</a> <a href="#576649" title="SymbolLoaders.this.Name">name</a>.<a href="../internal/Names.scala.html#410379" title="=&gt; SymbolLoaders.this.TermName">toTermName</a>
                <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#576694" title="SymbolLoaders.this.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../internal/Symbols.scala.html#407184" title="=&gt; SymbolLoaders.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#576695" title="SymbolLoaders.this.Symbol">module</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../internal/Symbols.scala.html#407184" title="=&gt; SymbolLoaders.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a>.<a href="../internal/Types.scala.html#408442" title="=&gt; SymbolLoaders.this.Scope">decls</a> <a href="../internal/Scopes.scala.html#410508" title="(sym: SymbolLoaders.this.Symbol)SymbolLoaders.this.Symbol">enter</a> <a href="#576694" title="SymbolLoaders.this.Symbol">clazz</a>
                <a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a>.<a href="../internal/Types.scala.html#408442" title="=&gt; SymbolLoaders.this.Scope">decls</a> <a href="../internal/Scopes.scala.html#410508" title="(sym: SymbolLoaders.this.Symbol)SymbolLoaders.this.Symbol">enter</a> <a href="#576695" title="SymbolLoaders.this.Symbol">module</a>
                <a href="../../Tuple2.scala.html#62849" title="(_1: SymbolLoaders.this.Symbol, _2: SymbolLoaders.this.Symbol)(SymbolLoaders.this.Symbol, SymbolLoaders.this.Symbol)" class="delimiter">(</a><a href="#576694" title="SymbolLoaders.this.Symbol">clazz</a>, <a href="#576695" title="SymbolLoaders.this.Symbol">module</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <a href="SymbolTable.scala.html#558586" title="(msg: =&gt; String)Unit">debugInfo</a><span class="delimiter">(</span><a href="../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;created $<a href="#576686" title="SymbolLoaders.this.Symbol">module</a>/$<span class="delimiter">{</span><a href="#576686" title="SymbolLoaders.this.Symbol">module</a>.<a href="../internal/Symbols.scala.html#411459" title="=&gt; SymbolLoaders.this.Symbol">moduleClass</a><span class="delimiter">}</span> in $<a href="#575573" title="SymbolLoaders.this.Symbol">pkgClass</a><span class="string">&quot;</span><span class="delimiter">)</span>
            <a href="#575565" title="(name: SymbolLoaders.this.Name)SymbolLoaders.this.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#576649" title="SymbolLoaders.this.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> none =&gt;
            <a href="SymbolTable.scala.html#558586" title="(msg: =&gt; String)Unit">debugInfo</a><span class="delimiter">(</span><span title="String(&quot;*** not found : &quot;)" class="string">&quot;*** not found : &quot;</span><span title="(x$1: Any)String">+</span><a href="#576670" title="String">path</a><span class="delimiter">)</span>
            <a href="#575563" title="=&gt; scala.collection.mutable.Set[SymbolLoaders.this.Name]">negatives</a> <a href="../../collection/mutable/SetLike.scala.html#90897" title="(elem: SymbolLoaders.this.Name)PackageScope.this.negatives.type">+=</a> <a href="#576649" title="SymbolLoaders.this.Name">name</a>
            <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Assert that packages have package scopes */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SymbolLoaders.this.ClassInfoType)Unit" id="558598">validateClassInfo</a><span class="delimiter">(</span><a title="SymbolLoaders.this.ClassInfoType" id="576746">tp</a>: <a href="../internal/Types.scala.html#407313" title="SymbolLoaders.this.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../Predef.scala.html#7484" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#576746" title="SymbolLoaders.this.ClassInfoType">tp</a>.<a href="../internal/Types.scala.html#410830" title="=&gt; SymbolLoaders.this.Symbol">typeSymbol</a>.<a href="../internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#576746" title="SymbolLoaders.this.ClassInfoType">tp</a>.<a href="../internal/Types.scala.html#410828" title="=&gt; SymbolLoaders.this.Scope">decls</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#558597" title="SymbolLoaders.this.PackageScope">PackageScope</a><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pkgClass: SymbolLoaders.this.Symbol)SymbolLoaders.this.PackageScope" id="558599">newPackageScope</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="576749">pkgClass</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="SymbolLoaders.this.PackageScope" class="keyword">new</span> <a href="#558597" title="SymbolLoaders.this.PackageScope">PackageScope</a><span class="delimiter">(</span><a href="#576749" title="SymbolLoaders.this.Symbol">pkgClass</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: SymbolLoaders.this.Symbol)(op: =&gt; SymbolLoaders.this.Scope)SymbolLoaders.this.Scope" id="558600">scopeTransform</a><span class="delimiter">(</span><a title="SymbolLoaders.this.Symbol" id="576750">owner</a>: <a href="../internal/Symbols.scala.html#407146" title="SymbolLoaders.this.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; SymbolLoaders.this.Scope" id="576751">op</a>: =&gt; Scope<span class="delimiter">)</span>: <a href="../internal/Scopes.scala.html#407751" title="SymbolLoaders.this.Scope">Scope</a> =
    <span title="SymbolLoaders.this.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#576750" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#576750" title="SymbolLoaders.this.Symbol">owner</a>.<a href="../internal/Symbols.scala.html#411367" title="=&gt; SymbolLoaders.this.Type">info</a>.<a href="../internal/Types.scala.html#408442" title="=&gt; SymbolLoaders.this.Scope">decls</a> <span class="keyword">else</span> <a href="#576751" title="=&gt; SymbolLoaders.this.Scope">op</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>