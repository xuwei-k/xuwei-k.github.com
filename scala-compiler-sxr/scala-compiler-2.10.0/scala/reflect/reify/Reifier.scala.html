<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/reify/Reifier.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.reflect.reify

<span class="keyword">import</span> scala.tools.nsc.Global
<span class="keyword">import</span> scala.reflect.macros.ReificationException
<span class="keyword">import</span> scala.reflect.macros.UnexpectedReificationException
<span class="keyword">import</span> scala.reflect.reify.utils.Utils

/** Given a tree or a type, generate a tree that when executed at runtime produces the original tree or type.
 *  See more info in the comments to ``reify'' in scala.reflect.api.Universe.
 *
 *  @author Martin Odersky
 *  @version 2.10
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Reifier extends Object with scala.reflect.reify.States with scala.reflect.reify.Phases with scala.reflect.reify.Errors with scala.reflect.reify.utils.Utils" id="23686">Reifier</a> <a href="#23686" title="scala.reflect.reify.Reifier" class="keyword">extends</a> <a href="States.scala.html#23728" title="scala.reflect.reify.States">States</a>
                          <span class="keyword">with</span> <a href="Phases.scala.html#23680" title="scala.reflect.reify.Phases">Phases</a>
                          <span class="keyword">with</span> <a href="Errors.scala.html#23755" title="scala.reflect.reify.Errors">Errors</a>
                          <span class="keyword">with</span> <a href="utils/Utils.scala.html#24337" title="scala.reflect.reify.utils.Utils">Utils</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="541941">global</a>: <a href="../../tools/nsc/Global.scala.html#27346" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#541941" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../internal/Definitions.scala.html#407777" title="Reifier.this.global.definitions.type">definitions</a>._

  <span class="keyword">val</span> <a title="=&gt; Reifier.this.global.analyzer.Typer" id="541944">typer</a>: global.analyzer.<a href="../../tools/nsc/typechecker/Typers.scala.html#538117" title="Reifier.this.global.analyzer.Typer">Typer</a>
  <span class="keyword">val</span> <a title="=&gt; Reifier.this.global.Tree" id="541945">universe</a>: <a href="../internal/Trees.scala.html#407938" title="Reifier.this.global.Tree">Tree</a>
  <span class="keyword">val</span> <a title="=&gt; Reifier.this.global.Tree" id="541946">mirror</a>: <a href="../internal/Trees.scala.html#407938" title="Reifier.this.global.Tree">Tree</a>
  <span class="keyword">val</span> <a title="=&gt; Any" id="541947">reifee</a>: <span title="Any">Any</span>
  <span class="keyword">val</span> <a title="=&gt; Boolean" id="541948">concrete</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>

  // needed to seamlessly integrate with standalone utils
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.reflect.reify.Reifier{val global: Reifier.this.global.type}" id="541949">getReifier</a>: <a href="#545962" title="Reifier extends scala.reflect.reify.Reifier">Reifier</a> <span class="delimiter">{</span> <span class="keyword">val</span> global: Reifier.<span class="keyword">this</span>.global.<span class="keyword">type</span> <span class="delimiter">}</span> =
    <a href="#23686" title="Reifier.this.type" class="keyword">this</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Reifier extends scala.reflect.reify.Reifier" class="delimiter">[</span><a href="#545973" title="Reifier extends scala.reflect.reify.Reifier">Reifier</a> <span class="delimiter">{</span> <span class="keyword">val</span> global: Reifier.<span class="keyword">this</span>.global.<span class="keyword">type</span> <span class="delimiter">}</span><span class="delimiter">]</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="541950">hasReifier</a> = <span title="Boolean(true)" class="keyword">true</span>

  /**
   *  For ``reifee'' and other reification parameters, generate a tree of the form
   *
   *    {
   *      val $u: universe.type = &lt;[ universe ]&gt;
   *      val $m: $u.Mirror = &lt;[ mirror ]&gt;
   *      $u.Expr[T](rtree)       // if data is a Tree
   *      $u.TypeTag[T](rtree)    // if data is a Type
   *    }
   *
   *  where
   *
   *    - `universe` is the tree that represents the universe the result will be bound to
   *    - `mirror` is the tree that represents the mirror the result will be initially bound to
   *    - `rtree` is code that generates `reifee` at runtime.
   *    - `T` is the type that corresponds to `data`.
   *
   *  This is not a method, but a value to indicate the fact that Reifier instances are a one-off.
   */
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Reifier.this.global.Tree" id="541952">reification</a>: <a href="../internal/Trees.scala.html#407938" title="Reifier.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a> <a href="../internal/Trees.scala.html#408545" title="(p: Reifier.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#545988" title="Reifier.this.global.Tree">_</a>.<a href="../internal/Trees.scala.html#408559" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Errors.scala.html#541930" title="(prefix: Reifier.this.global.Tree)Nothing">CannotReifyErroneousPrefix</a><span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a>.<a href="../internal/Trees.scala.html#408573" title="=&gt; Reifier.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="Errors.scala.html#541928" title="(prefix: Reifier.this.global.Tree)Nothing">CannotReifyUntypedPrefix</a><span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Reifier.this.global.Tree" id="545981">result</a> = <a href="#541947" title="=&gt; Any">reifee</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../Boolean.scala.html#57826" title="Reifier.this.global.Tree" id="3293582">tree</a>: Tree =&gt;
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: String)String">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;reifying = &quot;)" class="string">&quot;reifying = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../tools/nsc/Global.scala.html#537522" title="Reifier.this.global.opt.type">opt</a>.<a href="../../tools/nsc/Global.scala.html#545440" title="=&gt; Boolean">showTrees</a><span class="delimiter">)</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../tools/nsc/Global.scala.html#537478" title="Reifier.this.global.nodePrinters.type">nodePrinters</a>.<a href="../../Function1.scala.html#58642" title="(v1: Reifier.this.global.nodePrinters.global.Tree)String">nodeToString</a><span class="delimiter">(</span>tree<span class="delimiter">)</span>.<span title="()String">trim</span> <span class="keyword">else</span> tree.<a href="../api/Trees.scala.html#402641" title="()String">toString</a><span class="delimiter">)</span>
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: Reifier.this.global.Position)Reifier.this.global.Position">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;reifee is located at: &quot;)" class="string">&quot;reifee is located at: &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span>tree.<a href="../internal/Trees.scala.html#408571" title="=&gt; Reifier.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: Reifier.this.global.Tree)Reifier.this.global.Tree">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;universe = &quot;)" class="string">&quot;universe = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a><span class="delimiter">)</span>
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: Reifier.this.global.Tree)Reifier.this.global.Tree">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;mirror = &quot;)" class="string">&quot;mirror = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#541946" title="=&gt; Reifier.this.global.Tree">mirror</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>tree <a href="../internal/Trees.scala.html#408545" title="(p: Reifier.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#546035" title="Reifier.this.global.Tree">_</a>.<a href="../internal/Trees.scala.html#408559" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Errors.scala.html#541931" title="(reifee: Any)Nothing">CannotReifyErroneousReifee</a><span class="delimiter">(</span>tree<span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>tree.<a href="../internal/Trees.scala.html#408573" title="=&gt; Reifier.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="Errors.scala.html#541929" title="(reifee: Any)Nothing">CannotReifyUntypedReifee</a><span class="delimiter">(</span>tree<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Reifier.this.global.Tree =&gt; Reifier.this.global.Tree" id="545997">pipeline</a> = <a href="Phases.scala.html#541966" title="=&gt; Reifier.this.global.Tree =&gt; Reifier.this.global.Tree">mkReificationPipeline</a>
          <span class="keyword">val</span> <a title="Reifier.this.global.Tree" id="545998">rtree</a> = <a href="../../Function1.scala.html#58642" title="(v1: Reifier.this.global.Tree)Reifier.this.global.Tree">pipeline</a><span class="delimiter">(</span>tree<span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Reifier.this.global.analyzer.global.Type" id="545999">tpe</a> = <a href="#541944" title="=&gt; Reifier.this.global.analyzer.Typer">typer</a>.<a href="../../tools/nsc/typechecker/Typers.scala.html#538687" title="(tree: Reifier.this.global.analyzer.global.Tree, owner: Reifier.this.global.analyzer.global.Symbol)Reifier.this.global.analyzer.global.Type">packedType</a><span class="delimiter">(</span>tree, <a href="../internal/Symbols.scala.html#407184" title="=&gt; Reifier.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="utils/Extractors.scala.html#541151" title="Option[(Reifier.this.global.Tree, Reifier.this.global.Tree, Reifier.this.SymbolTable, Reifier.this.global.Type, Reifier.this.global.Tree, Boolean)]" id="3293570">ReifiedType</a><a href="#3293566" title="(x: (Reifier.this.SymbolTable, Reifier.this.global.Tree, Boolean))(Reifier.this.SymbolTable, Reifier.this.global.Tree, Boolean)" class="delimiter">(</a><a href="../../Tuple6.scala.html#82922" title="Reifier.this.global.Tree" id="3293561">_</a>, <a href="../../Tuple6.scala.html#82924" title="Reifier.this.global.Tree" id="3293562">_</a>, <a href="../../Tuple6.scala.html#82926" title="Reifier.this.SymbolTable" id="546001">tpeSymtab</a>, <a href="../../Tuple6.scala.html#82928" title="Reifier.this.global.Type" id="3293563">_</a>, <a href="../../Tuple6.scala.html#82930" title="Reifier.this.global.Tree" id="546002">rtpe</a>, <a href="../../Tuple6.scala.html#82932" title="Boolean" id="546003">tpeReificationIsConcrete</a><span class="delimiter">)</span> = <a href="package.scala.html#23750" title="scala.reflect.reify.package.type">`package`</a>.<a href="package.scala.html#55649" title="(global: scala.tools.nsc.Global)(typer: global.analyzer.Typer, universe: global.Tree, mirror: global.Tree, tpe: global.Type, concrete: Boolean)global.Tree">reifyType</a><span class="delimiter">(</span><a href="#541941" title="=&gt; scala.tools.nsc.Global">global</a><span class="delimiter">)</span><a href="../internal/Trees.scala.html#407938" title="Reifier.this.global.Tree @unchecked" class="delimiter">(</a><a href="#541944" title="=&gt; Reifier.this.global.analyzer.Typer">typer</a>, <a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a>, <a href="#541946" title="=&gt; Reifier.this.global.Tree">mirror</a>, <a href="#545999" title="Reifier.this.global.analyzer.global.Type">tpe</a>, concrete = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <a href="States.scala.html#541937" title="=&gt; Reifier.this.State">state</a>.<a href="States.scala.html#546085" title="(value: Boolean)Unit">reificationIsConcrete</a> <a href="../../Boolean.scala.html#57828" title="(x: Boolean)Boolean">&amp;=</a> <a href="#546003" title="Boolean">tpeReificationIsConcrete</a>
          <a href="States.scala.html#541937" title="=&gt; Reifier.this.State">state</a>.<a href="States.scala.html#546073" title="(x$1: Reifier.this.SymbolTable)Unit">symtab</a> <a href="utils/SymbolTables.scala.html#540933" title="(symtab: Reifier.this.SymbolTable)Reifier.this.SymbolTable">++=</a> <a href="#546001" title="Reifier.this.SymbolTable">tpeSymtab</a>
          <a href="utils/Extractors.scala.html#541142" title="(universe: Reifier.this.global.Tree, mirror: Reifier.this.global.Tree, symtab: Reifier.this.SymbolTable, rtree: Reifier.this.global.Tree, tpe: Reifier.this.global.Type, rtpe: Reifier.this.global.Tree, concrete: Boolean)Reifier.this.global.Tree">ReifiedTree</a><span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a>, <a href="#541946" title="=&gt; Reifier.this.global.Tree">mirror</a>, <a href="codegen/GenSymbols.scala.html#541991" title="=&gt; Reifier.this.SymbolTable">symtab</a>, <a href="#545998" title="Reifier.this.global.Tree">rtree</a>, <a href="#545999" title="Reifier.this.global.analyzer.global.Type">tpe</a>, <a href="#546002" title="Reifier.this.global.Tree">rtpe</a>, <a href="codegen/GenTypes.scala.html#542015" title="=&gt; Boolean">reificationIsConcrete</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../../Boolean.scala.html#57826" title="Reifier.this.global.Tree" id="3293583">tpe</a>: Type =&gt;
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: String)String">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;reifying = &quot;)" class="string">&quot;reifying = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span>tpe.<a href="../internal/Types.scala.html#408499" title="()String">toString</a><span class="delimiter">)</span>
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: Reifier.this.global.Tree)Reifier.this.global.Tree">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;universe = &quot;)" class="string">&quot;universe = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a><span class="delimiter">)</span>
          <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: Reifier.this.global.Tree)Reifier.this.global.Tree">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;mirror = &quot;)" class="string">&quot;mirror = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#541946" title="=&gt; Reifier.this.global.Tree">mirror</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Reifier.this.global.Tree" id="546147">rtree</a> = <a href="phases/Reify.scala.html#542009" title="(reifee: Any)Reifier.this.global.Tree">reify</a><span class="delimiter">(</span>tpe<span class="delimiter">)</span>
          <a href="utils/Extractors.scala.html#541150" title="(universe: Reifier.this.global.Tree, mirror: Reifier.this.global.Tree, symtab: Reifier.this.SymbolTable, tpe: Reifier.this.global.Type, rtpe: Reifier.this.global.Tree, concrete: Boolean)Reifier.this.global.Tree">ReifiedType</a><span class="delimiter">(</span><a href="#541945" title="=&gt; Reifier.this.global.Tree">universe</a>, <a href="#541946" title="=&gt; Reifier.this.global.Tree">mirror</a>, <a href="codegen/GenSymbols.scala.html#541991" title="=&gt; Reifier.this.SymbolTable">symtab</a>, tpe, <a href="#546147" title="Reifier.this.global.Tree">rtree</a>, <a href="codegen/GenTypes.scala.html#542015" title="=&gt; Boolean">reificationIsConcrete</a><span class="delimiter">)</span>

        <span class="keyword">case</span> _ =&gt;
          <a href="#3293585" title="(x: Reifier.this.global.Tree)Reifier.this.global.Tree" class="keyword">throw</a> <span title="(x$1: String)Error" class="keyword">new</span> <a href="../../package.scala.html#55501" title="Error">Error</a><span class="delimiter">(</span><a href="../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;reifee %s of type %s is not supported&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#541947" title="=&gt; Any">reifee</a>, <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#541947" title="=&gt; Any">reifee</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span> <span class="keyword">else</span> <a href="#541947" title="=&gt; Any">reifee</a>.<span title="()Class[_]">getClass</span>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // todo. why do we resetAllAttrs?
      //
      // typically we do some preprocessing before reification and
      // the code emitted/moved around during preprocessing is very hard to typecheck, so we leave it as it is
      // however this &quot;as it is&quot; sometimes doesn't make any sense
      //
      // ===example 1===
      // we move a freevar from a nested symbol table to a top-level symbol table,
      // and then the reference to $u becomes screwed up, because nested symbol tables are already typechecked,
      // so we have an $u symbol that points to the nested $u rather than to the top-level one.
      //
      // ===example 2===
      // we inline a freevar by replacing a reference to it, e.g. $u.Apply($u.Select($u.Ident($u.newTermName(&quot;$u&quot;)), $u.newTermName(&quot;Ident&quot;)), List($u.Ident($u.newTermName(&quot;free$x&quot;))))
      // with its original binding (e.g. $u.Ident(&quot;x&quot;))
      // we'd love to typecheck the result, but we cannot do this easily, because $u is external to this tree
      // what's even worse, sometimes $u can point to the top-level symbol table's $u, which doesn't have any symbol/type yet -
      // it's just a ValDef that will be emitted only after the reification is completed
      //
      // hence, the simplest solution is to erase all attrs so that invalid (as well as non-existent) bindings get rebound correctly
      // this is ugly, but it's the best we can do
      //
      // todo. this is a common problem with non-trivial macros in our current macro system
      // needs to be solved some day
      // maybe try `resetLocalAttrs` once the dust settles
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Reifier.this.global.Symbol]" id="545982">importantSymbols</a> = <a href="../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Reifier.this.global.Symbol*)scala.collection.immutable.Set[Reifier.this.global.Symbol]" class="delimiter">[</span><a href="../internal/Symbols.scala.html#407146" title="Reifier.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span>
        <a href="../internal/Definitions.scala.html#408692" title="Reifier.this.global.definitions.NothingClass.type">NothingClass</a>, <a href="../internal/Definitions.scala.html#408667" title="=&gt; Reifier.this.global.ClassSymbol">AnyClass</a>, <a href="../internal/Definitions.scala.html#408786" title="=&gt; Reifier.this.global.ClassSymbol">SingletonClass</a>, <a href="../internal/Definitions.scala.html#408738" title="=&gt; Reifier.this.global.ModuleSymbol">PredefModule</a>, <a href="../internal/Definitions.scala.html#408755" title="=&gt; Reifier.this.global.ModuleSymbol">ScalaRunTimeModule</a>, <a href="../internal/Definitions.scala.html#408936" title="=&gt; Reifier.this.global.Symbol">TypeCreatorClass</a>, <a href="../internal/Definitions.scala.html#408938" title="=&gt; Reifier.this.global.Symbol">TreeCreatorClass</a>, <a href="../internal/Definitions.scala.html#408934" title="=&gt; Reifier.this.global.Symbol">MirrorClass</a>,
        <a href="../internal/Definitions.scala.html#408929" title="=&gt; Reifier.this.global.Symbol">ApiUniverseClass</a>, <a href="../internal/Definitions.scala.html#408932" title="=&gt; Reifier.this.global.Symbol">JavaUniverseClass</a>, <a href="../internal/Definitions.scala.html#408888" title="=&gt; Reifier.this.global.Symbol">ReflectRuntimePackage</a>, <a href="../internal/Definitions.scala.html#408891" title="=&gt; Reifier.this.global.Symbol{def name: Reifier.this.global.TermName; def rawname: Reifier.this.global.TermName; type TypeOfClonedSymbol &gt;: Reifier.this.global.TermSymbol with Reifier.this.global.NoSymbol &lt;: Reifier.this.global.Symbol{def name: Reifier.this.global.TermName; def rawname: Reifier.this.global.TermName; type TypeOfClonedSymbol &gt;: Reifier.this.global.TermSymbol with Reifier.this.global.NoSymbol &lt;: Reifier.this.global.Symbol; type NameType &lt;: Reifier.this.global.TermName}; type NameType &lt;: Reifier.this.global.TermName}">ReflectRuntimeCurrentMirror</a><span class="delimiter">)</span>
      <a href="#545982" title="scala.collection.immutable.Set[Reifier.this.global.Symbol]">importantSymbols</a> <a href="../../collection/SetLike.scala.html#66445" title="(elems: scala.collection.GenTraversableOnce[Reifier.this.global.Symbol])scala.collection.immutable.Set[Reifier.this.global.Symbol]">++=</a> <a href="#545982" title="scala.collection.immutable.Set[Reifier.this.global.Symbol]">importantSymbols</a> <a href="../../collection/SetLike.scala.html#66437" title="(f: Reifier.this.global.Symbol =&gt; Reifier.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Reifier.this.global.Symbol],Reifier.this.global.Symbol,scala.collection.immutable.Set[Reifier.this.global.Symbol]])scala.collection.immutable.Set[Reifier.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#546393" title="Reifier.this.global.Symbol">_</a>.<a href="../internal/Symbols.scala.html#411455" title="=&gt; Reifier.this.global.Symbol">companionSymbol</a><span class="delimiter">)</span>
      <a href="#545982" title="scala.collection.immutable.Set[Reifier.this.global.Symbol]">importantSymbols</a> <a href="../../collection/SetLike.scala.html#66445" title="(elems: scala.collection.GenTraversableOnce[Reifier.this.global.Symbol])scala.collection.immutable.Set[Reifier.this.global.Symbol]">++=</a> <a href="#545982" title="scala.collection.immutable.Set[Reifier.this.global.Symbol]">importantSymbols</a> <a href="../../collection/SetLike.scala.html#66437" title="(f: Reifier.this.global.Symbol =&gt; Reifier.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Reifier.this.global.Symbol],Reifier.this.global.Symbol,scala.collection.immutable.Set[Reifier.this.global.Symbol]])scala.collection.immutable.Set[Reifier.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#546502" title="Reifier.this.global.Symbol">_</a>.<a href="../internal/Symbols.scala.html#411459" title="=&gt; Reifier.this.global.Symbol">moduleClass</a><span class="delimiter">)</span>
      <a href="#545982" title="scala.collection.immutable.Set[Reifier.this.global.Symbol]">importantSymbols</a> <a href="../../collection/SetLike.scala.html#66445" title="(elems: scala.collection.GenTraversableOnce[Reifier.this.global.Symbol])scala.collection.immutable.Set[Reifier.this.global.Symbol]">++=</a> <a href="#545982" title="scala.collection.immutable.Set[Reifier.this.global.Symbol]">importantSymbols</a> <a href="../../collection/SetLike.scala.html#66437" title="(f: Reifier.this.global.Symbol =&gt; Reifier.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Reifier.this.global.Symbol],Reifier.this.global.Symbol,scala.collection.immutable.Set[Reifier.this.global.Symbol]])scala.collection.immutable.Set[Reifier.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#546611" title="Reifier.this.global.Symbol">_</a>.<a href="../internal/Symbols.scala.html#411456" title="=&gt; Reifier.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Reifier.this.global.Symbol)Boolean" id="545983">isImportantSymbol</a><span class="delimiter">(</span><a title="Reifier.this.global.Symbol" id="546662">sym</a>: <a href="../internal/Symbols.scala.html#407146" title="Reifier.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#546662" title="Reifier.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#546662" title="Reifier.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../internal/Symbols.scala.html#407184" title="=&gt; Reifier.this.global.NoSymbol">NoSymbol</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../collection/GenSetLike.scala.html#66403" title="(elem: Reifier.this.global.Symbol)Boolean">importantSymbols</a><span class="delimiter">(</span><a href="#546662" title="Reifier.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Reifier.this.global.Tree" id="545984">untyped</a> = <a href="../../tools/nsc/ast/Trees.scala.html#537823" title="(x: Reifier.this.global.Tree, leaveAlone: Reifier.this.global.Tree =&gt; Boolean)Reifier.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#545981" title="Reifier.this.global.Tree">result</a>, leaveAlone = <a href="#546687" title="Reifier.this.global.Tree" class="delimiter">{</a>
        <span class="keyword">case</span> ValDef<a href="#3293591" title="Boolean" id="3293596" class="delimiter">(</a><a href="../internal/Trees.scala.html#410298" title="Reifier.this.global.Modifiers" id="3293592">_</a>, <a href="../internal/Trees.scala.html#410300" title="Reifier.this.global.TermName" id="546700">u</a>, <a href="../internal/Trees.scala.html#410302" title="Reifier.this.global.Tree" id="3293593">_</a>, <a href="../internal/Trees.scala.html#410304" title="Reifier.this.global.Tree" id="3293594">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546700" title="Reifier.this.global.TermName">u</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../internal/StdNames.scala.html#407871" title="Reifier.this.global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#414002" title="=&gt; Reifier.this.global.nme.NameType">UNIVERSE_SHORT</a> =&gt; <a href="#3293604" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> ValDef<span class="delimiter">(</span><a href="../internal/Trees.scala.html#410298" title="Reifier.this.global.Modifiers" id="3293597">_</a>, <a href="../internal/Trees.scala.html#410300" title="Reifier.this.global.TermName" id="546711">m</a>, <a href="../internal/Trees.scala.html#410302" title="Reifier.this.global.Tree" id="3293598">_</a>, <a href="../internal/Trees.scala.html#410304" title="Reifier.this.global.Tree" id="3293599">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546711" title="Reifier.this.global.TermName">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../internal/StdNames.scala.html#407871" title="Reifier.this.global.nme.type">nme</a>.<a href="../internal/StdNames.scala.html#414006" title="=&gt; Reifier.this.global.nme.NameType">MIRROR_SHORT</a> =&gt; <a href="#3293604" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> tree <span class="keyword">if</span> <a href="codegen/GenSymbols.scala.html#541991" title="=&gt; Reifier.this.SymbolTable">symtab</a>.<a href="utils/SymbolTables.scala.html#540923" title="=&gt; List[Reifier.this.global.Symbol]">syms</a> <a href="../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> tree.<a href="../internal/Trees.scala.html#408577" title="=&gt; Reifier.this.global.Symbol">symbol</a> =&gt; <a href="#3293604" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> tree <span class="keyword">if</span> <a href="#545983" title="(sym: Reifier.this.global.Symbol)Boolean">isImportantSymbol</a><span class="delimiter">(</span>tree.<a href="../internal/Trees.scala.html#408577" title="=&gt; Reifier.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt; <a href="#3293604" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> _ =&gt; <a href="#3293604" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="utils/Utils.scala.html#540839" title="=&gt; Boolean">reifyCopypaste</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="utils/Utils.scala.html#540837" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <a href="../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;=============================&quot;)" class="string">&quot;=============================&quot;</span><span class="delimiter">)</span>
        <a href="../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="utils/NodePrinters.scala.html#546727" title="(tree: Reifier.this.global.Tree)String">reifiedNodeToString</a><span class="delimiter">(</span><a href="#545984" title="Reifier.this.global.Tree">untyped</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="utils/Utils.scala.html#540837" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <a href="../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;=============================&quot;)" class="string">&quot;=============================&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../tools/nsc/util/SimpleTracer.scala.html#541835" title="(msg: String)(value: Reifier.this.global.Tree)Reifier.this.global.Tree">reifyTrace</a><span class="delimiter">(</span><span title="String(&quot;reification = &quot;)" class="string">&quot;reification = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#545984" title="Reifier.this.global.Tree">untyped</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#545984" title="Reifier.this.global.Tree">untyped</a>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="546744">ex</a>: <a href="../macros/Reifiers.scala.html#23416" title="scala.reflect.macros.ReificationException">ReificationException</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <a href="#546744" title="scala.reflect.macros.ReificationException">ex</a>
      <span class="keyword">case</span> <a title="Nothing" id="546745">ex</a>: <a href="../macros/Reifiers.scala.html#23452" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a> =&gt;
        <span title="Nothing" class="keyword">throw</span> <a href="#546745" title="scala.reflect.macros.UnexpectedReificationException">ex</a>
      <span class="keyword">case</span> <a title="Nothing" id="546746">ex</a>: <span title="Throwable">Throwable</span> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="scala.reflect.macros.UnexpectedReificationException" class="keyword">new</span> <a href="../macros/Reifiers.scala.html#23452" title="scala.reflect.macros.UnexpectedReificationException">UnexpectedReificationException</a><span class="delimiter">(</span><a href="Errors.scala.html#541922" title="=&gt; Reifier.this.global.Position">defaultErrorPosition</a>, <span title="String(&quot;reification crashed&quot;)" class="string">&quot;reification crashed&quot;</span>, <a href="#546746" title="Throwable">ex</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>