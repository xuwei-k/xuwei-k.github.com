<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/reify/utils/NodePrinters.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */
<span class="keyword">package</span> scala.reflect.reify
<span class="keyword">package</span> utils

<span class="keyword">import</span> scala.compat.<a href="../../../compat/Platform.scala.html#16125" title="scala.compat.Platform.type">Platform</a>.EOL

<span class="keyword">trait</span> <a title="trait NodePrinters extends Object" id="24280">NodePrinters</a> <a href="../../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  self: Utils =&gt;

  <span class="keyword">import</span> <a href="Utils.scala.html#540831" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../internal/Definitions.scala.html#407777" title="NodePrinters.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="../../internal/FlagSets.scala.html#407743" title="NodePrinters.this.global.Flag.type">Flag</a>._

  <span class="keyword">object</span> <a title="NodePrinters.this.reifiedNodeToString.type" id="540828">reifiedNodeToString</a> <a href="#540829" title="NodePrinters.this.reifiedNodeToString.type" class="keyword">extends</a> <span class="delimiter">(</span>Tree =&gt; String<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tree: NodePrinters.this.global.Tree)String" id="546727">apply</a><span class="delimiter">(</span><a title="NodePrinters.this.global.Tree" id="546728">tree</a>: <a href="../../internal/Trees.scala.html#407938" title="NodePrinters.this.global.Tree">Tree</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Boolean" id="555384">mirrorIsUsed</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">var</span> <a title="Boolean" id="555385">flagsAreUsed</a> = <span title="Boolean(false)" class="keyword">false</span>

      // @PP: I fervently hope this is a test case or something, not anything being
      // depended upon.  Of more fragile code I cannot conceive.
      // @Eugene: This stuff is only needed to debug-print out reifications in human-readable format
      // Rolling a full-fledged, robust TreePrinter would be several times more code.
      // Also as of late we have tests that ensure that UX won't be broken by random changes to the reifier.
      <span class="keyword">val</span> <a title="(List[String], List[String])" id="555386">lines</a> = <span class="delimiter">(</span><a href="#546728" title="NodePrinters.this.global.Tree">tree</a>.<a href="../../api/Trees.scala.html#402641" title="()String">toString</a>.<span title="(x$1: String)Array[String]">split</span><a href="../../../Predef.scala.html#7555" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]" class="delimiter">(</a><a href="../../../compat/Platform.scala.html#79723" title="=&gt; String">EOL</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#7555" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">drop</a> <span title="Int(1)" class="int">1</span> <a href="../../../Predef.scala.html#7555" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">dropRight</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[String]">toList</a> <a href="../../../collection/immutable/List.scala.html#62712" title="(n: Int)(List[String], List[String])">splitAt</a> <span title="Int(2)" class="int">2</span>
      <span class="keyword">var</span> <a href="#3296336" title="(x: (String, String, List[String]))(String, String, List[String])" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[String]]" id="3296340">List</a><a href="../../../Tuple2.scala.html#60635" title="List[String]" id="3296331" class="delimiter">(</a><a href="../../../Tuple3.scala.html#60576" title="String" id="555388">universe</a>, <a href="../../../Tuple3.scala.html#60578" title="String" id="555389">mirror</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="List[String]" id="555390">reification</a><span class="delimiter">)</span> = <a href="#555386" title="(List[String], List[String])">lines</a>
      <a href="#555390" title="List[String]">reification</a> = <span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="555636">line</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">reification</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="String" id="555637">s</a> = <a href="#555636" title="String">line</a> <span title="(x$1: Int)String">substring</span> <span title="Int(2)" class="int">2</span>
        <a href="#555637" title="String">s</a> = <a href="#555637" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#414000" title="=&gt; NodePrinters.this.global.nme.NameType">UNIVERSE_PREFIX</a>.<span title="()String">toString</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="#555637" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;.apply&quot;)" class="string">&quot;.apply&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;([^\&quot;])scala\\.collection\\.immutable\\.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59868" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../../util/matching/Regex.scala.html#246301" title="(target: CharSequence, replacement: String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#555637" title="String">s</a>, <span title="String(&quot;$1&quot;)" class="string">&quot;$1&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List\\[List\\[.*?\\].*?\\]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59868" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../../util/matching/Regex.scala.html#246301" title="(target: CharSequence, replacement: String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#555637" title="String">s</a>, <span title="String(&quot;List&quot;)" class="string">&quot;List&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List\\[.*?\\]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59868" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../../util/matching/Regex.scala.html#246301" title="(target: CharSequence, replacement: String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#555637" title="String">s</a>, <span title="String(&quot;List&quot;)" class="string">&quot;List&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="#555637" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;immutable.this.Nil&quot;)" class="string">&quot;immutable.this.Nil&quot;</span>, <span title="String(&quot;List()&quot;)" class="string">&quot;List()&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;build\.flagsFromBits\((\d+)[lL]\)&quot;&quot;&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59868" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../../util/matching/Regex.scala.html#246302" title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#555637" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="555765">m</a> =&gt; <span class="delimiter">{</span>
          <a href="#555385" title="Boolean">flagsAreUsed</a> = <span title="Boolean(true)" class="keyword">true</span>
          <a href="../../internal/Printers.scala.html#408298" title="(flags: NodePrinters.this.global.FlagSet)String">show</a><span class="delimiter">(</span><a href="#555765" title="scala.util.matching.Regex.Match">m</a>.<a href="../../../util/matching/Regex.scala.html#555733" title="(i: Int)String">group</a><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#59874" title="=&gt; Long">toLong</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="#555637" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;Modifiers(0L, newTypeName(\&quot;\&quot;), List())&quot;)" class="string">&quot;Modifiers(0L, newTypeName(\&quot;\&quot;), List())&quot;</span>, <span title="String(&quot;Modifiers()&quot;)" class="string">&quot;Modifiers()&quot;</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;Modifiers\((\d+)[lL], newTypeName\(&quot;(.*?)&quot;\), List\((.*?)\)\)&quot;&quot;&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59868" title="=&gt; scala.util.matching.Regex">r</a>.<a href="../../../util/matching/Regex.scala.html#246302" title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</a><span class="delimiter">(</span><a href="#555637" title="String">s</a>, <a title="scala.util.matching.Regex.Match" id="555805">m</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="555806">buf</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> scala.collection.mutable.<a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span>

          <span class="keyword">val</span> <a title="String" id="555807">annotations</a> = <a href="#555805" title="scala.util.matching.Regex.Match">m</a>.<a href="../../../util/matching/Regex.scala.html#555733" title="(i: Int)String">group</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79861" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#555807" title="String">annotations</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/mutable/BufferLike.scala.html#66924" title="(elems: String*)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;List(&quot;)" class="string">&quot;List(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#555807" title="String">annotations</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="String" id="555808">privateWithin</a> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#555805" title="scala.util.matching.Regex.Match">m</a>.<a href="../../../util/matching/Regex.scala.html#555733" title="(i: Int)String">group</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79861" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#555808" title="String">privateWithin</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/mutable/BufferLike.scala.html#66924" title="(elems: String*)Unit">append</a><span class="delimiter">(</span><span title="String(&quot;newTypeName(\&quot;&quot;)" class="string">&quot;newTypeName(\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#555808" title="String">privateWithin</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;)&quot;)" class="string">&quot;\&quot;)&quot;</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="String" id="555809">bits</a> = <a href="#555805" title="scala.util.matching.Regex.Match">m</a>.<a href="../../../util/matching/Regex.scala.html#555733" title="(i: Int)String">group</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79861" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#555809" title="String">bits</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;0L&quot;)" class="string">&quot;0L&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#555385" title="Boolean">flagsAreUsed</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/mutable/BufferLike.scala.html#66924" title="(elems: String*)Unit">append</a><span class="delimiter">(</span><a href="../../internal/Printers.scala.html#408298" title="(flags: NodePrinters.this.global.FlagSet)String">show</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">bits</a>.<a href="../../../collection/immutable/StringLike.scala.html#59874" title="=&gt; Long">toLong</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="String" id="555810">replacement</a> = <span title="String(&quot;Modifiers(&quot;)" class="string">&quot;Modifiers(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#555806" title="scala.collection.mutable.ListBuffer[String]">buf</a>.<a href="../../../collection/SeqLike.scala.html#58796" title="=&gt; scala.collection.mutable.ListBuffer[String]">reverse</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79940" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>  <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
          java.util.regex.<span title="java.util.regex.Matcher.type">Matcher</span>.<span title="(x$1: String)String">quoteReplacement</span><span class="delimiter">(</span><a href="#555810" title="String">replacement</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#555637" title="String">s</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Boolean" id="555391">isExpr</a> = <a href="#555390" title="List[String]">reification</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)String">reification</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="()String">trim</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;Expr[&quot;)" class="string">&quot;Expr[&quot;</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[String]" id="555392">rtree</a> = <a href="#555390" title="List[String]">reification</a> <a href="../../../collection/immutable/List.scala.html#62714" title="(p: String =&gt; Boolean)List[String]">dropWhile</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#555895" title="String">_</a>.<span title="()String">trim</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;val $<span class="delimiter">{</span><a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#414002" title="=&gt; NodePrinters.this.global.nme.NameType">UNIVERSE_SHORT</a><span class="delimiter">}</span>: U = $<span class="delimiter">{</span><a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#414008" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_UNTYPED</a><span class="delimiter">}</span><span class="string">.universe;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#555392" title="List[String]">rtree</a> = <a href="#555392" title="List[String]">rtree</a> <a href="../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[String]">drop</a> <span title="Int(2)" class="int">2</span>
      <a href="#555392" title="List[String]">rtree</a> = <a href="#555392" title="List[String]">rtree</a> <a href="../../../collection/immutable/List.scala.html#62713" title="(p: String =&gt; Boolean)List[String]">takeWhile</a> <span class="delimiter">(</span><a href="#555907" title="String">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;    }&quot;)" class="string">&quot;    }&quot;</span><span class="delimiter">)</span>
      <a href="#555392" title="List[String]">rtree</a> = <a href="#555392" title="List[String]">rtree</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="String" id="555931">s0</a> =&gt; <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="String" id="555932">s</a> = <a href="#555931" title="String">s0</a>
        <a href="#555384" title="Boolean">mirrorIsUsed</a> <a href="../../../Boolean.scala.html#57827" title="(x: Boolean)Boolean">|=</a> <a href="#555932" title="String">s</a> <span title="(x$1: CharSequence)Boolean">contains</span> <a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#414004" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_PREFIX</a>.<span title="()String">toString</span>
        <a href="#555932" title="String">s</a> = <a href="#555932" title="String">s</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#414004" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_PREFIX</a>.<span title="()String">toString</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <a href="#555932" title="String">s</a>.<span title="()String">trim</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="555393">printout</a> = scala.collection.mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: String*)scala.collection.mutable.ListBuffer[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>;
      <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <a href="#555388" title="String">universe</a>.<span title="()String">trim</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#555384" title="Boolean">mirrorIsUsed</a><span class="delimiter">)</span> <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <a href="#555389" title="String">mirror</a>.<span title="(x$1: CharSequence, x$2: CharSequence)String">replace</span><span class="delimiter">(</span><span title="String(&quot;Mirror[&quot;)" class="string">&quot;Mirror[&quot;</span>, <span title="String(&quot;scala.reflect.api.Mirror[&quot;)" class="string">&quot;scala.reflect.api.Mirror[&quot;</span><span class="delimiter">)</span>.<span title="()String">trim</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="555394">imports</a> = scala.collection.mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</a><span title="(elems: String*)scala.collection.mutable.ListBuffer[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>;
      <a href="#555394" title="scala.collection.mutable.ListBuffer[String]">imports</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)imports.type">+=</a> <a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#407855" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: NodePrinters.this.global.TermName)String">UNIVERSE_SHORT</a>
      // if (buildIsUsed) imports += nme.build
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#555384" title="Boolean">mirrorIsUsed</a><span class="delimiter">)</span> <a href="#555394" title="scala.collection.mutable.ListBuffer[String]">imports</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)imports.type">+=</a> <a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#407855" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: NodePrinters.this.global.TermName)String">MIRROR_SHORT</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#555385" title="Boolean">flagsAreUsed</a><span class="delimiter">)</span> <a href="#555394" title="scala.collection.mutable.ListBuffer[String]">imports</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)imports.type">+=</a> <a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#407855" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: NodePrinters.this.global.TermName)String">Flag</a>
      <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;&quot;&quot;import $<span class="delimiter">{</span><a href="#555394" title="scala.collection.mutable.ListBuffer[String]">imports</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ListBuffer[String],String,scala.collection.mutable.ListBuffer[String]])scala.collection.mutable.ListBuffer[String]">map</a> <span class="delimiter">(</span><a href="#556071" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;._&quot;)" class="string">&quot;._&quot;</span><span class="delimiter">)</span> <a href="../../../collection/generic/TraversableForwarder.scala.html#79940" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">}</span><span class="string">&quot;&quot;&quot;</span>

      <span class="keyword">val</span> <a title="String" id="555395">name</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#555391" title="Boolean">isExpr</a><span class="delimiter">)</span> <span title="String(&quot;tree&quot;)" class="string">&quot;tree&quot;</span> <span class="keyword">else</span> <span title="String(&quot;tpe&quot;)" class="string">&quot;tpe&quot;</span>
      <span title="printout.type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)String">rtree</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: String)Boolean">startsWith</span> <span title="String(&quot;val&quot;)" class="string">&quot;val&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;val $<a href="#555395" title="String">name</a><span class="string"> = {&quot;</span>
        <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79766" title="(xs: scala.collection.TraversableOnce[String])printout.type">++=</a> <span class="delimiter">(</span><a href="#555392" title="List[String]">rtree</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,scala.collection.TraversableOnce[String]])scala.collection.TraversableOnce[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#556197" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;val $<a href="#555395" title="String">name</a><span class="string"> = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)String">rtree</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="printout.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#555391" title="Boolean">isExpr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="printout.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#555389" title="String">mirror</a> <span title="(x$1: CharSequence)Boolean">contains</span> <span title="String(&quot;.getClassLoader&quot;)" class="string">&quot;.getClassLoader&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <span title="String(&quot;import scala.tools.reflect.ToolBox&quot;)" class="string">&quot;import scala.tools.reflect.ToolBox&quot;</span>
          <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;println($<span class="delimiter">{</span><a href="../../internal/StdNames.scala.html#407871" title="NodePrinters.this.global.nme.type">nme</a>.<a href="../../internal/StdNames.scala.html#414006" title="=&gt; NodePrinters.this.global.nme.NameType">MIRROR_SHORT</a><span class="delimiter">}</span><span class="string">.mkToolBox().eval(tree))&quot;</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <span title="String(&quot;println(tree)&quot;)" class="string">&quot;println(tree)&quot;</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)printout.type">+=</a> <span title="String(&quot;println(tpe)&quot;)" class="string">&quot;println(tpe)&quot;</span>
      <span class="delimiter">}</span>

      // printout mkString EOL
      <span class="keyword">val</span> <a title="String" id="555396">prefix</a> = <span title="String(&quot;// produced from &quot;)" class="string">&quot;// produced from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="Utils.scala.html#540833" title="=&gt; scala.reflect.reify.Reifier{val global: NodePrinters.this.global.type}">reifier</a>.<a href="../Errors.scala.html#541922" title="=&gt; NodePrinters.this.reifier.global.Position">defaultErrorPosition</a>
      <span class="delimiter">(</span><a href="#555396" title="String">prefix</a> <a href="../../../collection/SeqLike.scala.html#58850" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ListBuffer[String],String,scala.collection.mutable.ListBuffer[String]])scala.collection.mutable.ListBuffer[String]">+:</a> <span title="String(&quot;object Test extends App {&quot;)" class="string">&quot;object Test extends App {&quot;</span> <a href="../../../collection/SeqLike.scala.html#58850" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ListBuffer[String],String,scala.collection.mutable.ListBuffer[String]])scala.collection.mutable.ListBuffer[String]">+:</a> <span class="delimiter">(</span><a href="#555393" title="scala.collection.mutable.ListBuffer[String]">printout</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ListBuffer[String],String,scala.collection.mutable.ListBuffer[String]])scala.collection.mutable.ListBuffer[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#556293" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.ListBuffer[String],String,scala.collection.mutable.ListBuffer[String]])scala.collection.mutable.ListBuffer[String]">:+</a> <span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span> <a href="../../../collection/generic/TraversableForwarder.scala.html#79940" title="(sep: String)String">mkString</a> <a href="../../../compat/Platform.scala.html#79723" title="=&gt; String">EOL</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>