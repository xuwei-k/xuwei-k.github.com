<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/io/ZipArchive.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Paul Phillips
 */

<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> io

<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> java.io.<span class="delimiter">{</span> IOException, InputStream, ByteArrayInputStream <span class="delimiter">}</span>
<span class="keyword">import</span> java.io.<span class="delimiter">{</span> File =&gt; JFile <span class="delimiter">}</span>
<span class="keyword">import</span> java.util.zip.<span class="delimiter">{</span> ZipEntry, ZipFile, ZipInputStream <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> immutable, mutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.annotation.tailrec

/** An abstraction for zip files and streams.  Everything is written the way
 *  it is for performance: we come through here a lot on every run.  Be careful
 *  about changing it.
 *
 *  @author  Philippe Altherr (original version)
 *  @author  Paul Phillips (this one)
 *  @version 2.0,
 *  
 *  ''Note:  This library is considered experimental and should not be used unless you know what you are doing.''
 */
<span class="keyword">object</span> <a title="scala.reflect.io.ZipArchive.type" id="23240">ZipArchive</a> <a href="#23241" title="scala.reflect.io.ZipArchive.type" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(path: String)scala.reflect.io.FileZipArchive" id="531071">fromPath</a><span class="delimiter">(</span><a title="String" id="534830">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#23137" title="scala.reflect.io.FileZipArchive">FileZipArchive</a> = <a href="#531074" title="(file: java.io.File)scala.reflect.io.FileZipArchive">fromFile</a><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">JFile</span><span class="delimiter">(</span><a href="#534830" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(path: scala.reflect.io.Path)scala.reflect.io.FileZipArchive" id="531072">fromPath</a><span class="delimiter">(</span><a title="scala.reflect.io.Path" id="534841">path</a>: <a href="Path.scala.html#23164" title="scala.reflect.io.Path">Path</a><span class="delimiter">)</span>: <a href="#23137" title="scala.reflect.io.FileZipArchive">FileZipArchive</a> = <a href="#531073" title="(file: scala.reflect.io.File)scala.reflect.io.FileZipArchive">fromFile</a><span class="delimiter">(</span><a href="#534841" title="scala.reflect.io.Path">path</a>.<a href="Path.scala.html#530873" title="=&gt; scala.reflect.io.File">toFile</a><span class="delimiter">)</span>

  /**
   * @param   file  a File
   * @return  A ZipArchive if `file` is a readable zip file, otherwise null.
   */
  <span class="keyword">def</span> <a title="(file: scala.reflect.io.File)scala.reflect.io.FileZipArchive" id="531073">fromFile</a><span class="delimiter">(</span><a title="scala.reflect.io.File" id="531115">file</a>: <a href="File.scala.html#23254" title="scala.reflect.io.File">File</a><span class="delimiter">)</span>: <a href="#23137" title="scala.reflect.io.FileZipArchive">FileZipArchive</a> = <a href="#531074" title="(file: java.io.File)scala.reflect.io.FileZipArchive">fromFile</a><span class="delimiter">(</span><a href="#531115" title="scala.reflect.io.File">file</a>.<a href="Path.scala.html#530865" title="=&gt; java.io.File">jfile</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(file: java.io.File)scala.reflect.io.FileZipArchive" id="531074">fromFile</a><span class="delimiter">(</span><a title="java.io.File" id="531082">file</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span>: <a href="#23137" title="scala.reflect.io.FileZipArchive">FileZipArchive</a> =
    <span class="keyword">try</span>   <span class="delimiter">{</span> <span title="scala.reflect.io.FileZipArchive" class="keyword">new</span> <a href="#23137" title="scala.reflect.io.FileZipArchive">FileZipArchive</a><span class="delimiter">(</span><a href="#531082" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Null(null)">_</span>: <span title="java.io.IOException">IOException</span> =&gt; <span title="Null(null)" class="keyword">null</span> <span class="delimiter">}</span>

  /**
   * @param   url  the url of a zip file
   * @return  A ZipArchive backed by the given url.
   */
  <span class="keyword">def</span> <a title="(url: java.net.URL)scala.reflect.io.URLZipArchive" id="531075">fromURL</a><span class="delimiter">(</span><a title="java.net.URL" id="531142">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <a href="#23170" title="scala.reflect.io.URLZipArchive">URLZipArchive</a> = <span title="scala.reflect.io.URLZipArchive" class="keyword">new</span> <a href="#23170" title="scala.reflect.io.URLZipArchive">URLZipArchive</a><span class="delimiter">(</span><a href="#531142" title="java.net.URL">url</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(url: String)scala.reflect.io.URLZipArchive" id="531076">fromURL</a><span class="delimiter">(</span><a title="String" id="531129">url</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#23170" title="scala.reflect.io.URLZipArchive">URLZipArchive</a> = <a href="#531075" title="(url: java.net.URL)scala.reflect.io.URLZipArchive">fromURL</a><span class="delimiter">(</span><span title="(x$1: String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#531129" title="String">url</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)String" id="531077">dirName</a><span class="delimiter">(</span><a title="String" id="534864">path</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#531079" title="(path0: String, front: Boolean)String">splitPath</a><span class="delimiter">(</span><a href="#534864" title="String">path</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)String" id="531078">baseName</a><span class="delimiter">(</span><a title="String" id="534867">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#531079" title="(path0: String, front: Boolean)String">splitPath</a><span class="delimiter">(</span><a href="#534867" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path0: String, front: Boolean)String" id="531079">splitPath</a><span class="delimiter">(</span><a title="String" id="534865">path0</a>: <span title="String">String</span>, <a title="Boolean" id="534866">front</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="534868">isDir</a> = <a href="#534865" title="String">path0</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><a href="#534865" title="String">path0</a>.<span title="()Int">length</span> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../Char.scala.html#57246" title="(x: Char)Boolean">==</a> <span title="Char('/')" class="char">'/'</span>
    <span class="keyword">val</span> <a title="String" id="534869">path</a>  = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#534868" title="Boolean">isDir</a><span class="delimiter">)</span> <a href="#534865" title="String">path0</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#534865" title="String">path0</a>.<span title="()Int">length</span> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#534865" title="String">path0</a>
    <span class="keyword">val</span> <a title="Int" id="534870">idx</a>   = <a href="#534869" title="String">path</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(47)" class="char">'/'</span><span class="delimiter">)</span>

    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#534870" title="Int">idx</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#534866" title="Boolean">front</a><span class="delimiter">)</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span>
      <span class="keyword">else</span> <a href="#534869" title="String">path</a>
    <span class="keyword">else</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#534866" title="Boolean">front</a><span class="delimiter">)</span> <a href="#534869" title="String">path</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#534870" title="Int">idx</a> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#534869" title="String">path</a>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><a href="#534870" title="Int">idx</a> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span title="Object" class="keyword">import</span> <a href="#23240" title="scala.reflect.io.ZipArchive.type">ZipArchive</a>._
/** ''Note:  This library is considered experimental and should not be used unless you know what you are doing.'' */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ZipArchive extends scala.reflect.io.AbstractFile with Equals" id="23239">ZipArchive</a><a href="#23239" title="scala.reflect.io.ZipArchive" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="java.io.File" id="534828">file</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="AbstractFile.scala.html#23215" title="scala.reflect.io.AbstractFile">AbstractFile</a> <span class="keyword">with</span> <a href="../../Equals.scala.html#1131" title="Equals">Equals</a> <span class="delimiter">{</span>
  self =&gt;

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[scala.reflect.io.ZipArchive]" id="531088">underlyingSource</a> = <a href="../../Option.scala.html#63128" title="(x: scala.reflect.io.ZipArchive)Some[scala.reflect.io.ZipArchive]">Some</a><span class="delimiter">(</span><a href="#23239" title="scala.reflect.io.ZipArchive" class="keyword">this</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="531089">isDirectory</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">def</span> <a title="(name: String, directory: Boolean)Nothing" id="531090">lookupName</a><span class="delimiter">(</span><a title="String" id="534917">name</a>: <span title="String">String</span>, <a title="Boolean" id="534918">directory</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span> = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>
  <span class="keyword">def</span> <a title="(name: String, directory: Boolean)Nothing" id="531091">lookupNameUnchecked</a><span class="delimiter">(</span><a title="String" id="534925">name</a>: <span title="String">String</span>, <a title="Boolean" id="534926">directory</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span> = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>
  <span class="keyword">def</span> <a title="()Nothing" id="531092">create</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>
  <span class="keyword">def</span> <a title="()Nothing" id="531093">delete</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>
  <span class="keyword">def</span> <a title="=&gt; Nothing" id="531094">output</a>    = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>
  <span class="keyword">def</span> <a title="=&gt; Nothing" id="531095">container</a> = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>
  <span class="keyword">def</span> <a title="=&gt; Nothing" id="531096">absolute</a>  = <a href="AbstractFile.scala.html#404333" title="()Nothing">unsupported</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(its: Iterator[scala.reflect.io.AbstractFile])Iterator[scala.reflect.io.AbstractFile]" id="531097">walkIterator</a><span class="delimiter">(</span><a title="Iterator[scala.reflect.io.AbstractFile]" id="534966">its</a>: <a href="../../collection/Iterator.scala.html#4100" title="Iterator[scala.reflect.io.AbstractFile]">Iterator</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../collection/Iterator.scala.html#4100" title="Iterator[scala.reflect.io.AbstractFile]">Iterator</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#534966" title="Iterator[scala.reflect.io.AbstractFile]">its</a> <a href="../../collection/Iterator.scala.html#66761" title="(f: scala.reflect.io.AbstractFile =&gt; scala.collection.GenTraversableOnce[scala.reflect.io.AbstractFile])Iterator[scala.reflect.io.AbstractFile]">flatMap</a> <span class="delimiter">{</span> <a title="scala.reflect.io.AbstractFile" id="534972">f</a> =&gt;
      <span title="Iterator[scala.reflect.io.AbstractFile]" class="keyword">if</span> <span class="delimiter">(</span><a href="#534972" title="scala.reflect.io.AbstractFile">f</a>.<a href="AbstractFile.scala.html#404315" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="#531097" title="(its: Iterator[scala.reflect.io.AbstractFile])Iterator[scala.reflect.io.AbstractFile]">walkIterator</a><span class="delimiter">(</span><a href="#534972" title="scala.reflect.io.AbstractFile">f</a>.<a href="AbstractFile.scala.html#404324" title="=&gt; Iterator[scala.reflect.io.AbstractFile]">iterator</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../collection/Iterator.scala.html#97538" title="(elems: scala.reflect.io.AbstractFile*)Iterator[scala.reflect.io.AbstractFile]">Iterator</a><span class="delimiter">(</span><a href="#534972" title="scala.reflect.io.AbstractFile">f</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="=&gt; Iterator[scala.reflect.io.AbstractFile]" id="531098">deepIterator</a> = <a href="#531097" title="(its: Iterator[scala.reflect.io.AbstractFile])Iterator[scala.reflect.io.AbstractFile]">walkIterator</a><span class="delimiter">(</span><a href="AbstractFile.scala.html#404324" title="=&gt; Iterator[scala.reflect.io.AbstractFile]">iterator</a><span class="delimiter">)</span>
  /** ''Note:  This library is considered experimental and should not be used unless you know what you are doing.'' */
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Entry extends scala.reflect.io.VirtualFile" id="531099">Entry</a><a href="#531099" title="ZipArchive.this.Entry" class="delimiter">(</a><a title="String" id="534994">path</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="VirtualFile.scala.html#23104" title="scala.reflect.io.VirtualFile">VirtualFile</a><span class="delimiter">(</span><a href="#531078" title="(path: String)String">baseName</a><span class="delimiter">(</span><a href="#534994" title="String">path</a><span class="delimiter">)</span>, <a href="#534994" title="String">path</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    // have to keep this name for compat with sbt's compiler-interface
    <span class="keyword">def</span> <a title="=&gt; java.util.zip.ZipFile" id="534983">getArchive</a>: <span title="java.util.zip.ZipFile">ZipFile</span> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[scala.reflect.io.ZipArchive]" id="534984">underlyingSource</a> = <a href="../../Option.scala.html#63128" title="(x: scala.reflect.io.ZipArchive)Some[scala.reflect.io.ZipArchive]">Some</a><span class="delimiter">(</span><a href="#23239" title="scala.reflect.io.ZipArchive">self</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="534985">toString</a> = <a href="#23239" title="ZipArchive.this.type">self</a>.<a href="AbstractFile.scala.html#404302" title="=&gt; String">path</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#534994" title="String">path</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>
  /** ''Note:  This library is considered experimental and should not be used unless you know what you are doing.'' */
  <span class="keyword">class</span> <a title="class DirEntry extends ZipArchive.this.Entry" id="531100">DirEntry</a><a href="#531100" title="ZipArchive.this.DirEntry" class="delimiter">(</a><a title="String" id="535141">path</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#531099" title="ZipArchive.this.Entry">Entry</a><span class="delimiter">(</span><a href="#535141" title="String">path</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,ZipArchive.this.Entry]" id="535127">entries</a> = mutable.<a href="../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (String, ZipArchive.this.Entry)*)scala.collection.mutable.HashMap[String,ZipArchive.this.Entry]" class="delimiter">[</span><span title="String">String</span>, <a href="#531099" title="ZipArchive.this.Entry">Entry</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="535129">isDirectory</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Iterator[ZipArchive.this.Entry]" id="535130">iterator</a>: <a href="../../collection/Iterator.scala.html#4100" title="Iterator[ZipArchive.this.Entry]">Iterator</a><span class="delimiter">[</span>Entry<span class="delimiter">]</span> = <a href="#535127" title="=&gt; scala.collection.mutable.HashMap[String,ZipArchive.this.Entry]">entries</a>.<a href="../../collection/mutable/HashMap.scala.html#88259" title="=&gt; Iterator[ZipArchive.this.Entry]">valuesIterator</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String, directory: Boolean)ZipArchive.this.Entry" id="535131">lookupName</a><span class="delimiter">(</span><a title="String" id="535147">name</a>: <span title="String">String</span>, <a title="Boolean" id="535148">directory</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#531099" title="ZipArchive.this.Entry">Entry</a> = <span class="delimiter">{</span>
      <span title="ZipArchive.this.Entry" class="keyword">if</span> <span class="delimiter">(</span><a href="#535148" title="Boolean">directory</a><span class="delimiter">)</span> <a href="../../collection/mutable/HashMap.scala.html#88245" title="(key: String)ZipArchive.this.Entry">entries</a><span class="delimiter">(</span><a href="#535147" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../collection/mutable/HashMap.scala.html#88245" title="(key: String)ZipArchive.this.Entry">entries</a><span class="delimiter">(</span><a href="#535147" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(dirs: scala.collection.mutable.Map[String,ZipArchive.this.DirEntry], path: String, zipEntry: java.util.zip.ZipEntry)ZipArchive.this.DirEntry" id="531101">ensureDir</a><span class="delimiter">(</span><a title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]" id="535196">dirs</a>: mutable.<a href="../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]">Map</a><span class="delimiter">[</span>String, DirEntry<span class="delimiter">]</span>, <a title="String" id="535197">path</a>: <span title="String">String</span>, <a title="java.util.zip.ZipEntry" id="535198">zipEntry</a>: <span title="java.util.zip.ZipEntry">ZipEntry</span><span class="delimiter">)</span>: <a href="#531100" title="ZipArchive.this.DirEntry">DirEntry</a> =
    //OPT inlined from getOrElseUpdate; saves ~50K closures on test run.
    // was:
    // dirs.getOrElseUpdate(path, {
    //   val parent = ensureDir(dirs, dirName(path), null)
    //   val dir    = new DirEntry(path)
    //   parent.entries(baseName(path)) = dir
    //   dir
    // })
    <a href="#535196" title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]">dirs</a> <a href="../../collection/MapLike.scala.html#87525" title="(key: String)Option[ZipArchive.this.DirEntry]">get</a> <a href="#535197" title="String">path</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#3293189" title="ZipArchive.this.DirEntry" id="3293190" class="delimiter">(</a><a href="../../Option.scala.html#63132" title="ZipArchive.this.DirEntry" id="535245">v</a><span class="delimiter">)</span> =&gt; <a href="#3293194" title="(x: ZipArchive.this.DirEntry)ZipArchive.this.DirEntry">v</a>
      <span class="keyword">case</span> <a href="../../Option.scala.html#1585" title="ZipArchive.this.DirEntry" id="3293192">None</a> =&gt;
        <span class="keyword">val</span> <a title="ZipArchive.this.DirEntry" id="535246">parent</a> = <a href="#531101" title="(dirs: scala.collection.mutable.Map[String,ZipArchive.this.DirEntry], path: String, zipEntry: java.util.zip.ZipEntry)ZipArchive.this.DirEntry">ensureDir</a><span class="delimiter">(</span><a href="#535196" title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]">dirs</a>, <a href="#531077" title="(path: String)String">dirName</a><span class="delimiter">(</span><a href="#535197" title="String">path</a><span class="delimiter">)</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ZipArchive.this.DirEntry" id="535247">dir</a>    = <span title="ZipArchive.this.DirEntry" class="keyword">new</span> <a href="#531100" title="ZipArchive.this.DirEntry">DirEntry</a><span class="delimiter">(</span><a href="#535197" title="String">path</a><span class="delimiter">)</span>
        <a href="#535246" title="ZipArchive.this.DirEntry">parent</a>.<a href="../../collection/mutable/HashMap.scala.html#88248" title="(key: String, value: ZipArchive.this.Entry)Unit">entries</a><span class="delimiter">(</span><a href="#531078" title="(path: String)String">baseName</a><span class="delimiter">(</span><a href="#535197" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#535247" title="ZipArchive.this.DirEntry">dir</a>
        <a href="../../collection/mutable/MapLike.scala.html#87611" title="(key: String, value: ZipArchive.this.DirEntry)Unit">dirs</a><span class="delimiter">(</span><a href="#535197" title="String">path</a><span class="delimiter">)</span> = <a href="#535247" title="ZipArchive.this.DirEntry">dir</a>
        <a href="#535247" title="ZipArchive.this.DirEntry">dir</a>
    <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(dirs: scala.collection.mutable.Map[String,ZipArchive.this.DirEntry], entry: java.util.zip.ZipEntry)ZipArchive.this.DirEntry" id="531102">getDir</a><span class="delimiter">(</span><a title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]" id="535254">dirs</a>: mutable.<a href="../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]">Map</a><span class="delimiter">[</span>String, DirEntry<span class="delimiter">]</span>, <a title="java.util.zip.ZipEntry" id="535255">entry</a>: <span title="java.util.zip.ZipEntry">ZipEntry</span><span class="delimiter">)</span>: <a href="#531100" title="ZipArchive.this.DirEntry">DirEntry</a> = <span class="delimiter">{</span>
    <span title="ZipArchive.this.DirEntry" class="keyword">if</span> <span class="delimiter">(</span><a href="#535255" title="java.util.zip.ZipEntry">entry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <a href="#531101" title="(dirs: scala.collection.mutable.Map[String,ZipArchive.this.DirEntry], path: String, zipEntry: java.util.zip.ZipEntry)ZipArchive.this.DirEntry">ensureDir</a><span class="delimiter">(</span><a href="#535254" title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]">dirs</a>, <a href="#535255" title="java.util.zip.ZipEntry">entry</a>.<span title="()String">getName</span>, <a href="#535255" title="java.util.zip.ZipEntry">entry</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#531101" title="(dirs: scala.collection.mutable.Map[String,ZipArchive.this.DirEntry], path: String, zipEntry: java.util.zip.ZipEntry)ZipArchive.this.DirEntry">ensureDir</a><span class="delimiter">(</span><a href="#535254" title="scala.collection.mutable.Map[String,ZipArchive.this.DirEntry]">dirs</a>, <a href="#531077" title="(path: String)String">dirName</a><span class="delimiter">(</span><a href="#535255" title="java.util.zip.ZipEntry">entry</a>.<span title="()String">getName</span><span class="delimiter">)</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
/** ''Note:  This library is considered experimental and should not be used unless you know what you are doing.'' */
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class FileZipArchive extends scala.reflect.io.ZipArchive" id="23137">FileZipArchive</a><a href="#23137" title="scala.reflect.io.FileZipArchive" class="delimiter">(</a><a title="java.io.File" id="534854">file</a>: <span title="java.io.File">JFile</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#23239" title="scala.reflect.io.ZipArchive">ZipArchive</a><span class="delimiter">(</span><a href="#534854" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Iterator[FileZipArchive.this.Entry]" id="531106">iterator</a>: <a href="../../collection/Iterator.scala.html#4100" title="Iterator[FileZipArchive.this.Entry]">Iterator</a><span class="delimiter">[</span>Entry<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.util.zip.ZipFile" id="535261">zipFile</a> = <span title="(x$1: java.io.File)java.util.zip.ZipFile" class="keyword">new</span> <span title="java.util.zip.ZipFile">ZipFile</span><span class="delimiter">(</span><a href="#534854" title="java.io.File">file</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="FileZipArchive.this.DirEntry" id="535262">root</a>    = <span title="FileZipArchive.this.DirEntry" class="keyword">new</span> <a href="#531100" title="FileZipArchive.this.DirEntry">DirEntry</a><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,FileZipArchive.this.DirEntry]" id="535263">dirs</a>    = mutable.<a href="../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (String, FileZipArchive.this.DirEntry)*)scala.collection.mutable.HashMap[String,FileZipArchive.this.DirEntry]" class="delimiter">[</span><span title="String">String</span>, <a href="#531100" title="FileZipArchive.this.DirEntry">DirEntry</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../Predef.scala.html#7509" title="(x: String)ArrowAssoc[String]" class="string">&quot;/&quot;</a> <a href="../../Predef.scala.html#62634" title="(y: FileZipArchive.this.DirEntry)(String, FileZipArchive.this.DirEntry)">-&gt;</a> <a href="#535262" title="FileZipArchive.this.DirEntry">root</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="java.util.Enumeration[_ &lt;: java.util.zip.ZipEntry]" id="535264">enum</a>    = <a href="#535261" title="java.util.zip.ZipFile">zipFile</a>.<span title="()java.util.Enumeration[_ &lt;: java.util.zip.ZipEntry]">entries</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#535264" title="java.util.Enumeration[_ &lt;: java.util.zip.ZipEntry]">enum</a>.<span title="()Boolean">hasMoreElements</span><span class="delimiter">)</span> <a href="#535265" title="()Unit" class="delimiter">{</a>
      <span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="535289">zipEntry</a> = <a href="#535264" title="java.util.Enumeration[_ &lt;: java.util.zip.ZipEntry]">enum</a>.<span title="()?0">nextElement</span>
      <span class="keyword">val</span> <a title="FileZipArchive.this.DirEntry" id="535290">dir</a> = <a href="#531102" title="(dirs: scala.collection.mutable.Map[String,FileZipArchive.this.DirEntry], entry: java.util.zip.ZipEntry)FileZipArchive.this.DirEntry">getDir</a><span class="delimiter">(</span><a href="#535263" title="scala.collection.mutable.HashMap[String,FileZipArchive.this.DirEntry]">dirs</a>, <a href="#535289" title="java.util.zip.ZipEntry">zipEntry</a><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#535289" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span> <a href="#535290" title="FileZipArchive.this.DirEntry">dir</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">class</span> <a title="class FileEntry extends FileZipArchive.this.Entry" id="535295">FileEntry</a><a href="#535295" title="FileEntry" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#531099" title="FileZipArchive.this.Entry">Entry</a><span class="delimiter">(</span><a href="#535289" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()String">getName</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.util.zip.ZipFile" id="535298">getArchive</a>   = <a href="#535261" title="java.util.zip.ZipFile">zipFile</a>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="535299">lastModified</a> = <a href="#535289" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Long">getTime</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.io.InputStream" id="535300">input</a>        = <a href="#535298" title="=&gt; java.util.zip.ZipFile">getArchive</a> <span title="(x$1: java.util.zip.ZipEntry)java.io.InputStream">getInputStream</span> <a href="#535289" title="java.util.zip.ZipEntry">zipEntry</a>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[Int]" id="535301">sizeOption</a>   = <a href="../../Option.scala.html#63128" title="(x: Int)Some[Int]">Some</a><span class="delimiter">(</span><a href="#535289" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Long">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../Long.scala.html#57446" title="=&gt; Int">toInt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="FileEntry" id="535296">f</a> = <span title="FileEntry" class="keyword">new</span> <a href="#535295" title="FileEntry">FileEntry</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#535290" title="FileZipArchive.this.DirEntry">dir</a>.<a href="../../collection/mutable/HashMap.scala.html#88248" title="(key: String, value: FileZipArchive.this.Entry)Unit">entries</a><span class="delimiter">(</span><a href="#535296" title="FileEntry">f</a>.<a href="VirtualFile.scala.html#524119" title="=&gt; String">name</a><span class="delimiter">)</span> = <a href="#535296" title="FileEntry">f</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">try</span> <a href="#535262" title="FileZipArchive.this.DirEntry">root</a>.<a href="#535130" title="=&gt; Iterator[FileZipArchive.this.Entry]">iterator</a>
    <span class="keyword">finally</span> <a href="#535263" title="scala.collection.mutable.HashMap[String,FileZipArchive.this.DirEntry]">dirs</a>.<a href="../../collection/mutable/HashMap.scala.html#88240" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="531107">name</a>         = <a href="#534854" title="java.io.File">file</a>.<span title="()String">getName</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="531108">path</a>         = <a href="#534854" title="java.io.File">file</a>.<span title="()String">getPath</span>
  <span class="keyword">def</span> <a title="=&gt; java.io.FileInputStream" id="531109">input</a>        = <a href="File.scala.html#530996" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">File</a><a href="../../io/Codec.scala.html#393359" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="Path.scala.html#531010" title="implicit scala.reflect.io.Path.jfile2path : (jfile: java.io.File)scala.reflect.io.Path">file</a><span class="delimiter">)</span>.<a href="File.scala.html#530949" title="()java.io.FileInputStream">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="531110">lastModified</a> = <a href="#534854" title="java.io.File">file</a>.<span title="()Long">lastModified</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[Int]" id="531111">sizeOption</a> = <a href="../../Option.scala.html#63128" title="(x: Int)Some[Int]">Some</a><span class="delimiter">(</span><a href="#534854" title="java.io.File">file</a>.<span title="()Long">length</span>.<a href="../../Long.scala.html#57446" title="=&gt; Int">toInt</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="531112">canEqual</a><span class="delimiter">(</span><a title="Any" id="535345">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#535345" title="Any">other</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#23137" title="scala.reflect.io.FileZipArchive">FileZipArchive</a><span class="delimiter">]</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="531113">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#534854" title="java.io.File">file</a>.<span title="()Int">hashCode</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="531114">equals</a><span class="delimiter">(</span><a title="Any" id="535350">that</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#535350" title="Any">that</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#3293202" title="Boolean" id="3293203">x</a>: FileZipArchive =&gt; <a href="#534854" title="java.io.File">file</a>.<span title="()java.io.File">getAbsoluteFile</span> <a href="#3293205" title="(x: Boolean)Boolean">==</a> x.<a href="#534828" title="=&gt; java.io.File">file</a>.<span title="()java.io.File">getAbsoluteFile</span>
    <span class="keyword">case</span> _                 =&gt; <a href="#3293205" title="(x: Boolean)Boolean" class="keyword">false</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
/** ''Note:  This library is considered experimental and should not be used unless you know what you are doing.'' */
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class URLZipArchive extends scala.reflect.io.ZipArchive" id="23170">URLZipArchive</a><a href="#23170" title="scala.reflect.io.URLZipArchive" class="delimiter">(</a><span class="keyword">val</span> <a title="java.net.URL" id="534855">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#23239" title="scala.reflect.io.ZipArchive">ZipArchive</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Iterator[URLZipArchive.this.Entry]" id="531134">iterator</a>: <a href="../../collection/Iterator.scala.html#4100" title="Iterator[URLZipArchive.this.Entry]">Iterator</a><span class="delimiter">[</span>Entry<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="URLZipArchive.this.DirEntry" id="535363">root</a>     = <span title="URLZipArchive.this.DirEntry" class="keyword">new</span> <a href="#531100" title="URLZipArchive.this.DirEntry">DirEntry</a><span class="delimiter">(</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,URLZipArchive.this.DirEntry]" id="535364">dirs</a>     = mutable.<a href="../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (String, URLZipArchive.this.DirEntry)*)scala.collection.mutable.HashMap[String,URLZipArchive.this.DirEntry]" class="delimiter">[</span><span title="String">String</span>, <a href="#531100" title="URLZipArchive.this.DirEntry">DirEntry</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../Predef.scala.html#7509" title="(x: String)ArrowAssoc[String]" class="string">&quot;/&quot;</a> <a href="../../Predef.scala.html#62634" title="(y: URLZipArchive.this.DirEntry)(String, URLZipArchive.this.DirEntry)">-&gt;</a> <a href="#535363" title="URLZipArchive.this.DirEntry">root</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="java.util.zip.ZipInputStream" id="535365">in</a>       = <span title="java.util.zip.ZipInputStream" class="keyword">new</span> <span title="java.util.zip.ZipInputStream">ZipInputStream</span><span class="delimiter">(</span><span title="java.io.ByteArrayInputStream" class="keyword">new</span> <span title="java.io.ByteArrayInputStream">ByteArrayInputStream</span><span class="delimiter">(</span><a href="Streamable.scala.html#23126" title="scala.reflect.io.Streamable.type">Streamable</a>.<a href="Streamable.scala.html#530861" title="(is: =&gt; java.io.InputStream)Array[Byte]">bytes</a><span class="delimiter">(</span><a href="#531137" title="=&gt; java.io.InputStream">input</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    @tailrec <span class="keyword">def</span> <a title="()Unit" id="535366">loop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="535432">zipEntry</a> = <a href="#535365" title="java.util.zip.ZipInputStream">in</a>.<span title="()java.util.zip.ZipEntry">getNextEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">class</span> <a title="class EmptyFileEntry extends URLZipArchive.this.Entry" id="535433">EmptyFileEntry</a><a href="#535433" title="EmptyFileEntry" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#531099" title="URLZipArchive.this.Entry">Entry</a><span class="delimiter">(</span><a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()String">getName</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Array[Byte]" id="535436">toByteArray</a>: <a href="../../Array.scala.html#174" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[Int]" id="535437">sizeOption</a> = <a href="../../Option.scala.html#63128" title="(x: Int)Some[Int]">Some</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">class</span> <a title="class FileEntry extends URLZipArchive.this.Entry" id="535434">FileEntry</a><a href="#535434" title="FileEntry" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#531099" title="URLZipArchive.this.Entry">Entry</a><span class="delimiter">(</span><a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()String">getName</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">val</span> <a title="Array[Byte]" id="535452">toByteArray</a>: <a href="../../Array.scala.html#174" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="535462">len</a>    = <a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Long">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../Long.scala.html#57446" title="=&gt; Int">toInt</a>
          <span class="keyword">val</span> <a title="Array[Byte]" id="535463">arr</a>    = <span title="Array[Byte]" class="keyword">if</span> <span class="delimiter">(</span><a href="#535462" title="Int">len</a> <a href="../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../Array.scala.html#175" title="Array.type">Array</a>.<a href="../../Array.scala.html#72233" title="=&gt; Array[Byte]">emptyByteArray</a> <span class="keyword">else</span> <span title="Array[Byte]" class="keyword">new</span> <a href="../../Array.scala.html#174" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#535462" title="Int">len</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Int" id="535464">offset</a> = <span title="Int(0)" class="int">0</span>

          <span class="keyword">def</span> <a title="()Unit" id="535465">loop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#535464" title="Int">offset</a> <a href="../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#535462" title="Int">len</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="535474">read</a> = <a href="#535365" title="java.util.zip.ZipInputStream">in</a>.<span title="(x$1: Array[Byte], x$2: Int, x$3: Int)Int">read</span><span class="delimiter">(</span><a href="#535463" title="Array[Byte]">arr</a>, <a href="#535464" title="Int">offset</a>, <a href="#535462" title="Int">len</a> <a href="../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#535464" title="Int">offset</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#535474" title="Int">read</a> <a href="../../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#535464" title="Int">offset</a> <a href="../../Int.scala.html#57154" title="(x: Int)Int">+=</a> <a href="#535474" title="Int">read</a>
                <a href="#535465" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#535465" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span title="Array[Byte]" class="keyword">if</span> <span class="delimiter">(</span><a href="#535464" title="Int">offset</a> <a href="../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#535463" title="Array[Byte]">arr</a>.<a href="../../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#535463" title="Array[Byte]">arr</a>
          <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.io.IOException" class="keyword">new</span> <span title="java.io.IOException">IOException</span><span class="delimiter">(</span><a href="../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Input stream truncated: read %d of %d bytes&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#535464" title="Int">offset</a>, <a href="#535462" title="Int">len</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[Int]" id="535454">sizeOption</a> = <a href="../../Option.scala.html#63128" title="(x: Int)Some[Int]">Some</a><span class="delimiter">(</span><a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Long">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../Long.scala.html#57446" title="=&gt; Int">toInt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="URLZipArchive.this.DirEntry" id="535513">dir</a> = <a href="#531102" title="(dirs: scala.collection.mutable.Map[String,URLZipArchive.this.DirEntry], entry: java.util.zip.ZipEntry)URLZipArchive.this.DirEntry">getDir</a><span class="delimiter">(</span><a href="#535364" title="scala.collection.mutable.HashMap[String,URLZipArchive.this.DirEntry]">dirs</a>, <a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
          <a href="#535513" title="URLZipArchive.this.DirEntry">dir</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="loop extends URLZipArchive.this.Entry" id="535516">f</a> = <span title="loop extends URLZipArchive.this.Entry" class="keyword">if</span> <span class="delimiter">(</span><a href="#535432" title="java.util.zip.ZipEntry">zipEntry</a>.<span title="()Long">getSize</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../Long.scala.html#57463" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="EmptyFileEntry" class="keyword">new</span> <a href="#535433" title="EmptyFileEntry">EmptyFileEntry</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="FileEntry" class="keyword">new</span> <a href="#535434" title="FileEntry">FileEntry</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#535513" title="URLZipArchive.this.DirEntry">dir</a>.<a href="../../collection/mutable/HashMap.scala.html#88248" title="(key: String, value: URLZipArchive.this.Entry)Unit">entries</a><span class="delimiter">(</span><a href="#535516" title="loop extends URLZipArchive.this.Entry">f</a>.<a href="VirtualFile.scala.html#524119" title="=&gt; String">name</a><span class="delimiter">)</span> = <a href="#535516" title="loop extends URLZipArchive.this.Entry">f</a>
        <span class="delimiter">}</span>
        <a href="#535365" title="java.util.zip.ZipInputStream">in</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#535366" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#535366" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#535363" title="URLZipArchive.this.DirEntry">root</a>.<a href="#535130" title="=&gt; Iterator[URLZipArchive.this.Entry]">iterator</a>
    <span class="keyword">finally</span> <a href="#535364" title="scala.collection.mutable.HashMap[String,URLZipArchive.this.DirEntry]">dirs</a>.<a href="../../collection/mutable/HashMap.scala.html#88240" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="531135">name</a>  = <a href="#534855" title="=&gt; java.net.URL">url</a>.<span title="()String">getFile</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="531136">path</a>  = <a href="#534855" title="=&gt; java.net.URL">url</a>.<span title="()String">getPath</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; java.io.InputStream" id="531137">input</a> = <a href="#534855" title="=&gt; java.net.URL">url</a>.<span title="()java.io.InputStream">openStream</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Long" id="531138">lastModified</a> =
    <span class="keyword">try</span> <a href="#534855" title="=&gt; java.net.URL">url</a>.<span title="()java.net.URLConnection">openConnection</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Long">getLastModified</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Long(0L)">_</span>: <span title="java.io.IOException">IOException</span> =&gt; <span title="Long(0L)" class="int">0</span> <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="531139">canEqual</a><span class="delimiter">(</span><a title="Any" id="536408">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#536408" title="Any">other</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#23170" title="scala.reflect.io.URLZipArchive">URLZipArchive</a><span class="delimiter">]</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="531140">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#534855" title="=&gt; java.net.URL">url</a>.<span title="()Int">hashCode</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="531141">equals</a><span class="delimiter">(</span><a title="Any" id="536413">that</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#536413" title="Any">that</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#3293210" title="Boolean" id="3293211">x</a>: URLZipArchive =&gt; <a href="#534855" title="=&gt; java.net.URL">url</a> <a href="#3293213" title="(x: Boolean)Boolean">==</a> x.<a href="#534855" title="=&gt; java.net.URL">url</a>
    <span class="keyword">case</span> _                =&gt; <a href="#3293213" title="(x: Boolean)Boolean" class="keyword">false</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>