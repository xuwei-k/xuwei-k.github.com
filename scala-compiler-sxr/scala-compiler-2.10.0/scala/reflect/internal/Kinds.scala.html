<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/internal/Kinds.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> internal

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.internal.util.<a href="util/StringOps.scala.html#22972" title="scala.reflect.internal.util.StringOps.type">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait Kinds extends Object" id="21976">Kinds</a> <a href="../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  self: SymbolTable =&gt;

  <span class="keyword">import</span> <a href="Definitions.scala.html#407777" title="Kinds.this.definitions.type">definitions</a>._

  <span class="keyword">private</span> <span class="keyword">type</span> <a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="407721">SymPair</a> = <span class="delimiter">(</span><a href="../../Tuple2.scala.html#783" title="(Kinds.this.Symbol, Kinds.this.Symbol)" class="delimiter">(</a>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">)</span> // ((Argument, Parameter))

  case <span class="keyword">class</span> <a title="class KindErrors extends AnyRef with Product with Serializable" id="455907">KindErrors</a><a href="../../Product.scala.html#186" title="Product" class="delimiter">(</a>
         <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="454979">arity</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>,
      <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="454980">variance</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>,
    <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="454981">strictness</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="454945">isEmpty</a> = <a href="#454979" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#454980" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#454981" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a>

    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="454946">arityError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="454985">syms</a>: <a href="../../Tuple2.scala.html#783" title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</a><span class="delimiter">)</span>      = <a href="#455907" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">copy</a><span class="delimiter">(</span>arity = <a href="#454979" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <a href="../../collection/SeqLike.scala.html#58855" title="(elem: (Kinds.this.Symbol, Kinds.this.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">:+</a> <a href="#454985" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="454947">varianceError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="455058">syms</a>: <a href="../../Tuple2.scala.html#783" title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</a><span class="delimiter">)</span>   = <a href="#454979" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="455111">copy</a><span class="delimiter">(</span>variance = <a href="#454980" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <a href="../../collection/SeqLike.scala.html#58855" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="455109">:+</a> <a href="#455058" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="454948">strictnessError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="455112">syms</a>: <a href="../../Tuple2.scala.html#783" title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</a><span class="delimiter">)</span> = <a href="#454979" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="455162">copy</a><span class="delimiter">(</span>strictness = <a href="#454981" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <a href="../../collection/SeqLike.scala.html#58855" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="455160">:+</a> <a href="#455112" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors" id="454949">++</a><span class="delimiter">(</span><a title="Kinds.this.KindErrors" id="455163">errs</a>: <a href="#455907" title="Kinds.this.KindErrors">KindErrors</a><span class="delimiter">)</span> = <a href="#455907" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span>
      <a href="#454979" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <a href="../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</a> <a href="#455163" title="Kinds.this.KindErrors">errs</a>.<a href="#454979" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>,
      <a href="#454980" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <a href="../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</a> <a href="#455163" title="Kinds.this.KindErrors">errs</a>.<a href="#454980" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>,
      <a href="#454981" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <a href="../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</a> <a href="#455163" title="Kinds.this.KindErrors">errs</a>.<a href="#454981" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>
    <span class="delimiter">)</span>
    // @M TODO this method is duplicated all over the place (varianceString)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: Kinds.this.Symbol)String" id="454950">varStr</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455322">s</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#455322" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#411187" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#455322" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#411186" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
      <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String" id="454951">qualify</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455324">a0</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="455325">b0</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#455324" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#411507" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#455325" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#411507" title="()String">toString</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#455324" title="Kinds.this.Symbol">a0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#455325" title="Kinds.this.Symbol">b0</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#455324" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#455325" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="455332">a</a> = <a href="#455324" title="Kinds.this.Symbol">a0</a>; <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="455333">b</a> = <a href="#455325" title="Kinds.this.Symbol">b0</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#455332" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#411087" title="=&gt; Kinds.this.Symbol#NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#455333" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#411087" title="=&gt; Kinds.this.Symbol#NameType">name</a><span class="delimiter">)</span> <a href="#455334" title="()Unit" class="delimiter">{</a> <a href="#455332" title="Kinds.this.Symbol">a</a> = <a href="#455332" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a>; <a href="#455333" title="Kinds.this.Symbol">b</a> = <a href="#455333" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">}</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#455332" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#411509" title="=&gt; String">locationString</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot; (&quot;)" class="string">&quot; (&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455332" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#411509" title="=&gt; String">locationString</a>.<span title="()String">trim</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String" id="454952">kindMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455352">a</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="455353">p</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String, String) =&gt; String" id="455354">f</a>: <span class="delimiter">(</span>String, String<span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span>: <span title="String">String</span> =
      <a href="../../Function2.scala.html#65848" title="(v1: String, v2: String)String">f</a><span class="delimiter">(</span><a href="../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><a href="../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a><a href="#454951" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#455352" title="Kinds.this.Symbol">a</a>,<a href="#455353" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span>, <a href="../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">p</a><a href="../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a><a href="#454951" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#455353" title="Kinds.this.Symbol">p</a>,<a href="#455352" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span><span class="delimiter">)</span>

    // Normally it's nicer to print nothing rather than '&gt;: Nothing &lt;: Any' all over
    // the place, but here we need it for the message to make sense.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="454953">strictnessMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455362">a</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="455363">p</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#454952" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#455362" title="Kinds.this.Symbol">a</a>, <a href="#455363" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s's bounds%s are stricter than %s's declared bounds%s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#455367" title="String">_</a>, <a href="#455362" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#411367" title="=&gt; Kinds.this.Type">info</a>, <a href="#455368" title="String">_</a>, <a href="#455363" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#411367" title="=&gt; Kinds.this.Type">info</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> tb @ TypeBounds<a href="#3276631" title="Any" id="3276635" class="delimiter">(</a><a href="Types.scala.html#410582" title="Kinds.this.Type" id="3276632">_</a>, <a href="Types.scala.html#410584" title="Kinds.this.Type" id="3276633">_</a><span class="delimiter">)</span> <span class="keyword">if</span> tb.<a href="Types.scala.html#410595" title="=&gt; Boolean">isEmptyBounds</a>  =&gt; <a href="#3276637" title="(x: Any)Any" class="string">&quot; &gt;: Nothing &lt;: Any&quot;</a>
          <span class="keyword">case</span> tb                                         =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="#3276637" title="(x: Any)Any">+</a> tb
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="454954">varianceMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455393">a</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="455394">p</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#454952" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#455393" title="Kinds.this.Symbol">a</a>, <a href="#455394" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is %s, but %s is declared %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#455398" title="String">_</a>, <a href="#454950" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#455393" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span>, <a href="#455399" title="String">_</a>, <a href="#454950" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#455394" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="454955">arityMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455403">a</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="455404">p</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#454952" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#455403" title="Kinds.this.Symbol">a</a>, <a href="#455404" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has %s, but %s has %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#455408" title="String">_</a>, <a href="util/StringOps.scala.html#454928" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#455403" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>, <span title="String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span>,
        <a href="#455409" title="String">_</a>, <a href="util/StringOps.scala.html#454929" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#455404" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String" id="454956">buildMessage</a><span class="delimiter">(</span><a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="455418">xs</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</a><span class="delimiter">[</span>SymPair<span class="delimiter">]</span>, <a title="(Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String" id="455419">f</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> = <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#455418" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">xs</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <a href="#455418" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">xs</a> <a href="../../collection/TraversableLike.scala.html#58063" title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</a> <a href="#455419" title="(Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String">f</a>.<a href="../../Function2.scala.html#65850" title="=&gt; ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String">tupled</a> <a href="../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(targ: Kinds.this.Type, tparam: Kinds.this.Symbol)String" id="454957">errorMessage</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="455472">targ</a>: <a href="Types.scala.html#407270" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="455473">tparam</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">targ</a><a href="../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a><span title="String(&quot;\'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)String">+</span><a href="#455473" title="Kinds.this.Symbol">tparam</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\'s expected parameters:&quot;)" class="string">&quot;'s expected parameters:&quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <a href="#454956" title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String">buildMessage</a><span class="delimiter">(</span><a href="#454979" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>, <a href="#454955" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">arityMessage</a><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <a href="#454956" title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String">buildMessage</a><span class="delimiter">(</span><a href="#454980" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>, <a href="#454954" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">varianceMessage</a><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <a href="#454956" title="(xs: List[(Kinds.this.Symbol, Kinds.this.Symbol)], f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; String)String">buildMessage</a><span class="delimiter">(</span><a href="#454981" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>, <a href="#454953" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">strictnessMessage</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="407725">NoKindErrors</a> = <a href="#455907" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span><a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

  // TODO: this desperately needs to be cleaned up
  // plan: split into kind inference and subkinding
  // every Type has a (cached) Kind
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol)Boolean" id="407727">kindsConform</a><span class="delimiter">(</span><a title="List[Kinds.this.Symbol]" id="455516">tparams</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Kinds.this.Type]" id="455517">targs</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Kinds.this.Type" id="455518">pre</a>: <a href="Types.scala.html#407270" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="455519">owner</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
    <a href="#407729" title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">checkKindBounds0</a><span class="delimiter">(</span><a href="#455516" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#455517" title="List[Kinds.this.Type]">targs</a>, <a href="#455518" title="Kinds.this.Type">pre</a>, <a href="#455519" title="Kinds.this.Symbol">owner</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a>

  /** Check whether `sym1`'s variance conforms to `sym2`'s variance.
   *
   *  If `sym2` is invariant, `sym1`'s variance is irrelevant. Otherwise they must be equal.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean" id="407728">variancesMatch</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455526">sym1</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="455527">sym2</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#455527" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#411313" title="=&gt; Int">variance</a><a href="../../Int.scala.html#57097" title="(x: Int)Boolean">==</a><span title="Int(0)" class="int">0</span>
    <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#455526" title="Kinds.this.Symbol">sym1</a>.<a href="Symbols.scala.html#411313" title="=&gt; Int">variance</a><a href="../../Int.scala.html#57097" title="(x: Int)Boolean">==</a><a href="#455527" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#411313" title="=&gt; Int">variance</a>
  <span class="delimiter">)</span>

  /** Check well-kindedness of type application (assumes arities are already checked) -- @M
   *
   * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
   * (checked one type member at a time -- in that case, prefix is the name of the type alias)
   *
   * Type application is just like value application: it's &quot;contravariant&quot; in the sense that
   * the type parameters of the supplied type arguments must conform to the type parameters of
   * the required type parameters:
   *   - their bounds must be less strict
   *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)
   *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
   *
   *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since
   *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
   */
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" id="407729">checkKindBounds0</a><span class="delimiter">(</span>
    <a title="List[Kinds.this.Symbol]" id="455520">tparams</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
    <a title="List[Kinds.this.Type]" id="455521">targs</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>,
    <a title="Kinds.this.Type" id="455522">pre</a>: <a href="Types.scala.html#407270" title="Kinds.this.Type">Type</a>,
    <a title="Kinds.this.Symbol" id="455523">owner</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>,
    <a title="Boolean" id="455524">explainErrors</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>
  <span class="delimiter">)</span>: <a href="../../collection/immutable/List.scala.html#11952" title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Type, Symbol, KindErrors<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    // instantiate type params that come from outside the abstract type we're currently checking
    <span class="keyword">def</span> <a title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type" id="455540">transform</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="455542">tp</a>: <a href="Types.scala.html#407270" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="455543">clazz</a>: <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Types.scala.html#407270" title="Kinds.this.Type">Type</a> = <a href="#455542" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#408460" title="(pre: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#455522" title="Kinds.this.Type">pre</a>, <a href="#455543" title="Kinds.this.Symbol">clazz</a><span class="delimiter">)</span>

    // check that the type parameters hkargs to a higher-kinded type conform to the
    // expected params hkparams
    <span class="keyword">def</span> <a title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors" id="455541">checkKindBoundsHK</a><span class="delimiter">(</span>
      <a title="List[Kinds.this.Symbol]" id="455548">hkargs</a>:        <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="Kinds.this.Symbol" id="455549">arg</a>:           <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="455550">param</a>:         <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="455551">paramowner</a>:    <a href="Symbols.scala.html#407146" title="Kinds.this.Symbol">Symbol</a>,
      <a title="List[Kinds.this.Symbol]" id="455552">underHKParams</a>: <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="List[Kinds.this.Symbol]" id="455553">withHKArgs</a>:    <a href="../../collection/immutable/List.scala.html#11952" title="List[Kinds.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="delimiter">)</span>: <a href="#455907" title="Kinds.this.KindErrors">KindErrors</a> = <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Kinds.this.KindErrors" id="455554">kindErrors</a>: <a href="#455907" title="Kinds.this.KindErrors">KindErrors</a> = <a href="#407725" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
      <span class="keyword">def</span> <a title="(tp: Kinds.this.Type)Kinds.this.Type" id="455555">bindHKParams</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="455558">tp</a>: <a href="Types.scala.html#407270" title="Kinds.this.Type">Type</a><span class="delimiter">)</span> = <a href="#455558" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#408465" title="(from: List[Kinds.this.Symbol], to: List[Kinds.this.Symbol])Kinds.this.Type">substSym</a><span class="delimiter">(</span><a href="#455552" title="List[Kinds.this.Symbol]">underHKParams</a>, <a href="#455553" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      // @M sometimes hkargs != arg.typeParams, the symbol and the type may
      // have very different type parameters
      <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="455556">hkparams</a> = <a href="#455550" title="Kinds.this.Symbol">param</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>

      <span class="keyword">def</span> <a title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit" id="455557">kindCheck</a><span class="delimiter">(</span><a title="Boolean" id="455561">cond</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="Kinds.this.KindErrors =&gt; Kinds.this.KindErrors" id="455562">f</a>: KindErrors =&gt; KindErrors<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#455561" title="Boolean">cond</a><span class="delimiter">)</span>
          <a href="#455554" title="Kinds.this.KindErrors">kindErrors</a> = <a href="../../Function1.scala.html#58642" title="(v1: Kinds.this.KindErrors)Kinds.this.KindErrors">f</a><span class="delimiter">(</span><a href="#455554" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#408333" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#423721" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#423752" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="SymbolTable.scala.html#406612" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK expected: &quot;)" class="string">&quot;checkKindBoundsHK expected: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455550" title="Kinds.this.Symbol">param</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455556" title="List[Kinds.this.Symbol]">hkparams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; by definition in &quot;)" class="string">&quot; by definition in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455551" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#406612" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK supplied: &quot;)" class="string">&quot;checkKindBoundsHK supplied: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455549" title="Kinds.this.Symbol">arg</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455548" title="List[Kinds.this.Symbol]">hkargs</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; from &quot;)" class="string">&quot; from &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455523" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#406612" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK under params: &quot;)" class="string">&quot;checkKindBoundsHK under params: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455552" title="List[Kinds.this.Symbol]">underHKParams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455553" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="Types.scala.html#407537" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#455548" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#455556" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Any and Nothing are kind-overloaded
        <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#455549" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#408667" title="=&gt; Kinds.this.ClassSymbol">AnyClass</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#455549" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#408692" title="Kinds.this.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span> <a href="#407725" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
        // shortcut: always set error, whether explainTypesOrNot
        <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="#455554" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#454946" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">arityError</a><span class="delimiter">(</span><a href="../../Predef.scala.html#7509" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">arg</a> <a href="../../Predef.scala.html#62634" title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</a> <a href="#455550" title="Kinds.this.Symbol">param</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="util/Collections.scala.html#406792" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Symbol])(f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#455548" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#455556" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455622">hkarg</a>, <a title="Kinds.this.Symbol" id="455623">hkparam</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#455623" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#455622" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> // base-case: kind *
          <a href="#455557" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#407728" title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean">variancesMatch</a><span class="delimiter">(</span><a href="#455622" title="Kinds.this.Symbol">hkarg</a>, <a href="#455623" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span>, <a href="#455630" title="Kinds.this.KindErrors">_</a> <a href="#454947" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">varianceError</a> <span class="delimiter">(</span><a href="../../Predef.scala.html#7509" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <a href="../../Predef.scala.html#62634" title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</a> <a href="#455623" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // instantiateTypeParams(tparams, targs)
          //   higher-order bounds, may contain references to type arguments
          // substSym(hkparams, hkargs)
          //   these types are going to be compared as types of kind *
          //
          // Their arguments use different symbols, but are
          // conceptually the same. Could also replace the types by
          // polytypes, but can't just strip the symbols, as ordering
          // is lost then.
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="455626">declaredBounds</a>     = <a href="#455540" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#455623" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#411367" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#408435" title="(formals: List[Kinds.this.Symbol], actuals: List[Kinds.this.Type])Kinds.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#455520" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#455521" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span>.<a href="Types.scala.html#408415" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#455551" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="455627">declaredBoundsInst</a> = <a href="#455540" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#455555" title="(tp: Kinds.this.Type)Kinds.this.Type">bindHKParams</a><span class="delimiter">(</span><a href="#455626" title="Kinds.this.Type">declaredBounds</a><span class="delimiter">)</span>, <a href="#455523" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="455628">argumentBounds</a>     = <a href="#455540" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#455622" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#411367" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#408415" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#455523" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>

          <a href="#455557" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#455627" title="Kinds.this.Type">declaredBoundsInst</a> <a href="Types.scala.html#408481" title="(that: Kinds.this.Type)Boolean">&lt;:&lt;</a> <a href="#455628" title="Kinds.this.Type">argumentBounds</a>, <a href="#455657" title="Kinds.this.KindErrors">_</a> <a href="#454948" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">strictnessError</a> <span class="delimiter">(</span><a href="../../Predef.scala.html#7509" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <a href="../../Predef.scala.html#62634" title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</a> <a href="#455623" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="SymbolTable.scala.html#406618" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455623" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; declared bounds: &quot;)" class="string">&quot; declared bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455626" title="Kinds.this.Type">declaredBounds</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; after instantiating earlier hkparams: &quot;)" class="string">&quot; after instantiating earlier hkparams: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455627" title="Kinds.this.Type">declaredBoundsInst</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455622" title="Kinds.this.Symbol">hkarg</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; has bounds: &quot;)" class="string">&quot; has bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455628" title="Kinds.this.Type">argumentBounds</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="SymbolTable.scala.html#406618" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK recursing to compare params of &quot;)" class="string">&quot;checkKindBoundsHK recursing to compare params of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455623" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span title="(x$1: Any)String">+</span> <a href="#455622" title="Kinds.this.Symbol">hkarg</a><span class="delimiter">)</span>
          <a href="#455554" title="Kinds.this.KindErrors">kindErrors</a> <a href="#454949" title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors">++=</a> <a href="#455541" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#455622" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#455622" title="Kinds.this.Symbol">hkarg</a>,
            <a href="#455623" title="Kinds.this.Symbol">hkparam</a>,
            <a href="#455551" title="Kinds.this.Symbol">paramowner</a>,
            <a href="#455552" title="List[Kinds.this.Symbol]">underHKParams</a> <a href="../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</a> <a href="#455623" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#455553" title="List[Kinds.this.Symbol]">withHKArgs</a> <a href="../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</a> <a href="#455622" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#455524" title="Boolean">explainErrors</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#455554" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#454945" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#455554" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="delimiter">}</span>
      <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#455524" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#455554" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="keyword">else</span> <a href="#407725" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#408333" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#423721" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#423752" title="=&gt; Boolean">value</a> <a href="../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#455520" title="List[Kinds.this.Symbol]">tparams</a>.<a href="../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#455521" title="List[Kinds.this.Type]">targs</a>.<a href="../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="SymbolTable.scala.html#406612" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
      <span title="String(&quot;checkKindBounds0(&quot;)" class="string">&quot;checkKindBounds0(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455520" title="List[Kinds.this.Symbol]">tparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455521" title="List[Kinds.this.Type]">targs</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455522" title="Kinds.this.Type">pre</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span title="(x$1: Any)String">+</span> <a href="#455523" title="Kinds.this.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#455524" title="Boolean">explainErrors</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="delimiter">)</span>

    <a href="util/Collections.scala.html#406747" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Type])(f: (Kinds.this.Symbol, Kinds.this.Type) =&gt; List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)])List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">flatMap2</a><span class="delimiter">(</span><a href="#455520" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#455521" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="455822">tparam</a>, <a title="Kinds.this.Type" id="455823">targ</a><span class="delimiter">)</span> =&gt;
      // Prevent WildcardType from causing kind errors, as typevars may be higher-order
      <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#455823" title="Kinds.this.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Types.scala.html#407279" title="Kinds.this.WildcardType.type">WildcardType</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <span class="delimiter">{</span>
        // force symbol load for #4205
        <a href="#455823" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#408409" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>.<a href="Symbols.scala.html#411367" title="=&gt; Kinds.this.Type">info</a>
        // @M must use the typeParams of the *type* targ, not of the *symbol* of targ!!
        <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="455828">tparamsHO</a> = <a href="#455823" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#408432" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
        <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#455823" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#408392" title="=&gt; Boolean">isHigherKinded</a> <a href="../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#455822" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<a href="../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // NOTE: *not* targ.typeSymbol, which normalizes
          <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="455832">kindErrors</a> = <a href="#455541" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#455828" title="List[Kinds.this.Symbol]">tparamsHO</a>, <a href="#455823" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#408409" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>, <a href="#455822" title="Kinds.this.Symbol">tparam</a>,
            <a href="#455822" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#411315" title="=&gt; Kinds.this.Symbol">owner</a>, <a href="#455822" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#411389" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>, <a href="#455828" title="List[Kinds.this.Symbol]">tparamsHO</a>
          <span class="delimiter">)</span>
          <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#455832" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#454945" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#455524" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#62451" title="(xs: (Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)*)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</a><span class="delimiter">(</span><a href="../../Tuple3.scala.html#63169" title="(_1: Kinds.this.Type, _2: Kinds.this.Symbol, _3: Kinds.this.KindErrors)(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)" class="delimiter">(</a><a href="#455823" title="Kinds.this.Type">targ</a>, <a href="#455822" title="Kinds.this.Symbol">tparam</a>, <a href="#455832" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
            // Return as soon as an error is seen if there's nothing to explain.
            <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="../../collection/immutable/List.scala.html#62451" title="(xs: (Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)*)List[(Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)]">List</a><span class="delimiter">(</span><a href="../../Tuple3.scala.html#63169" title="(_1: Kinds.this.NoType.type, _2: Kinds.this.NoSymbol, _3: Kinds.this.KindErrors)(Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)" class="delimiter">(</a><a href="Types.scala.html#407284" title="Kinds.this.NoType.type">NoType</a>, <a href="Symbols.scala.html#407184" title="=&gt; Kinds.this.NoSymbol">NoSymbol</a>, <a href="#407725" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>