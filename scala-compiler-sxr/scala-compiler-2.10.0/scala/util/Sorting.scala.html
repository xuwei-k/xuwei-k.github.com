<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/util/Sorting.scala</title>
        <script type="text/javascript" src="../../jquery-all.js"></script>
        <script type="text/javascript" src="../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2006-2009, Ross Judson           **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */

<span class="keyword">package</span> scala
<span class="keyword">package</span> util

<span class="keyword">import</span> scala.reflect.<span class="delimiter">{</span> ClassTag, classTag <span class="delimiter">}</span>
<span class="keyword">import</span> scala.math.<span class="delimiter">{</span> Ordering, max, min <span class="delimiter">}</span>

/** The Sorting object provides functions that can sort various kinds of
  * objects. You can provide a comparison function, or you can request a sort
  * of items that are viewable as [[scala.math.Ordered]]. Some sorts that
  * operate directly on a subset of value types are also provided. These
  * implementations are derived from those in the Sun JDK.
  *
  * Note that stability doesn't matter for value types, so use the `quickSort`
  * variants for those. `stableSort` is intended to be used with
  * objects when the prior ordering should be preserved, where possible.
  *
  * @author  Ross Judson
  * @version 1.0
  */
<span class="keyword">object</span> <a title="scala.util.Sorting.type" id="7181">Sorting</a> <a href="#7182" title="scala.util.Sorting.type" class="delimiter">{</a>
  /** Quickly sort an array of Doubles. */
  <span class="keyword">def</span> <a title="(a: Array[Double])Unit" id="1137694">quickSort</a><span class="delimiter">(</span><a title="Array[Double]" id="1222413">a</a>: <a href="../Array.scala.html#174" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#1137721" title="(x: Array[Double], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#1222413" title="Array[Double]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1222413" title="Array[Double]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of items with an implicit Ordering. */
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$1: scala.math.Ordering[K])Unit" id="1222466">quickSort</a><span class="delimiter">[</span><a title="" id="1137697">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1222465">a</a>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#1222430" title="(x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit">sort1</a><a href="#1222466" title="scala.math.Ordering[K]" class="delimiter">(</a><a href="#1222465" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1222465" title="Array[K]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of Ints. */
  <span class="keyword">def</span> <a title="(a: Array[Int])Unit" id="1137698">quickSort</a><span class="delimiter">(</span><a title="Array[Int]" id="1222502">a</a>: <a href="../Array.scala.html#174" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#1137720" title="(x: Array[Int], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#1222502" title="Array[Int]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1222502" title="Array[Int]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Quickly sort an array of Floats. */
  <span class="keyword">def</span> <a title="(a: Array[Float])Unit" id="1137699">quickSort</a><span class="delimiter">(</span><a title="Array[Float]" id="1222537">a</a>: <a href="../Array.scala.html#174" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#1137722" title="(x: Array[Float], off: Int, len: Int)Unit">sort1</a><span class="delimiter">(</span><a href="#1222537" title="Array[Float]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1222537" title="Array[Float]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Sort an array of K where K is Ordered, preserving the existing order
    * where the values are equal. */
  <span class="keyword">def</span> <a title="[K](a: Array[K])(implicit evidence$2: scala.reflect.ClassTag[K], implicit evidence$3: scala.math.Ordering[K])Unit" id="1137796">stableSort</a><span class="delimiter">[</span><a title="" id="1137702">K</a>: ClassTag: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1137794">a</a>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#1222581" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassTag[K])Unit">stableSort</a><a href="#1137796" title="scala.reflect.ClassTag[K]" class="delimiter">(</a><a href="#1137794" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1137794" title="Array[K]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassTag.scala.html#62567" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#1137794" title="Array[K]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="../math/Ordering.scala.html#82208" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#1137796" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#1137702" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#82120" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Sorts an array of `K` given an ordering function `f`.
   *  `f` should return `true` iff its first parameter is strictly less than its second parameter.
   */
  <span class="keyword">def</span> <a title="[K](a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassTag[K])Unit" id="1137784">stableSort</a><span class="delimiter">[</span><a title="" id="1137705">K</a>: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1137782">a</a>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="1137783">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#1222581" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassTag[K])Unit">stableSort</a><a href="#1137784" title="scala.reflect.ClassTag[K]" class="delimiter">(</a><a href="#1137782" title="Array[K]">a</a>, <span title="Int(0)" class="int">0</span>, <a href="#1137782" title="Array[K]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span>, <a href="../reflect/ClassTag.scala.html#62567" title="(len: Int)Array[K]" class="keyword">new</a> Array<span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">(</span><a href="#1137782" title="Array[K]">a</a>.<a href="../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span>, <a href="#1137783" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Sorts an arbitrary sequence into an array, given a comparison function
   *  that should return `true` iff parameter one is strictly less than parameter two.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */
  <span class="keyword">def</span> <a title="[K](a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassTag[K])Array[K]" id="1137762">stableSort</a><span class="delimiter">[</span><a title="" id="1137708">K</a>: ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="1137760">a</a>: <a href="../collection/Seq.scala.html#4340" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="1137761">f</a>: <span class="delimiter">(</span>K, K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[K]" id="1222718">ret</a> = <a href="#1137760" title="Seq[K]">a</a>.<a href="../collection/TraversableOnce.scala.html#58259" title="(implicit evidence$1: scala.reflect.ClassTag[K])Array[K]">toArray</a>
    <a href="#1137784" title="(a: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$4: scala.reflect.ClassTag[K])Unit">stableSort</a><a href="#1137762" title="scala.reflect.ClassTag[K]" class="delimiter">(</a><a href="#1222718" title="Array[K]">ret</a>, <a href="#1137761" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
    <a href="#1222718" title="Array[K]">ret</a>
  <span class="delimiter">}</span>

  /** Sorts an arbitrary sequence of items that are viewable as ordered. */
  <span class="keyword">def</span> <a title="[K](a: Seq[K])(implicit evidence$6: scala.reflect.ClassTag[K], implicit evidence$7: scala.math.Ordering[K])Array[K]" id="1137750">stableSort</a><span class="delimiter">[</span><a title="" id="1137711">K</a>: ClassTag: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="1137748">a</a>: <a href="../collection/Seq.scala.html#4340" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#1137762" title="(a: Seq[K], f: (K, K) =&gt; Boolean)(implicit evidence$5: scala.reflect.ClassTag[K])Array[K]">stableSort</a><a href="#1137750" title="scala.reflect.ClassTag[K]" class="delimiter">(</a><a href="#1137748" title="Seq[K]">a</a>, <a href="../math/Ordering.scala.html#82208" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#1137750" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#1137711" title="K">K</a><span class="delimiter">]</span>.<a href="../math/Ordering.scala.html#82120" title="(x: K, y: K)Boolean">lt</a> _<span class="delimiter">)</span>

  /** Stably sorts a sequence of items given an extraction function that will
   *  return an ordered key from an item.
   *
   *  @param  a the sequence to be sorted.
   *  @param  f the comparison function.
   *  @return the sorted sequence of items.
   */
  <span class="keyword">def</span> <a title="[K, M](a: Seq[K], f: K =&gt; M)(implicit evidence$8: scala.reflect.ClassTag[K], implicit evidence$9: scala.math.Ordering[M])Array[K]" id="1137731">stableSort</a><span class="delimiter">[</span><a title="" id="1137715">K</a>: ClassTag, <a title="" id="1137716">M</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[K]" id="1137728">a</a>: <a href="../collection/Seq.scala.html#4340" title="Seq[K]">Seq</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="K =&gt; M" id="1137729">f</a>: K =&gt; M<span class="delimiter">)</span>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span> =
    <a href="#1137750" title="(a: Seq[K])(implicit evidence$6: scala.reflect.ClassTag[K], implicit evidence$7: scala.math.Ordering[K])Array[K]">stableSort</a><span class="delimiter">(</span><a href="#1137728" title="Seq[K]">a</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Predef.scala.html#7472" title="[T](implicit e: T)T">implicitly</a><a href="#1137731" title="(implicit e: scala.reflect.ClassTag[K])scala.reflect.ClassTag[K]" class="delimiter">[</a><a href="../reflect/ClassTag.scala.html#2383" title="scala.reflect.ClassTag[K]">ClassTag</a><span class="delimiter">[</span>K<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../math/Ordering.scala.html#82208" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#1137731" title="(implicit ord: scala.math.Ordering[M])scala.math.Ordering[M]" class="delimiter">[</a><a href="#1137716" title="M">M</a><span class="delimiter">]</span> <a href="../math/Ordering.scala.html#82126" title="(f: K =&gt; M)scala.math.Ordering[K]">on</a> <a href="#1137729" title="K =&gt; M">f</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](x: Array[K], off: Int, len: Int)(implicit evidence$10: scala.math.Ordering[K])Unit" id="1222430">sort1</a><span class="delimiter">[</span><a title="" id="1137719">K</a>: Ordering<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1222427">x</a>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="1222428">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1222429">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.math.Ordering[K]" id="1223075">ord</a> = <a href="../math/Ordering.scala.html#82208" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="#1222430" title="(implicit ord: scala.math.Ordering[K])scala.math.Ordering[K]" class="delimiter">[</a><a href="#1137719" title="K">K</a><span class="delimiter">]</span>
    <span class="keyword">import</span> <a href="#1223075" title="scala.math.Ordering[K]">ord</a>._

    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1223077">swap</a><span class="delimiter">(</span><a title="Int" id="1223082">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223083">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="K" id="1223084">t</a> = <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223082" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#1223082" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223083" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: K)Unit">x</a><span class="delimiter">(</span><a href="#1223083" title="Int">b</a><span class="delimiter">)</span> = <a href="#1223084" title="K">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1223078">vecswap</a><span class="delimiter">(</span><a title="Int" id="1223087">_a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223088">_b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223089">n</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1223090">a</a> = <a href="#1223087" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1223091">b</a> = <a href="#1223088" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1223092">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223092" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1223089" title="Int">n</a><span class="delimiter">)</span> <a href="#1223093" title="()Unit" class="delimiter">{</a>
        <a href="#1223077" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223090" title="Int">a</a>, <a href="#1223091" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1223092" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1223090" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1223091" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1223079">med3</a><span class="delimiter">(</span><a title="Int" id="1223117">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223118">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223119">c</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223117" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193394" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223118" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223118" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193394" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223119" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223118" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223117" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193394" title="(rhs: K)Boolean">&lt;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223119" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223119" title="Int">c</a> <span class="keyword">else</span> <a href="#1223117" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223118" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193396" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223119" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223118" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223117" title="Int">a</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193396" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223119" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223119" title="Int">c</a> <span class="keyword">else</span> <a href="#1223117" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1223080">sort2</a><span class="delimiter">(</span><a title="Int" id="1223212">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223213">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1223218">i</a> = <a href="#1223212" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223218" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223212" title="Int">off</a><span class="delimiter">)</span> <a href="#1223219" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1223228">j</a> = <a href="#1223218" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223228" title="Int">j</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1223212" title="Int">off</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223228" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193396" title="(rhs: K)Boolean">&gt;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223228" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223229" title="()Unit" class="delimiter">{</a>
            <a href="#1223077" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223228" title="Int">j</a>, <a href="#1223228" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1223228" title="Int">j</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1223218" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="1223272">m</a> = <a href="#1223212" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57092" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1223294">l</a> = <a href="#1223212" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1223295">n</a> = <a href="#1223212" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="1223308">s</a> = <a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57175" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1223294" title="Int">l</a> = <a href="#1223079" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223294" title="Int">l</a>, <a href="#1223294" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1223308" title="Int">s</a>, <a href="#1223294" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1223308" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1223272" title="Int">m</a> = <a href="#1223079" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223272" title="Int">m</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223308" title="Int">s</a>, <a href="#1223272" title="Int">m</a>, <a href="#1223272" title="Int">m</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1223308" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1223295" title="Int">n</a> = <a href="#1223079" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223295" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1223308" title="Int">s</a>, <a href="#1223295" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223308" title="Int">s</a>, <a href="#1223295" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1223272" title="Int">m</a> = <a href="#1223079" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223294" title="Int">l</a>, <a href="#1223272" title="Int">m</a>, <a href="#1223295" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="K" id="1223273">v</a> = <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223272" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="1223274">a</a> = <a href="#1223212" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1223275">b</a> = <a href="#1223274" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1223276">c</a> = <a href="#1223212" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223213" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1223277">d</a> = <a href="#1223276" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1223278">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1223278" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1223281" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223275" title="Int">b</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1223276" title="Int">c</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223275" title="Int">b</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193395" title="(rhs: K)Boolean">&lt;=</a> <a href="#1223273" title="K">v</a><span class="delimiter">)</span> <a href="#1223353" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223275" title="Int">b</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#1223273" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1223077" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223274" title="Int">a</a>, <a href="#1223275" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1223274" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1223275" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223276" title="Int">c</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1223275" title="Int">b</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#56639" title="(i: Int)K">x</a><a href="../math/Ordering.scala.html#82130" title="implicit scala.math.Ordering.mkOrderingOps : (lhs: K)ord.Ops" class="delimiter">(</a><a href="#1223276" title="Int">c</a><span class="delimiter">)</span> <a href="../math/Ordering.scala.html#193397" title="(rhs: K)Boolean">&gt;=</a> <a href="#1223273" title="K">v</a><span class="delimiter">)</span> <a href="#1223354" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">x</a><span class="delimiter">(</span><a href="#1223276" title="Int">c</a><span class="delimiter">)</span> <span title="(x$1: Any)Boolean">==</span> <a href="#1223273" title="K">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1223077" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223276" title="Int">c</a>, <a href="#1223277" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1223277" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1223276" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223275" title="Int">b</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1223276" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1223278" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1223077" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223275" title="Int">b</a>, <a href="#1223276" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1223276" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1223275" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="1223279">n</a> = <a href="#1223212" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223213" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1223280">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1223274" title="Int">a</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223212" title="Int">off</a>, <a href="#1223275" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223274" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1223078" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1223212" title="Int">off</a>, <a href="#1223275" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223280" title="Int">s</a>, <a href="#1223280" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1223280" title="Int">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1223277" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223276" title="Int">c</a>, <a href="#1223279" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223277" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1223078" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1223275" title="Int">b</a>,   <a href="#1223279" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223280" title="Int">s</a>, <a href="#1223280" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#1223280" title="Int">s</a> = <a href="#1223275" title="Int">b</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1223274" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223280" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1223080" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1223212" title="Int">off</a>, <a href="#1223280" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1223280" title="Int">s</a> = <a href="#1223277" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1223276" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223280" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1223080" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1223279" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223280" title="Int">s</a>, <a href="#1223280" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1223080" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1222428" title="Int">off</a>, <a href="#1222429" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Int], off: Int, len: Int)Unit" id="1137720">sort1</a><span class="delimiter">(</span><a title="Array[Int]" id="1222424">x</a>: <a href="../Array.scala.html#174" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Int" id="1222425">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1222426">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1223499">swap</a><span class="delimiter">(</span><a title="Int" id="1223503">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223504">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1223505">t</a> = <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223503" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#1223503" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223504" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: Int)Unit">x</a><span class="delimiter">(</span><a href="#1223504" title="Int">b</a><span class="delimiter">)</span> = <a href="#1223505" title="Int">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1223500">vecswap</a><span class="delimiter">(</span><a title="Int" id="1223508">_a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223509">_b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223510">n</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1223511">a</a> = <a href="#1223508" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1223512">b</a> = <a href="#1223509" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1223513">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223513" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1223510" title="Int">n</a><span class="delimiter">)</span> <a href="#1223514" title="()Unit" class="delimiter">{</a>
        <a href="#1223499" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223511" title="Int">a</a>, <a href="#1223512" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1223513" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1223511" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1223512" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1223501">med3</a><span class="delimiter">(</span><a title="Int" id="1223537">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223538">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223539">c</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223537" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223538" title="Int">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223538" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223539" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223538" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223537" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223539" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223539" title="Int">c</a> <span class="keyword">else</span> <a href="#1223537" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223538" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223539" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223538" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223537" title="Int">a</a><span class="delimiter">)</span> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223539" title="Int">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223539" title="Int">c</a> <span class="keyword">else</span> <a href="#1223537" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1223502">sort2</a><span class="delimiter">(</span><a title="Int" id="1223560">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223561">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1223566">i</a> = <a href="#1223560" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223566" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223560" title="Int">off</a><span class="delimiter">)</span> <a href="#1223567" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1223576">j</a> = <a href="#1223566" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223576" title="Int">j</a><a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a><a href="#1223560" title="Int">off</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223576" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223576" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1223577" title="()Unit" class="delimiter">{</a>
            <a href="#1223499" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223576" title="Int">j</a>, <a href="#1223576" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1223576" title="Int">j</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1223566" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="1223606">m</a> = <a href="#1223560" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57092" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1223628">l</a> = <a href="#1223560" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1223629">n</a> = <a href="#1223560" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="1223642">s</a> = <a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57175" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1223628" title="Int">l</a> = <a href="#1223501" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223628" title="Int">l</a>, <a href="#1223628" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1223642" title="Int">s</a>, <a href="#1223628" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1223642" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1223606" title="Int">m</a> = <a href="#1223501" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223606" title="Int">m</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223642" title="Int">s</a>, <a href="#1223606" title="Int">m</a>, <a href="#1223606" title="Int">m</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1223642" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1223629" title="Int">n</a> = <a href="#1223501" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223629" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1223642" title="Int">s</a>, <a href="#1223629" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223642" title="Int">s</a>, <a href="#1223629" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1223606" title="Int">m</a> = <a href="#1223501" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223628" title="Int">l</a>, <a href="#1223606" title="Int">m</a>, <a href="#1223629" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Int" id="1223607">v</a> = <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223606" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="1223608">a</a> = <a href="#1223560" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1223609">b</a> = <a href="#1223608" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1223610">c</a> = <a href="#1223560" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223561" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1223611">d</a> = <a href="#1223610" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1223612">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1223612" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1223615" title="()Unit" class="delimiter">{</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223609" title="Int">b</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1223610" title="Int">c</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223609" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1223607" title="Int">v</a><span class="delimiter">)</span> <a href="#1223687" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223609" title="Int">b</a><span class="delimiter">)</span> <a href="../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1223607" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1223499" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223608" title="Int">a</a>, <a href="#1223609" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1223608" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1223609" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223610" title="Int">c</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1223609" title="Int">b</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223610" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1223607" title="Int">v</a><span class="delimiter">)</span> <a href="#1223688" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Int">x</a><span class="delimiter">(</span><a href="#1223610" title="Int">c</a><span class="delimiter">)</span> <a href="../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1223607" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1223499" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223610" title="Int">c</a>, <a href="#1223611" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1223611" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1223610" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223609" title="Int">b</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1223610" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1223612" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1223499" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223609" title="Int">b</a>, <a href="#1223610" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1223610" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1223609" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="1223613">n</a> = <a href="#1223560" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223561" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1223614">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1223608" title="Int">a</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223560" title="Int">off</a>, <a href="#1223609" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223608" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1223500" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1223560" title="Int">off</a>, <a href="#1223609" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223614" title="Int">s</a>, <a href="#1223614" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1223614" title="Int">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1223611" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223610" title="Int">c</a>, <a href="#1223613" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223611" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1223500" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1223609" title="Int">b</a>,   <a href="#1223613" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223614" title="Int">s</a>, <a href="#1223614" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#1223614" title="Int">s</a> = <a href="#1223609" title="Int">b</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1223608" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223614" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1223502" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1223560" title="Int">off</a>, <a href="#1223614" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1223614" title="Int">s</a> = <a href="#1223611" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1223610" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223614" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1223502" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1223613" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223614" title="Int">s</a>, <a href="#1223614" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1223502" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1222425" title="Int">off</a>, <a href="#1222426" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Double], off: Int, len: Int)Unit" id="1137721">sort1</a><span class="delimiter">(</span><a title="Array[Double]" id="1222421">x</a>: <a href="../Array.scala.html#174" title="Array[Double]">Array</a><span class="delimiter">[</span>Double<span class="delimiter">]</span>, <a title="Int" id="1222422">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1222423">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1223813">swap</a><span class="delimiter">(</span><a title="Int" id="1223817">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223818">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Double" id="1223819">t</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223817" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#1223817" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223818" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: Double)Unit">x</a><span class="delimiter">(</span><a href="#1223818" title="Int">b</a><span class="delimiter">)</span> = <a href="#1223819" title="Double">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1223814">vecswap</a><span class="delimiter">(</span><a title="Int" id="1223822">_a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223823">_b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223824">n</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1223825">a</a> = <a href="#1223822" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1223826">b</a> = <a href="#1223823" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1223827">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223827" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1223824" title="Int">n</a><span class="delimiter">)</span> <a href="#1223828" title="()Unit" class="delimiter">{</a>
        <a href="#1223813" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223825" title="Int">a</a>, <a href="#1223826" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1223827" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1223825" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1223826" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1223815">med3</a><span class="delimiter">(</span><a title="Int" id="1223851">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223852">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223853">c</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1223854">ab</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223851" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223852" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1223855">bc</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223852" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223853" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1223856">ac</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223851" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223853" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223854" title="Int">ab</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223855" title="Int">bc</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1223852" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223856" title="Int">ac</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1223853" title="Int">c</a> <span class="keyword">else</span> <a href="#1223851" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223855" title="Int">bc</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1223852" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223856" title="Int">ac</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1223853" title="Int">c</a> <span class="keyword">else</span> <a href="#1223851" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1223816">sort2</a><span class="delimiter">(</span><a title="Int" id="1223928">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1223929">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1223934">i</a> = <a href="#1223928" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223934" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223928" title="Int">off</a><span class="delimiter">)</span> <a href="#1223935" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1223944">j</a> = <a href="#1223934" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223944" title="Int">j</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1223928" title="Int">off</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223944" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223944" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1223945" title="()Unit" class="delimiter">{</a>
            <a href="#1223813" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223944" title="Int">j</a>, <a href="#1223944" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1223944" title="Int">j</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1223934" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="1223991">m</a> = <a href="#1223928" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57092" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1224013">l</a> = <a href="#1223928" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1224014">n</a> = <a href="#1223928" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="1224027">s</a> = <a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57175" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1224013" title="Int">l</a> = <a href="#1223815" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224013" title="Int">l</a>, <a href="#1224013" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1224027" title="Int">s</a>, <a href="#1224013" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1224027" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1223991" title="Int">m</a> = <a href="#1223815" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1223991" title="Int">m</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224027" title="Int">s</a>, <a href="#1223991" title="Int">m</a>, <a href="#1223991" title="Int">m</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1224027" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1224014" title="Int">n</a> = <a href="#1223815" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224014" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1224027" title="Int">s</a>, <a href="#1224014" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224027" title="Int">s</a>, <a href="#1224014" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1223991" title="Int">m</a> = <a href="#1223815" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224013" title="Int">l</a>, <a href="#1223991" title="Int">m</a>, <a href="#1224014" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Double" id="1223992">v</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><span class="delimiter">(</span><a href="#1223991" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="1223993">a</a> = <a href="#1223928" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1223994">b</a> = <a href="#1223993" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1223995">c</a> = <a href="#1223928" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223929" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1223996">d</a> = <a href="#1223995" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1223997">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1223997" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1224000" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1224072">bv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223994" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="#1223992" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223994" title="Int">b</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1223995" title="Int">c</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1224072" title="Int">bv</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224074" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224072" title="Int">bv</a> <a href="../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1223813" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223993" title="Int">a</a>, <a href="#1223994" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1223993" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1223994" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223994" title="Int">b</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1223995" title="Int">c</a><span class="delimiter">)</span> <a href="#1224072" title="Int">bv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223994" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="#1223992" title="Double">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="1224073">cv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223995" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="#1223992" title="Double">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1223995" title="Int">c</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1223994" title="Int">b</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1224073" title="Int">cv</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224075" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224073" title="Int">cv</a> <a href="../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1223813" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223995" title="Int">c</a>, <a href="#1223996" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1223996" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1223995" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223995" title="Int">c</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1223994" title="Int">b</a><span class="delimiter">)</span> <a href="#1224073" title="Int">cv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Double">x</a><a href="../LowPriorityImplicits.scala.html#7399" title="implicit scala.LowPriorityImplicits.doubleWrapper : (x: Double)scala.runtime.RichDouble" class="delimiter">(</a><a href="#1223995" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Double)Int">compare</a> <a href="#1223992" title="Double">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223994" title="Int">b</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1223995" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1223997" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1223813" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1223994" title="Int">b</a>, <a href="#1223995" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1223995" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1223994" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="1223998">n</a> = <a href="#1223928" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1223929" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1223999">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1223993" title="Int">a</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223928" title="Int">off</a>, <a href="#1223994" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223993" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1223814" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1223928" title="Int">off</a>, <a href="#1223994" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223999" title="Int">s</a>, <a href="#1223999" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1223999" title="Int">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1223996" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223995" title="Int">c</a>, <a href="#1223998" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223996" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1223814" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1223994" title="Int">b</a>,   <a href="#1223998" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223999" title="Int">s</a>, <a href="#1223999" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#1223999" title="Int">s</a> = <a href="#1223994" title="Int">b</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1223993" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223999" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1223816" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1223928" title="Int">off</a>, <a href="#1223999" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1223999" title="Int">s</a> = <a href="#1223996" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1223995" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1223999" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1223816" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1223998" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1223999" title="Int">s</a>, <a href="#1223999" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1223816" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1222422" title="Int">off</a>, <a href="#1222423" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Array[Float], off: Int, len: Int)Unit" id="1137722">sort1</a><span class="delimiter">(</span><a title="Array[Float]" id="1222418">x</a>: <a href="../Array.scala.html#174" title="Array[Float]">Array</a><span class="delimiter">[</span>Float<span class="delimiter">]</span>, <a title="Int" id="1222419">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1222420">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int)Unit" id="1224276">swap</a><span class="delimiter">(</span><a title="Int" id="1224280">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1224281">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Float" id="1224282">t</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224280" title="Int">a</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#1224280" title="Int">a</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224281" title="Int">b</a><span class="delimiter">)</span>
      <a href="../Array.scala.html#56640" title="(i: Int, x: Float)Unit">x</a><span class="delimiter">(</span><a href="#1224281" title="Int">b</a><span class="delimiter">)</span> = <a href="#1224282" title="Float">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(_a: Int, _b: Int, n: Int)Unit" id="1224277">vecswap</a><span class="delimiter">(</span><a title="Int" id="1224285">_a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1224286">_b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1224287">n</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1224288">a</a> = <a href="#1224285" title="Int">_a</a>
      <span class="keyword">var</span> <a title="Int" id="1224289">b</a> = <a href="#1224286" title="Int">_b</a>
      <span class="keyword">var</span> <a title="Int" id="1224290">i</a> = <span title="Int(0)" class="int">0</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224290" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1224287" title="Int">n</a><span class="delimiter">)</span> <a href="#1224291" title="()Unit" class="delimiter">{</a>
        <a href="#1224276" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1224288" title="Int">a</a>, <a href="#1224289" title="Int">b</a><span class="delimiter">)</span>
        <a href="#1224290" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1224288" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#1224289" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(a: Int, b: Int, c: Int)Int" id="1224278">med3</a><span class="delimiter">(</span><a title="Int" id="1224314">a</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1224315">b</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1224316">c</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1224317">ab</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224314" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224315" title="Int">b</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1224318">bc</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224315" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224316" title="Int">c</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="1224319">ac</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224314" title="Int">a</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224316" title="Int">c</a><span class="delimiter">)</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224317" title="Int">ab</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224318" title="Int">bc</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224315" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224319" title="Int">ac</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224316" title="Int">c</a> <span class="keyword">else</span> <a href="#1224314" title="Int">a</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224318" title="Int">bc</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224315" title="Int">b</a> <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224319" title="Int">ac</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224316" title="Int">c</a> <span class="keyword">else</span> <a href="#1224314" title="Int">a</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Int, len: Int)Unit" id="1224279">sort2</a><span class="delimiter">(</span><a title="Int" id="1224430">off</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1224431">len</a>: <a href="../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      // Insertion sort on smallest arrays
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="1224436">i</a> = <a href="#1224430" title="Int">off</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224436" title="Int">i</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1224430" title="Int">off</a><span class="delimiter">)</span> <a href="#1224437" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1224446">j</a> = <a href="#1224436" title="Int">i</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224446" title="Int">j</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1224430" title="Int">off</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224446" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224446" title="Int">j</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224447" title="()Unit" class="delimiter">{</a>
            <a href="#1224276" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1224446" title="Int">j</a>, <a href="#1224446" title="Int">j</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1224446" title="Int">j</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <a href="#1224436" title="Int">i</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // Choose a partition element, v
        <span class="keyword">var</span> <a title="Int" id="1224506">m</a> = <a href="#1224430" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <span class="delimiter">(</span><a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57092" title="(x: Int)Int">&gt;&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>        // Small arrays, middle element
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(7)" class="int">7</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="1224528">l</a> = <a href="#1224430" title="Int">off</a>
          <span class="keyword">var</span> <a title="Int" id="1224529">n</a> = <a href="#1224430" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(40)" class="int">40</span><span class="delimiter">)</span> <span class="delimiter">{</span>        // Big arrays, pseudomedian of 9
            <span class="keyword">val</span> <a title="Int" id="1224542">s</a> = <a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57175" title="(x: Int)Int">/</a> <span title="Int(8)" class="int">8</span>
            <a href="#1224528" title="Int">l</a> = <a href="#1224278" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224528" title="Int">l</a>, <a href="#1224528" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1224542" title="Int">s</a>, <a href="#1224528" title="Int">l</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1224542" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1224506" title="Int">m</a> = <a href="#1224278" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224506" title="Int">m</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224542" title="Int">s</a>, <a href="#1224506" title="Int">m</a>, <a href="#1224506" title="Int">m</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1224542" title="Int">s</a><span class="delimiter">)</span>
            <a href="#1224529" title="Int">n</a> = <a href="#1224278" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224529" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(2)" class="int">2</span><a href="../Int.scala.html#57168" title="(x: Int)Int">*</a><a href="#1224542" title="Int">s</a>, <a href="#1224529" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224542" title="Int">s</a>, <a href="#1224529" title="Int">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1224506" title="Int">m</a> = <a href="#1224278" title="(a: Int, b: Int, c: Int)Int">med3</a><span class="delimiter">(</span><a href="#1224528" title="Int">l</a>, <a href="#1224506" title="Int">m</a>, <a href="#1224529" title="Int">n</a><span class="delimiter">)</span> // Mid-size, med of 3
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Float" id="1224507">v</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><span class="delimiter">(</span><a href="#1224506" title="Int">m</a><span class="delimiter">)</span>

        // Establish Invariant: v* (&lt;v)* (&gt;v)* v*
        <span class="keyword">var</span> <a title="Int" id="1224508">a</a> = <a href="#1224430" title="Int">off</a>
        <span class="keyword">var</span> <a title="Int" id="1224509">b</a> = <a href="#1224508" title="Int">a</a>
        <span class="keyword">var</span> <a title="Int" id="1224510">c</a> = <a href="#1224430" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1224431" title="Int">len</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">var</span> <a title="Int" id="1224511">d</a> = <a href="#1224510" title="Int">c</a>
        <span class="keyword">var</span> <a title="Boolean" id="1224512">done</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1224512" title="Boolean">done</a><span class="delimiter">)</span> <a href="#1224515" title="()Unit" class="delimiter">{</a>
          <span class="keyword">var</span> <a title="Int" id="1224587">bv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224509" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="#1224507" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224509" title="Int">b</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1224510" title="Int">c</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1224587" title="Int">bv</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224589" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224587" title="Int">bv</a> <a href="../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1224276" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1224508" title="Int">a</a>, <a href="#1224509" title="Int">b</a><span class="delimiter">)</span>
              <a href="#1224508" title="Int">a</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1224509" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224509" title="Int">b</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1224510" title="Int">c</a><span class="delimiter">)</span> <a href="#1224587" title="Int">bv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224509" title="Int">b</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="#1224507" title="Float">v</a>
          <span class="delimiter">}</span>
          <span class="keyword">var</span> <a title="Int" id="1224588">cv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224510" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="#1224507" title="Float">v</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224510" title="Int">c</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1224509" title="Int">b</a> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1224588" title="Int">cv</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#1224590" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224588" title="Int">cv</a> <a href="../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1224276" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1224510" title="Int">c</a>, <a href="#1224511" title="Int">d</a><span class="delimiter">)</span>
              <a href="#1224511" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
            <a href="#1224510" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224510" title="Int">c</a> <a href="../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <a href="#1224509" title="Int">b</a><span class="delimiter">)</span> <a href="#1224588" title="Int">cv</a> = <a href="../Array.scala.html#56639" title="(i: Int)Float">x</a><a href="../LowPriorityImplicits.scala.html#7398" title="implicit scala.LowPriorityImplicits.floatWrapper : (x: Float)scala.runtime.RichFloat" class="delimiter">(</a><a href="#1224510" title="Int">c</a><span class="delimiter">)</span> <a href="../runtime/ScalaNumberProxy.scala.html#56744" title="(y: Float)Int">compare</a> <a href="#1224507" title="Float">v</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224509" title="Int">b</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1224510" title="Int">c</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1224512" title="Boolean">done</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1224276" title="(a: Int, b: Int)Unit">swap</a><span class="delimiter">(</span><a href="#1224509" title="Int">b</a>, <a href="#1224510" title="Int">c</a><span class="delimiter">)</span>
            <a href="#1224510" title="Int">c</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <a href="#1224509" title="Int">b</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Swap partition elements back to middle
        <span class="keyword">val</span> <a title="Int" id="1224513">n</a> = <a href="#1224430" title="Int">off</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#1224431" title="Int">len</a>
        <span class="keyword">var</span> <a title="Int" id="1224514">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1224508" title="Int">a</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224430" title="Int">off</a>, <a href="#1224509" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224508" title="Int">a</a><span class="delimiter">)</span>
        <a href="#1224277" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1224430" title="Int">off</a>, <a href="#1224509" title="Int">b</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224514" title="Int">s</a>, <a href="#1224514" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1224514" title="Int">s</a> = math.<a href="../math/package.scala.html#55474" title="(x: Int, y: Int)Int">min</a><span class="delimiter">(</span><a href="#1224511" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224510" title="Int">c</a>, <a href="#1224513" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224511" title="Int">d</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <a href="#1224277" title="(_a: Int, _b: Int, n: Int)Unit">vecswap</a><span class="delimiter">(</span><a href="#1224509" title="Int">b</a>,   <a href="#1224513" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224514" title="Int">s</a>, <a href="#1224514" title="Int">s</a><span class="delimiter">)</span>

        // Recursively sort non-partition-elements
        <a href="#1224514" title="Int">s</a> = <a href="#1224509" title="Int">b</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1224508" title="Int">a</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224514" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1224279" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1224430" title="Int">off</a>, <a href="#1224514" title="Int">s</a><span class="delimiter">)</span>
        <a href="#1224514" title="Int">s</a> = <a href="#1224511" title="Int">d</a> <a href="../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#1224510" title="Int">c</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1224514" title="Int">s</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#1224279" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1224513" title="Int">n</a><a href="../Int.scala.html#57161" title="(x: Int)Int">-</a><a href="#1224514" title="Int">s</a>, <a href="#1224514" title="Int">s</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#1224279" title="(off: Int, len: Int)Unit">sort2</a><span class="delimiter">(</span><a href="#1222419" title="Int">off</a>, <a href="#1222420" title="Int">len</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[K](a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassTag[K])Unit" id="1222581">stableSort</a><span class="delimiter">[</span><a title="" id="1137725">K</a> : ClassTag<span class="delimiter">]</span><span class="delimiter">(</span><a title="Array[K]" id="1222576">a</a>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="Int" id="1222577">lo</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="1222578">hi</a>: <a href="../Int.scala.html#321" title="Int">Int</a>, <a title="Array[K]" id="1222579">scratch</a>: <a href="../Array.scala.html#174" title="Array[K]">Array</a><span class="delimiter">[</span>K<span class="delimiter">]</span>, <a title="(K, K) =&gt; Boolean" id="1222580">f</a>: <span class="delimiter">(</span>K,K<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1222577" title="Int">lo</a> <a href="../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1222578" title="Int">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="1224847">mid</a> = <span class="delimiter">(</span><a href="#1222577" title="Int">lo</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><a href="#1222578" title="Int">hi</a><span class="delimiter">)</span> <a href="../Int.scala.html#57175" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
      <a href="#1222581" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassTag[K])Unit">stableSort</a><a href="#1222581" title="scala.reflect.ClassTag[K]" class="delimiter">(</a><a href="#1222576" title="Array[K]">a</a>, <a href="#1222577" title="Int">lo</a>, <a href="#1224847" title="Int">mid</a>, <a href="#1222579" title="Array[K]">scratch</a>, <a href="#1222580" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <a href="#1222581" title="(a: Array[K], lo: Int, hi: Int, scratch: Array[K], f: (K, K) =&gt; Boolean)(implicit evidence$11: scala.reflect.ClassTag[K])Unit">stableSort</a><a href="#1222581" title="scala.reflect.ClassTag[K]" class="delimiter">(</a><a href="#1222576" title="Array[K]">a</a>, <a href="#1224847" title="Int">mid</a><a href="../Int.scala.html#57154" title="(x: Int)Int">+</a><span title="Int(1)" class="int">1</span>, <a href="#1222578" title="Int">hi</a>, <a href="#1222579" title="Array[K]">scratch</a>, <a href="#1222580" title="(K, K) =&gt; Boolean">f</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="1224848">k</a>, <a title="Int" id="1224849">t_lo</a> = <a href="#1222577" title="Int">lo</a>
      <span class="keyword">var</span> <a title="Int" id="1224850">t_hi</a> = <a href="#1224847" title="Int">mid</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224848" title="Int">k</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1222578" title="Int">hi</a><span class="delimiter">)</span> <a href="#1224851" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1224849" title="Int">t_lo</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1224847" title="Int">mid</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1224850" title="Int">t_hi</a> <a href="../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <a href="#1222578" title="Int">hi</a><span class="delimiter">)</span> <a href="../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Function2.scala.html#65848" title="(v1: K, v2: K)Boolean">f</a><span class="delimiter">(</span><a href="../Array.scala.html#56639" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1224850" title="Int">t_hi</a><span class="delimiter">)</span>, <a href="../Array.scala.html#56639" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1224849" title="Int">t_lo</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#56640" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#1224848" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1224849" title="Int">t_lo</a><span class="delimiter">)</span>
          <a href="#1224849" title="Int">t_lo</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Array.scala.html#56640" title="(i: Int, x: K)Unit">scratch</a><span class="delimiter">(</span><a href="#1224848" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)K">a</a><span class="delimiter">(</span><a href="#1224850" title="Int">t_hi</a><span class="delimiter">)</span>
          <a href="#1224850" title="Int">t_hi</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#1224848" title="Int">k</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#1224848" title="Int">k</a> = <a href="#1222577" title="Int">lo</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1224848" title="Int">k</a> <a href="../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1222578" title="Int">hi</a><span class="delimiter">)</span> <a href="#1225010" title="()Unit" class="delimiter">{</a>
        <a href="../Array.scala.html#56640" title="(i: Int, x: K)Unit">a</a><span class="delimiter">(</span><a href="#1224848" title="Int">k</a><span class="delimiter">)</span> = <a href="../Array.scala.html#56639" title="(i: Int)K">scratch</a><span class="delimiter">(</span><a href="#1224848" title="Int">k</a><span class="delimiter">)</span>
        <a href="#1224848" title="Int">k</a> <a href="../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>