<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/LambdaLift.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#55820" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> util.TreeSet
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span> LinkedHashMap, LinkedHashSet <span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LambdaLift extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform" id="43266">LambdaLift</a> <a href="#43266" title="scala.tools.nsc.transform.LambdaLift" class="keyword">extends</a> <a href="InfoTransform.scala.html#43005" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../SubComponent.scala.html#620039" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="LambdaLift.this.global.definitions.type">definitions</a>._

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="622442">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeMap" id="622444">lifted</a> = <a href="#989773" title="LambdaLift.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="anonymous class $anon extends LambdaLift.this.global.TypeMap" id="989773">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="989775">apply</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Type" id="989776">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="LambdaLift.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="LambdaLift.this.global.Type">Type</a> = <a href="#989776" title="LambdaLift.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#3359291" title="LambdaLift.this.global.Type" id="3359295" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="LambdaLift.this.global.Type" id="3359300">NoPrefix</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="LambdaLift.this.global.Symbol" id="989785">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[LambdaLift.this.global.Type]" id="3359301">Nil</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#989785" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#989785" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#407402" title="(pre: LambdaLift.this.global.Type, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Type])LambdaLift.this.global.Type">typeRef</a><a href="#3359303" title="(x: LambdaLift.this.global.Type)LambdaLift.this.global.Type" class="delimiter">(</a><a href="#989775" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">apply</a><span class="delimiter">(</span><a href="#989785" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; LambdaLift.this.global.Type">thisType</a><span class="delimiter">)</span>, <a href="#989785" title="LambdaLift.this.global.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
      <span class="keyword">case</span> ClassInfoType<a href="#3359291" title="LambdaLift.this.global.Type" id="3359299" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[LambdaLift.this.global.Type]" id="989796">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="LambdaLift.this.global.Scope" id="989797">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="LambdaLift.this.global.Symbol" id="989798">clazz</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Type]" id="989799">parents1</a> = <a href="#989796" title="List[LambdaLift.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#62694" title="(f: LambdaLift.this.global.Type =&gt; LambdaLift.this.global.Type)List[LambdaLift.this.global.Type]">mapConserve</a> <a href="#989773" title="LambdaLift.this.global.TypeMap" class="keyword">this</a>
        <span title="LambdaLift.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#989799" title="List[LambdaLift.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#989796" title="List[LambdaLift.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="#989776" title="LambdaLift.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[LambdaLift.this.global.Type], decls: LambdaLift.this.global.Scope, typeSymbol: LambdaLift.this.global.Symbol)LambdaLift.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#989799" title="List[LambdaLift.this.global.Type]">parents1</a>, <a href="#989797" title="LambdaLift.this.global.Scope">decls</a>, <a href="#989798" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">mapOver</a><a href="#3359303" title="(x: LambdaLift.this.global.Type)LambdaLift.this.global.Type" class="delimiter">(</a><a href="#989776" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol, tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type" id="622446">transformInfo</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="989881">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Type" id="989882">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="LambdaLift.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="LambdaLift.this.global.Type">Type</a> =
    <span title="LambdaLift.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#989881" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411199" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <a href="../../../reflect/internal/CapturedVariables.scala.html#408342" title="(vble: LambdaLift.this.global.Symbol, tpe: LambdaLift.this.global.Type, erasedTypes: Boolean)LambdaLift.this.global.Type">capturedVariableType</a><span class="delimiter">(</span><a href="#989881" title="LambdaLift.this.global.Symbol">sym</a>, tpe = <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#989882" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>, erasedTypes = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#989882" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)LambdaLift.this.global.Transformer" id="622447">newTransformer</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CompilationUnit" id="989915">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#537817" title="LambdaLift.this.global.Transformer">Transformer</a> =
    <span title="LambdaLift.this.LambdaLifter" class="keyword">new</span> <a href="#622448" title="LambdaLift.this.LambdaLifter">LambdaLifter</a><span class="delimiter">(</span><a href="#989915" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class LambdaLifter extends LambdaLift.this.global.explicitOuter.OuterPathTransformer" id="622448">LambdaLifter</a><a href="#622448" title="LambdaLift.this.LambdaLifter" class="delimiter">(</a><a title="LambdaLift.this.global.CompilationUnit" id="989962">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../Global.scala.html#537566" title="LambdaLift.this.global.explicitOuter.type">explicitOuter</a>.<a href="ExplicitOuter.scala.html#621816" title="LambdaLift.this.global.explicitOuter.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#989962" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    /** A map storing free variables of functions and classes */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="989921">free</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>

    /** A map storing the free variable proxies of functions and classes */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" id="989923">proxies</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span>

    /** A hashtable storing calls between functions */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="989925">called</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>

    /** Symbols that are called from an inner class. */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]" id="989927">calledFromInner</a> = <span title="scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashSet.scala.html#12468" title="scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]">LinkedHashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    /** The set of symbols that need to be renamed. */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="989929">renamable</a> = <a href="#989943" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a>

    /**
     * The new names for free variables proxies. If we simply renamed the
     * free variables, we would transform:
     * {{{
     *   def closure(x: Int) = { () =&gt; x }
     * }}}
     *
     * To:
     * {{{
     *   def closure(x$1: Int) = new anonFun$1(this, x$1)
     *   class anonFun$1(outer$: Outer, x$1: Int) { def apply() =&gt; x$1 }
     * }}}
     *
     * This is fatally bad for named arguments (0e170e4b), extremely impolite to tools
     * reflecting on the method parameter names in the generated bytecode (SI-6028),
     * and needlessly bothersome to anyone using a debugger.
     *
     * Instead, we transform to:
     * {{{
     *   def closure(x: Int) = new anonFun$1(this, x)
     *   class anonFun$1(outer$: Outer, x$1: Int) { def apply() =&gt; x$1 }
     * }}}
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]" id="989931">proxyNames</a>       = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name)*)scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Names.scala.html#406868" title="LambdaLift.this.global.Name">Name</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    // (trait, name) -&gt; owner
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" id="989933">localTraits</a>      = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: ((LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), LambdaLift.this.global.Symbol)*)scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" class="delimiter">[</span><a href="../../../Tuple2.scala.html#783" title="(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name)" class="delimiter">(</a>Symbol, Name<span class="delimiter">)</span>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    // (owner, name) -&gt; implClass
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" id="989935">localImplClasses</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: ((LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), LambdaLift.this.global.Symbol)*)scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]" class="delimiter">[</span><a href="../../../Tuple2.scala.html#783" title="(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name)" class="delimiter">(</a>Symbol, Name<span class="delimiter">)</span>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** A flag to indicate whether new free variables have been found */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="989938">changedFreeVars</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = _

    /** Buffers for lifted out classes and methods */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]" id="989940">liftedDefs</a> = <span title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]" class="keyword">new</span> <a href="../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">type</span> <a title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="989942">SymSet</a> = <a href="../util/TreeSet.scala.html#50059" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" id="989943">newSymSet</a> = <span title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]" class="keyword">new</span> <a href="../util/TreeSet.scala.html#50059" title="scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">TreeSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">(</span><a href="#989967" title="LambdaLift.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411407" title="(that: LambdaLift.this.global.Symbol)Boolean">isLess</a> <a href="#989968" title="LambdaLift.this.global.Symbol">_</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet" id="989944">symSet</a><span class="delimiter">(</span><a title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]" id="990062">f</a>: <a href="../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">LinkedHashMap</a><span class="delimiter">[</span>Symbol, SymSet<span class="delimiter">]</span>, <a title="LambdaLift.this.global.Symbol" id="990063">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../util/TreeSet.scala.html#50059" title="LambdaLifter.this.SymSet">SymSet</a> =
      <a href="#990062" title="scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">f</a>.<a href="../../../collection/mutable/MapLike.scala.html#87629" title="(key: LambdaLift.this.global.Symbol, op: =&gt; LambdaLifter.this.SymSet)LambdaLifter.this.SymSet">getOrElseUpdate</a><span class="delimiter">(</span><a href="#990063" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#989943" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">newSymSet</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)Boolean" id="989945">isSameOwnerEnclosure</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990139">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#990139" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">logicallyEnclosingMember</a>

    /** Mark symbol `sym` as being free in `enclosure`, unless `sym`
     *  is defined in `enclosure` or there is a class between `enclosure`s owner
     *  and the owner of `sym`.
     *  Return `true` if there is no class between `enclosure` and
     *  the owner of sym.
     *  pre: sym.isLocal, (enclosure.isMethod || enclosure.isClass)
     *
     *  The idea of `markFree` is illustrated with an example:
     *
     *  def f(x: int) = {
     *    class C {
     *      class D {
     *        val y = x
     *      }
     *    }
     *  }
     *
     *  In this case `x` is free in the primary constructor of class `C`.
     *  but it is not free in `D`, because after lambda lift the code would be transformed
     *  as follows:
     *
     *  def f(x$0: int) {
     *    class C(x$0: int) {
     *      val x$1 = x$0
     *      class D {
     *        val y = outer.x$1
     *      }
     *    }
     *  }
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean" id="989946">markFree</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990095">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="990096">enclosure</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;mark free: &quot;)" class="string">&quot;mark free: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; marked free in &quot;)" class="string">&quot; marked free in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s != %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a>, <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#989946" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#411261" title="=&gt; LambdaLift.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="LambdaLifter.this.SymSet" id="990153">ss</a> = <a href="#989944" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#989921" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>, <a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/util/Set.scala.html#487234" title="(x: LambdaLift.this.global.Symbol)Boolean">ss</a><span class="delimiter">(</span><a href="#990095" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#990153" title="LambdaLifter.this.SymSet">ss</a> <a href="../util/TreeSet.scala.html#979321" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>
            <a href="#989929" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../util/TreeSet.scala.html#979321" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>
            <a href="#989938" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is free in &quot;)" class="string">&quot; is free in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a><span class="delimiter">)</span>;
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#990095" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411211" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <a href="#990095" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <span title="Long(65536L)">CAPTURED</span>
          <span class="delimiter">}</span>
          <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#990096" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit" id="989947">markCalled</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990097">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="990098">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;mark called: &quot;)" class="string">&quot;mark called: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990097" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990097" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is called by &quot;)" class="string">&quot; is called by &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990098" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#989944" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#989925" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#990098" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../util/TreeSet.scala.html#979321" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#990097" title="LambdaLift.this.global.Symbol">sym</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#990097" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#990098" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <a href="#989927" title="=&gt; scala.collection.mutable.LinkedHashSet[LambdaLift.this.global.Symbol]">calledFromInner</a> <a href="../../../collection/mutable/LinkedHashSet.scala.html#285729" title="(elem: LambdaLift.this.global.Symbol)LambdaLifter.this.calledFromInner.type">+=</a> <a href="#990097" title="LambdaLift.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    /** The traverse function */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="LambdaLift.this.global.Traverser" id="989948">freeVarTraverser</a> = <a href="#989974" title="LambdaLift.this.global.Traverser" class="keyword">new</a> <a href="../../../reflect/api/Trees.scala.html#56467" title="anonymous class $anon extends LambdaLift.this.global.Traverser" id="989974">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)Unit" id="989976">traverse</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="989977">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
       <span class="keyword">try</span> <span class="delimiter">{</span> //debug
        <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="989980">sym</a> = <a href="#989977" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>;
        <a href="#989977" title="LambdaLift.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#3359315" title="Any" id="3359321" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="LambdaLift.this.global.Modifiers" id="3359316">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="LambdaLift.this.global.TypeName" id="3359317">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[LambdaLift.this.global.TypeDef]" id="3359318">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="LambdaLift.this.global.Template" id="3359319">_</a><span class="delimiter">)</span> =&gt;
            <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Tree])Unit">liftedDefs</a><span class="delimiter">(</span><a href="#989977" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // Don't rename implementation classes independently of their interfaces. If
              // the interface is to be renamed, then we will rename the implementation
              // class at that time. You'd think we could call &quot;.implClass&quot; on the trait
              // rather than collecting them in another map, but that seems to fail for
              // exactly the traits being renamed here (i.e. defined in methods.)
              //
              // !!! - it makes no sense to have methods like &quot;implClass&quot; and
              // &quot;companionClass&quot; which fail for an arbitrary subset of nesting
              // arrangements, and then have separate methods which attempt to compensate
              // for that failure. There should be exactly one method for any given
              // entity which always gives the right answer.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411180" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
                <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), value: LambdaLift.this.global.Symbol)Unit">localImplClasses</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: LambdaLift.this.global.Symbol, _2: LambdaLift.this.global.TypeName)(LambdaLift.this.global.Symbol, LambdaLift.this.global.TypeName)" class="delimiter">(</a><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>, <a href="../../../reflect/internal/StdNames.scala.html#407863" title="LambdaLift.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#416356" title="(implname: LambdaLift.this.global.Name)LambdaLift.this.global.TypeName">interfaceName</a><span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#989929" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../util/TreeSet.scala.html#979321" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
                  <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name), value: LambdaLift.this.global.Symbol)Unit">localTraits</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: LambdaLift.this.global.Symbol, _2: sym.NameType)(LambdaLift.this.global.Symbol, sym.NameType)" class="delimiter">(</a><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> DefDef<a href="#3359315" title="Any" id="3359329" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="LambdaLift.this.global.Modifiers" id="3359322">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="LambdaLift.this.global.Name" id="3359323">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[LambdaLift.this.global.TypeDef]" id="3359324">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[LambdaLift.this.global.ValDef]]" id="3359325">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="LambdaLift.this.global.Tree" id="3359326">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="LambdaLift.this.global.Tree" id="3359327">_</a><span class="delimiter">)</span> =&gt;
            <a href="#3359337" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#989929" title="=&gt; scala.tools.nsc.util.TreeSet[LambdaLift.this.global.Symbol]">renamable</a> <a href="../util/TreeSet.scala.html#979321" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>
              <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span>PrivateLocal <span title="Long(524324L)">|</span> FINAL<span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411287" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#989944" title="(f: scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet], sym: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">symSet</a><span class="delimiter">(</span><a href="#989925" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>, <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../util/TreeSet.scala.html#979321" title="(x: LambdaLift.this.global.Symbol)Unit">addEntry</a> <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> Ident<a href="#3359315" title="Any" id="3359331" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409987" title="LambdaLift.this.global.Name" id="990082">name</a><span class="delimiter">)</span> =&gt;
            <a href="#3359337" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; LambdaLift.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#990082" title="LambdaLift.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413714" title="=&gt; LambdaLift.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="990094">owner</a> = <a href="../../../reflect/api/Trees.scala.html#405541" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a>
              <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#989946" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#990094" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#989947" title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit">markCalled</a><span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#990094" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
                //symSet(called, owner) addEntry sym
            <span class="delimiter">}</span>
          <span class="keyword">case</span> Select<a href="#3359315" title="Any" id="3359335" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="LambdaLift.this.global.Tree" id="3359332">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="LambdaLift.this.global.Name" id="3359333">_</a><span class="delimiter">)</span> =&gt;
            <a href="#3359337" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span>
              <a href="#989947" title="(sym: LambdaLift.this.global.Symbol, owner: LambdaLift.this.global.Symbol)Unit">markCalled</a><span class="delimiter">(</span><a href="#989980" title="LambdaLift.this.global.Symbol">sym</a>, <a href="../../../reflect/api/Trees.scala.html#405541" title="=&gt; LambdaLift.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
        <a href="#989974" title="LambdaLift.this.global.Traverser" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405544" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#989977" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span>
       <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>//debug
         <span class="keyword">case</span> <a title="Nothing" id="990119">ex</a>: <span title="Throwable">Throwable</span> =&gt;
           <a href="../../../Console.scala.html#136" title="Console.type">Console</a>.<a href="../../../Console.scala.html#63314" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception when traversing &quot;)" class="string">&quot;exception when traversing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#989977" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span>
           <span title="Nothing" class="keyword">throw</span> <a href="#990119" title="Throwable">ex</a>
       <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Compute free variables map `fvs`.
     *  Also assign unique names to all
     *  value/variable/let that are free in some function or class, and to
     *  all class/function symbols that are owned by some function.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="989950">computeFreeVars</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#989948" title="=&gt; LambdaLift.this.global.Traverser">freeVarTraverser</a>.<a href="../../../reflect/api/Trees.scala.html#405544" title="(tree: LambdaLift.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#989962" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539278" title="=&gt; LambdaLift.this.global.Tree">body</a><span class="delimiter">)</span>

      <a href="#990186" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        <a href="#989938" title="(x$1: Boolean)Unit">changedFreeVars</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990208">caller</a> &lt;- <a href="#989925" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">called</a>.<a href="../../../collection/IterableLike.scala.html#58562" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit">keys</a> ; <a title="LambdaLift.this.global.Symbol" id="990242">callee</a> &lt;- <a href="../../../collection/MapLike.scala.html#87535" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.SymSet">called</a><a href="../../../reflect/internal/util/Set.scala.html#487231" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</a><a href="#990208" title="LambdaLift.this.global.Symbol">caller</a><span class="delimiter">)</span> ; <a title="LambdaLifter.this.SymSet" id="990250">fvs</a> &lt;- <a href="#989921" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a> <a href="../../../Option.scala.html#62884" title="(f: LambdaLifter.this.SymSet =&gt; Unit)Unit">get</a> <a href="#990242" title="LambdaLift.this.global.Symbol">callee</a> ; <a title="LambdaLift.this.global.Symbol" id="990255">fv</a> &lt;- <a href="../../../reflect/internal/util/Set.scala.html#487231" title="(f: LambdaLift.this.global.Symbol =&gt; Boolean)Unit">fvs</a><span class="delimiter">)</span>
          <a href="#989946" title="(sym: LambdaLift.this.global.Symbol, enclosure: LambdaLift.this.global.Symbol)Boolean">markFree</a><span class="delimiter">(</span><a href="#990255" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#990208" title="LambdaLift.this.global.Symbol">caller</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="#989938" title="=&gt; Boolean">changedFreeVars</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)Unit" id="990182">renameSym</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990260">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="sym.NameType" id="990261">originalName</a> = <a href="#990260" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>
        <a href="#990260" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411099" title="(name: LambdaLift.this.global.Name)sym.type">setName</a> <a href="#990183" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Name">newName</a><span class="delimiter">(</span><a href="#990260" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;renaming in %s: %s =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990260" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#990261" title="sym.NameType">originalName</a>, <a href="#990260" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Name" id="990183">newName</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990264">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#406868" title="LambdaLift.this.global.Name">Name</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="sym.NameType" id="990268">originalName</a> = <a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>
        <span class="keyword">def</span> <a title="(prefix: String)LambdaLift.this.global.Name" id="990269">freshen</a><span class="delimiter">(</span><a title="String" id="990270">prefix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#406868" title="LambdaLift.this.global.Name">Name</a> =
          <span title="LambdaLift.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#990268" title="sym.NameType">originalName</a>.<a href="../../../reflect/internal/Names.scala.html#410378" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#989962" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539277" title="(prefix: String)LambdaLift.this.global.TypeName">freshTypeName</a><span class="delimiter">(</span><a href="#990270" title="String">prefix</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#989962" title="LambdaLift.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539276" title="(prefix: String)LambdaLift.this.global.TermName">freshTermName</a><span class="delimiter">(</span><a href="#990270" title="String">prefix</a><span class="delimiter">)</span>

        <span title="LambdaLift.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411254" title="=&gt; Boolean">isAnonymousFunction</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#990269" title="(prefix: String)LambdaLift.this.global.Name">freshen</a><span class="delimiter">(</span><a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413642" title="=&gt; String">NAME_JOIN_STRING</a> <span title="(x$1: Any)String">+</span> <a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; LambdaLift.this.global.Symbol#NameType">name</a> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413642" title="=&gt; String">NAME_JOIN_STRING</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          // SI-5652 If the lifted symbol is accessed from an inner class, it will be made public. (where?)
          //         Generating a a unique name, mangled with the enclosing class name, avoids a VerifyError
          //         in the case that a sub-class happens to lifts out a method with the *same* name.
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Name" id="990290">name</a> = <a href="#990269" title="(prefix: String)LambdaLift.this.global.Name">freshen</a><span class="delimiter">(</span><a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413642" title="=&gt; String">NAME_JOIN_STRING</a><span class="delimiter">)</span>
          <span title="LambdaLift.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#990268" title="sym.NameType">originalName</a>.<a href="../../../reflect/internal/Names.scala.html#410377" title="=&gt; Boolean">isTermName</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411180" title="=&gt; Boolean">isImplClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: LambdaLift.this.global.Symbol)Boolean">calledFromInner</a><span class="delimiter">(</span><a href="#990264" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414060" title="(name: LambdaLift.this.global.TermName, base: LambdaLift.this.global.Symbol, separator: String)LambdaLift.this.global.TermName">expandedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: LambdaLift.this.global.Name)LambdaLift.this.global.TermName">name</a>, <a href="#990264" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#990290" title="LambdaLift.this.global.Name">name</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Rename a trait's interface and implementation class in coordinated fashion.
       */
      <span class="keyword">def</span> <a title="(traitSym: LambdaLift.this.global.Symbol, implSym: LambdaLift.this.global.Symbol)Unit" id="990184">renameTrait</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990329">traitSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="LambdaLift.this.global.Symbol" id="990330">implSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="implSym.NameType" id="990331">originalImplName</a> = <a href="#990330" title="LambdaLift.this.global.Symbol">implSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; implSym.NameType">name</a>
        <a href="#990182" title="(sym: LambdaLift.this.global.Symbol)Unit">renameSym</a><span class="delimiter">(</span><a href="#990329" title="LambdaLift.this.global.Symbol">traitSym</a><span class="delimiter">)</span>
        <a href="#990330" title="LambdaLift.this.global.Symbol">implSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411099" title="(name: LambdaLift.this.global.Name)implSym.type">setName</a> <a href="../../../reflect/internal/StdNames.scala.html#407863" title="LambdaLift.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#416355" title="(name: LambdaLift.this.global.Name)LambdaLift.this.global.TypeName">implClassName</a><span class="delimiter">(</span><a href="#990329" title="LambdaLift.this.global.Symbol">traitSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; traitSym.NameType">name</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;renaming impl class in step with %s: %s =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990329" title="LambdaLift.this.global.Symbol">traitSym</a>, <a href="#990331" title="implSym.NameType">originalImplName</a>, <a href="#990330" title="LambdaLift.this.global.Symbol">implSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; implSym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Set[LambdaLift.this.global.Symbol]" id="990185">allFree</a>: <a href="../../../collection/immutable/Set.scala.html#11919" title="Set[LambdaLift.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#989921" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<a href="../../../collection/MapLike.scala.html#87542" title="=&gt; Iterable[LambdaLifter.this.SymSet]">values</a>.<a href="../../../collection/TraversableLike.scala.html#58068" title="(f: LambdaLifter.this.SymSet =&gt; scala.collection.GenTraversableOnce[LambdaLift.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[LambdaLifter.this.SymSet],LambdaLift.this.global.Symbol,Iterable[LambdaLift.this.global.Symbol]])Iterable[LambdaLift.this.global.Symbol]">flatMap</a><a href="../../../collection/Iterable.scala.html#71472" title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,LambdaLift.this.global.Symbol,Iterable[LambdaLift.this.global.Symbol]]" class="delimiter">(</a><a href="#990359" title="LambdaLifter.this.SymSet">_</a>.<a href="../util/TreeSet.scala.html#979322" title="=&gt; Iterator[LambdaLift.this.global.Symbol]">iterator</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[LambdaLift.this.global.Symbol]">toSet</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990417">sym</a> &lt;- <a href="../../../reflect/internal/util/Set.scala.html#487231" title="(f: LambdaLift.this.global.Symbol =&gt; Unit)Unit">renamable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // If we renamed a trait from Foo to Foo$1, we must rename the implementation
        // class from Foo$class to Foo$1$class.  (Without special consideration it would
        // become Foo$class$1 instead.) Since the symbols are being renamed out from
        // under us, and there's no reliable link between trait symbol and impl symbol,
        // we have maps from ((trait, name)) -&gt; owner and ((owner, name)) -&gt; impl.
        <a href="#989933" title="=&gt; scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]">localTraits</a> <a href="../../../collection/mutable/HashMap.scala.html#88249" title="(key: (LambdaLift.this.global.Symbol, LambdaLift.this.global.Name))Option[LambdaLift.this.global.Symbol]">remove</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: LambdaLift.this.global.Symbol, _2: sym.NameType)(LambdaLift.this.global.Symbol, sym.NameType)" class="delimiter">(</a><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#990417" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="Unit" id="3359356">None</a>        =&gt;
            <a href="#3359358" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: LambdaLift.this.global.Symbol)Boolean">allFree</a><span class="delimiter">(</span><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: LambdaLift.this.global.Symbol, value: LambdaLift.this.global.Name)Unit">proxyNames</a><span class="delimiter">(</span><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#990183" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Name">newName</a><span class="delimiter">(</span><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#990182" title="(sym: LambdaLift.this.global.Symbol)Unit">renameSym</a><span class="delimiter">(</span><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Some<a href="#3359353" title="Unit" id="3359355" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="LambdaLift.this.global.Symbol" id="990446">owner</a><span class="delimiter">)</span> =&gt;
            <a href="#989935" title="=&gt; scala.collection.mutable.HashMap[(LambdaLift.this.global.Symbol, LambdaLift.this.global.Name),LambdaLift.this.global.Symbol]">localImplClasses</a> <a href="#3359358" title="(x: Unit)Unit">remove</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: LambdaLift.this.global.Symbol, _2: sym.NameType)(LambdaLift.this.global.Symbol, sym.NameType)" class="delimiter">(</a><a href="#990446" title="LambdaLift.this.global.Symbol">owner</a>, <a href="#990417" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#3359345" title="Unit" id="3359346" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="LambdaLift.this.global.Symbol" id="990456">implSym</a><span class="delimiter">)</span>  =&gt; <a href="#990184" title="(traitSym: LambdaLift.this.global.Symbol, implSym: LambdaLift.this.global.Symbol)Unit">renameTrait</a><a href="#3359348" title="(x: Unit)Unit" class="delimiter">(</a><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#990456" title="LambdaLift.this.global.Symbol">implSym</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _              =&gt; <a href="#990182" title="(sym: LambdaLift.this.global.Symbol)Unit">renameSym</a><a href="#3359348" title="(x: Unit)Unit" class="delimiter">(</a><a href="#990417" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> // pure interface, no impl class
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="../SubComponent.scala.html#620060" title="(op: =&gt; Unit)Unit">afterOwnPhase</a> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="LambdaLift.this.global.Symbol" id="990486">owner</a>, <a href="../../../Tuple2.scala.html#60637" title="LambdaLifter.this.SymSet" id="990487">freeValues</a><span class="delimiter">)</span> &lt;- <a href="#989921" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a>.<a href="../../../collection/immutable/List.scala.html#62719" title="(f: ((LambdaLift.this.global.Symbol, LambdaLifter.this.SymSet)) =&gt; Unit)Unit">toList</a><span class="delimiter">)</span> <a href="#3359368" title="(x: Unit)Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="990488">newFlags</a> = <span title="Int(2097152)">SYNTHETIC</span> <a href="../../../Int.scala.html#57139" title="(x: Int)Int">|</a> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#990486" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> PARAMACCESSOR <span title="Int(537395204)">|</span> PrivateLocal <span class="keyword">else</span> <span title="Int(8192)">PARAM</span> <span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;free var proxy: %s, %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990486" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#990487" title="LambdaLifter.this.SymSet">freeValues</a>.<a href="../../../reflect/internal/util/Set.scala.html#487237" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Symbol])Unit">proxies</a><span class="delimiter">(</span><a href="#990486" title="LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> =
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990524">fv</a> &lt;- <a href="#990487" title="LambdaLifter.this.SymSet">freeValues</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.TermSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.TermSymbol,List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">toList</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Name" id="990525">proxyName</a> = <a href="#989931" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]">proxyNames</a>.<a href="../../../collection/MapLike.scala.html#87532" title="(key: LambdaLift.this.global.Symbol, default: =&gt; LambdaLift.this.global.Name)LambdaLift.this.global.Name">getOrElse</a><span class="delimiter">(</span><a href="#990524" title="LambdaLift.this.global.Symbol">fv</a>, <a href="#990524" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; fv.NameType">name</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.TermSymbol" id="990526">proxy</a> = <a href="#990486" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411109" title="(name: LambdaLift.this.global.TermName, pos: LambdaLift.this.global.Position, newFlags: Long)LambdaLift.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: LambdaLift.this.global.Name)LambdaLift.this.global.TermName">proxyName</a>, <a href="#990486" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="../../../Int.scala.html#57081" title="=&gt; Long">newFlags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.TermSymbol">setInfo</a> <a href="#990524" title="LambdaLift.this.global.Symbol">fv</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; LambdaLift.this.global.Type">info</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#990486" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#990486" title="LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; LambdaLift.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: LambdaLift.this.global.TermSymbol)LambdaLift.this.global.TermSymbol">enter</a> <a href="#990526" title="LambdaLift.this.global.TermSymbol">proxy</a>
              <a href="#990526" title="LambdaLift.this.global.TermSymbol">proxy</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="989951">proxy</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990598">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(enclosure: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol" id="990599">searchIn</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990600">enclosure</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#990600" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; LambdaLift.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)IllegalArgumentException" class="keyword">new</span> <a href="../../../package.scala.html#55509" title="IllegalArgumentException">IllegalArgumentException</a><span class="delimiter">(</span><span title="String(&quot;Could not find proxy for &quot;)" class="string">&quot;Could not find proxy for &quot;</span><span title="(x$1: Any)String">+</span> <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411317" title="=&gt; List[LambdaLift.this.global.Symbol]">ownerChain</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; (currentOwner= &quot;)" class="string">&quot; (currentOwner= &quot;</span><span title="(x$1: Any)String">+</span> <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; )&quot;)" class="string">&quot; )&quot;</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;searching for &quot;)" class="string">&quot;searching for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) in &quot;)" class="string">&quot;) in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990600" title="LambdaLift.this.global.Symbol">enclosure</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#990600" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="LambdaLift.this.global.Name" id="990601">proxyName</a> = <a href="#989931" title="=&gt; scala.collection.mutable.HashMap[LambdaLift.this.global.Symbol,LambdaLift.this.global.Name]">proxyNames</a>.<a href="../../../collection/MapLike.scala.html#87532" title="(key: LambdaLift.this.global.Symbol, default: =&gt; LambdaLift.this.global.Name)LambdaLift.this.global.Name">getOrElse</a><span class="delimiter">(</span><a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Option[LambdaLift.this.global.Symbol]" id="990602">ps</a> = <span class="delimiter">(</span><a href="#989923" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#285234" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</a> <a href="#990600" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#62894" title="=&gt; List[List[LambdaLift.this.global.Symbol]]">toList</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58488" title="(implicit asTraversable: List[LambdaLift.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">flatten</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86381" title="(p: LambdaLift.this.global.Symbol =&gt; Boolean)Option[LambdaLift.this.global.Symbol]">find</a> <span class="delimiter">(</span><a href="#990631" title="LambdaLift.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$5.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#990601" title="LambdaLift.this.global.Name">proxyName</a><span class="delimiter">)</span>
        <a href="#990602" title="Option[LambdaLift.this.global.Symbol]">ps</a> <a href="../../../Option.scala.html#62859" title="(default: =&gt; LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">getOrElse</a> <a href="#990599" title="(enclosure: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a><span class="delimiter">(</span><a href="#990600" title="LambdaLift.this.global.Symbol">enclosure</a>.<a href="../../../reflect/internal/Symbols.scala.html#411261" title="=&gt; LambdaLift.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;proxy %s from %s has logical enclosure %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411514" title="=&gt; String">debugLocationString</a>,
        <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411514" title="=&gt; String">debugLocationString</a>,
        <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411449" title="=&gt; LambdaLift.this.global.Symbol">logicallyEnclosingMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411514" title="=&gt; String">debugLocationString</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span title="LambdaLift.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#989945" title="(sym: LambdaLift.this.global.Symbol)Boolean">isSameOwnerEnclosure</a><span class="delimiter">(</span><a href="#990598" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#990598" title="LambdaLift.this.global.Symbol">sym</a>
      <span class="keyword">else</span> <a href="#990599" title="(enclosure: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">searchIn</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentOwner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select" id="989952">memberRef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990646">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="990647">clazz</a> = <a href="#990646" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      //Console.println(&quot;memberRef from &quot;+currentClass+&quot; to &quot;+sym+&quot; in &quot;+clazz)
      <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="990648">qual</a> = <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#990647" title="LambdaLift.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470995" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#990647" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <span class="delimiter">{</span>
                   <a href="#990646" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span>LOCAL <span title="Long(524292L)">|</span> PRIVATE<span class="delimiter">)</span>
                   <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#990647" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411296" title="=&gt; Boolean">isStaticOwner</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470985" title="(tpe: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#990647" title="LambdaLift.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; LambdaLift.this.global.Type">thisType</a><span class="delimiter">)</span>
                   <span class="keyword">else</span> <a href="ExplicitOuter.scala.html#985842" title="(base: LambdaLift.this.global.explicitOuter.global.Tree, from: LambdaLift.this.global.explicitOuter.global.Symbol, to: LambdaLift.this.global.explicitOuter.global.Symbol)LambdaLift.this.global.explicitOuter.global.Tree">outerPath</a><span class="delimiter">(</span><a href="ExplicitOuter.scala.html#985840" title="=&gt; LambdaLift.this.global.explicitOuter.global.Tree">outerValue</a>, <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">outerClass</a>, <a href="#990647" title="LambdaLift.this.global.Symbol">clazz</a><span class="delimiter">)</span>
                 <span class="delimiter">}</span>
      <a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><a href="#990648" title="LambdaLift.this.global.gen.global.Tree">qual</a>, <a href="#990646" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Select">setType</a> <a href="#990646" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; LambdaLift.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree" id="989953">proxyRef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990697">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="990698">psym</a> = <a href="#989951" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Symbol">proxy</a><span class="delimiter">(</span><a href="#990697" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#990698" title="LambdaLift.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470996" title="(sym: LambdaLift.this.global.gen.global.Symbol)LambdaLift.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#990698" title="LambdaLift.this.global.Symbol">psym</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#989952" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a><span class="delimiter">(</span><a href="#990698" title="LambdaLift.this.global.Symbol">psym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: LambdaLift.this.global.Position, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]" id="989954">addFreeArgs</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Position" id="990701">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="LambdaLift.this.global.Position">Position</a>, <a title="LambdaLift.this.global.Symbol" id="990702">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a>, <a title="List[LambdaLift.this.global.Tree]" id="990703">args</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#989921" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,LambdaLifter.this.SymSet]">free</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#285234" title="(key: LambdaLift.this.global.Symbol)Option[LambdaLifter.this.SymSet]">get</a> <a href="#990702" title="LambdaLift.this.global.Symbol">sym</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Some<a href="#3359372" title="List[LambdaLift.this.global.Tree]" id="3359373" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="LambdaLifter.this.SymSet" id="990708">fvs</a><span class="delimiter">)</span> =&gt; <a href="#990703" title="List[LambdaLift.this.global.Tree]">args</a> <a href="#3359375" title="(x: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">++</a> <span class="delimiter">(</span><a href="#990708" title="LambdaLifter.this.SymSet">fvs</a>.<a href="../../../reflect/internal/util/Set.scala.html#487237" title="=&gt; List[LambdaLift.this.global.Symbol]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.gen.global.Tree,List[LambdaLift.this.global.gen.global.Tree]])List[LambdaLift.this.global.gen.global.Tree]">map</a> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990752">fv</a> =&gt; <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#990701" title="LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#989953" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a><span class="delimiter">(</span><a href="#990752" title="LambdaLift.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _         =&gt; <a href="#3359375" title="(x: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">args</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree" id="989955">addFreeParams</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="990826">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a>, <a title="LambdaLift.this.global.Symbol" id="990827">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#989923" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]">proxies</a>.<a href="../../../collection/mutable/LinkedHashMap.scala.html#285234" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Symbol]]">get</a><a href="#3359408" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#990827" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#3359403" title="LambdaLift.this.global.Tree" id="3359404" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="List[LambdaLift.this.global.Symbol]" id="990832">ps</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[LambdaLift.this.global.ValDef]" id="990833">freeParams</a> = <a href="#990832" title="List[LambdaLift.this.global.Symbol]">ps</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef]])List[LambdaLift.this.global.ValDef]">map</a> <span class="delimiter">(</span><a title="LambdaLift.this.global.Symbol" id="990850">p</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#408103" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#990850" title="LambdaLift.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)LambdaLift.this.global.ValDef">setPos</a> <a href="#990826" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.ValDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#407284" title="LambdaLift.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
        <a href="#990826" title="LambdaLift.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> DefDef<a href="#3359380" title="LambdaLift.this.global.Tree" id="3359388" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="LambdaLift.this.global.Modifiers" id="3359381">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="LambdaLift.this.global.Name" id="3359382">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[LambdaLift.this.global.TypeDef]" id="3359383">_</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="List[LambdaLift.this.global.ValDef]" id="990923">vparams</a> <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[LambdaLift.this.global.ValDef]]" id="3359390">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[List[LambdaLift.this.global.ValDef]]" id="3359389">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="LambdaLift.this.global.Tree" id="3359385">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="LambdaLift.this.global.Tree" id="3359386">_</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Symbol]" id="990924">addParams</a> = <a href="../../../reflect/internal/Symbols.scala.html#407189" title="(syms: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#990832" title="List[LambdaLift.this.global.Symbol]">ps</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: LambdaLift.this.global.Symbol =&gt; LambdaLift.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.Symbol],LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]])List[LambdaLift.this.global.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Symbol]]" class="delimiter">(</a><a href="#990945" title="LambdaLift.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)x$6.type">setFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#990827" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411374" title="(info: LambdaLift.this.global.Type)LambdaLift.this.global.Symbol">updateInfo</a><span class="delimiter">(</span>
              <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[LambdaLift.this.global.Symbol], resultType: LambdaLift.this.global.Type)LambdaLift.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#990827" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[LambdaLift.this.global.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[LambdaLift.this.global.Symbol])List[LambdaLift.this.global.Symbol]">:::</a> <a href="#990924" title="List[LambdaLift.this.global.Symbol]">addParams</a>, <a href="#990827" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; LambdaLift.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../SubComponent.scala.html#620039" title="=&gt; scala.tools.nsc.Global">copyDefDef</a><a href="../../../reflect/internal/Trees.scala.html#486469" title="LambdaLift.this.global.Modifiers" id="991085" class="delimiter">(</a><a href="#990826" title="LambdaLift.this.global.Tree" id="991010">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>vparamss = <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: List[LambdaLift.this.global.ValDef]*)List[List[LambdaLift.this.global.ValDef]]">List</a><a title="List[List[LambdaLift.this.global.ValDef]]" id="991080" class="delimiter">(</a><a href="#990923" title="List[LambdaLift.this.global.ValDef]">vparams</a> <a href="../../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[LambdaLift.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.ValDef],LambdaLift.this.global.ValDef,List[LambdaLift.this.global.ValDef]])List[LambdaLift.this.global.ValDef]">++</a> <a href="#990833" title="List[LambdaLift.this.global.ValDef]">freeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> ClassDef<a href="#3359380" title="LambdaLift.this.global.Tree" id="3359396" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="LambdaLift.this.global.Modifiers" id="3359391">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="LambdaLift.this.global.TypeName" id="3359392">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[LambdaLift.this.global.TypeDef]" id="3359393">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="LambdaLift.this.global.Template" id="3359394">_</a><span class="delimiter">)</span> =&gt;
            // Disabled attempt to to add getters to freeParams
            // this does not work yet. Problem is that local symbols need local names
            // and references to local symbols need to be transformed into
            // method calls to setters.
            // def paramGetter(param: Symbol): Tree = {
            //   val getter = param.newGetter setFlag TRANS_FLAG resetFlag PARAMACCESSOR // mark because we have to add them to interface
            //   sym.info.decls.enter(getter)
            //   val rhs = Select(gen.mkAttributedThis(sym), param) setType param.tpe
            //   DefDef(getter, rhs) setPos tree.pos setType NoType
            // }
            // val newDefs = if (sym.isTrait) freeParams ::: (ps map paramGetter) else freeParams
            <a href="../../../reflect/internal/Trees.scala.html#408159" title="(cdef: LambdaLift.this.global.Tree)(applyToImpl: LambdaLift.this.global.Template =&gt; LambdaLift.this.global.Template)LambdaLift.this.global.ClassDef">deriveClassDef</a><span class="delimiter">(</span><a href="#990826" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span><a href="#3359398" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a title="LambdaLift.this.global.Template" id="991095">impl</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#408158" title="(templ: LambdaLift.this.global.Tree)(applyToBody: List[LambdaLift.this.global.Tree] =&gt; List[LambdaLift.this.global.Tree])LambdaLift.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#991095" title="LambdaLift.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#991099" title="List[LambdaLift.this.global.Tree]">_</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#990833" title="List[LambdaLift.this.global.ValDef]">freeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="LambdaLift.this.global.Tree" id="3359406">None</a> =&gt;
        <a href="#3359408" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

/*  Something like this will be necessary to eliminate the implementation
 *  restiction from paramGetter above:
 *  We need to pass getters to the interface of an implementation class.
    private def fixTraitGetters(lifted: List[Tree]): List[Tree] =
      for (stat &lt;- lifted) yield stat match {
        case ClassDef(mods, name, tparams, templ @ Template(parents, self, body))
        if stat.symbol.isTrait &amp;&amp; !stat.symbol.isImplClass =&gt;
          val iface = stat.symbol
          lifted.find(l =&gt; l.symbol.isImplClass &amp;&amp; l.symbol.toInterface == iface) match {
            case Some(implDef) =&gt;
              val impl = implDef.symbol
              val implGetters = impl.info.decls.toList filter (_ hasFlag TRANS_FLAG)
              if (implGetters.nonEmpty) {
                val ifaceGetters = implGetters map { ig =&gt;
                  ig resetFlag TRANS_FLAG
                  val getter = ig cloneSymbol iface setFlag DEFERRED
                  iface.info.decls enter getter
                  getter
                }
                val ifaceGetterDefs = ifaceGetters map (DefDef(_, EmptyTree) setType NoType)
                treeCopy.ClassDef(
                  stat, mods, name, tparams,
                  treeCopy.Template(templ, parents, self, body ::: ifaceGetterDefs))
              } else
                stat
            case None =&gt;
              stat
          }
        case _ =&gt;
          stat
      }
*/
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="989956">liftDef</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="991106">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="991107">sym</a> = <a href="#991106" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="991108">oldOwner</a> = <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411288" title="=&gt; Boolean">isAuxiliaryConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>  // # bug 1909
    	  <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <span title="Long(8388608L)">STATIC</span>
      <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411316" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; LambdaLift.this.global.Symbol">enclClass</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411316" title="(owner: LambdaLift.this.global.Symbol)Unit">owner</a> = <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411458" title="=&gt; LambdaLift.this.global.Symbol">toInterface</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <span title="Long(17179869184L)">LIFTED</span>
      <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: LambdaLift.this.global.Symbol, value: List[LambdaLift.this.global.Tree])Unit">liftedDefs</a><span class="delimiter">(</span><a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: LambdaLift.this.global.Tree)List[LambdaLift.this.global.Tree]">::=</a> <a href="#991106" title="LambdaLift.this.global.Tree">tree</a>
      <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; LambdaLift.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410511" title="(sym: LambdaLift.this.global.Symbol)Unit">enterUnique</a> <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;lifted: &quot;)" class="string">&quot;lifted: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; from &quot;)" class="string">&quot; from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#991108" title="LambdaLift.this.global.Symbol">oldOwner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#991107" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; LambdaLift.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Trees.scala.html#407946" title="LambdaLift.this.global.EmptyTree.type">EmptyTree</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree" id="989957">postTransform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="991185">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a>, <a title="Boolean" id="991187">isBoxedRef</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="LambdaLift.this.global.Symbol" id="991188">sym</a> = <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>
      <a href="#991185" title="LambdaLift.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ClassDef<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359480" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="LambdaLift.this.global.Modifiers" id="3359475">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="LambdaLift.this.global.TypeName" id="3359476">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[LambdaLift.this.global.TypeDef]" id="3359477">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="LambdaLift.this.global.Template" id="3359478">_</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="991195">tree1</a> = <a href="#989955" title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="#989956" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a><span class="delimiter">(</span><a href="#991195" title="LambdaLift.this.global.Tree">tree1</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#991195" title="LambdaLift.this.global.Tree">tree1</a>
        <span class="keyword">case</span> DefDef<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359488" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="LambdaLift.this.global.Modifiers" id="3359481">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="LambdaLift.this.global.Name" id="3359482">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[LambdaLift.this.global.TypeDef]" id="3359483">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[LambdaLift.this.global.ValDef]]" id="3359484">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="LambdaLift.this.global.Tree" id="3359485">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="LambdaLift.this.global.Tree" id="3359486">_</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.Tree" id="991204">tree1</a> = <a href="#989955" title="(tree: LambdaLift.this.global.Tree, sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Tree">addFreeParams</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <a href="#989956" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">liftDef</a><span class="delimiter">(</span><a href="#991204" title="LambdaLift.this.global.Tree">tree1</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#991204" title="LambdaLift.this.global.Tree">tree1</a>
        <span class="keyword">case</span> ValDef<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359490" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="LambdaLift.this.global.Modifiers" id="991211">mods</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="LambdaLift.this.global.TermName" id="991212">name</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="LambdaLift.this.global.Tree" id="991213">tpt</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="LambdaLift.this.global.Tree" id="991214">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#3359522" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411199" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="LambdaLift.this.global.TypeTree" id="991215">tpt1</a> = <a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)LambdaLift.this.global.TypeTree">setPos</a> <a href="#991213" title="LambdaLift.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a>
            /* Creating a constructor argument if one isn't present. */
            <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="991216">constructorArg</a> = <a href="#991214" title="LambdaLift.this.global.Tree">rhs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="LambdaLift.this.global.gen.global.Tree" id="3359440">EmptyTree</a> =&gt;
                <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411424" title="=&gt; LambdaLift.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; LambdaLift.this.global.Type">info</a>.<a href="#3359442" title="(x: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">paramTypes</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[LambdaLift.this.global.Type]]" id="3359425">List</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Type" id="991242">tp</a><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#537460" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471010" title="(tp: LambdaLift.this.global.gen.global.Type)LambdaLift.this.global.gen.global.Tree">mkZero</a><a href="#3359421" title="(x: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree" class="delimiter">(</a><a href="#991242" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _        =&gt;
                    <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Couldn\'t determine how to properly construct &quot;)" class="string">&quot;Couldn't determine how to properly construct &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
                    <a href="#991214" title="LambdaLift.this.global.Tree">rhs</a>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> arg =&gt; <a href="#3359442" title="(x: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">arg</a>
            <span class="delimiter">}</span>
            /** Wrap expr argument in new *Ref(..) constructor, but make
             *  sure that Try expressions stay at toplevel.
             */
            <span class="keyword">def</span> <a title="(expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="991217">refConstr</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="991245">expr</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#991245" title="LambdaLift.this.global.Tree">expr</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Try<a href="#3359450" title="LambdaLift.this.global.Tree" id="3359452" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410079" title="LambdaLift.this.global.Tree" id="991255">block</a>, <a href="../../../reflect/internal/Trees.scala.html#410081" title="List[LambdaLift.this.global.CaseDef]" id="991256">catches</a>, <a href="../../../reflect/internal/Trees.scala.html#410083" title="LambdaLift.this.global.Tree" id="991257">finalizer</a><span class="delimiter">)</span> =&gt;
                <a href="../../../reflect/internal/Trees.scala.html#453695" title="(block: LambdaLift.this.global.Tree, catches: List[LambdaLift.this.global.CaseDef], finalizer: LambdaLift.this.global.Tree)LambdaLift.this.global.Try">Try</a><a href="#3359454" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#991217" title="(expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">refConstr</a><span class="delimiter">(</span><a href="#991255" title="LambdaLift.this.global.Tree">block</a><span class="delimiter">)</span>, <a href="#991256" title="List[LambdaLift.this.global.CaseDef]">catches</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: LambdaLift.this.global.CaseDef =&gt; LambdaLift.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.CaseDef],LambdaLift.this.global.CaseDef,List[LambdaLift.this.global.CaseDef]])List[LambdaLift.this.global.CaseDef]">map</a> <a href="#991218" title="(cdef: LambdaLift.this.global.CaseDef)LambdaLift.this.global.CaseDef">refConstrCase</a>, <a href="#991257" title="LambdaLift.this.global.Tree">finalizer</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
                <a href="../../../reflect/internal/Trees.scala.html#408120" title="(tpe: LambdaLift.this.global.Type, args: LambdaLift.this.global.Tree*)LambdaLift.this.global.Tree">New</a><a href="#3359454" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; LambdaLift.this.global.Type">tpe</a>, <a href="#991245" title="LambdaLift.this.global.Tree">expr</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">def</span> <a title="(cdef: LambdaLift.this.global.CaseDef)LambdaLift.this.global.CaseDef" id="991218">refConstrCase</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CaseDef" id="991289">cdef</a>: <a href="../../../reflect/internal/Trees.scala.html#407984" title="LambdaLift.this.global.CaseDef">CaseDef</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407984" title="LambdaLift.this.global.CaseDef">CaseDef</a> =
              <a href="../../../reflect/internal/Trees.scala.html#453147" title="(pat: LambdaLift.this.global.Tree, guard: LambdaLift.this.global.Tree, body: LambdaLift.this.global.Tree)LambdaLift.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#991289" title="LambdaLift.this.global.CaseDef">cdef</a>.<a href="../../../reflect/internal/Trees.scala.html#410180" title="=&gt; LambdaLift.this.global.Tree">pat</a>, <a href="#991289" title="LambdaLift.this.global.CaseDef">cdef</a>.<a href="../../../reflect/internal/Trees.scala.html#410182" title="=&gt; LambdaLift.this.global.Tree">guard</a>, <a href="#991217" title="(expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">refConstr</a><span class="delimiter">(</span><a href="#991289" title="LambdaLift.this.global.CaseDef">cdef</a>.<a href="../../../reflect/internal/Trees.scala.html#410184" title="=&gt; LambdaLift.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405374" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, mods: LambdaLift.this.global.explicitOuter.global.Modifiers, name: LambdaLift.this.global.explicitOuter.global.Name, tpt: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991211" title="LambdaLift.this.global.Modifiers">mods</a>, <a href="#991212" title="LambdaLift.this.global.TermName">name</a>, <a href="#991215" title="LambdaLift.this.global.TypeTree">tpt1</a>, <a href="../Global.scala.html#537612" title="LambdaLift.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#538703" title="(pos: LambdaLift.this.global.analyzer.global.Position)(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#991214" title="LambdaLift.this.global.Tree">rhs</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#991217" title="(expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">refConstr</a><span class="delimiter">(</span><a href="#991216" title="LambdaLift.this.global.gen.global.Tree">constructorArg</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>
        <span class="keyword">case</span> Return<a href="#3359474" title="Boolean" id="3359493" class="delimiter">(</a>Block<a href="../../../reflect/internal/Trees.scala.html#410090" title="LambdaLift.this.global.Tree" id="3359495" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410192" title="List[LambdaLift.this.global.Tree]" id="991393">stats</a>, <a href="../../../reflect/internal/Trees.scala.html#410194" title="LambdaLift.this.global.Tree" id="991394">value</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/Trees.scala.html#453067" title="(stats: List[LambdaLift.this.global.Tree], expr: LambdaLift.this.global.Tree)LambdaLift.this.global.Block">Block</a><span class="delimiter">(</span><a href="#991393" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405391" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Return">Return</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991394" title="LambdaLift.this.global.Tree">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Block">setType</a> <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; LambdaLift.this.global.Type">tpe</a> <a href="#3359522" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">setPos</a> <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a>
        <span class="keyword">case</span> Return<span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#410090" title="LambdaLift.this.global.Tree" id="991431">expr</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#405650" title="=&gt; LambdaLift.this.global.explicitOuter.global.Symbol">currentMethod</a>, <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>
        <span class="keyword">case</span> Apply<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359499" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="LambdaLift.this.global.Tree" id="991447">fn</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[LambdaLift.this.global.Tree]" id="991448">args</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405397" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, fun: LambdaLift.this.global.explicitOuter.global.Tree, args: List[LambdaLift.this.global.explicitOuter.global.Tree])LambdaLift.this.global.explicitOuter.global.Apply">Apply</a><a href="#3359522" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991447" title="LambdaLift.this.global.Tree">fn</a>, <a href="#989954" title="(pos: LambdaLift.this.global.Position, sym: LambdaLift.this.global.Symbol, args: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">addFreeArgs</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a>, <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>, <a href="#991448" title="List[LambdaLift.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> Assign<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359502" class="delimiter">(</a>Apply<a href="../../../reflect/internal/Trees.scala.html#410127" title="LambdaLift.this.global.Tree" id="3359506" class="delimiter">(</a>TypeApply<a href="../../../reflect/internal/Trees.scala.html#410031" title="LambdaLift.this.global.Tree" id="3359509" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="LambdaLift.this.global.Tree" id="991460">sel</a> @ Select<a href="#991460" title="LambdaLift.this.global.Tree" id="3359512" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="LambdaLift.this.global.Tree" id="991465">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="LambdaLift.this.global.Name" id="3359510">_</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[LambdaLift.this.global.Tree]" id="3359507">_</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[LambdaLift.this.global.Tree]]" id="3359532">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[LambdaLift.this.global.Tree]" id="3359504" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410129" title="LambdaLift.this.global.Tree" id="991474">rhs</a><span class="delimiter">)</span> =&gt;
          // eliminate casts introduced by selecting a captured variable field
          // on the lhs of an assignment.
          <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span>sel.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; LambdaLift.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409095" title="=&gt; LambdaLift.this.global.MethodSymbol">Object_asInstanceOf</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405387" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, lhs: LambdaLift.this.global.explicitOuter.global.Tree, rhs: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Assign">Assign</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991465" title="LambdaLift.this.global.Tree">qual</a>, <a href="#991474" title="LambdaLift.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Ident<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359517" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409987" title="LambdaLift.this.global.Name" id="991489">name</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="LambdaLift.this.global.gen.global.Tree" id="991490">tree1</a> =
            <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; LambdaLift.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411218" title="=&gt; Boolean">isLabel</a><span class="delimiter">)</span>
              <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Select)LambdaLift.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#989952" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.Select">memberRef</a><span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="LambdaLift.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#989945" title="(sym: LambdaLift.this.global.Symbol)Boolean">isSameOwnerEnclosure</a><span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.gen.global.Tree)LambdaLift.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#989953" title="(sym: LambdaLift.this.global.Symbol)LambdaLift.this.global.gen.global.Tree">proxyRef</a><span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>
            <span class="keyword">else</span> <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411199" title="=&gt; Boolean">isCapturedVariable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#991187" title="Boolean">isBoxedRef</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: LambdaLift.this.global.Position)(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; LambdaLift.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.Type" id="991514">tp</a> = <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; LambdaLift.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="LambdaLift.this.global.analyzer.global.Tree" id="991515">elemTree</a> = <a href="../Global.scala.html#537612" title="LambdaLift.this.global.typer.type">typer</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: LambdaLift.this.global.analyzer.global.Tree)LambdaLift.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#418089" title="(qualifier: LambdaLift.this.global.Tree, name: LambdaLift.this.global.Name)LambdaLift.this.global.Select">Select</a><span class="delimiter">(</span><a href="#991490" title="LambdaLift.this.global.gen.global.Tree">tree1</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: LambdaLift.this.global.gen.global.Type)tree1.type">setType</a> <a href="#991188" title="LambdaLift.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; LambdaLift.this.global.Type">tpe</a>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414339" title="=&gt; LambdaLift.this.global.nme.NameType">elem</a><span class="delimiter">)</span>
              <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991515" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; LambdaLift.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; LambdaLift.this.global.analyzer.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#991514" title="LambdaLift.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; LambdaLift.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="LambdaLift.this.global.gen.type">gen</a>.<a href="../Global.scala.html#543500" title="(tree: LambdaLift.this.global.Tree, pt: LambdaLift.this.global.Type)LambdaLift.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#991515" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>, <a href="#991514" title="LambdaLift.this.global.Type">tp</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#991515" title="LambdaLift.this.global.analyzer.global.Tree">elemTree</a>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#991490" title="LambdaLift.this.global.gen.global.Tree">tree1</a>
        <span class="keyword">case</span> Block<a href="#3359474" title="LambdaLift.this.global.Tree" id="3359519" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410192" title="List[LambdaLift.this.global.Tree]" id="991558">stats</a>, <a href="../../../reflect/internal/Trees.scala.html#410194" title="LambdaLift.this.global.Tree" id="991559">expr0</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="#3359470" title="(x: (List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree]))(List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[LambdaLift.this.global.Tree]" id="991561">lzyVals</a>, <a href="../../../Tuple2.scala.html#60637" title="List[LambdaLift.this.global.Tree]" id="991562">rest</a><span class="delimiter">)</span> = <a href="#991558" title="List[LambdaLift.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#58080" title="(p: LambdaLift.this.global.Tree =&gt; Boolean)(List[LambdaLift.this.global.Tree], List[LambdaLift.this.global.Tree])">partition</a> <a href="#991566" title="LambdaLift.this.global.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a href="#3359459" title="Boolean" id="3359461">stat</a>: ValDef =&gt; stat.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a> <a href="#3359463" title="(x: Boolean)Boolean">||</a> stat.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411292" title="=&gt; Boolean">isModuleVar</a>
            <span class="keyword">case</span> _            =&gt; <a href="#3359463" title="(x: Boolean)Boolean" class="keyword">false</a>
          <span class="delimiter">}</span>
          <span title="LambdaLift.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#991561" title="List[LambdaLift.this.global.Tree]">lzyVals</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#991185" title="LambdaLift.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; LambdaLift.this.global.explicitOuter.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405380" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree, stats: List[LambdaLift.this.global.explicitOuter.global.Tree], expr: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Block">Block</a><span class="delimiter">(</span><a href="#991185" title="LambdaLift.this.global.Tree">tree</a>, <a href="#991561" title="List[LambdaLift.this.global.Tree]">lzyVals</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#991562" title="List[LambdaLift.this.global.Tree]">rest</a>, <a href="#991559" title="LambdaLift.this.global.Tree">expr0</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#3359522" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree" id="989958">preTransform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="991588">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#622448" title="LambdaLift.this.LambdaLifter" class="keyword">super</a>.<a href="ExplicitOuter.scala.html#985843" title="(tree: LambdaLift.this.global.explicitOuter.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">transform</a><span class="delimiter">(</span><a href="#991588" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: LambdaLift.this.global.explicitOuter.global.Type)LambdaLift.this.global.explicitOuter.global.Tree">setType</a> <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: LambdaLift.this.global.Type)LambdaLift.this.global.Type">lifted</a><span class="delimiter">(</span><a href="#991588" title="LambdaLift.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; LambdaLift.this.global.Type">tpe</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="989959">transform</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="991610">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#991610" title="LambdaLift.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Select<a href="#3359539" title="LambdaLift.this.global.Tree" id="3359542" class="delimiter">(</a>ReferenceToBoxed<a href="../../../reflect/internal/Trees.scala.html#409999" title="LambdaLift.this.global.Tree" id="3359544" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409979" title="LambdaLift.this.global.Ident" id="991621">idt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="LambdaLift.this.global.Name" id="991622">elem</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#991622" title="LambdaLift.this.global.Name">elem</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="LambdaLift.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414339" title="=&gt; LambdaLift.this.global.nme.NameType">elem</a> =&gt;
        <a href="#989957" title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree">postTransform</a><a href="#3359548" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#989958" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#991621" title="LambdaLift.this.global.Ident">idt</a><span class="delimiter">)</span>, isBoxedRef = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> ReferenceToBoxed<a href="#3359539" title="LambdaLift.this.global.Tree" id="3359546" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409979" title="LambdaLift.this.global.Ident" id="991628">idt</a><span class="delimiter">)</span> =&gt;
        <a href="#989957" title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree">postTransform</a><a href="#3359548" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#989958" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#991628" title="LambdaLift.this.global.Ident">idt</a><span class="delimiter">)</span>, isBoxedRef = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#989957" title="(tree: LambdaLift.this.global.Tree, isBoxedRef: Boolean)LambdaLift.this.global.Tree">postTransform</a><a href="#3359548" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a href="#989958" title="(tree: LambdaLift.this.global.Tree)LambdaLift.this.global.explicitOuter.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#991610" title="LambdaLift.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Transform statements and add lifted definitions to them. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[LambdaLift.this.global.Tree], exprOwner: LambdaLift.this.global.Symbol)List[LambdaLift.this.global.Tree]" id="989960">transformStats</a><span class="delimiter">(</span><a title="List[LambdaLift.this.global.Tree]" id="991629">stats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="LambdaLift.this.global.Symbol" id="991630">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="LambdaLift.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[LambdaLift.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" id="991633">addLifted</a><span class="delimiter">(</span><a title="LambdaLift.this.global.Tree" id="991634">stat</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="LambdaLift.this.global.Tree">Tree</a> = <a href="#991634" title="LambdaLift.this.global.Tree">stat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ClassDef<a href="#3359562" title="LambdaLift.this.global.Tree" id="3359568" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="LambdaLift.this.global.Modifiers" id="3359563">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="LambdaLift.this.global.TypeName" id="3359564">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[LambdaLift.this.global.TypeDef]" id="3359565">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="LambdaLift.this.global.Template" id="3359566">_</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[LambdaLift.this.global.Tree]" id="991641">lifted</a> = <a href="#989940" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#285234" title="(key: LambdaLift.this.global.Symbol)Option[List[LambdaLift.this.global.Tree]]">get</a> <a href="#991634" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Some<a href="#3359554" title="List[LambdaLift.this.global.Tree]" id="3359555" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="List[LambdaLift.this.global.Tree]" id="991646">xs</a><span class="delimiter">)</span> =&gt; <a href="#991646" title="List[LambdaLift.this.global.Tree]">xs</a> <a href="#3359557" title="(x: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">reverseMap</a> <a href="#991633" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
            <span class="keyword">case</span> _        =&gt; <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unexpectedly no lifted defs for &quot;)" class="string">&quot;unexpectedly no lifted defs for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#991634" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a><span class="delimiter">)</span> ; <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
          <span class="delimiter">}</span>
          <span class="keyword">try</span> <a href="../../../reflect/internal/Trees.scala.html#408159" title="(cdef: LambdaLift.this.global.Tree)(applyToImpl: LambdaLift.this.global.Template =&gt; LambdaLift.this.global.Template)LambdaLift.this.global.ClassDef">deriveClassDef</a><span class="delimiter">(</span><a href="#991634" title="LambdaLift.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="LambdaLift.this.global.Template" id="991689">impl</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#408158" title="(templ: LambdaLift.this.global.Tree)(applyToBody: List[LambdaLift.this.global.Tree] =&gt; List[LambdaLift.this.global.Tree])LambdaLift.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#991689" title="LambdaLift.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#991691" title="List[LambdaLift.this.global.Tree]">_</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[LambdaLift.this.global.Tree])List[LambdaLift.this.global.Tree]">:::</a> <a href="#991641" title="List[LambdaLift.this.global.Tree]">lifted</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">finally</span> <a href="#989940" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a> <a href="../../../collection/mutable/LinkedHashMap.scala.html#285238" title="(key: LambdaLift.this.global.Symbol)LambdaLifter.this.liftedDefs.type">-=</a> <a href="#991634" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>

        <span class="keyword">case</span> DefDef<a href="#3359562" title="LambdaLift.this.global.Tree" id="3359576" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="LambdaLift.this.global.Modifiers" id="3359569">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="LambdaLift.this.global.Name" id="3359570">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[LambdaLift.this.global.TypeDef]" id="3359571">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[LambdaLift.this.global.ValDef]]" id="3359572">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="LambdaLift.this.global.Tree" id="3359573">_</a>, Block<a href="../../../reflect/internal/Trees.scala.html#410288" title="LambdaLift.this.global.Tree" id="3359579" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410192" title="List[LambdaLift.this.global.Tree]" id="3359581">Nil</a>, <a href="../../../reflect/internal/Trees.scala.html#410194" title="LambdaLift.this.global.Tree" id="991718">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#991634" title="LambdaLift.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; LambdaLift.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a> =&gt;
          <a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: LambdaLift.this.global.Tree)(applyToRhs: LambdaLift.this.global.Tree =&gt; LambdaLift.this.global.Tree)LambdaLift.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#991634" title="LambdaLift.this.global.Tree">stat</a><span class="delimiter">)</span><a href="#3359583" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree" class="delimiter">(</a><a title="LambdaLift.this.global.Tree" id="991722">_</a> =&gt; <a href="#991718" title="LambdaLift.this.global.Tree">expr</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#3359583" title="(x: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">stat</a>
      <span class="delimiter">}</span>
      <a href="#622448" title="LambdaLift.this.LambdaLifter" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405661" title="(stats: List[LambdaLift.this.global.explicitOuter.global.Tree], exprOwner: LambdaLift.this.global.explicitOuter.global.Symbol)List[LambdaLift.this.global.explicitOuter.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#991629" title="List[LambdaLift.this.global.Tree]">stats</a>, <a href="#991630" title="LambdaLift.this.global.Symbol">exprOwner</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: LambdaLift.this.global.explicitOuter.global.Tree =&gt; LambdaLift.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[LambdaLift.this.global.explicitOuter.global.Tree],LambdaLift.this.global.Tree,List[LambdaLift.this.global.Tree]])List[LambdaLift.this.global.Tree]">map</a> <a href="#991633" title="(stat: LambdaLift.this.global.Tree)LambdaLift.this.global.Tree">addLifted</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: LambdaLift.this.global.CompilationUnit)Unit" id="989961">transformUnit</a><span class="delimiter">(</span><a title="LambdaLift.this.global.CompilationUnit" id="991773">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="LambdaLift.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#989950" title="()Unit">computeFreeVars</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../SubComponent.scala.html#620060" title="(op: =&gt; Unit)Unit">afterOwnPhase</a> <span class="delimiter">{</span>
        <a href="#622448" title="LambdaLift.this.LambdaLifter" class="keyword">super</a>.<a href="../ast/Trees.scala.html#542655" title="(unit: LambdaLift.this.global.explicitOuter.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#991773" title="LambdaLift.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#989940" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a href="../../../collection/MapLike.scala.html#87531" title="=&gt; Boolean">isEmpty</a>, <a href="#989940" title="=&gt; scala.collection.mutable.LinkedHashMap[LambdaLift.this.global.Symbol,List[LambdaLift.this.global.Tree]]">liftedDefs</a>.<a href="../../../collection/MapLike.scala.html#87541" title="=&gt; Iterable[LambdaLift.this.global.Symbol]">keys</a> <a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> // class LambdaLifter

<span class="delimiter">}</span>

        </pre>
    </body>
</html>