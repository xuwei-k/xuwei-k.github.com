<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/ExplicitOuter.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#55820" title="=&gt; reflect.internal.Flags.type">Flags</a>.<span class="delimiter">{</span> CASE =&gt; _, _ <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> matching.<span class="delimiter">{</span> Patterns, ParallelMatching <span class="delimiter">}</span>

/** This class ...
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ExplicitOuter extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.ParallelMatching with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL" id="42414">ExplicitOuter</a> <a href="#42414" title="scala.tools.nsc.transform.ExplicitOuter" class="keyword">extends</a> <a href="InfoTransform.scala.html#43005" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a>
      <span class="keyword">with</span> <a href="../matching/Patterns.scala.html#40476" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="../matching/ParallelMatching.scala.html#40374" title="scala.tools.nsc.matching.ParallelMatching">ParallelMatching</a>
      <span class="keyword">with</span> <a href="TypingTransformers.scala.html#43407" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
      <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#28843" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="ExplicitOuter.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#538235" title="ExplicitOuter.this.CODE.type">CODE</a>._
  <span class="keyword">import</span> <a href="../matching/MatchSupport.scala.html#621954" title="ExplicitOuter.this.Debug.type">Debug</a>.TRACE

  /** The following flags may be set by this phase: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="621799">phaseNewFlags</a>: <a href="../../../Long.scala.html#1293" title="Long">Long</a> = <a href="../../../reflect/internal/Flags.scala.html#407031" title="=&gt; Long">notPROTECTED</a>

  /** the name of the phase: */
  <span class="keyword">val</span> <a title="String" id="621800">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;explicitouter&quot;)" class="string">&quot;explicitouter&quot;</span>

  /** This class does not change linearization */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="621802">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)ExplicitOuter.this.global.Transformer" id="621803">newTransformer</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="985831">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#537817" title="ExplicitOuter.this.global.Transformer">Transformer</a> =
    <span title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">new</span> <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer">ExplicitOuterTransformer</a><span class="delimiter">(</span><a href="#985831" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  /** Is given clazz an inner class? */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="621804">isInner</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="985855">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985855" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985855" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411296" title="=&gt; Boolean">isStaticOwner</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean" id="621805">haveSameOuter</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="985858">parent</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Symbol" id="985859">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#985858" title="ExplicitOuter.this.global.Type">parent</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> TypeRef<a href="#3358860" title="Boolean" id="3358863" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="ExplicitOuter.this.global.Type" id="985865">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="ExplicitOuter.this.global.Symbol" id="985866">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[ExplicitOuter.this.global.Type]" id="3358861">_</a><span class="delimiter">)</span>   =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="985867">owner</a> = <a href="#985859" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>

      //println(s&quot;have same outer $parent $clazz $sym ${sym.owner} $owner $pre&quot;)

      <a href="#985866" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#985867" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="#985867" title="ExplicitOuter.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: ExplicitOuter.this.global.Symbol)Boolean">isSubClass</a> <a href="#985866" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#985867" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#985865" title="ExplicitOuter.this.global.Type">pre</a>

    <span class="keyword">case</span> _                      =&gt; <a href="#3358865" title="(x: Boolean)Boolean" class="keyword">false</a>
  <span class="delimiter">}</span>

  /** Does given clazz define an outer field? */
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="621806">hasOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="985873">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Type]" id="985876">parents</a> = <a href="#985873" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[ExplicitOuter.this.global.Type]">parents</a>

    <a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#985873" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985873" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
      <a href="#985876" title="List[ExplicitOuter.this.global.Type]">parents</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#621805" title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean">haveSameOuter</a><span class="delimiter">(</span><a href="#985876" title="List[ExplicitOuter.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ExplicitOuter.this.global.Type">head</a>, <a href="#985873" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="621807">outerField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="985877">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="985879">result</a> = <a href="#985877" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414024" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#985879" title="ExplicitOuter.this.global.Symbol">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;no outer field in &quot;)" class="string">&quot;no outer field in &quot;</span><span title="(x$1: Any)String">+</span><a href="#985877" title="ExplicitOuter.this.global.Symbol">clazz</a><span title="(x$1: Any)String">+</span><span title="String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/SymbolTable.scala.html#406659" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>

    <a href="#985879" title="ExplicitOuter.this.global.Symbol">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="621808">innerClassConstructorParamName</a>: <a href="../../../reflect/internal/Names.scala.html#406879" title="ExplicitOuter.this.global.TermName">TermName</a> = <a href="../../../reflect/internal/Names.scala.html#406859" title="(s: String)ExplicitOuter.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;arg&quot;)" class="string">&quot;arg&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414022" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class RemoveBindingsTransformer extends ExplicitOuter.this.global.Transformer" id="621810">RemoveBindingsTransformer</a><a href="#621810" title="ExplicitOuter.this.RemoveBindingsTransformer" class="delimiter">(</a><a title="Set[ExplicitOuter.this.global.Symbol]" id="985913">toRemove</a>: <a href="../../../collection/immutable/Set.scala.html#11919" title="Set[ExplicitOuter.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#537817" title="ExplicitOuter.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="985910">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="985914">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#985914" title="ExplicitOuter.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Bind<a href="#3358870" title="ExplicitOuter.this.global.Tree" id="3358873" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410157" title="ExplicitOuter.this.global.Name" id="3358871">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410159" title="ExplicitOuter.this.global.Tree" id="985924">body</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: ExplicitOuter.this.global.Symbol)Boolean">toRemove</a><span class="delimiter">(</span><a href="#985914" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
        <a href="../matching/MatchSupport.scala.html#928643" title="(f: String, xs: Any*)Unit">TRACE</a><span class="delimiter">(</span><span title="String(&quot;Dropping unused binding: &quot;)" class="string">&quot;Dropping unused binding: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#985914" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a><span class="delimiter">)</span>
        <a href="#621810" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405652" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#985924" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _                                      =&gt; <a href="#621810" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405652" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><a href="#3358875" title="(x: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" class="delimiter">(</a><a href="#985914" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Issue a migration warning for instance checks which might be on an Array and
   *  for which the type parameter conforms to Seq, because these answers changed in 2.8.
   */
  <span class="keyword">def</span> <a title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean" id="621811">isArraySeqTest</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="985941">lhs</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Type" id="985942">rhs</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; ExplicitOuter.this.global.ClassSymbol">ArrayClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: ExplicitOuter.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#985941" title="ExplicitOuter.this.global.Type">lhs</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; ExplicitOuter.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#985942" title="ExplicitOuter.this.global.Type">rhs</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; ExplicitOuter.this.global.Type">widen</a> <a href="../../../reflect/internal/Types.scala.html#408482" title="(that: ExplicitOuter.this.global.Type)Boolean">matchesPattern</a> <a href="../../../reflect/internal/Definitions.scala.html#408839" title="=&gt; ExplicitOuter.this.global.ClassSymbol">SeqClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="621812">outerAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="938921">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="985950">firstTry</a> = <a href="#938921" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414060" title="(name: ExplicitOuter.this.global.TermName, base: ExplicitOuter.this.global.Symbol, separator: String)ExplicitOuter.this.global.TermName">expandedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414022" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#938921" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#985950" title="ExplicitOuter.this.global.Symbol">firstTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#985950" title="ExplicitOuter.this.global.Symbol">firstTry</a>.<a href="../../../reflect/internal/Symbols.scala.html#411439" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#938921" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#985950" title="ExplicitOuter.this.global.Symbol">firstTry</a>
    <span class="keyword">else</span> <a href="../../../reflect/internal/util/Collections.scala.html#406770" title="(xs: TraversableOnce[ExplicitOuter.this.global.Symbol])(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)(orElse: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">findOrElse</a><span class="delimiter">(</span><a href="#938921" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#985976" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411439" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#938921" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.MethodSymbol" id="621813">newOuterAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="985982">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="985985">accFlags</a> = SYNTHETIC | ARTIFACT | METHOD <span title="Long(70368750469184L)">|</span> STABLE <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span title="Int(16)">DEFERRED</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span> <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="985986">sym</a>      = <a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414022" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#985985" title="Long">accFlags</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="985987">restpe</a>   = <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>

    <a href="#985986" title="ExplicitOuter.this.global.MethodSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411651" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>
    <a href="#985986" title="ExplicitOuter.this.global.MethodSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411639" title="(x: ExplicitOuter.this.global.Symbol)Unit">referenced</a> = <a href="#985982" title="ExplicitOuter.this.global.Symbol">clazz</a>
    <a href="#985986" title="ExplicitOuter.this.global.MethodSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ExplicitOuter.this.global.Type)sym.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#985987" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.TermSymbol" id="621814">newOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="986023">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="986026">accFlags</a> = SYNTHETIC | ARTIFACT <span title="Long(70369283145728L)">|</span> PARAMACCESSOR <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#986023" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span> <span title="Int(524292)">PrivateLocal</span> <span class="keyword">else</span> <span title="Int(1)">PROTECTED</span> <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="986027">sym</a>      = <a href="#986023" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411109" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414024" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a>, <a href="#986023" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#986026" title="Long">accFlags</a><span class="delimiter">)</span>

    <a href="#986027" title="ExplicitOuter.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ExplicitOuter.this.global.Type)sym.type">setInfo</a> <a href="#986023" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
  <span class="delimiter">}</span>

  /** &lt;p&gt;
   *    The type transformation method:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt;
   *      Add an outer parameter to the formal parameters of a constructor
   *      in a inner non-trait class;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Add a protected $outer field to an inner class which is
   *      not a trait.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      &lt;p&gt;
   *        Add an outer accessor $outer$$C to every inner class
   *        with fully qualified name C that is not an interface.
   *        The outer accessor is abstract for traits, concrete for other
   *        classes.
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        3a. Also add overriding accessor defs to every class that inherits
   *        mixin classes with outer accessor defs (unless the superclass
   *        already inherits the same mixin).
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Make all super accessors and modules in traits non-private, mangling
   *      their names.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Remove protected flag from all members of traits.
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  Note: this transformInfo need not be reflected as the JVM reflection already
   *  elides outer pointers.
   */
  <span class="keyword">def</span> <a title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type" id="621815">transformInfo</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="986052">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Type" id="986053">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ExplicitOuter.this.global.Type">Type</a> = <a href="#986053" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> MethodType<a href="#3358880" title="ExplicitOuter.this.global.Type" id="3358882" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[ExplicitOuter.this.global.Symbol]" id="986059">params</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="ExplicitOuter.this.global.Type" id="986060">restpe1</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="986061">restpe</a> = <a href="#621815" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#986060" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402401" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 5
        <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411477" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407031" title="=&gt; Long">notPROTECTED</a> // 6
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411200" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 1
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="986074">p</a> = <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411111" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="#621808" title="=&gt; ExplicitOuter.this.global.TermName">innerClassConstructorParamName</a>, <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span>
                   .<a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#986074" title="ExplicitOuter.this.global.TermSymbol">p</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ExplicitOuter.this.global.Symbol)List[ExplicitOuter.this.global.Symbol]">::</a> <a href="#986059" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#986061" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#986061" title="ExplicitOuter.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#986060" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#986059" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#986061" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#986053" title="ExplicitOuter.this.global.Type">tp</a>
    <span class="keyword">case</span> ClassInfoType<a href="#3358880" title="ExplicitOuter.this.global.Type" id="3358884" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[ExplicitOuter.this.global.Type]" id="986090">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="ExplicitOuter.this.global.Scope" id="986091">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="ExplicitOuter.this.global.Symbol" id="986092">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Scope" id="986093">decls1</a> = <a href="#986091" title="ExplicitOuter.this.global.Scope">decls</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409854" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#986091" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410503" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="986094">outerAcc</a> = <a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414022" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> // 3
        <a href="#986094" title="ExplicitOuter.this.global.MethodSymbol">outerAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#411651" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>

        <a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: ExplicitOuter.this.global.MethodSymbol)ExplicitOuter.this.global.MethodSymbol">enter</a> <a href="#621813" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.MethodSymbol">newOuterAccessor</a><span class="delimiter">(</span><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#621806" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> //2
          <a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: ExplicitOuter.this.global.TermSymbol)ExplicitOuter.this.global.TermSymbol">enter</a> <a href="#621814" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.TermSymbol">newOuterField</a><span class="delimiter">(</span><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#986090" title="List[ExplicitOuter.this.global.Type]">parents</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="986141">mc</a> &lt;- <a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../collection/immutable/List.scala.html#62719" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986142">mixinOuterAcc</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../Global.scala.html#537681" title="(op: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">afterExplicitOuter</a><span class="delimiter">(</span><a href="#621812" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#986141" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#986142" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#986091" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#986091" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410503" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
            <span class="keyword">val</span> <a title="mixinOuterAcc.TypeOfClonedSymbol" id="986150">newAcc</a> = <a href="#986142" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411419" title="(newOwner: ExplicitOuter.this.global.Symbol, newFlags: Long)mixinOuterAcc.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>, <a href="#986142" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#986150" title="mixinOuterAcc.TypeOfClonedSymbol">newAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ExplicitOuter.this.global.Type)newAcc.type">setInfo</a> <span class="delimiter">(</span><a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">memberType</a> <a href="#986142" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a><span class="delimiter">)</span>
            <a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: mixinOuterAcc.TypeOfClonedSymbol)mixinOuterAcc.TypeOfClonedSymbol">enter</a> <a href="#986150" title="mixinOuterAcc.TypeOfClonedSymbol">newAcc</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#986091" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#986053" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[ExplicitOuter.this.global.Type], decls: ExplicitOuter.this.global.Scope, typeSymbol: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#986090" title="List[ExplicitOuter.this.global.Type]">parents</a>, <a href="#986093" title="ExplicitOuter.this.global.Scope">decls1</a>, <a href="#986092" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> PolyType<a href="#3358880" title="ExplicitOuter.this.global.Type" id="3358886" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[ExplicitOuter.this.global.Symbol]" id="986204">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="ExplicitOuter.this.global.Type" id="986205">restp</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="986206">restp1</a> = <a href="#621815" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#986205" title="ExplicitOuter.this.global.Type">restp</a><span class="delimiter">)</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#986205" title="ExplicitOuter.this.global.Type">restp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#986206" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span> <a href="#986053" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#421482" title="(typeParams: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#986204" title="List[ExplicitOuter.this.global.Symbol]">tparams</a>, <a href="#986206" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span>

    <span class="keyword">case</span> _ =&gt;
      // Local fields of traits need to be unconditionally unprivatized.
      // Reason: Those fields might need to be unprivatized if referenced by an inner class.
      // On the other hand, mixing in the trait into a separately compiled
      // class needs to have a common naming scheme, independently of whether
      // the field was accessed from an inner class or not. See #2946
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409841" title="=&gt; Boolean">hasLocalFlag</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411469" title="(base: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411458" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411477" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#986052" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#986053" title="ExplicitOuter.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  /** A base class for transformers that maintain outerParam
   *  values for outer parameters of constructors.
   *  The class provides methods for referencing via outer.
   */
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OuterPathTransformer extends ExplicitOuter.this.TypingTransformer" id="621816">OuterPathTransformer</a><a href="#621816" title="ExplicitOuter.this.OuterPathTransformer" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="986223">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#621441" title="ExplicitOuter.this.TypingTransformer">TypingTransformer</a><span class="delimiter">(</span><a href="#986223" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /** The directly enclosing outer parameter, if we are in a constructor */
    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Symbol" id="985838">outerParam</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>

    /** The first outer selection from currently transformed tree.
     *  The result is typed but not positioned.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="985840">outerValue</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> =
      <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#985838" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624611" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#985838" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#985841" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624610" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Select and apply outer accessor from 'base'
     *  The result is typed but not positioned.
     *  If the outer access is from current class and current class is final
     *  take outer field instead of accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="985841">outerSelect</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="986231">base</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986233">outerAcc</a> = <a href="#621812" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#986231" title="ExplicitOuter.this.global.Tree">base</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411458" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986234">currentClass</a> = <a href="#621816" title="OuterPathTransformer.this.type" class="keyword">this</a>.<a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> //todo: !!! if this line is removed, we get a build failure that protected$currentClass need an override modifier
      // outerFld is the $outer field of the current class, if the reference can
      // use it (i.e. reference is allowed to be of the form this.$outer),
      // otherwise it is NoSymbol
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986235">outerFld</a> =
        <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#986233" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#986234" title="ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#986231" title="ExplicitOuter.this.global.Tree">base</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#986234" title="ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#986233" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>
          <a href="#621807" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#986234" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411415" title="(cond: ExplicitOuter.this.global.Symbol =&gt; Boolean)ExplicitOuter.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a href="#986252" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#986234" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">val</span> <a title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable" id="986236">path</a> =
        <span title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#986235" title="ExplicitOuter.this.global.Symbol">outerFld</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#986231" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#986235" title="ExplicitOuter.this.global.Symbol">outerFld</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#986231" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#986233" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="#986236" title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable">path</a>
    <span class="delimiter">}</span>

    /** The path
     *  &lt;blockquote&gt;&lt;pre&gt;`base'.$outer$$C1 ... .$outer$$Cn&lt;/pre&gt;&lt;/blockquote&gt;
     *  which refers to the outer instance of class to of
     *  value base. The result is typed but not positioned.
     *
     *  @param base ...
     *  @param from ...
     *  @param to   ...
     *  @return     ...
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="985842">outerPath</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="986462">base</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a>, <a title="ExplicitOuter.this.global.Symbol" id="986463">from</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Symbol" id="986464">to</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      //Console.println(&quot;outerPath from &quot;+from+&quot; to &quot;+to+&quot; at &quot;+base+&quot;:&quot;+base.tpe)
      //assert(base.tpe.widen.baseType(from.toInterface) != NoType, &quot;&quot;+base.tpe.widen+&quot; &quot;+from.toInterface)//DEBUG
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986463" title="ExplicitOuter.this.global.Symbol">from</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#986464" title="ExplicitOuter.this.global.Symbol">to</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#986463" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#411180" title="=&gt; Boolean">isImplClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#986463" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#411458" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#986464" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span> <a href="#986462" title="ExplicitOuter.this.global.Tree">base</a>
      <span class="keyword">else</span> <a href="#985842" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#985841" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="#986462" title="ExplicitOuter.this.global.Tree">base</a><span class="delimiter">)</span>, <a href="#986463" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#986464" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="985843">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="986474">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986479">savedOuterParam</a> = <a href="#985838" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#986474" title="ExplicitOuter.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Template<a href="#3358895" title="Unit" id="3358900" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[ExplicitOuter.this.global.Tree]" id="3358896">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="ExplicitOuter.this.global.ValDef" id="3358897">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[ExplicitOuter.this.global.Tree]" id="3358898">_</a><span class="delimiter">)</span> =&gt;
            <a href="#985838" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> DefDef<a href="#3358895" title="Unit" id="3358907" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="ExplicitOuter.this.global.Modifiers" id="3358901">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="ExplicitOuter.this.global.Name" id="3358902">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[ExplicitOuter.this.global.TypeDef]" id="3358903">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[ExplicitOuter.this.global.ValDef]]" id="986528">vparamss</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="ExplicitOuter.this.global.Tree" id="3358904">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="ExplicitOuter.this.global.Tree" id="3358905">_</a><span class="delimiter">)</span> =&gt;
            <a href="#3358909" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#986474" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411200" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#986474" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#985838" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#986528" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ExplicitOuter.this.global.ValDef">head</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>
              <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#985838" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; ExplicitOuter.this.global.Symbol#NameType">name</a> <a href="../../../reflect/internal/Names.scala.html#410400" title="(prefix: ExplicitOuter.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414022" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#985838" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; ExplicitOuter.this.global.Symbol#NameType">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
        <a href="#621816" title="ExplicitOuter.this.OuterPathTransformer" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986474" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#985838" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#986479" title="ExplicitOuter.this.global.Symbol">savedOuterParam</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** &lt;p&gt;
   *    The phase performs the following transformations on terms:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt; &lt;!-- 1 --&gt;
   *      &lt;p&gt;
   *        An class which is not an interface and is not static gets an outer
   *        accessor (@see outerDefs).
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        1a. A class which is not a trait gets an outer field.
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 4 --&gt;
   *      A constructor of a non-trait inner class gets an outer parameter.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 5 --&gt;
   *      A reference C.this where C refers to an
   *      outer class is replaced by a selection
   *      this.$outer$$C1 ... .$outer$$Cn (@see outerPath)
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 7 --&gt;
   *      A call to a constructor Q.&lt;init&gt;(args) or Q.$init$(args) where Q != this and
   *      the constructor belongs to a non-static class is augmented by an outer argument.
   *      E.g. Q.&lt;init&gt;(OUTER, args) where OUTER
   *      is the qualifier corresponding to the singleton type Q.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      A call to a constructor this.&lt;init&gt;(args) in a
   *      secondary constructor is augmented to this.&lt;init&gt;(OUTER, args)
   *      where OUTER is the last parameter of the secondary constructor.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 9 --&gt;
   *      Remove private modifier from class members M
   *      that are accessed from an inner class.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 10 --&gt;
   *      Remove protected modifier from class members M
   *      that are accessed without a super qualifier accessed from an inner
   *      class or trait.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 11 --&gt;
   *      Remove private and protected modifiers
   *      from type symbols
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 12 --&gt;
   *      Remove private modifiers from members of traits
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  &lt;p&gt;
   *    Note: The whole transform is run in phase explicitOuter.next.
   *  &lt;/p&gt;
   */
  <span class="keyword">class</span> <a title="class ExplicitOuterTransformer extends ExplicitOuter.this.OuterPathTransformer" id="621817">ExplicitOuterTransformer</a><a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="985854">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#621816" title="ExplicitOuter.this.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#985854" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    transformer =&gt;

    /** The definition tree of the outer accessor of current class
     */
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="985848">outerFieldDef</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <a href="../ast/TreeDSL.scala.html#624596" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#621807" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#663071" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.ValDef">===</a> <a href="../../../reflect/internal/Trees.scala.html#407946" title="ExplicitOuter.this.global.EmptyTree.type">EmptyTree</a>

    /** The definition tree of the outer accessor of current class
     */
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="985849">outerAccessorDef</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986566">outerAcc</a> = <a href="#621812" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="986567">rhs</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> =
        <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986566" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="ExplicitOuter.this.global.EmptyTree.type">EmptyTree</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#408123" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624619" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ExplicitOuter.this.CODE.SelectStart)ExplicitOuter.this.global.Select">DOT</a> <a href="#621807" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>

      /** If we don't re-type the tree, we see self-type related crashes like #266.
       */
      <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624593" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#986566" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#663013" title="(pos: scala.reflect.internal.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a> <a href="../ast/TreeDSL.scala.html#663011" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.CODE.DefSymStart">withType</a> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#663071" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="#986567" title="ExplicitOuter.this.global.Tree">rhs</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The definition tree of the outer accessor for class mixinClass.
     *
     *  @param mixinClass The mixin class which defines the abstract outer
     *                    accessor which is implemented by the generated one.
     *  @pre mixinClass is an inner class
     */
    <span class="keyword">def</span> <a title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="985850">mixinOuterAccessorDef</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="986618">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="986619">outerAcc</a>    = <a href="#621812" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#986618" title="ExplicitOuter.this.global.Symbol">mixinClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411463" title="(ofclazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">overridingSymbol</a> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>
      <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Type" id="986620">mixinPrefix</a> = <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#408459" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">baseType</a> <a href="#986618" title="ExplicitOuter.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408418" title="=&gt; ExplicitOuter.this.global.Type">prefix</a>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#986619" title="ExplicitOuter.this.global.Symbol">outerAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;No outer accessor for inner mixin &quot;)" class="string">&quot;No outer accessor for inner mixin &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#986618" title="ExplicitOuter.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      // I added the mixinPrefix.typeArgs.nonEmpty condition to address the
      // crash in SI-4970.  I feel quite sure this can be improved.
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.gen.global.Tree" id="986621">path</a> = <span class="delimiter">(</span>
        <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986618" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="ExplicitOuter.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470995" title="(sym: ExplicitOuter.this.global.gen.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#986618" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; ExplicitOuter.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986620" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[ExplicitOuter.this.global.Type]">typeArgs</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="ExplicitOuter.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470995" title="(sym: ExplicitOuter.this.global.gen.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#986620" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="ExplicitOuter.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470985" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#986620" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624593" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#986619" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#663013" title="(pos: scala.reflect.internal.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#663071" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <span class="delimiter">{</span>
          // Need to cast for nested outer refs in presence of self-types. See ticket #3274.
          <a href="../Global.scala.html#537460" title="ExplicitOuter.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543485" title="(tree: ExplicitOuter.this.global.gen.global.Tree, pt: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#621817" title="ExplicitOuterTransformer.this.type">transformer</a>.<a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986621" title="ExplicitOuter.this.global.gen.global.Tree">path</a><span class="delimiter">)</span>, <a href="#986619" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; ExplicitOuter.this.global.Type">resultType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // requires settings.XoldPatmat.value
    <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree" id="985851">matchTranslation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Match" id="986673">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#408014" title="ExplicitOuter.this.global.Match">Match</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Match<a href="#3358917" title="(x: (ExplicitOuter.this.global.Tree, List[ExplicitOuter.this.global.CaseDef]))(ExplicitOuter.this.global.Tree, List[ExplicitOuter.this.global.CaseDef])" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410097" title="ExplicitOuter.this.global.Tree" id="986675">selector</a>, <a href="../../../reflect/internal/Trees.scala.html#410099" title="List[ExplicitOuter.this.global.CaseDef]" id="986676">cases</a><span class="delimiter">)</span> = <a href="#986673" title="ExplicitOuter.this.global.Match">tree</a>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="986677">nselector</a> = <a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986675" title="ExplicitOuter.this.global.Tree">selector</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree" id="986678">makeGuardDef</a><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="986700">vs</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ExplicitOuter.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ExplicitOuter.this.global.Tree" id="986701">guard</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="986702">gdname</a> = <a href="#985854" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539276" title="(prefix: String)ExplicitOuter.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;gd&quot;)" class="string">&quot;gd&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="986703">method</a> = <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#986702" title="ExplicitOuter.this.global.TermName">gdname</a>, <a href="#986673" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.TermSymbol]" id="986704">params</a> = <a href="#986703" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../../../reflect/internal/Symbols.scala.html#411137" title="(argtypes: List[ExplicitOuter.this.global.Type])List[ExplicitOuter.this.global.TermSymbol]">newSyntheticValueParams</a> <a href="#986700" title="List[ExplicitOuter.this.global.Symbol]">vs</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]])List[ExplicitOuter.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]]" class="delimiter">(</a><a href="#986733" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#986703" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ExplicitOuter.this.global.Type)method.type">setInfo</a> <span title="ExplicitOuter.this.global.MethodType" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#407341" title="ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#986704" title="List[ExplicitOuter.this.global.TermSymbol]">params</a>, <a href="../../../reflect/internal/Definitions.scala.html#409369" title="=&gt; ExplicitOuter.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

        <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
          <a href="../ast/TreeDSL.scala.html#624593" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#986703" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#663071" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="#986701" title="ExplicitOuter.this.global.Tree">guard</a>.<a href="../../../reflect/internal/Trees.scala.html#408563" title="(pairs: (ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)*)ExplicitOuter.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7509" title="(x: ExplicitOuter.this.global.Symbol)ArrowAssoc[ExplicitOuter.this.global.Symbol]">currentOwner</a> <a href="../../../Predef.scala.html#62634" title="(y: ExplicitOuter.this.global.MethodSymbol)(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.MethodSymbol)">-&gt;</a> <a href="#986703" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408555" title="(from: List[ExplicitOuter.this.global.Symbol], to: List[ExplicitOuter.this.global.Symbol])ExplicitOuter.this.global.Tree">substituteSymbols</a><span class="delimiter">(</span><a href="#986700" title="List[ExplicitOuter.this.global.Symbol]">vs</a>, <a href="#986704" title="List[ExplicitOuter.this.global.TermSymbol]">params</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="986679">nguard</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.CaseDef]" id="986680">ncases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#410180" title="ExplicitOuter.this.global.Tree" id="986837">pat</a>, <a href="../../../reflect/internal/Trees.scala.html#410182" title="ExplicitOuter.this.global.Tree" id="986838">guard</a>, <a href="../../../reflect/internal/Trees.scala.html#410184" title="ExplicitOuter.this.global.Tree" id="986839">body</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#58161" title="(f: ExplicitOuter.this.global.CaseDef =&gt; ExplicitOuter.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.CaseDef],ExplicitOuter.this.global.CaseDef,List[ExplicitOuter.this.global.CaseDef]])List[ExplicitOuter.this.global.CaseDef]">cases</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#3358974" title="(x: ExplicitOuter.this.global.CaseDef)ExplicitOuter.this.global.CaseDef" class="delimiter">{</a>
          // Strip out any unused pattern bindings up front
          <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Symbol]" id="986840">patternIdents</a> = <span class="keyword">for</span> <span class="delimiter">(</span>b @ Bind<a href="#3358928" title="Boolean" id="3358943" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410157" title="ExplicitOuter.this.global.Name" id="3358940">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410159" title="ExplicitOuter.this.global.Tree" id="3358941">_</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">pat</a><span class="delimiter">)</span> <span class="keyword">yield</span> b.<a href="#3358945" title="(x: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">symbol</a>
          <span class="keyword">val</span> <a title="Set[ExplicitOuter.this.global.Symbol]" id="986841">references</a>: <a href="../../../collection/immutable/Set.scala.html#11919" title="Set[ExplicitOuter.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="(elems: ExplicitOuter.this.global.Tree*)scala.collection.immutable.Set[ExplicitOuter.this.global.Tree]">Set</a><span class="delimiter">(</span><a href="#986838" title="ExplicitOuter.this.global.Tree">guard</a>, <a href="#986839" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: ExplicitOuter.this.global.Tree =&gt; scala.collection.GenTraversableOnce[ExplicitOuter.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,Set[ExplicitOuter.this.global.Symbol]])Set[ExplicitOuter.this.global.Symbol]">flatMap</a> <span class="delimiter">{</span> <a title="ExplicitOuter.this.global.Tree" id="986937">t</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span>id @ Ident<a href="#3358949" title="Boolean" id="3358960" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409987" title="ExplicitOuter.this.global.Name" id="986975">name</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">t</a><span class="delimiter">)</span> <span class="keyword">yield</span> id.<a href="#3358962" title="(x: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">symbol</a> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#3358968" title="(x: (List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol]))(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ExplicitOuter.this.global.Symbol]" id="986843">used</a>, <a href="../../../Tuple2.scala.html#60637" title="List[ExplicitOuter.this.global.Symbol]" id="986844">unused</a><span class="delimiter">)</span> = <a href="#986840" title="List[ExplicitOuter.this.global.Symbol]">patternIdents</a> <a href="../../../collection/TraversableLike.scala.html#58080" title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])">partition</a> <a href="#986841" title="Set[ExplicitOuter.this.global.Symbol]">references</a>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="986845">strippedPat</a> = <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986844" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#986837" title="ExplicitOuter.this.global.Tree">pat</a> <span class="keyword">else</span> <span title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">new</span> <a href="#621810" title="ExplicitOuter.this.RemoveBindingsTransformer">RemoveBindingsTransformer</a><span class="delimiter">(</span><a href="#986844" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<a href="../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[ExplicitOuter.this.global.Symbol]">toSet</a><span class="delimiter">)</span> <a href="#985910" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a> <a href="#986837" title="ExplicitOuter.this.global.Tree">pat</a>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="986846">gdcall</a> =
            <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986838" title="ExplicitOuter.this.global.Tree">guard</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="ExplicitOuter.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="ExplicitOuter.this.global.EmptyTree.type">EmptyTree</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="987057">guardDef</a> = <a href="#986678" title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">makeGuardDef</a><span class="delimiter">(</span><a href="#986843" title="List[ExplicitOuter.this.global.Symbol]">used</a>, <a href="#986838" title="ExplicitOuter.this.global.Tree">guard</a><span class="delimiter">)</span>
              <a href="#986679" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: ExplicitOuter.this.global.Tree)nguard.type">+=</a> <a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#987057" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a><span class="delimiter">)</span> // building up list of guards

              <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#987057" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ExplicitOuter.this.global.analyzer.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662337" title="(params: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#986843" title="List[ExplicitOuter.this.global.Symbol]">used</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Ident,List[ExplicitOuter.this.global.Ident]])List[ExplicitOuter.this.global.Ident]">map</a> <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624584" title="(pat: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986845" title="ExplicitOuter.this.global.Tree">strippedPat</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662967" title="(g: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">IF</a> <a href="#986846" title="ExplicitOuter.this.global.analyzer.global.Tree">gdcall</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662968" title="(body: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.CaseDef">==&gt;</a> <a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986839" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">val</span> <a href="#3358989" title="(x: (Boolean, Boolean))(Boolean, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="986682">checkExhaustive</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="986683">requireSwitch</a><span class="delimiter">)</span> = <a href="#986677" title="ExplicitOuter.this.global.Tree">nselector</a> <a href="../../../Tuple2.scala.html#783" title="(Boolean, Boolean) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
        <span class="keyword">case</span> Typed<a href="#3358978" title="(Boolean, Boolean)" id="3358980" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410055" title="ExplicitOuter.this.global.Tree" id="987186">nselector1</a>, <a href="../../../reflect/internal/Trees.scala.html#410057" title="ExplicitOuter.this.global.Tree" id="987187">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="987188">unchecked</a> = <a href="#987187" title="ExplicitOuter.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#408615" title="(cls: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#409205" title="=&gt; ExplicitOuter.this.global.ClassSymbol">UncheckedClass</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#987188" title="Boolean">unchecked</a><span class="delimiter">)</span>
            <a href="#986677" title="ExplicitOuter.this.global.Tree">nselector</a> = <a href="#987186" title="ExplicitOuter.this.global.Tree">nselector1</a>

          // Don't require a tableswitch if there are 1-2 casedefs
          // since the matcher intentionally emits an if-then-else.
          <a href="../../../Tuple2.scala.html#62849" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#987188" title="Boolean">unchecked</a>, <a href="../ast/Trees.scala.html#537807" title="ExplicitOuter.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#479226" title="(tpe: ExplicitOuter.this.global.treeInfo.global.Type)Boolean">isSwitchAnnotation</a><span class="delimiter">(</span><a href="#987187" title="ExplicitOuter.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#986680" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _  =&gt;
          <a href="#3358982" title="(x: (Boolean, Boolean))(Boolean, Boolean)" class="delimiter">(</a><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="986684">t</a> = <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#986673" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.MatrixContext" id="987229">context</a>     = <a href="../matching/Matrix.scala.html#930005" title="(cunit: ExplicitOuter.this.global.CompilationUnit, handleOuter: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Tree, typer: ExplicitOuter.this.global.analyzer.Typer, owner: ExplicitOuter.this.global.Symbol, matchResultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.MatrixContext">MatrixContext</a><span class="delimiter">(</span><a href="../Global.scala.html#537673" title="=&gt; ExplicitOuter.this.global.CompilationUnit">currentUnit</a>, <a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a>, <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>, <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#986673" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="987230">t_untyped</a>   = <a href="../matching/Matrix.scala.html#621982" title="(selector: ExplicitOuter.this.global.Tree, cases: List[ExplicitOuter.this.global.CaseDef], isChecked: Boolean, context: ExplicitOuter.this.MatrixContext)ExplicitOuter.this.global.Tree">handlePattern</a><span class="delimiter">(</span><a href="#986677" title="ExplicitOuter.this.global.Tree">nselector</a>, <a href="#986680" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>, <a href="#986682" title="Boolean">checkExhaustive</a>, <a href="#987229" title="ExplicitOuter.this.MatrixContext">context</a><span class="delimiter">)</span>

        /* if @switch annotation is present, verify the resulting tree is a Match */
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#986683" title="Boolean">requireSwitch</a><span class="delimiter">)</span> <a href="#987230" title="ExplicitOuter.this.global.Tree">t_untyped</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Block<a href="#3358993" title="Unit" id="3358997" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410192" title="List[ExplicitOuter.this.global.Tree]" id="3358994">_</a>, Match<a href="../../../reflect/internal/Trees.scala.html#410194" title="ExplicitOuter.this.global.Tree" id="3359001" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410097" title="ExplicitOuter.this.global.Tree" id="3358998">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410099" title="List[ExplicitOuter.this.global.CaseDef]" id="3358999">_</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; // ok
          <span class="keyword">case</span> _                      =&gt;
            <a href="#985854" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">error</a><a href="#3359003" title="(x: Unit)Unit" class="delimiter">(</a><a href="#986673" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="String(&quot;could not emit switch for @switch annotated match&quot;)" class="string">&quot;could not emit switch for @switch annotated match&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538704" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree, pt: ExplicitOuter.this.global.analyzer.global.Type)ExplicitOuter.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#987230" title="ExplicitOuter.this.global.Tree">t_untyped</a>, <a href="#987229" title="ExplicitOuter.this.MatrixContext">context</a>.<a href="../matching/Matrix.scala.html#929666" title="=&gt; ExplicitOuter.this.global.Type">matchResultType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#986679" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79860" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#986684" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>
      <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#453067" title="(stats: List[ExplicitOuter.this.global.Tree], expr: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Block">Block</a><span class="delimiter">(</span><a href="#986679" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</a>, <a href="#986684" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Block">setType</a> <a href="#986684" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.analyzer.global.Type">tpe</a>
    <span class="delimiter">}</span>

    /** The main transformation method */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="985852">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="986664">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="987287">sym</a> = <a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402394" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span> //(9)
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407029" title="=&gt; Long">notPRIVATE</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407031" title="=&gt; Long">notPROTECTED</a>
      <span class="delimiter">}</span>
      <a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Template<a href="#3359051" title="ExplicitOuter.this.global.Tree" id="3359053" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[ExplicitOuter.this.global.Tree]" id="987315">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="ExplicitOuter.this.global.ValDef" id="987316">self</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[ExplicitOuter.this.global.Tree]" id="987317">decls</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="987318">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
          <a href="TypingTransformers.scala.html#984466" title="(tree: ExplicitOuter.this.global.Tree, owner: ExplicitOuter.this.global.Symbol)(trans: =&gt; Unit)Unit">atOwner</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409854" title="=&gt; Boolean">isInterface</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407021" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#621806" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#987318" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</a> <a href="#985848" title="=&gt; ExplicitOuter.this.global.Tree">outerFieldDef</a> // (1a)
                <a href="#987318" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</a> <a href="#985849" title="=&gt; ExplicitOuter.this.global.Tree">outerAccessorDef</a> // (1)
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
                <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="987413">mc</a> &lt;- <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../collection/immutable/List.scala.html#62719" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#621812" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#987413" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                    <a href="#987318" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</a> <a href="#985850" title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">mixinOuterAccessorDef</a><span class="delimiter">(</span><a href="#987413" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#985843" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/Trees.scala.html#408158" title="(templ: ExplicitOuter.this.global.Tree)(applyToBody: List[ExplicitOuter.this.global.Tree] =&gt; List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Tree]" id="987432">decls</a> =&gt;
              <span title="List[ExplicitOuter.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#987318" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79860" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#987432" title="List[ExplicitOuter.this.global.Tree]">decls</a>
              <span class="keyword">else</span> <a href="#987432" title="List[ExplicitOuter.this.global.Tree]">decls</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[ExplicitOuter.this.global.Tree])List[ExplicitOuter.this.global.Tree]">:::</a> <a href="#987318" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> DefDef<a href="#3359051" title="ExplicitOuter.this.global.Tree" id="3359059" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="ExplicitOuter.this.global.Modifiers" id="3359054">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="ExplicitOuter.this.global.Name" id="3359055">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[ExplicitOuter.this.global.TypeDef]" id="3359056">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[ExplicitOuter.this.global.ValDef]]" id="987451">vparamss</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="ExplicitOuter.this.global.Tree" id="3359057">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="ExplicitOuter.this.global.Tree" id="987452">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#3359093" title="(x: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411200" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#987452" title="ExplicitOuter.this.global.Tree">rhs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Literal<a href="#3359008" title="ExplicitOuter.this.global.Tree" id="3359011" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409973" title="ExplicitOuter.this.global.Constant" id="3359009">_</a><span class="delimiter">)</span> =&gt;
                sys.<a href="../../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><a href="#3359013" title="(x: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" class="delimiter">(</a><span title="String(&quot;unexpected case&quot;)" class="string">&quot;unexpected case&quot;</span><span class="delimiter">)</span> //todo: remove
              <span class="keyword">case</span> _ =&gt;
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="987454">clazz</a> = <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>
                <span class="keyword">val</span> <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="987455">vparamss1</a> =
                  <span title="List[List[ExplicitOuter.this.global.ValDef]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#987454" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4)
                    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="987456">outerParam</a> =
                      <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411111" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414022" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a> <a href="#987454" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408103" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#987456" title="ExplicitOuter.this.global.TermSymbol">outerParam</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.ValDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#407284" title="ExplicitOuter.this.global.NoType.type">NoType</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ExplicitOuter.this.global.ValDef)List[ExplicitOuter.this.global.ValDef]">::</a> <a href="#987451" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: List[ExplicitOuter.this.global.ValDef])List[List[ExplicitOuter.this.global.ValDef]]">::</a> <a href="#987451" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[List[ExplicitOuter.this.global.ValDef]]">tail</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#987451" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>
                <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#985843" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">copyDefDef</a><a href="../../../reflect/internal/Trees.scala.html#486469" title="ExplicitOuter.this.global.Modifiers" id="987519" class="delimiter">(</a><a href="#986664" title="ExplicitOuter.this.global.Tree" id="987508">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>vparamss = <a href="#987455" title="List[List[ExplicitOuter.this.global.ValDef]]" id="987514">vparamss1</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#985843" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> This<a href="#3359051" title="ExplicitOuter.this.global.Tree" id="3359061" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410008" title="ExplicitOuter.this.global.TypeName" id="987523">qual</a><span class="delimiter">)</span> =&gt;
          <a href="#3359093" title="(x: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409842" title="=&gt; Boolean">hasModuleFlag</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411293" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#985842" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#985840" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>, <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> // (5)

        <span class="keyword">case</span> Select<a href="#3359051" title="ExplicitOuter.this.global.Tree" id="3359063" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="ExplicitOuter.this.global.Tree" id="987539">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="ExplicitOuter.this.global.Name" id="987540">name</a><span class="delimiter">)</span> =&gt;
          // make not private symbol acessed from inner classes, as well as
          // symbols accessed from @inline methods
          //
          // See SI-6552 for an example of why `sym.owner.enclMethod hasAnnotation ScalaInlineClass`
          // is not suitable; if we make a method-local class non-private, it mangles outer pointer names.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
              <span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#407202" title="(from: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">closestEnclMethod</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <a href="../../../reflect/internal/AnnotationInfos.scala.html#408615" title="(cls: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#409193" title="=&gt; ExplicitOuter.this.global.ClassSymbol">ScalaInlineClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411477" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="987541">qsym</a> = <a href="#987539" title="ExplicitOuter.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; ExplicitOuter.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> //(4)
              <span class="delimiter">(</span><a href="#987541" title="ExplicitOuter.this.global.Symbol">qsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#987539" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#408045" title="ExplicitOuter.this.global.Super">Super</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#987541" title="ExplicitOuter.this.global.Symbol">qsym</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: ExplicitOuter.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407031" title="=&gt; Long">notPROTECTED</a>
          <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#985843" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Apply<a href="#3359051" title="Boolean" id="3359065" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="ExplicitOuter.this.global.Tree" id="987566">sel</a> @ Select<a href="#987566" title="ExplicitOuter.this.global.Tree" id="3359068" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="ExplicitOuter.this.global.Tree" id="987571">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/Trees.scala.html#410001" title="ExplicitOuter.this.global.Name" id="3359085">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[ExplicitOuter.this.global.Tree]" id="987572">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#621804" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span>sel.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="987574">outerVal</a> = <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#987571" title="ExplicitOuter.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            // it's a call between constructors of same class
            <span class="keyword">case</span> _: This  =&gt;
              <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#985838" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
              <a href="#985840" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>
            <span class="keyword">case</span> _        =&gt;
              <a href="../Global.scala.html#537460" title="ExplicitOuter.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470985" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><a href="#3359034" title="(x: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" class="delimiter">(</a><a href="#987571" title="ExplicitOuter.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408418" title="=&gt; ExplicitOuter.this.global.Type">prefix</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#407286" title="ExplicitOuter.this.global.gen.global.Type" id="3359020">NoPrefix</a> =&gt; <a href="#987287" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411434" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="#3359022" title="(x: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Type">thisType</a>
                <span class="keyword">case</span> x        =&gt; <a href="#3359022" title="(x: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Type">x</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#985843" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405397" title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>, sel, <a href="#987574" title="ExplicitOuter.this.global.Tree">outerVal</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ExplicitOuter.this.global.Tree)List[ExplicitOuter.this.global.Tree]">::</a> <a href="#987572" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // entry point for pattern matcher translation
        <span class="keyword">case</span> <a href="#3359051" title="ExplicitOuter.this.global.Tree" id="3359086">m</a>: Match <span class="keyword">if</span> <a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540025" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">XoldPatmat</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> =&gt; // the new pattern matcher runs in its own phase right after typer
          <a href="#985851" title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree">matchTranslation</a><a href="#3359093" title="(x: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" class="delimiter">(</a>m<span class="delimiter">)</span>

        // for the new pattern matcher
        // base.&lt;outer&gt;.eq(o) --&gt; base.$outer().eq(o) if there's an accessor, else the whole tree becomes TRUE
        // TODO remove the synthetic `&lt;outer&gt;` method from outerFor??
        <span class="keyword">case</span> Apply<span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#410031" title="ExplicitOuter.this.global.Tree" id="987611">eqsel</a>@Select<a href="#987611" title="ExplicitOuter.this.global.Tree" id="3359075" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="ExplicitOuter.this.global.Tree" id="987616">eqapp</a>@Apply<a href="#987616" title="ExplicitOuter.this.global.Tree" id="3359078" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="ExplicitOuter.this.global.Tree" id="987621">sel</a>@Select<a href="#987621" title="ExplicitOuter.this.global.Tree" id="3359081" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="ExplicitOuter.this.global.Tree" id="987626">base</a>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ExplicitOuter.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/Trees.scala.html#410001" title="ExplicitOuter.this.global.Name" id="3359087">OUTER_SYNTH</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[ExplicitOuter.this.global.Tree]" id="3359088">Nil</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="ExplicitOuter.this.global.Name" id="987627">eq</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[ExplicitOuter.this.global.Tree]" id="987628">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540025" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">XoldPatmat</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> =&gt;
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="987633">outerFor</a> = sel.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411458" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> // TODO: toInterface necessary?
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="987634">acc</a> = <a href="#621812" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#987633" title="ExplicitOuter.this.global.Symbol">outerFor</a><span class="delimiter">)</span>

          <span title="Nothing" class="keyword">if</span> <span class="delimiter">(</span><a href="#987634" title="ExplicitOuter.this.global.Symbol">acc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
              // since we can't fix SI-4440 properly (we must drop the outer accessors of final classes when there's no immediate reference to them in sight)
              // at least don't crash... this duplicates maybeOmittable from constructors
              <span class="delimiter">(</span><a href="#987634" title="ExplicitOuter.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#987634" title="ExplicitOuter.this.global.Symbol">acc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411465" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#985854" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539301" title="(pos: ExplicitOuter.this.global.Position, msg: String)Any">uncheckedWarning</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="String(&quot;The outer reference in this type test cannot be checked at run time.&quot;)" class="string">&quot;The outer reference in this type test cannot be checked at run time.&quot;</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624554" title="=&gt; ExplicitOuter.this.global.Literal">TRUE</a><span class="delimiter">)</span> // urgh... drop condition if there's no accessor (or if it may disappear after constructors)
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // println(&quot;(base, acc)= &quot;+(base, acc))
            <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="987642">outerSelect</a> = <a href="TypingTransformers.scala.html#984456" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#987626" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#987634" title="ExplicitOuter.this.global.Symbol">acc</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
            // achieves the same as: localTyper typed atPos(tree.pos)(outerPath(base, base.tpe.typeSymbol, outerFor.outerClass))
            // println(&quot;(b, tpsym, outerForI, outerFor, outerClass)= &quot;+ (base, base.tpe.typeSymbol, outerFor, sel.symbol.owner, outerFor.outerClass))
            // println(&quot;outerSelect = &quot;+ outerSelect)
            <span title="Nothing" class="keyword">return</span> <a href="#985852" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405397" title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405400" title="(tree: ExplicitOuter.this.global.Tree, qualifier: ExplicitOuter.this.global.Tree, selector: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span>eqsel, <a href="#987642" title="ExplicitOuter.this.global.analyzer.global.Tree">outerSelect</a>, <a href="#987627" title="ExplicitOuter.this.global.Name">eq</a><span class="delimiter">)</span>, <a href="#987628" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> _ =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#539983" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeApply<a href="#3359039" title="Unit" id="3359041" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="ExplicitOuter.this.global.Tree" id="987684">fn</a> @ Select<a href="#987684" title="Unit" id="3359044" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="ExplicitOuter.this.global.Tree" id="987689">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="ExplicitOuter.this.global.Name" id="3359042">_</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[ExplicitOuter.this.global.Tree]" id="987690">args</a><span class="delimiter">)</span> <span class="keyword">if</span> fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409093" title="=&gt; ExplicitOuter.this.global.MethodSymbol">Object_isInstanceOf</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409069" title="=&gt; ExplicitOuter.this.global.MethodSymbol">Any_isInstanceOf</a> =&gt;
              <a href="#3359046" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#621811" title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean">isArraySeqTest</a><span class="delimiter">(</span><a href="#987689" title="ExplicitOuter.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>, <a href="#987690" title="List[ExplicitOuter.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ExplicitOuter.this.global.Tree">head</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#985854" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="String(&quot;An Array will no longer match as Seq[_].&quot;)" class="string">&quot;An Array will no longer match as Seq[_].&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt; <a href="#3359046" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="987680">x</a> = <a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#985843" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#986664" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#987680" title="ExplicitOuter.this.global.Tree">x</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#987680" title="ExplicitOuter.this.global.Tree">x</a>
          <span class="keyword">else</span> <a href="#987680" title="ExplicitOuter.this.global.Tree">x</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: ExplicitOuter.this.global.Type)x.type">setType</a> <a href="#621815" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#987680" title="ExplicitOuter.this.global.Tree">x</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The transformation method for whole compilation units */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit" id="985853">transformUnit</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="987710">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#537681" title="(op: =&gt; Unit)Unit">afterExplicitOuter</a><span class="delimiter">(</span><a href="#621817" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#542655" title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#987710" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)ExplicitOuter.this.StdPhase" id="621818">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="624543">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#19756" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#620064" title="ExplicitOuter.this.StdPhase">StdPhase</a> =
    <span title="ExplicitOuter.this.Phase" class="keyword">new</span> <a href="#621819" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#624543" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class Phase extends ExplicitOuter.this.Phase" id="621819">Phase</a><a href="#621819" title="ExplicitOuter.this.Phase" class="delimiter">(</a><a title="tools.nsc.Phase" id="987732">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#19756" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#42414" title="scala.tools.nsc.transform.ExplicitOuter" class="keyword">super</a>.<a href="InfoTransform.scala.html#621619" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#987732" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="987730">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>