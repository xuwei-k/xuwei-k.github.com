<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/AddInterfaces.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#55820" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class AddInterfaces extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform" id="42843">AddInterfaces</a> <a href="#42843" title="scala.tools.nsc.transform.AddInterfaces" class="keyword">extends</a> <a href="InfoTransform.scala.html#43005" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span> self: Erasure =&gt;
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>._                  // the global environment
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="AddInterfaces.this.global.definitions.type">definitions</a>._             // standard classes and methods

  /** The phase sets lateINTERFACE for non-interface traits that now
   *  become interfaces. It sets lateDEFERRED for formerly concrete
   *  methods in such traits.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="622201">phaseNewFlags</a>: <a href="../../../Long.scala.html#1293" title="Long">Long</a> = <a href="../../../reflect/internal/Flags.scala.html#407017" title="=&gt; Long">lateDEFERRED</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <a href="../../../reflect/internal/Flags.scala.html#407021" title="=&gt; Long">lateINTERFACE</a>

  /** A lazily constructed map that associates every non-interface trait with
   *  its implementation class.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" id="622202">implClassMap</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="AddInterfaces.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** A lazily constructed map that associates every concrete method in a non-interface
   *  trait that's currently compiled with its corresponding method in the trait's
   *  implementation class.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" id="622204">implMethodMap</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="AddInterfaces.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)AddInterfaces.this.StdPhase" id="622206">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="624541">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#19756" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#620064" title="AddInterfaces.this.StdPhase">StdPhase</a> = <span class="delimiter">{</span>
    <a href="#622202" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implClassMap</a>.<a href="../../../collection/mutable/HashMap.scala.html#88240" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#622204" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implMethodMap</a>.<a href="../../../collection/mutable/HashMap.scala.html#88240" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#42843" title="scala.tools.nsc.transform.Erasure" class="keyword">super</a>.<a href="InfoTransform.scala.html#621616" title="(prev: tools.nsc.Phase)AddInterfaces.this.StdPhase">newPhase</a><span class="delimiter">(</span><a href="#624541" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Is given trait member symbol a member of the trait's interface
   *  after this transform is performed?
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Boolean" id="622207">isInterfaceMember</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975109">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402394" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
      <a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>  // initialize to set lateMETHOD flag if necessary

      <span class="delimiter">(</span>     <a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a>
        <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411218" title="=&gt; Boolean">isLabel</a>
        <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a>
        <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411268" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span> // count @bridge annotated classes as interface members
        <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a>
        <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975109" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411291" title="=&gt; Boolean">isImplOnly</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  /** Does symbol need an implementation method? */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Boolean" id="622208">needsImplMethod</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975112">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#975112" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a>
    <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622207" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#975112" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975112" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>DEFERRED <span title="Long(268435472L)">|</span> SUPERACCESSOR<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#975112" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407017" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scala.reflect.internal.Phase" id="622209">implClassPhase</a> = <a href="../Global.scala.html#537672" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539392" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../reflect/internal/Phase.scala.html#419705" title="=&gt; scala.reflect.internal.Phase">next</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol" id="622210">newImplClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975122">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="975124">inClass</a>   = <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a>
    <span class="keyword">val</span> <a title="AddInterfaces.this.global.TypeName" id="975125">implName</a>  = <a href="../../../reflect/internal/StdNames.scala.html#407863" title="AddInterfaces.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#416355" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.TypeName">implClassName</a><span class="delimiter">(</span><a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; iface.NameType">name</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Long" id="975126">implFlags</a> = <span class="delimiter">(</span><a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57511" title="(x: Long)Long">&amp;</a> <a href="../../../Long.scala.html#57450" title="=&gt; Long">~</a><span class="delimiter">(</span><span title="Int(128)">INTERFACE</span> <a href="../../../Int.scala.html#57140" title="(x: Long)Long">|</a> <a href="../../../reflect/internal/Flags.scala.html#407021" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(137438953472L)">IMPLCLASS</span>

    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="975127">impl0</a> = <span class="delimiter">(</span>
      <span title="AddInterfaces.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975124" title="Boolean">inClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">else</span> <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">decl</a><a href="#3357063" title="AddInterfaces.this.global.Symbol" class="delimiter">(</a><a href="#975125" title="AddInterfaces.this.global.TypeName">implName</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="AddInterfaces.this.global.Symbol" id="3357066">NoSymbol</a> =&gt; <a href="#3357069" title="(x: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">NoSymbol</a>
        <span class="keyword">case</span> implSym  =&gt;
          // Unlink a pre-existing symbol only if the implementation class is
          // visible on the compilation classpath.  In general this is true under
          // -optimise and not otherwise, but the classpath can use arbitrary
          // logic so the classpath must be queried.
          <a href="#3357069" title="(x: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol" class="keyword">if</a> <span class="delimiter">(</span><a href="../Global.scala.html#537458" title="=&gt; AddInterfaces.this.global.PlatformClassPath">classPath</a>.<a href="../util/ClassPath.scala.html#540521" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[AddInterfaces.this.global.platform.BinaryRepr]">context</a>.<a href="../util/ClassPath.scala.html#618384" title="(name: String)Boolean">isValidName</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">implName</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410516" title="(sym: AddInterfaces.this.global.Symbol)Unit">unlink</a> implSym
            <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;not unlinking $<a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>'s existing implClass $<span class="delimiter">{</span>implSym.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; AddInterfaces.this.global.Symbol#NameType">name</a><span class="delimiter">}</span><span class="string"> because it is not on the classpath.&quot;</span><span class="delimiter">)</span>
            implSym
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="975128">impl</a> = <a href="#975127" title="AddInterfaces.this.global.Symbol">impl0</a> <a href="../../../reflect/internal/Symbols.scala.html#411489" title="(alt: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">orElse</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.ClassSymbol" id="975158">impl</a> = <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411154" title="(name: AddInterfaces.this.global.TypeName, pos: AddInterfaces.this.global.Position, newFlags: Long)AddInterfaces.this.global.ClassSymbol">newImplClass</a><span class="delimiter">(</span><a href="#975125" title="AddInterfaces.this.global.TypeName">implName</a>, <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; AddInterfaces.this.global.Position">pos</a>, <a href="#975126" title="Long">implFlags</a><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411425" title="=&gt; AddInterfaces.this.global.Symbol">thisSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#975158" title="AddInterfaces.this.global.ClassSymbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411718" title="(tp: AddInterfaces.this.global.Type)Unit">typeOfThis</a> = <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411426" title="=&gt; AddInterfaces.this.global.Type">typeOfThis</a>
        <a href="#975158" title="AddInterfaces.this.global.ClassSymbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411717" title="=&gt; AddInterfaces.this.global.Symbol">thisSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411099" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">setName</a> <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411425" title="=&gt; AddInterfaces.this.global.Symbol">thisSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; AddInterfaces.this.global.Symbol#NameType">name</a>
      <span class="delimiter">}</span>
      <a href="#975158" title="AddInterfaces.this.global.ClassSymbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411486" title="(f: scala.reflect.io.AbstractFile)Unit">sourceFile</a> = <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411483" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#975124" title="Boolean">inClass</a><span class="delimiter">)</span>
        <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: AddInterfaces.this.global.ClassSymbol)AddInterfaces.this.global.ClassSymbol">enter</a> <a href="#975158" title="AddInterfaces.this.global.ClassSymbol">impl</a>

      <a href="#975158" title="AddInterfaces.this.global.ClassSymbol">impl</a>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; AddInterfaces.this.global.Run">currentRun</a> <a href="../Global.scala.html#539423" title="(sym: AddInterfaces.this.global.Symbol)Boolean">compiles</a> <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#537672" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: AddInterfaces.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#975128" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> = <a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411483" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a>

    <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: AddInterfaces.this.global.Symbol, value: AddInterfaces.this.global.Symbol)Unit">implClassMap</a><span class="delimiter">(</span><a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span> = <a href="#975128" title="AddInterfaces.this.global.Symbol">impl</a>
    <a href="#975128" title="AddInterfaces.this.global.Symbol">impl</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: AddInterfaces.this.global.Type)impl.type">setInfo</a> <span title="AddInterfaces.this.LazyImplClassType" class="keyword">new</span> <a href="#622212" title="AddInterfaces.this.LazyImplClassType">LazyImplClassType</a><span class="delimiter">(</span><a href="#975122" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Return the implementation class of a trait; create a new one of one does not yet exist */
  <span class="keyword">def</span> <a title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol" id="622211">implClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="974876">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>

    <a href="#622202" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implClassMap</a>.<a href="../../../collection/MapLike.scala.html#87532" title="(key: AddInterfaces.this.global.Symbol, default: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">getOrElse</a><span class="delimiter">(</span><a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#406672" title="(ph: scala.reflect.internal.Phase)(op: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="#622209" title="=&gt; scala.reflect.internal.Phase">implClassPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411433" title="=&gt; AddInterfaces.this.global.Symbol">implClass</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;$<span class="delimiter">{</span><a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span><span class="string"> has no implClass yet, creating it now.&quot;</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;$<span class="delimiter">{</span><a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span> impl class is $<span class="delimiter">{</span><a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411433" title="=&gt; AddInterfaces.this.global.Symbol">implClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411504" title="=&gt; String">nameString</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>

      <a href="#622210" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">newImplClass</a><span class="delimiter">(</span><a href="#974876" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** A lazy type to set the info of an implementation class
   *  The parents of an implementation class for trait iface are:
   *
   *  - superclass: Object
   *  - mixin classes: mixin classes of iface where every non-interface
   *  trait is mapped to its implementation class, followed by iface itself.
   *
   *  The declarations of a mixin class are:
   *  - for every interface member of iface: its implementation method, if one is needed
   *  - every former member of iface that is implementation only
   */
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class LazyImplClassType extends AddInterfaces.this.global.LazyType with AddInterfaces.this.global.FlagAgnosticCompleter" id="622212">LazyImplClassType</a><a href="#622212" title="AddInterfaces.this.LazyImplClassType" class="delimiter">(</a><a title="AddInterfaces.this.global.Symbol" id="975218">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#407392" title="AddInterfaces.this.global.LazyType">LazyType</a> <span class="keyword">with</span> <a href="../../../reflect/internal/Types.scala.html#407393" title="AddInterfaces.this.global.FlagAgnosticCompleter">FlagAgnosticCompleter</a> <span class="delimiter">{</span>
    /** Compute the decls of implementation class implClass,
     *  given the decls ifaceDecls of its interface.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(implClass: AddInterfaces.this.global.Symbol, ifaceDecls: AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope" id="975215">implDecls</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975244">implClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Scope" id="975245">ifaceDecls</a>: <a href="../../../reflect/internal/Scopes.scala.html#407751" title="AddInterfaces.this.global.Scope">Scope</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Scopes.scala.html#407751" title="AddInterfaces.this.global.Scope">Scope</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;LazyImplClassType calculating decls for &quot;)" class="string">&quot;LazyImplClassType calculating decls for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Scope" id="975247">decls</a> = <a href="../../../reflect/internal/Scopes.scala.html#407757" title="=&gt; AddInterfaces.this.global.Scope">newScope</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#975245" title="AddInterfaces.this.global.Scope">ifaceDecls</a> <a href="../../../reflect/internal/Scopes.scala.html#410517" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">lookup</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="AddInterfaces.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414018" title="=&gt; AddInterfaces.this.global.nme.NameType">MIXIN_CONSTRUCTOR</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Adding mixin constructor to &quot;)" class="string">&quot;Adding mixin constructor to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span>

        <a href="#975247" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: AddInterfaces.this.global.MethodSymbol)AddInterfaces.this.global.MethodSymbol">enter</a> <span class="delimiter">(</span>
          <a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: AddInterfaces.this.global.TermName, pos: AddInterfaces.this.global.Position, newFlags: Long)AddInterfaces.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="AddInterfaces.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414018" title="=&gt; AddInterfaces.this.global.nme.NameType">MIXIN_CONSTRUCTOR</a>, <a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[AddInterfaces.this.global.Symbol], resultType: AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; AddInterfaces.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; AddInterfaces.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975298">sym</a> &lt;- <a href="../../../reflect/internal/Scopes.scala.html#410525" title="(p: AddInterfaces.this.global.Symbol =&gt; Any)Unit">ifaceDecls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#622207" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#622208" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="sym.TypeOfClonedSymbol" id="975299">clone</a> = <a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411418" title="(newOwner: AddInterfaces.this.global.Symbol)sym.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)sym.TypeOfClonedSymbol">resetFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#407017" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539423" title="(sym: AddInterfaces.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: AddInterfaces.this.global.Symbol, value: AddInterfaces.this.global.Symbol)Unit">implMethodMap</a><span class="delimiter">(</span><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#975299" title="sym.TypeOfClonedSymbol">clone</a>
            <a href="#975247" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: sym.TypeOfClonedSymbol)sym.TypeOfClonedSymbol">enter</a> <a href="#975299" title="sym.TypeOfClonedSymbol">clone</a>
            <a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407017" title="=&gt; Long">lateDEFERRED</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;Cloned $<span class="delimiter">{</span><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">}</span> from $<span class="delimiter">{</span><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">}</span> into implClass $<span class="delimiter">{</span><a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;Destructively modifying owner of $<a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a> from $<span class="delimiter">{</span><a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">}</span> to $<a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a><span class="string">&quot;</span><span class="delimiter">)</span>
          <a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411316" title="(owner: AddInterfaces.this.global.Symbol)Unit">owner</a> = <a href="#975244" title="AddInterfaces.this.global.Symbol">implClass</a>
          // note: OK to destructively modify the owner here,
          // because symbol will not be accessible from outside the sourcefile.
          // mixin constructors are corrected separately; see TermSymbol.owner
          <a href="#975247" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#975298" title="AddInterfaces.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#975247" title="AddInterfaces.this.global.Scope">decls</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(implSym: AddInterfaces.this.global.Symbol)Unit" id="975216">complete</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975342">implSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;LazyImplClassType completing &quot;)" class="string">&quot;LazyImplClassType completing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#975342" title="AddInterfaces.this.global.Symbol">implSym</a><span class="delimiter">)</span>

      /** If `tp` refers to a non-interface trait, return a
       *  reference to its implementation class. Otherwise return `tp`.
       */
      <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="975347">mixinToImplClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="975349">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="AddInterfaces.this.global.Type">Type</a> = <a href="#42843" title="AddInterfaces.this.type">AddInterfaces</a>.<span class="keyword">this</span>.<a href="../../../reflect/internal/transform/Erasure.scala.html#440909" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" class="delimiter">(</a><a href="#975342" title="AddInterfaces.this.global.Symbol">implSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#975349" title="AddInterfaces.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span> //@MATN: no normalize needed (comes after erasure)
          <span class="keyword">case</span> TypeRef<a href="#3357077" title="AddInterfaces.this.global.Type" id="3357080" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="AddInterfaces.this.global.Type" id="975371">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="AddInterfaces.this.global.Symbol" id="975372">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[AddInterfaces.this.global.Type]" id="3357078">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#975372" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411290" title="=&gt; Boolean">needsImplClass</a> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#407402" title="(pre: AddInterfaces.this.global.Type, sym: AddInterfaces.this.global.Symbol, args: List[AddInterfaces.this.global.Type])AddInterfaces.this.global.Type">typeRef</a><a href="#3357082" title="(x: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" class="delimiter">(</a><a href="#975371" title="AddInterfaces.this.global.Type">pre</a>, <a href="#622211" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#975372" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#3357082" title="(x: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">tp</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="975348">implType</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="975379">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="AddInterfaces.this.global.Type">Type</a> = <a href="#975379" title="AddInterfaces.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ClassInfoType<a href="#3357087" title="AddInterfaces.this.global.Type" id="3357090" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[AddInterfaces.this.global.Type]" id="975383">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="AddInterfaces.this.global.Scope" id="975384">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="AddInterfaces.this.global.Symbol" id="3357088">_</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#406659" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#622209" title="=&gt; scala.reflect.internal.Phase">implClassPhase</a>, <a href="#975379" title="AddInterfaces.this.global.Type">tp</a><span class="delimiter">)</span>
          // Impl class parents: Object first, matching interface last.
          <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Type]" id="975385">implParents</a> = <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; AddInterfaces.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; AddInterfaces.this.global.Type">tpe</a> <a href="../../../collection/immutable/List.scala.html#62702" title="(elem: AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">+:</a> <span class="delimiter">(</span><a href="#975383" title="List[AddInterfaces.this.global.Type]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[AddInterfaces.this.global.Type]">tail</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: AddInterfaces.this.global.Type =&gt; AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">map</a> <a href="#975347" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">mixinToImplClass</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: AddInterfaces.this.global.Type =&gt; Boolean)List[AddInterfaces.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#975448" title="AddInterfaces.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; AddInterfaces.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; AddInterfaces.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">:+</a> <a href="#975218" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; AddInterfaces.this.global.Type">tpe</a>
          <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[AddInterfaces.this.global.Type], decls: AddInterfaces.this.global.Scope, typeSymbol: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#975385" title="List[AddInterfaces.this.global.Type]">implParents</a>, <a href="#975215" title="(implClass: AddInterfaces.this.global.Symbol, ifaceDecls: AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope">implDecls</a><span class="delimiter">(</span><a href="#975342" title="AddInterfaces.this.global.Symbol">implSym</a>, <a href="#975384" title="AddInterfaces.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#975342" title="AddInterfaces.this.global.Symbol">implSym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> PolyType<a href="#3357087" title="AddInterfaces.this.global.Type" id="3357093" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[AddInterfaces.this.global.Symbol]" id="3357091">_</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="AddInterfaces.this.global.Type" id="975571">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="#975348" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">implType</a><a href="#3357095" title="(x: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" class="delimiter">(</a><a href="#975571" title="AddInterfaces.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#975342" title="AddInterfaces.this.global.Symbol">implSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: AddInterfaces.this.global.Type)implSym.type">setInfo</a> <a href="#975348" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">implType</a><span class="delimiter">(</span><a href="../Global.scala.html#537708" title="(op: =&gt; AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">beforeErasure</a><span class="delimiter">(</span><a href="#975218" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol)Unit" id="975217">load</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975576">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#975216" title="(implSym: AddInterfaces.this.global.Symbol)Unit">complete</a><span class="delimiter">(</span><a href="#975576" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="622213">transformMixinInfo</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="975580">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="AddInterfaces.this.global.Type">Type</a> = <a href="#975580" title="AddInterfaces.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> ClassInfoType<a href="#3357113" title="AddInterfaces.this.global.Type" id="3357115" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[AddInterfaces.this.global.Type]" id="975585">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="AddInterfaces.this.global.Scope" id="975586">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="AddInterfaces.this.global.Symbol" id="975587">clazz</a><span class="delimiter">)</span> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411290" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span>
        <a href="#622211" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)clazz.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#407021" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> // generate an impl class

      <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Type]" id="975588">parents1</a> = <a href="#975585" title="List[AddInterfaces.this.global.Type]">parents</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="List[AddInterfaces.this.global.Type]" id="3357103">Nil</a>      =&gt; <a href="#3357105" title="(x: List[AddInterfaces.this.global.Type])List[AddInterfaces.this.global.Type]">Nil</a>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="AddInterfaces.this.global.Type" id="975597">hd</a> <a href="#3357100" title="List[AddInterfaces.this.global.Type]" id="3357102">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[AddInterfaces.this.global.Type]" id="975598">tl</a> =&gt;
          <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#975597" title="AddInterfaces.this.global.Type">hd</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; AddInterfaces.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a>, <a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span title="List[AddInterfaces.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="../../../reflect/internal/transform/Erasure.scala.html#440925" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; AddInterfaces.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]">::</a> <a href="#975598" title="List[AddInterfaces.this.global.Type]">tl</a>
          <span class="keyword">else</span> <a href="#975585" title="List[AddInterfaces.this.global.Type]">parents</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Scope" id="975589">decls1</a> = <a href="../../../reflect/internal/Scopes.scala.html#407762" title="(owner: AddInterfaces.this.global.Symbol)(op: =&gt; AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope">scopeTransform</a><span class="delimiter">(</span><a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">(</span>
        <a href="#975586" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410528" title="(p: AddInterfaces.this.global.Symbol =&gt; Boolean)AddInterfaces.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975616">sym</a> =&gt;
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409854" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <a href="#622207" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#975616" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#975616" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#975616" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[AddInterfaces.this.global.Type], decls: AddInterfaces.this.global.Scope, typeSymbol: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#975588" title="List[AddInterfaces.this.global.Type]">parents1</a>, <a href="#975589" title="AddInterfaces.this.global.Scope">decls1</a>, <a href="#975587" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt;
      <a href="#3357117" title="(x: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">tp</a>
  <span class="delimiter">}</span>

// Tree transformation --------------------------------------------------------------

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class ChangeOwnerAndReturnTraverser extends AddInterfaces.this.global.ChangeOwnerTraverser" id="622214">ChangeOwnerAndReturnTraverser</a><a href="#622214" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser" class="delimiter">(</a><a title="AddInterfaces.this.global.Symbol" id="975626">oldowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Symbol" id="975627">newowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>
          <span class="keyword">extends</span> <a href="../../../reflect/internal/Trees.scala.html#408135" title="AddInterfaces.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#975626" title="AddInterfaces.this.global.Symbol">oldowner</a>, <a href="#975627" title="AddInterfaces.this.global.Symbol">newowner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)Unit" id="975622">traverse</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="975630">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#975630" title="AddInterfaces.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Return<a href="#3357122" title="Unit" id="3357124" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410090" title="AddInterfaces.this.global.Tree" id="975636">expr</a><span class="delimiter">)</span> =&gt;
          <a href="#3357126" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#975630" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#975626" title="AddInterfaces.this.global.Symbol">oldowner</a><span class="delimiter">)</span> <a href="#975630" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408578" title="(sym: AddInterfaces.this.global.Symbol)Unit">symbol</a> = <a href="#975627" title="AddInterfaces.this.global.Symbol">newowner</a>
        <span class="keyword">case</span> _ =&gt;
      <span class="delimiter">}</span>
      <a href="#622214" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser" class="keyword">super</a>.<a href="../../../reflect/internal/Trees.scala.html#481308" title="(tree: AddInterfaces.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#975630" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree, isForInterface: Boolean)(create: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="622215">createMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="975646">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a>, <a title="Boolean" id="975647">isForInterface</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree" id="975648">create</a>: Tree =&gt; Tree<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="975651">isInterfaceTree</a> = <a href="#975646" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408581" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622207" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#975646" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975651" title="Boolean">isInterfaceTree</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622208" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#975646" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Function1.scala.html#58642" title="(v1: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">create</a><span class="delimiter">(</span><a href="#975646" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975651" title="Boolean">isInterfaceTree</a> <a href="../../../Boolean.scala.html#57823" title="(x: Boolean)Boolean">==</a> <a href="#975647" title="Boolean">isForInterface</a><span class="delimiter">)</span>
      <a href="#975646" title="AddInterfaces.this.global.Tree">tree</a>
    <span class="keyword">else</span>
      <a href="../../../reflect/internal/Trees.scala.html#407946" title="AddInterfaces.this.global.EmptyTree.type">EmptyTree</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="622216">implMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="975657">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a>  = <a href="#622215" title="(tree: AddInterfaces.this.global.Tree, isForInterface: Boolean)(create: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">createMemberDef</a><span class="delimiter">(</span><a href="#975657" title="AddInterfaces.this.global.Tree">tree</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#622219" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">implMethodDef</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="622217">ifaceMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="975663">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a> = <a href="#622215" title="(tree: AddInterfaces.this.global.Tree, isForInterface: Boolean)(create: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">createMemberDef</a><span class="delimiter">(</span><a href="#975663" title="AddInterfaces.this.global.Tree">tree</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="975666">t</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: AddInterfaces.this.global.Symbol, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#975666" title="AddInterfaces.this.global.Tree">t</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>, <a href="../../../reflect/internal/Trees.scala.html#407946" title="AddInterfaces.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" id="622218">ifaceTemplate</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Template" id="974888">templ</a>: <a href="../../../reflect/internal/Trees.scala.html#407978" title="AddInterfaces.this.global.Template">Template</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407978" title="AddInterfaces.this.global.Template">Template</a> =
    <a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405379" title="(tree: AddInterfaces.this.global.Tree, parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#974888" title="AddInterfaces.this.global.Template">templ</a>, <a href="#974888" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#410203" title="=&gt; List[AddInterfaces.this.global.Tree]">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#408104" title="AddInterfaces.this.global.emptyValDef.type">emptyValDef</a>, <a href="#974888" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#410207" title="=&gt; List[AddInterfaces.this.global.Tree]">body</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">map</a> <a href="#622217" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">ifaceMemberDef</a><span class="delimiter">)</span>

  /** Transforms the member tree containing the implementation
   *  into a member of the impl class.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="622219">implMethodDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="975659">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="975738">impl</a> = <a href="#622204" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implMethodMap</a>.<a href="../../../collection/MapLike.scala.html#87532" title="(key: AddInterfaces.this.global.Symbol, default: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">getOrElse</a><span class="delimiter">(</span><a href="#975659" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>, <a href="../Global.scala.html#537501" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;implMethod missing for &quot;)" class="string">&quot;implMethod missing for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#975659" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Tree" id="975739">newTree</a> = <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975738" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411249" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#975659" title="AddInterfaces.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span> // e.g. res/t687
      // SI-5167: Ensure that the tree that we are grafting refers the parameter symbols from the
      // new method symbol `impl`, rather than the symbols of the original method signature in
      // the trait. `tree setSymbol impl` does *not* suffice!
      <span class="keyword">val</span> DefDef<a href="#3357131" title="List[List[AddInterfaces.this.global.ValDef]]" id="3357138" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="AddInterfaces.this.global.Modifiers" id="3357132">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="AddInterfaces.this.global.Name" id="3357133">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[AddInterfaces.this.global.TypeDef]" id="3357134">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[AddInterfaces.this.global.ValDef]]" id="975771">vparamss</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="AddInterfaces.this.global.Tree" id="3357135">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="AddInterfaces.this.global.Tree" id="3357136">_</a><span class="delimiter">)</span> = <a href="#975659" title="AddInterfaces.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Symbol]" id="975760">oldSyms</a> = <a href="#3357138" title="List[List[AddInterfaces.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58488" title="(implicit asTraversable: List[AddInterfaces.this.global.ValDef] =&gt; scala.collection.GenTraversableOnce[AddInterfaces.this.global.ValDef])List[AddInterfaces.this.global.ValDef]">flatten</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: AddInterfaces.this.global.ValDef =&gt; AddInterfaces.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.ValDef],AddInterfaces.this.global.Symbol,List[AddInterfaces.this.global.Symbol]])List[AddInterfaces.this.global.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,AddInterfaces.this.global.Symbol,List[AddInterfaces.this.global.Symbol]]" class="delimiter">(</a><a href="#975797" title="AddInterfaces.this.global.ValDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Symbol]" id="975761">newSyms</a> = <a href="#975738" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408429" title="=&gt; List[List[AddInterfaces.this.global.Symbol]]">paramss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58488" title="(implicit asTraversable: List[AddInterfaces.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[AddInterfaces.this.global.Symbol])List[AddInterfaces.this.global.Symbol]">flatten</a>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#975760" title="List[AddInterfaces.this.global.Symbol]">oldSyms</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#975761" title="List[AddInterfaces.this.global.Symbol]">newSyms</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>, <a href="../../../Tuple3.scala.html#63169" title="(_1: List[AddInterfaces.this.global.Symbol], _2: AddInterfaces.this.global.Symbol, _3: AddInterfaces.this.global.Type)(List[AddInterfaces.this.global.Symbol], AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Type)" class="delimiter">(</a><a href="#975760" title="List[AddInterfaces.this.global.Symbol]">oldSyms</a>, <a href="#975738" title="AddInterfaces.this.global.Symbol">impl</a>, <a href="#975738" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#975659" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408555" title="(from: List[AddInterfaces.this.global.Symbol], to: List[AddInterfaces.this.global.Symbol])AddInterfaces.this.global.Tree">substituteSymbols</a><span class="delimiter">(</span><a href="#975760" title="List[AddInterfaces.this.global.Symbol]">oldSyms</a>, <a href="#975761" title="List[AddInterfaces.this.global.Symbol]">newSyms</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../reflect/api/Trees.scala.html#405549" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" class="keyword">new</a> <a href="#622214" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser">ChangeOwnerAndReturnTraverser</a><span class="delimiter">(</span><a href="#975739" title="AddInterfaces.this.global.Tree">newTree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>, <a href="#975738" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#975739" title="AddInterfaces.this.global.Tree">newTree</a> <a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: AddInterfaces.this.global.Symbol)newTree.type">setSymbol</a> <a href="#975738" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Add mixin constructor definition
   *    def $init$(): Unit = ()
   *  to `stats` unless there is already one.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol, stats: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]" id="622220">addMixinConstructorDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975861">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="List[AddInterfaces.this.global.Tree]" id="975862">stats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
    <span title="List[AddInterfaces.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#537807" title="AddInterfaces.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#479215" title="(stats: List[AddInterfaces.this.global.treeInfo.global.Tree])AddInterfaces.this.global.treeInfo.global.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#975862" title="List[AddInterfaces.this.global.Tree]">stats</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="AddInterfaces.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#975862" title="List[AddInterfaces.this.global.Tree]">stats</a>
    <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: AddInterfaces.this.global.Symbol, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#975861" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411424" title="=&gt; AddInterfaces.this.global.Symbol">primaryConstructor</a>, <a href="../../../reflect/internal/Trees.scala.html#453067" title="(stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: AddInterfaces.this.global.Constant)AddInterfaces.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)AddInterfaces.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]">::</a> <a href="#975862" title="List[AddInterfaces.this.global.Tree]">stats</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol, templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" id="622221">implTemplate</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="975923">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Template" id="975924">templ</a>: <a href="../../../reflect/internal/Trees.scala.html#407978" title="AddInterfaces.this.global.Template">Template</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407978" title="AddInterfaces.this.global.Template">Template</a> = <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#975924" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Template" id="975937">templ1</a> = <span class="delimiter">(</span>
      <a href="../../../reflect/internal/Trees.scala.html#452941" title="(parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#975924" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#410203" title="=&gt; List[AddInterfaces.this.global.Tree]">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#408104" title="AddInterfaces.this.global.emptyValDef.type">emptyValDef</a>, <a href="#622220" title="(clazz: AddInterfaces.this.global.Symbol, stats: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">addMixinConstructorDef</a><span class="delimiter">(</span><a href="#975923" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#975924" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#410207" title="=&gt; List[AddInterfaces.this.global.Tree]">body</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">map</a> <a href="#622216" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">implMemberDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Template">setSymbol</a> <a href="#975923" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411112" title="(pos: AddInterfaces.this.global.Position)AddInterfaces.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#975924" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="#975937" title="AddInterfaces.this.global.Template">templ1</a>.<a href="../../../reflect/internal/Trees.scala.html#408563" title="(pairs: (AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Symbol)*)AddInterfaces.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#975924" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>.<a href="../../../Predef.scala.html#7509" title="(x: AddInterfaces.this.global.Symbol)ArrowAssoc[AddInterfaces.this.global.Symbol]">owner</a> <a href="../../../Predef.scala.html#62634" title="(y: AddInterfaces.this.global.Symbol)(AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Symbol)">-&gt;</a> <a href="#975923" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#975924" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../Predef.scala.html#7509" title="(x: AddInterfaces.this.global.Symbol)ArrowAssoc[AddInterfaces.this.global.Symbol]">symbol</a> <a href="../../../Predef.scala.html#62634" title="(y: AddInterfaces.this.global.Symbol)(AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Symbol)">-&gt;</a> <a href="#975937" title="AddInterfaces.this.global.Template">templ1</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span>
    <a href="#975937" title="AddInterfaces.this.global.Template">templ1</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(trees: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]" id="622222">implClassDefs</a><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="974843">trees</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#974843" title="List[AddInterfaces.this.global.Tree]">trees</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[AddInterfaces.this.global.Tree,AddInterfaces.this.global.ClassDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.ClassDef,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[AddInterfaces.this.global.Tree,AddInterfaces.this.global.ClassDef] with Serializable" id="976074" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="#3357144" title="B1" id="3357157">cd</a>: ClassDef <span class="keyword">if</span> cd.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411290" title="=&gt; Boolean">needsImplClass</a> =&gt;
        <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="976059">clazz</a> = <a href="#622211" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span>cd.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411380" title="=&gt; AddInterfaces.this.global.Symbol">initialize</a>
        <a href="../../../reflect/internal/Trees.scala.html#408100" title="(sym: AddInterfaces.this.global.Symbol, impl: AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#976059" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#622221" title="(clazz: AddInterfaces.this.global.Symbol, templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">implTemplate</a><span class="delimiter">(</span><a href="#976059" title="AddInterfaces.this.global.Symbol">clazz</a>, cd.<a href="../../../reflect/internal/Trees.scala.html#410336" title="=&gt; AddInterfaces.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Add calls to supermixin constructors
   *    `super[mix].$init$()`
   *  to tree, which is assumed to be the body of a constructor of class clazz.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree, clazz: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="622223">addMixinConstructorCalls</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="974939">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a>, <a title="AddInterfaces.this.global.Symbol" id="974940">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(impl: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="976129">mixinConstructorCall</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="976131">impl</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a> = <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Apply)AddInterfaces.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#974939" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: AddInterfaces.this.global.Tree, args: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: AddInterfaces.this.global.Tree, sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408123" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">This</a><span class="delimiter">(</span><a href="#974940" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#976131" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411424" title="=&gt; AddInterfaces.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Tree]" id="976130">mixinConstructorCalls</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="976221">mc</a> &lt;- <a href="#974940" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411442" title="=&gt; List[AddInterfaces.this.global.Symbol]">mixinClasses</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#58161" title="(f: AddInterfaces.this.global.Symbol =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Symbol],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">reverse</a>
           <span class="keyword">if</span> <a href="#976221" title="AddInterfaces.this.global.Symbol">mc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#407021" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#976129" title="(impl: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">mixinConstructorCall</a><span class="delimiter">(</span><a href="#622211" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#976221" title="AddInterfaces.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#974939" title="AddInterfaces.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Block<a href="#3357171" title="Boolean" id="3357174" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410192" title="List[AddInterfaces.this.global.Tree]" id="3357178">Nil</a>, <a href="../../../reflect/internal/Trees.scala.html#410194" title="AddInterfaces.this.global.Tree" id="976254">expr</a><span class="delimiter">)</span> =&gt;
        // AnyVal constructor - have to provide a real body so the
        // jvm doesn't throw a VerifyError. But we can't add the
        // body until now, because the typer knows that Any has no
        // constructor and won't accept a call to super.init.
        <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#974940" title="AddInterfaces.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: AddInterfaces.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; AddInterfaces.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#974940" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[AddInterfaces.this.global.Type]">parents</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a>, <a href="#974940" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Trees.scala.html#453067" title="(stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: AddInterfaces.this.global.Apply*)List[AddInterfaces.this.global.Apply]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: AddInterfaces.this.global.Tree, args: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="AddInterfaces.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543478" title="=&gt; AddInterfaces.this.global.gen.global.Select">mkSuperSelect</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#976254" title="AddInterfaces.this.global.Tree">expr</a><span class="delimiter">)</span>

      <span class="keyword">case</span> Block<span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#410192" title="List[AddInterfaces.this.global.Tree]" id="976306">stats</a>, <a href="../../../reflect/internal/Trees.scala.html#410194" title="AddInterfaces.this.global.Tree" id="976307">expr</a><span class="delimiter">)</span> =&gt;
        // needs `hasSymbol` check because `supercall` could be a block (named / default args)
        <span class="keyword">val</span> <a href="#3357167" title="(x: (List[AddInterfaces.this.global.Tree], AddInterfaces.this.global.Tree, List[AddInterfaces.this.global.Tree]))(List[AddInterfaces.this.global.Tree], AddInterfaces.this.global.Tree, List[AddInterfaces.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[AddInterfaces.this.global.Tree]" id="976309">presuper</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="AddInterfaces.this.global.Tree" id="976310">supercall</a> <a href="../../../Tuple2.scala.html#60637" title="List[AddInterfaces.this.global.Tree]" id="3357165">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[AddInterfaces.this.global.Tree]" id="976311">rest</a><span class="delimiter">)</span> = <a href="#976306" title="List[AddInterfaces.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#62715" title="(p: AddInterfaces.this.global.Tree =&gt; Boolean)(List[AddInterfaces.this.global.Tree], List[AddInterfaces.this.global.Tree])">span</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="976317">t</a> =&gt; <a href="#976317" title="AddInterfaces.this.global.Tree">t</a>.<a href="../../../reflect/internal/Trees.scala.html#408558" title="(f: AddInterfaces.this.global.Symbol =&gt; Boolean)Boolean">hasSymbolWhich</a><span class="delimiter">(</span><a href="#976320" title="AddInterfaces.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405380" title="(tree: AddInterfaces.this.global.Tree, stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</a><span class="delimiter">(</span><a href="#974939" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#976309" title="List[AddInterfaces.this.global.Tree]">presuper</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#976310" title="AddInterfaces.this.global.Tree">supercall</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]">::</a> <a href="#976130" title="List[AddInterfaces.this.global.Tree]">mixinConstructorCalls</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a> <a href="#976311" title="List[AddInterfaces.this.global.Tree]">rest</a><span class="delimiter">)</span>, <a href="#976307" title="AddInterfaces.this.global.Tree">expr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="AddInterfaces.this.global.Transformer" id="622224">mixinTransformer</a> = <a href="#974829" title="AddInterfaces.this.global.Transformer" class="keyword">new</a> <a href="../ast/Trees.scala.html#537817" title="anonymous class $anon extends AddInterfaces.this.global.Transformer" id="974829">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]" id="974831">transformStats</a><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="974833">stats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="AddInterfaces.this.global.Symbol" id="974834">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#974829" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405661" title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#974833" title="List[AddInterfaces.this.global.Tree]">stats</a>, <a href="#974834" title="AddInterfaces.this.global.Symbol">exprOwner</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a>
       <a href="#974829" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405661" title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#622222" title="(trees: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">implClassDefs</a><span class="delimiter">(</span><a href="#974833" title="List[AddInterfaces.this.global.Tree]">stats</a><span class="delimiter">)</span>, <a href="#974834" title="AddInterfaces.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="974832">transform</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="974837">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="AddInterfaces.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="974856">sym</a> = <a href="#974837" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Tree" id="974857">tree1</a> = <a href="#974837" title="AddInterfaces.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ClassDef<a href="#3357189" title="AddInterfaces.this.global.Tree" id="3357193" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="AddInterfaces.this.global.Modifiers" id="974874">mods</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="AddInterfaces.this.global.TypeName" id="3357190">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[AddInterfaces.this.global.TypeDef]" id="3357191">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="AddInterfaces.this.global.Template" id="974875">impl</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411290" title="=&gt; Boolean">needsImplClass</a> =&gt;
          <a href="#622211" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411380" title="=&gt; AddInterfaces.this.global.Symbol">initialize</a> // to force lateDEFERRED flags
          <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">copyClassDef</a><a href="../../../reflect/internal/Trees.scala.html#486522" title="AddInterfaces.this.global.Name" id="974893" class="delimiter">(</a><a href="#974837" title="AddInterfaces.this.global.Tree" id="974885">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>mods = <a href="#974874" title="AddInterfaces.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#409819" title="AddInterfaces.this.global.Modifiers" id="974890">|</a> <span title="Long(128L)">INTERFACE</span>, impl = <a href="#622218" title="(templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">ifaceTemplate</a><a title="AddInterfaces.this.global.Template" id="974891" class="delimiter">(</a><a href="#974875" title="AddInterfaces.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> DefDef<a href="#3357189" title="AddInterfaces.this.global.Tree" id="3357201" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="AddInterfaces.this.global.Modifiers" id="3357194">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410280" title="AddInterfaces.this.global.Name" id="3357195">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410282" title="List[AddInterfaces.this.global.TypeDef]" id="3357196">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[AddInterfaces.this.global.ValDef]]" id="3357197">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410286" title="AddInterfaces.this.global.Tree" id="3357198">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410288" title="AddInterfaces.this.global.Tree" id="3357199">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411200" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411287" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; AddInterfaces.this.global.ClassSymbol">ArrayClass</a> =&gt;
          <a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: AddInterfaces.this.global.Tree)(applyToRhs: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#974837" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span><a href="#3357208" title="(x: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" class="delimiter">(</a><a href="#622223" title="(tree: AddInterfaces.this.global.Tree, clazz: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">addMixinConstructorCalls</a><span class="delimiter">(</span><a href="#974938" title="AddInterfaces.this.global.Tree">_</a>, <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> // (3)
        <span class="keyword">case</span> Template<a href="#3357189" title="AddInterfaces.this.global.Tree" id="3357203" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[AddInterfaces.this.global.Tree]" id="974954">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="AddInterfaces.this.global.ValDef" id="974955">self</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[AddInterfaces.this.global.Tree]" id="974956">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.TypeTree]" id="974957">parents1</a> = <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[AddInterfaces.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: AddInterfaces.this.global.Type =&gt; AddInterfaces.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.TypeTree,List[AddInterfaces.this.global.TypeTree]])List[AddInterfaces.this.global.TypeTree]">map</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="974977">t</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#974977" title="AddInterfaces.this.global.Type">t</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)AddInterfaces.this.global.TypeTree">setPos</a> <a href="#974837" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405379" title="(tree: AddInterfaces.this.global.Tree, parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#974837" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#974957" title="List[AddInterfaces.this.global.TypeTree]">parents1</a>, <a href="../../../reflect/internal/Trees.scala.html#408104" title="AddInterfaces.this.global.emptyValDef.type">emptyValDef</a>, <a href="#974956" title="List[AddInterfaces.this.global.Tree]">body</a><span class="delimiter">)</span>
        <span class="keyword">case</span> This<a href="#3357189" title="AddInterfaces.this.global.Tree" id="3357206" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410008" title="AddInterfaces.this.global.TypeName" id="3357204">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411290" title="=&gt; Boolean">needsImplClass</a> =&gt;
          <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="975035">impl</a> = <a href="#622211" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="AddInterfaces.this.global.Symbol" id="975036">owner</a> = <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; AddInterfaces.this.global.Symbol">currentOwner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#975036" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#974856" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975036" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#975035" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="#975036" title="AddInterfaces.this.global.Symbol">owner</a> = <a href="#975036" title="AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>;
          <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975036" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#975035" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408123" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">This</a><span class="delimiter">(</span><a href="#975035" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)AddInterfaces.this.global.Tree">setPos</a> <a href="#974837" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; AddInterfaces.this.global.Position">pos</a>
          <span class="keyword">else</span> <a href="#974837" title="AddInterfaces.this.global.Tree">tree</a>
/* !!!
        case Super(qual, mix) =&gt;
          val mix1 = mix
            if (mix == tpnme.EMPTY) mix
            else {
              val ps = beforeErasure {
                sym.info.parents dropWhile (p =&gt; p.symbol.name != mix)
              }
              assert(!ps.isEmpty, tree);
              if (ps.head.symbol.needsImplClass) implClass(ps.head.symbol).name
              else mix
            }
          if (sym.needsImplClass) Super(implClass(sym), mix1) setPos tree.pos
          else treeCopy.Super(tree, qual, mix1)
*/
        <span class="keyword">case</span> _ =&gt;
          <a href="#3357208" title="(x: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
      <a href="#974829" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405652" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#974857" title="AddInterfaces.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
/*
    val ensureNoEscapes = new TypeTraverser {
      def ensureNoEscape(sym: Symbol) {
        if (sym.hasFlag(PRIVATE)) {
          var o = currentOwner;
          while (o != NoSymbol &amp;&amp; o != sym.owner &amp;&amp; !o.isLocal &amp;&amp; !o.hasFlag(PRIVATE))
          o = o.owner
          if (o == sym.owner) sym.makeNotPrivate(base);
        }
      }
      def traverse(t: Type): TypeTraverser = {
        t match {
          case TypeRef(qual, sym, args) =&gt;
            ensureNoEscape(sym)
            mapOver(t)
          case ClassInfoType(parents, decls, clazz) =&gt;
            parents foreach { p =&gt; traverse; () }
            traverse(t.typeOfThis)
          case _ =&gt;
            mapOver(t)
        }
        this
      }
    }

*/

        </pre>
    </body>
</html>