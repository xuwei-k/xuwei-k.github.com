<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Erasure.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.reflect.internal.<a href="../../../reflect/internal/ClassfileConstants.scala.html#21314" title="scala.reflect.internal.ClassfileConstants.type">ClassfileConstants</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#55820" title="=&gt; reflect.internal.Flags.type">Flags</a>._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Erasure extends scala.tools.nsc.transform.AddInterfaces with scala.reflect.internal.transform.Erasure with scala.tools.nsc.typechecker.Analyzer with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL" id="43983">Erasure</a> <a href="#43983" title="scala.tools.nsc.transform.Erasure" class="keyword">extends</a> <a href="AddInterfaces.scala.html#42843" title="scala.tools.nsc.transform.AddInterfaces">AddInterfaces</a>
                          <span class="keyword">with</span> scala.reflect.internal.transform.<a href="../../../reflect/internal/transform/Erasure.scala.html#22548" title="scala.reflect.internal.transform.Erasure">Erasure</a>
                          <span class="keyword">with</span> typechecker.<a href="../typechecker/Analyzer.scala.html#44858" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a>
                          <span class="keyword">with</span> <a href="TypingTransformers.scala.html#43407" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
                          <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#28843" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="Erasure.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#538235" title="Erasure.this.CODE.type">CODE</a>._

  <span class="keyword">val</span> <a title="String" id="622230">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;erasure&quot;)" class="string">&quot;erasure&quot;</span>

  <span class="keyword">def</span> <a title="(unit: Erasure.this.global.CompilationUnit)Erasure.this.global.Transformer" id="622232">newTransformer</a><span class="delimiter">(</span><a title="Erasure.this.global.CompilationUnit" id="981005">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="Erasure.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#537817" title="Erasure.this.global.Transformer">Transformer</a> =
    <span title="Erasure.this.ErasureTransformer" class="keyword">new</span> <a href="#622260" title="Erasure.this.ErasureTransformer">ErasureTransformer</a><span class="delimiter">(</span><a href="#981005" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="622233">keepsTypeParams</a> = <span title="Boolean(false)" class="keyword">false</span>

// -------- erasure on types --------------------------------------------------------

  // convert a numeric with a toXXX method
  <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, numericSym: Erasure.this.global.Symbol)Erasure.this.global.Tree" id="622234">numericConversion</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="981024">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Symbol" id="981025">numericSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Erasure.this.global.TermName" id="981027">mname</a>      = <a href="../../../reflect/internal/Names.scala.html#406859" title="(s: String)Erasure.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;to&quot;)" class="string">&quot;to&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#981025" title="Erasure.this.global.Symbol">numericSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; numericSym.NameType">name</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="981028">conversion</a> = <a href="#981024" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408451" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">member</a> <a href="#981027" title="Erasure.this.global.TermName">mname</a>

    <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#981028" title="Erasure.this.global.Symbol">conversion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a>, <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; =&gt; &quot;)" class="string">&quot; =&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#981025" title="Erasure.this.global.Symbol">numericSym</a><span class="delimiter">)</span>
    <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Apply)Erasure.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#981024" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#981024" title="Erasure.this.global.Tree">tree</a>, <a href="#981028" title="Erasure.this.global.Symbol">conversion</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="Erasure.this.NeedsSigCollector.type" id="622235">NeedsSigCollector</a> <a href="#622236" title="Erasure.this.NeedsSigCollector.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#407464" title="Erasure.this.global.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Unit" id="981126">traverse</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981132">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#487661" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#981132" title="Erasure.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#3357919" title="Unit" id="3357942">st</a>: SubType =&gt;
            <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a><a href="#3357944" title="(x: Unit)Unit" class="delimiter">(</a>st.<a href="../../../reflect/internal/Types.scala.html#410572" title="=&gt; Erasure.this.global.Type">supertype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> TypeRef<a href="#3357919" title="Unit" id="3357922" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="Erasure.this.global.Type" id="981138">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="Erasure.this.global.Symbol" id="981139">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[Erasure.this.global.Type]" id="981140">args</a><span class="delimiter">)</span> =&gt;
            <a href="#3357944" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#981139" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span> <a href="#981140" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: Erasure.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#981139" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#981139" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411190" title="=&gt; Boolean">isExistentiallyBound</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#981140" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#487662" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#981139" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440902" title="(pre: Erasure.this.global.Type, cls: Erasure.this.global.Symbol)Erasure.this.global.Type">rebindInnerClass</a><span class="delimiter">(</span><a href="#981138" title="Erasure.this.global.Type">pre</a>, <a href="#981139" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> // #2585
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#981139" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#981138" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span>
          <span class="keyword">case</span> PolyType<a href="#3357919" title="Unit" id="3357926" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[Erasure.this.global.Symbol]" id="3357923">_</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="Erasure.this.global.Type" id="3357924">_</a><span class="delimiter">)</span> | ExistentialType<a href="#3357919" title="Boolean" id="3357930" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[Erasure.this.global.Symbol]" id="3357927">_</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="Erasure.this.global.Type" id="3357928">_</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#487662" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> RefinedType<a href="#3357919" title="Unit" id="3357933" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[Erasure.this.global.Type]" id="981177">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="Erasure.this.global.Scope" id="3357931">_</a><span class="delimiter">)</span> =&gt;
            <a href="#981177" title="List[Erasure.this.global.Type]">parents</a> <a href="#3357944" title="(x: Unit)Unit">foreach</a> <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
          <span class="keyword">case</span> ClassInfoType<a href="#3357919" title="Unit" id="3357937" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[Erasure.this.global.Type]" id="981203">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="Erasure.this.global.Scope" id="3357934">_</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="Erasure.this.global.Symbol" id="3357935">_</a><span class="delimiter">)</span> =&gt;
            <a href="#981203" title="List[Erasure.this.global.Type]">parents</a> <a href="#3357944" title="(x: Unit)Unit">foreach</a> <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
          <span class="keyword">case</span> AnnotatedType<a href="#3357919" title="Unit" id="3357941" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410660" title="List[Erasure.this.global.AnnotationInfo]" id="3357938">_</a>, <a href="../../../reflect/internal/Types.scala.html#410662" title="Erasure.this.global.Type" id="981229">atp</a>, <a href="../../../reflect/internal/Types.scala.html#410664" title="Erasure.this.global.Symbol" id="3357939">_</a><span class="delimiter">)</span> =&gt;
            <a href="#981126" title="(tp: Erasure.this.global.Type)Unit">traverse</a><a href="#3357944" title="(x: Unit)Unit" class="delimiter">(</a><a href="#981229" title="Erasure.this.global.Type">atp</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#3357944" title="(x: Unit)Unit" class="delimiter">(</a><a href="#981132" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="622237">verifyJavaErasure</a> = <a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#539989" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xverify</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540057" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a>
  <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Boolean" id="622238">needsJavaSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981251">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540073" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Ynogenericsig</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622235" title="Erasure.this.NeedsSigCollector.type">NeedsSigCollector</a>.<a href="../../../reflect/internal/Types.scala.html#487664" title="(tp: Erasure.this.global.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#981251" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>

  // only refer to type params that will actually make it into the sig, this excludes:
  // * higher-order type parameters
  // * type parameters appearing in method parameters
  // * type members not visible in an enclosing template
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, initialSymbol: Erasure.this.global.Symbol)Boolean" id="622239">isTypeParameterInSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="981256">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="981257">initialSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#981256" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411250" title="=&gt; Boolean">isHigherOrderTypeParameter</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="#981256" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="#981257" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411319" title="=&gt; List[Erasure.this.global.Symbol]">enclClassChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: Erasure.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#981256" title="Erasure.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411408" title="(that: Erasure.this.global.Symbol)Boolean">isNestedIn</a> <a href="#981268" title="Erasure.this.global.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
      <span class="delimiter">(</span><a href="#981257" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#981257" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[Erasure.this.global.Symbol]">typeParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="#981256" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>

  // Ensure every '.' in the generated signature immediately follows
  // a close angle bracket '&gt;'.  Any which do not are replaced with '$'.
  // This arises due to multiply nested classes in the face of the
  // rewriting explained at rebindInnerClass.   This should be done in a
  // more rigorous way up front rather than catching it after the fact,
  // but that will be more involved.
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sig: String)String" id="622240">dotCleanup</a><span class="delimiter">(</span><a title="String" id="981271">sig</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Char" id="981273">last</a>: <a href="../../../Char.scala.html#822" title="Char">Char</a> = <span title="Char('\00')" class="char">'\0'</span>
    <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">sig</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Char =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[String,Char,String])String">map</a> <a href="#981603" title="Char" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="char">'.'</span> <span class="keyword">if</span> <a href="#981273" title="Char">last</a> <a href="../../../Char.scala.html#57253" title="(x: Char)Boolean">!=</a> <span title="Char('&gt;')" class="char">'&gt;'</span> =&gt; <a href="#981273" title="Char">last</a> = <span title="Char('.')" class="char">'.'</span> ; <span title="Char('$')" class="char">'$'</span>
      <span class="keyword">case</span> ch                 =&gt; <a href="#981273" title="Char">last</a> = ch ; ch
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** This object is only used for sanity testing when -check:genjvm is set.
   *  In that case we make sure that the erasure of the `normalized` type
   *  is the same as the erased type that's generated. Normalization means
   *  unboxing some primitive types and further simplifications as they are done in jsig.
   */
  <span class="keyword">val</span> <a title="prepareSigMap extends Erasure.this.global.TypeMap" id="622241">prepareSigMap</a> = <a href="#732561" title="Erasure.this.global.TypeMap{def squashBoxed(tp: Erasure.this.global.Type): Erasure.this.global.Type}" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="anonymous class $anon extends Erasure.this.global.TypeMap" id="732561">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="732563">squashBoxed</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="732565">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a> = <a href="#732565" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; Erasure.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> t @ RefinedType<a href="#3357964" title="Erasure.this.global.Type" id="3357966" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[Erasure.this.global.Type]" id="732575">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="Erasure.this.global.Scope" id="732576">decls</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="732577">parents1</a> = <a href="#732575" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#62694" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#732563" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732577" title="List[Erasure.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732575" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="#732565" title="Erasure.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#415445" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope)Erasure.this.global.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#732577" title="List[Erasure.this.global.Type]">parents1</a>, <a href="#732576" title="Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> t @ ExistentialType<a href="#3357964" title="Erasure.this.global.Type" id="3357968" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[Erasure.this.global.Symbol]" id="732605">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="Erasure.this.global.Type" id="732606">tpe</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732607">tpe1</a> = <a href="#732563" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#732606" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.ExistentialType" class="keyword">if</span> <span class="delimiter">(</span><a href="#732607" title="Erasure.this.global.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732606" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> t
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#450633" title="(quantified: List[Erasure.this.global.Symbol], underlying: Erasure.this.global.Type)Erasure.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#732605" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#732607" title="Erasure.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> t =&gt;
        <a href="#3357970" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409340" title="=&gt; Map[Erasure.this.global.Symbol,Erasure.this.global.ClassSymbol]">boxedClass</a> <a href="../../../collection/MapLike.scala.html#87536" title="(key: Erasure.this.global.Symbol)Boolean">contains</a> t.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <a href="#732565" title="Erasure.this.global.Type">tp</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="732564">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="732566">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a> = <a href="#732566" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; Erasure.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> tp1 @ TypeBounds<a href="#3357976" title="Erasure.this.global.Type" id="3357978" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410582" title="Erasure.this.global.Type" id="732618">lo</a>, <a href="../../../reflect/internal/Types.scala.html#410584" title="Erasure.this.global.Type" id="732619">hi</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732620">lo1</a> = <a href="#732563" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#732618" title="Erasure.this.global.Type">lo</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732621">hi1</a> = <a href="#732563" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#732619" title="Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Erasure.this.global.TypeBounds" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#732620" title="Erasure.this.global.Type">lo1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732618" title="Erasure.this.global.Type">lo</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#732621" title="Erasure.this.global.Type">hi1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732619" title="Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> tp1
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#424774" title="(lo: Erasure.this.global.Type, hi: Erasure.this.global.Type)Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#732620" title="Erasure.this.global.Type">lo1</a>, <a href="#732621" title="Erasure.this.global.Type">hi1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> tp1 @ TypeRef<a href="#3357976" title="Erasure.this.global.Type" id="3357980" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="Erasure.this.global.Type" id="732631">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="Erasure.this.global.Symbol" id="732632">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[Erasure.this.global.Type]" id="732633">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="732634">argApply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="732635">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732636">tp1</a> = <a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#732635" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732636" title="Erasure.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="#732563" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#732636" title="Erasure.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#732633" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440901" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span>tp1<span class="delimiter">)</span> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span>tp1<span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408667" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408786" title="=&gt; Erasure.this.global.ClassSymbol">SingletonClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#409141" title="=&gt; Erasure.this.global.ClassSymbol">BoxedUnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408692" title="Erasure.this.global.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#408687" title="=&gt; Erasure.this.global.ClassSymbol">RuntimeNothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732632" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Definitions.scala.html#408689" title="=&gt; Erasure.this.global.ClassSymbol">RuntimeNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732725">pre1</a> = <a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#732631" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="732726">args1</a> = <a href="#732633" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/immutable/List.scala.html#62694" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#732634" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">argApply</a>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#732725" title="Erasure.this.global.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732631" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#732726" title="List[Erasure.this.global.Type]">args1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732633" title="List[Erasure.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> tp1
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#415106" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">TypeRef</a><span class="delimiter">(</span><a href="#732725" title="Erasure.this.global.Type">pre1</a>, <a href="#732632" title="Erasure.this.global.Symbol">sym</a>, <a href="#732726" title="List[Erasure.this.global.Type]">args1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> tp1 @ MethodType<a href="#3357976" title="Erasure.this.global.Type" id="3357982" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[Erasure.this.global.Symbol]" id="732744">params</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="Erasure.this.global.Type" id="732745">restpe</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="732746">params1</a> = <a href="../../../reflect/internal/Types.scala.html#441776" title="(origSyms: List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#732744" title="List[Erasure.this.global.Symbol]">params</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732747">restpe1</a> = <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#732745" title="Erasure.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; Erasure.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#732745" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.MethodType" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#732746" title="List[Erasure.this.global.Symbol]">params1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732744" title="List[Erasure.this.global.Symbol]">params</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#732747" title="Erasure.this.global.Type">restpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732745" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span> tp1
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#732746" title="List[Erasure.this.global.Symbol]">params1</a>, <a href="#732747" title="Erasure.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> tp1 @ RefinedType<a href="#3357976" title="Erasure.this.global.Type" id="3357984" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[Erasure.this.global.Type]" id="732767">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="Erasure.this.global.Scope" id="732768">decls</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="732769">parents1</a> = <a href="#732767" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#62694" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a>
        <span title="Erasure.this.global.RefinedType" class="keyword">if</span> <span class="delimiter">(</span><a href="#732769" title="List[Erasure.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732767" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span> tp1
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#415445" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope)Erasure.this.global.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#732769" title="List[Erasure.this.global.Type]">parents1</a>, <a href="#732768" title="Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> t @ ExistentialType<a href="#3357976" title="Erasure.this.global.Type" id="3357986" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[Erasure.this.global.Symbol]" id="732787">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="Erasure.this.global.Type" id="732788">tpe</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="732789">tpe1</a> = <a href="#732564" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#732788" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.ExistentialType" class="keyword">if</span> <span class="delimiter">(</span><a href="#732789" title="Erasure.this.global.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#732788" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> t
        <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#450633" title="(quantified: List[Erasure.this.global.Symbol], underlying: Erasure.this.global.Type)Erasure.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#732787" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#732789" title="Erasure.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#3357976" title="Erasure.this.global.Type" id="3357988">tp1</a>: ClassInfoType =&gt;
        <a href="#3357990" title="(x: Erasure.this.global.Type)Erasure.this.global.Type">tp1</a>
      <span class="keyword">case</span> tp1 =&gt;
        <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#3357990" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a>tp1<span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bounds: Erasure.this.global.TypeBounds)List[Erasure.this.global.Type]" id="622243">hiBounds</a><span class="delimiter">(</span><a title="Erasure.this.global.TypeBounds" id="981616">bounds</a>: <a href="../../../reflect/internal/Types.scala.html#407301" title="Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#981616" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; Erasure.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; Erasure.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> RefinedType<a href="#3358000" title="List[Erasure.this.global.Type]" id="3358003" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[Erasure.this.global.Type]" id="981620">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="Erasure.this.global.Scope" id="3358001">_</a><span class="delimiter">)</span> =&gt; <a href="#981620" title="List[Erasure.this.global.Type]">parents</a> <a href="#3358005" title="(x: List[Erasure.this.global.Type])List[Erasure.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#981637" title="Erasure.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; Erasure.this.global.Type">normalize</a><span class="delimiter">)</span>
    <span class="keyword">case</span> tp                      =&gt; tp <a href="#3358005" title="(x: List[Erasure.this.global.Type])List[Erasure.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Erasure.this.global.Type)Boolean" id="622244">isErasedValueType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981677">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#981677" title="Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#407388" title="Erasure.this.global.ErasedValueType">ErasedValueType</a><span class="delimiter">]</span>

  /** The Java signature of type 'info', for symbol sym. The symbol is used to give the right return
   *  type for constructors.
   */
  <span class="keyword">def</span> <a title="(sym0: Erasure.this.global.Symbol, info: Erasure.this.global.Type)Option[String]" id="622245">javaSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="732469">sym0</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Type" id="732470">info</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../Global.scala.html#537708" title="(op: =&gt; Option[String])Option[String]">beforeErasure</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="981682">isTraitSignature</a> = <a href="#732469" title="Erasure.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; Erasure.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a>

    <span class="keyword">def</span> <a title="(parents: List[Erasure.this.global.Type])String" id="981683">superSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="981691">parents</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="981692">ps</a> = <span class="delimiter">(</span>
        <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#981682" title="Boolean">isTraitSignature</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // java is unthrilled about seeing interfaces inherit from classes
          <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="981693">ok</a> = <a href="#981691" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filter</a> <span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981697">p</a> =&gt; <a href="#981697" title="Erasure.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#981697" title="Erasure.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409854" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span>
          // traits should always list Object.
          <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#981693" title="List[Erasure.this.global.Type]">ok</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#981693" title="List[Erasure.this.global.Type]">ok</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; Erasure.this.global.Type">head</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: Erasure.this.global.Type)List[Erasure.this.global.Type]">::</a> <a href="#981693" title="List[Erasure.this.global.Type]">ok</a>
          <span class="keyword">else</span> <a href="#981693" title="List[Erasure.this.global.Type]">ok</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#981691" title="List[Erasure.this.global.Type]">parents</a>
      <span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#981692" title="List[Erasure.this.global.Type]">ps</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58284" title="=&gt; String">mkString</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)String" id="981684">boxedSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981726">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#981731" title="List[Erasure.this.global.Symbol] @scala.annotation.unchecked.uncheckedVariance" id="981737">jsig</a><span class="delimiter">(</span><a href="#981726" title="Erasure.this.global.Type" id="981734">tp</a>, primitiveOK = <a title="Boolean" id="981735" class="keyword">false</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(bounds: List[Erasure.this.global.Type])String" id="981685">boundsSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="981771">bounds</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#3358012" title="(x: (List[Erasure.this.global.Type], List[Erasure.this.global.Type]))(List[Erasure.this.global.Type], List[Erasure.this.global.Type])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[Erasure.this.global.Type]" id="981773">isTrait</a>, <a href="../../../Tuple2.scala.html#60637" title="List[Erasure.this.global.Type]" id="981774">isClass</a><span class="delimiter">)</span> = <a href="#981771" title="List[Erasure.this.global.Type]">bounds</a> <a href="../../../collection/TraversableLike.scala.html#58080" title="(p: Erasure.this.global.Type =&gt; Boolean)(List[Erasure.this.global.Type], List[Erasure.this.global.Type])">partition</a> <span class="delimiter">(</span><a href="#981779" title="Erasure.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="String" id="981775">classPart</a> = <a href="#981774" title="List[Erasure.this.global.Type]">isClass</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="String" id="3358020">Nil</a>    =&gt; <a href="#3358022" title="(x: String)String" class="string">&quot;:&quot;</a> // + boxedSig(ObjectClass.tpe)
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="Erasure.this.global.Type" id="981794">x</a> <a href="#3358016" title="String" id="3358019">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[Erasure.this.global.Type]" id="3358018">_</a> =&gt; <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <a href="#3358022" title="(x: String)String">+</a> <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#981794" title="Erasure.this.global.Type">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#981775" title="String">classPart</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: String)List[String]">::</a> <span class="delimiter">(</span><a href="#981773" title="List[Erasure.this.global.Type]">isTrait</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tsym: Erasure.this.global.Symbol)String" id="981686">paramSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="981849">tsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#981849" title="Erasure.this.global.Symbol">tsym</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <a href="#981685" title="(bounds: List[Erasure.this.global.Type])String">boundsSig</a><span class="delimiter">(</span><a href="#622243" title="(bounds: Erasure.this.global.TypeBounds)List[Erasure.this.global.Type]">hiBounds</a><span class="delimiter">(</span><a href="#981849" title="Erasure.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; Erasure.this.global.TypeBounds">bounds</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tparams: List[Erasure.this.global.Symbol])String" id="981687">polyParamSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="981866">tparams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981866" title="List[Erasure.this.global.Symbol]">tparams</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <a href="#981866" title="List[Erasure.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],String,List[String]])List[String]">map</a> <a href="#981686" title="(tsym: Erasure.this.global.Symbol)String">paramSig</a> <a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    // Anything which could conceivably be a module (i.e. isn't known to be
    // a type parameter or similar) must go through here or the signature is
    // likely to end up with Foo&lt;T&gt;.Empty where it needs Foo&lt;T&gt;.Empty$.
    <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)String" id="981688">fullNameInSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="981915">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="String(&quot;L&quot;)" class="string">&quot;L&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#537717" title="(op: =&gt; Erasure.this.global.Name)Erasure.this.global.Name">beforeIcode</a><span class="delimiter">(</span><a href="#981915" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411329" title="=&gt; Erasure.this.global.Name">javaBinaryName</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String" id="981689">jsig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981727">tp0</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a>, <a title="List[Erasure.this.global.Symbol]" id="981731">existentiallyBound</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a title="Boolean" id="981732">toplevel</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="981733">primitiveOK</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="981919">tp</a> = <a href="#981727" title="Erasure.this.global.Type">tp0</a>.<a href="../../../reflect/internal/Types.scala.html#408439" title="=&gt; Erasure.this.global.Type">dealias</a>
      <a href="#981919" title="Erasure.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#3358030" title="String" id="3358055">st</a>: SubType =&gt;
          <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><a href="#3358057" title="(x: String)String" class="delimiter">(</a>st.<a href="../../../reflect/internal/Types.scala.html#410572" title="=&gt; Erasure.this.global.Type">supertype</a>, <a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#981732" title="Boolean">toplevel</a>, <a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> ExistentialType<a href="#3358030" title="String" id="3358033" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[Erasure.this.global.Symbol]" id="981923">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="Erasure.this.global.Type" id="981924">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><a href="#3358057" title="(x: String)String" class="delimiter">(</a><a href="#981924" title="Erasure.this.global.Type">tpe</a>, <a href="#981923" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#981732" title="Boolean">toplevel</a>, <a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> TypeRef<a href="#3358030" title="String" id="3358035" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="Erasure.this.global.Type" id="981928">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="Erasure.this.global.Symbol" id="981929">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[Erasure.this.global.Type]" id="981930">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)String" id="981931">argSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="981933">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="#981933" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Erasure.this.global.TypeBounds" id="981934">bounds</a> = <a href="#981933" title="Erasure.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; Erasure.this.global.TypeBounds">bounds</a>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; Erasure.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#981934" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;+&quot;)" class="string">&quot;+&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#981934" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; Erasure.this.global.Type">hi</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#981934" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; Erasure.this.global.Type">lo</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#981934" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; Erasure.this.global.Type">lo</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#981933" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="981932">classSig</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="981941">preRebound</a> = <a href="#981928" title="Erasure.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#408459" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> // #2585
            <a href="#622240" title="(sig: String)String">dotCleanup</a><span class="delimiter">(</span>
              <span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#622238" title="(tp: Erasure.this.global.Type)Boolean">needsJavaSig</a><span class="delimiter">(</span><a href="#981941" title="Erasure.this.global.Type">preRebound</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="String" id="981944">s</a> = <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#981941" title="Erasure.this.global.Type">preRebound</a>, <a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a><span class="delimiter">)</span>
                  <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981944" title="String">s</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Char.scala.html#57246" title="(x: Char)Boolean">==</a> <span title="Char('L')" class="char">'L'</span><span class="delimiter">)</span> <a href="#981944" title="String">s</a>.<span title="(x$1: Int, x$2: Int)String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#981944" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#57161" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411328" title="=&gt; Erasure.this.global.Name">javaSimpleName</a>
                  <span class="keyword">else</span> <a href="#981688" title="(sym: Erasure.this.global.Symbol)String">fullNameInSig</a><span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#981688" title="(sym: Erasure.this.global.Symbol)String">fullNameInSig</a><span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#981930" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span>
                <span title="String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><a href="#981930" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <a href="#981931" title="(tp: Erasure.this.global.Type)String">argSig</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58284" title="=&gt; String">mkString</a><span title="(x$1: Any)String">+</span><span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
              <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // If args isEmpty, Array is being used as a type constructor
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#981930" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440901" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#981919" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Char('[')">ARRAY_TAG</span>.<span title="()String">toString</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><a href="#981930" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982023" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58284" title="=&gt; String">mkString</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#622239" title="(sym: Erasure.this.global.Symbol, initialSymbol: Erasure.this.global.Symbol)Boolean">isTypeParameterInSig</a><span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a>, <a href="#732469" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a>, <span title="String(&quot;Unexpected alias type: &quot;)" class="string">&quot;Unexpected alias type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#981929" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <span title="Char('T')">TVAR_TAG</span> <span title="(x$1: Any)String">+</span> <a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408667" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408786" title="=&gt; Erasure.this.global.ClassSymbol">SingletonClass</a><span class="delimiter">)</span>
            <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span>
            <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409141" title="=&gt; Erasure.this.global.ClassSymbol">BoxedUnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408692" title="Erasure.this.global.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span>
            <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408687" title="=&gt; Erasure.this.global.ClassSymbol">RuntimeNothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span>
            <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408689" title="=&gt; Erasure.this.global.ClassSymbol">RuntimeNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409141" title="=&gt; Erasure.this.global.ClassSymbol">BoxedUnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../collection/MapLike.scala.html#87535" title="(key: Erasure.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="()String">toString</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411252" title="=&gt; Boolean">isDerivedValueClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="982108">unboxed</a>     = <a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411473" title="=&gt; Erasure.this.global.Symbol">derivedValueClassUnbox</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408427" title="=&gt; Erasure.this.global.Type">finalResultType</a>
            <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="982109">unboxedSeen</a> = <span class="delimiter">(</span><a href="#981919" title="Erasure.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a> <a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411473" title="=&gt; Erasure.this.global.Symbol">derivedValueClassUnbox</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408427" title="=&gt; Erasure.this.global.Type">finalResultType</a>
            <span class="keyword">def</span> <a title="=&gt; String" id="982110">unboxedMsg</a>  = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#982108" title="Erasure.this.global.Type">unboxed</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#982109" title="Erasure.this.global.Type">unboxedSeen</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;, seen within $<span class="delimiter">{</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411492" title="=&gt; Erasure.this.global.Name">simpleName</a><span class="delimiter">}</span> as $<a href="#982109" title="Erasure.this.global.Type">unboxedSeen</a><span class="string">&quot;</span>
            <a href="../../../reflect/internal/SymbolTable.scala.html#406629" title="(msg: =&gt; String)(result: String)String">logResult</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;Erasure of value class $<a href="#981929" title="Erasure.this.global.Symbol">sym</a> (underlying type $<a href="#982108" title="Erasure.this.global.Type">unboxed</a>$<a href="#982110" title="=&gt; String">unboxedMsg</a><span class="string">) is&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409300" title="(tp: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#982109" title="Erasure.this.global.Type">unboxedSeen</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
                <a href="#981932" title="=&gt; String">classSig</a>
              <span class="keyword">else</span>
                <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982109" title="Erasure.this.global.Type">unboxedSeen</a>, <a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#981732" title="Boolean">toplevel</a>, <a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981929" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
            <a href="#981932" title="=&gt; String">classSig</a>
          <span class="keyword">else</span>
            <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440909" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#732469" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#981919" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>, <a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#981732" title="Boolean">toplevel</a>, <a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> PolyType<a href="#3358030" title="String" id="3358037" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[Erasure.this.global.Symbol]" id="982143">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="Erasure.this.global.Type" id="982144">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#982143" title="List[Erasure.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="String" id="982145">poly</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#981732" title="Boolean">toplevel</a><span class="delimiter">)</span> <a href="#981687" title="(tparams: List[Erasure.this.global.Symbol])String">polyParamSig</a><span class="delimiter">(</span><a href="#982143" title="List[Erasure.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
          <a href="#982145" title="String">poly</a> <span title="(x$1: Any)String">+</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982144" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> MethodType<a href="#3358030" title="String" id="3358039" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[Erasure.this.global.Symbol]" id="982151">params</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="Erasure.this.global.Type" id="982152">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="StringBuffer" id="982153">buf</a> = <span title="(x$1: String)StringBuffer" class="keyword">new</span> <span title="StringBuffer">StringBuffer</span><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span class="delimiter">)</span>
          <a href="#982151" title="List[Erasure.this.global.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: Erasure.this.global.Symbol =&gt; StringBuffer)Unit">foreach</a> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982178">p</a> =&gt; <a href="#982153" title="StringBuffer">buf</a> <span title="(x$1: String)StringBuffer">append</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982178" title="Erasure.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#982153" title="StringBuffer">buf</a> <span title="(x$1: String)StringBuffer">append</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
          <a href="#982153" title="StringBuffer">buf</a> <span title="(x$1: String)StringBuffer">append</span> <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#982152" title="Erasure.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#732469" title="Erasure.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="Char('V')">VOID_TAG</span>.<span title="()String">toString</span> <span class="keyword">else</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982152" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#982153" title="StringBuffer">buf</a>.<span title="()String">toString</span>

        <span class="keyword">case</span> RefinedType<a href="#3358030" title="String" id="3358042" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#206583" title="Erasure.this.global.Type" id="982201">parent</a> <a href="../../../reflect/internal/Types.scala.html#410866" title="List[Erasure.this.global.Type]" id="3358044">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[Erasure.this.global.Type]" id="3358043">_</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="Erasure.this.global.Scope" id="982202">decls</a><span class="delimiter">)</span> =&gt;
          <a href="#981684" title="(tp: Erasure.this.global.Type)String">boxedSig</a><a href="#3358057" title="(x: String)String" class="delimiter">(</a><a href="#982201" title="Erasure.this.global.Type">parent</a><span class="delimiter">)</span>
        <span class="keyword">case</span> ClassInfoType<a href="#3358030" title="String" id="3358048" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[Erasure.this.global.Type]" id="982206">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="Erasure.this.global.Scope" id="3358045">_</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="Erasure.this.global.Symbol" id="3358046">_</a><span class="delimiter">)</span> =&gt;
          <a href="#981683" title="(parents: List[Erasure.this.global.Type])String">superSig</a><a href="#3358057" title="(x: String)String" class="delimiter">(</a><a href="#982206" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span>
        <span class="keyword">case</span> AnnotatedType<a href="#3358030" title="String" id="3358052" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410660" title="List[Erasure.this.global.AnnotationInfo]" id="3358049">_</a>, <a href="../../../reflect/internal/Types.scala.html#410662" title="Erasure.this.global.Type" id="982210">atp</a>, <a href="../../../reflect/internal/Types.scala.html#410664" title="Erasure.this.global.Symbol" id="3358050">_</a><span class="delimiter">)</span> =&gt;
          <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><a href="#3358057" title="(x: String)String" class="delimiter">(</a><a href="#982210" title="Erasure.this.global.Type">atp</a>, <a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#981732" title="Boolean">toplevel</a>, <a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> BoundedWildcardType<a href="#3358030" title="String" id="3358054" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410559" title="Erasure.this.global.TypeBounds" id="982212">bounds</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;something\'s wrong: &quot;)" class="string">&quot;something's wrong: &quot;</span><span title="(x$1: Any)String">+</span><a href="#732469" title="Erasure.this.global.Symbol">sym0</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#732469" title="Erasure.this.global.Symbol">sym0</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot; has a bounded wildcard type&quot;)" class="string">&quot; has a bounded wildcard type&quot;</span><span class="delimiter">)</span>
          <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982212" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; Erasure.this.global.Type">hi</a>, <a href="#981731" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#981732" title="Boolean">toplevel</a>, <a href="#981733" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="982215">etp</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#440909" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#732469" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#981919" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#982215" title="Erasure.this.global.Type">etp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#981919" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="Erasure.this.UnknownSig" class="keyword">new</span> <a href="#622246" title="Erasure.this.UnknownSig">UnknownSig</a>
          <span class="keyword">else</span> <a href="#981689" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#982215" title="Erasure.this.global.Type">etp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#622238" title="(tp: Erasure.this.global.Type)Boolean">needsJavaSig</a><span class="delimiter">(</span><a href="#732470" title="Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <a href="../../../Option.scala.html#63128" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#981731" title="List[Erasure.this.global.Symbol] @scala.annotation.unchecked.uncheckedVariance" id="982239">jsig</a><span class="delimiter">(</span><a href="#732470" title="Erasure.this.global.Type" id="982236">info</a>, toplevel = <a title="Boolean" id="982237" class="keyword">true</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="None.type" id="982241">ex</a>: <a href="#622246" title="Erasure.this.UnknownSig">UnknownSig</a> =&gt; <a href="../../../Option.scala.html#1585" title="None.type">None</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <a href="../../../Option.scala.html#1585" title="None.type">None</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class UnknownSig extends Exception" id="622246">UnknownSig</a> <a href="#622246" title="Erasure.this.UnknownSig" class="keyword">extends</a> <a href="../../../package.scala.html#55500" title="Exception">Exception</a>

  /**  The symbol's erased info. This is the type's erasure, except for the following symbols:
   *
   *   - For $asInstanceOf      : [T]T
   *   - For $isInstanceOf      : [T]scala#Boolean
   *   - For class Array        : [T]C where C is the erased classinfo of the Array class.
   *   - For Array[T].&lt;init&gt;    : {scala#Int)Array[T]
   *   - For a type parameter   : A type bounds type consisting of the erasures of its bounds.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, tp: Erasure.this.global.Type)Erasure.this.global.Type" id="622247">transformInfo</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982247">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Type" id="982248">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a> =
    <a href="AddInterfaces.scala.html#622213" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">transformMixinInfo</a><span class="delimiter">(</span><a href="#43983" title="scala.tools.nsc.transform.Erasure" class="keyword">super</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#440926" title="(sym: Erasure.this.global.Symbol, tp: Erasure.this.global.Type)Erasure.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#982247" title="Erasure.this.global.Symbol">sym</a>, <a href="#982248" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">val</span> <a title="Erasure.this.global.TypeMap" id="622248">deconstMap</a> = <a href="#980949" title="Erasure.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="anonymous class $anon extends Erasure.this.global.TypeMap" id="980949">TypeMap</a> <span class="delimiter">{</span>
    // For some reason classOf[Foo] creates ConstantType(Constant(tpe)) with an actual Type for tpe,
    // which is later translated to a Class. Unfortunately that means we have bugs like the erasure
    // of Class[Foo] and classOf[Bar] not being seen as equivalent, leading to duplicate method
    // generation and failing bytecode. See ticket #4753.
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="980951">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="980952">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a> = <a href="#980952" title="Erasure.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> PolyType<a href="#3358070" title="Erasure.this.global.Type" id="3358074" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[Erasure.this.global.Symbol]" id="3358071">_</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="Erasure.this.global.Type" id="3358072">_</a><span class="delimiter">)</span>                  =&gt; <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#3358087" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#980952" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> MethodType<a href="#3358070" title="Erasure.this.global.Type" id="3358078" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[Erasure.this.global.Symbol]" id="3358075">_</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="Erasure.this.global.Type" id="3358076">_</a><span class="delimiter">)</span>                =&gt; <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><a href="#3358087" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#980952" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>     // nullarymethod was eliminated during uncurry
      <span class="keyword">case</span> ConstantType<a href="#3358070" title="Erasure.this.global.Type" id="3358081" class="delimiter">(</a>Constant<a href="../../../reflect/internal/Types.scala.html#410960" title="Erasure.this.global.Constant" id="3358079" class="delimiter">(</a>_: Type<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#408726" title="=&gt; Erasure.this.global.ClassSymbol">ClassClass</a>.<a href="#3358087" title="(x: Erasure.this.global.Type)Erasure.this.global.Type">tpe</a>  // all classOfs erase to Class
      <span class="keyword">case</span> _                               =&gt; <a href="#980952" title="Erasure.this.global.Type">tp</a>.<a href="#3358087" title="(x: Erasure.this.global.Type)Erasure.this.global.Type">deconst</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  // Methods on Any/Object which we rewrite here while we still know what
  // is a primitive and what arrived boxed.
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="622251">interceptedMethods</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Erasure.this.global.Symbol*)scala.collection.immutable.Set[Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409065" title="=&gt; Erasure.this.global.MethodSymbol">Any_##</a>, <a href="../../../reflect/internal/Definitions.scala.html#409083" title="=&gt; Erasure.this.global.MethodSymbol">Object_##</a>, <a href="../../../reflect/internal/Definitions.scala.html#409067" title="=&gt; Erasure.this.global.MethodSymbol">Any_getClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#408686" title="=&gt; Erasure.this.global.TermSymbol">AnyVal_getClass</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#66445" title="(elems: scala.collection.GenTraversableOnce[Erasure.this.global.Symbol])scala.collection.immutable.Set[Erasure.this.global.Symbol]">++</a> <span class="delimiter">(</span>
    // Each value class has its own getClass for ultra-precise class object typing.
    <a href="../../../reflect/internal/Definitions.scala.html#409399" title="=&gt; List[Erasure.this.global.ClassSymbol]">ScalaValueClasses</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.ClassSymbol =&gt; Erasure.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.ClassSymbol],Erasure.this.global.Symbol,List[Erasure.this.global.Symbol]])List[Erasure.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#982317" title="Erasure.this.global.ClassSymbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408451" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">member</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414752" title="=&gt; Erasure.this.global.TermName">getClass_</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

// -------- erasure on trees ------------------------------------------

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Erasure.this.Context)Erasure.this.Eraser" id="622252">newTyper</a><span class="delimiter">(</span><a title="Erasure.this.Context" id="982371">context</a>: <a href="../typechecker/Contexts.scala.html#537993" title="Erasure.this.Context">Context</a><span class="delimiter">)</span> = <span title="Erasure.this.Eraser" class="keyword">new</span> <a href="#622259" title="Erasure.this.Eraser">Eraser</a><span class="delimiter">(</span><a href="#982371" title="Erasure.this.Context">context</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: Erasure.this.global.Symbol)Boolean" id="622253">safeToRemoveUnbox</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982391">cls</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
    <span class="delimiter">(</span><a href="#982391" title="Erasure.this.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="Erasure.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../reflect/internal/Definitions.scala.html#409301" title="(sym: Erasure.this.global.Symbol)Boolean">isBoxedValueClass</a><span class="delimiter">(</span><a href="#982391" title="Erasure.this.global.Symbol">cls</a><span class="delimiter">)</span>

  /** An extractor object for unboxed expressions (maybe subsumed by posterasure?) */
  <span class="keyword">object</span> <a title="Erasure.this.Unboxed.type" id="622254">Unboxed</a> <a href="#622255" title="Erasure.this.Unboxed.type" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Option[Erasure.this.global.Tree]" id="982399">unapply</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="982401">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[Erasure.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#982401" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#3358094" title="Boolean" id="3358097" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="982406">fn</a>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358131">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358095" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="982419">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: Erasure.this.global.Symbol)Boolean">isUnbox</a><span class="delimiter">(</span><a href="#982406" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622253" title="(cls: Erasure.this.global.Symbol)Boolean">safeToRemoveUnbox</a><span class="delimiter">(</span><a href="#982419" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt;
        <a href="../../../Option.scala.html#63128" title="(x: Erasure.this.global.Tree)Some[Erasure.this.global.Tree]">Some</a><a href="#3358127" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a><a href="#982419" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Apply<span class="delimiter">(</span>
        TypeApply<a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="3358107" class="delimiter">(</a>
          <a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="982441">cast</a> @ Select<a href="#982441" title="Option[Erasure.this.global.Tree]" id="3358110" class="delimiter">(</a>
            Apply<a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="3358113" class="delimiter">(</a>
              <a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="982450">sel</a> @ Select<a href="#982450" title="Option[Erasure.this.global.Tree]" id="3358115" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="982455">arg</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="982456">acc</a><span class="delimiter">)</span>,
              <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358135">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358111" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="982465">asinstanceof</a><span class="delimiter">)</span>,
          <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358134">List</a><a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="3358105" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="982474">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358133">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358102" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">if</span> cast.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409095" title="=&gt; Erasure.this.global.MethodSymbol">Object_asInstanceOf</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#982474" title="Erasure.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411252" title="=&gt; Boolean">isDerivedValueClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        sel.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#982474" title="Erasure.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411473" title="=&gt; Erasure.this.global.Symbol">derivedValueClassUnbox</a> =&gt;
        <a href="../../../Option.scala.html#63128" title="(x: Erasure.this.global.Tree)Some[Erasure.this.global.Tree]">Some</a><a href="#3358127" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a><a href="#982455" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#3358127" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** An extractor object for boxed expressions (maybe subsumed by posterasure?) */
  <span class="keyword">object</span> <a title="Erasure.this.Boxed.type" id="622256">Boxed</a> <a href="#622257" title="Erasure.this.Boxed.type" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Option[Erasure.this.global.Tree]" id="982499">unapply</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="982501">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[Erasure.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#982501" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#3358165" title="Option[Erasure.this.global.Tree]" id="3358169" class="delimiter">(</a>Select<a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="3358173" class="delimiter">(</a>New<a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="3358175" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410063" title="Erasure.this.global.Tree" id="982525">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="3358185">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358192">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358167" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="982534">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#982525" title="Erasure.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411252" title="=&gt; Boolean">isDerivedValueClass</a><span class="delimiter">)</span> =&gt;
        <a href="../../../Option.scala.html#63128" title="(x: Erasure.this.global.Tree)Some[Erasure.this.global.Tree]">Some</a><a href="#3358188" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a><a href="#982534" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span>
      <span class="keyword">case</span> LabelDef<a href="#3358165" title="Option[Erasure.this.global.Tree]" id="3358183" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410239" title="Erasure.this.global.TermName" id="982550">name</a>, <a href="../../../reflect/internal/Trees.scala.html#410241" title="List[Erasure.this.global.Ident]" id="982551">params</a>, <a href="#982499" title="Option[Erasure.this.global.Tree]" id="3358194">Boxed</a><a href="../../../reflect/internal/Trees.scala.html#410243" title="Erasure.this.global.Tree" id="3358181" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="982553">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../../../Option.scala.html#63128" title="(x: Erasure.this.global.LabelDef)Some[Erasure.this.global.LabelDef]">Some</a><a href="#3358188" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]" class="delimiter">(</a><a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405377" title="(tree: Erasure.this.global.Tree, name: Erasure.this.global.Name, params: List[Erasure.this.global.Ident], rhs: Erasure.this.global.Tree)Erasure.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#982501" title="Erasure.this.global.Tree">tree</a>, <a href="#982550" title="Erasure.this.global.TermName">name</a>, <a href="#982551" title="List[Erasure.this.global.Ident]">params</a>, <a href="#982553" title="Erasure.this.global.Tree">rhs</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.LabelDef">setType</a> <a href="#982553" title="Erasure.this.global.Tree">rhs</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#3358188" title="(x: Option[Erasure.this.global.Tree])Option[Erasure.this.global.Tree]">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ComputeBridges extends Object" id="622258">ComputeBridges</a><a href="#622258" title="Erasure.this.ComputeBridges" class="delimiter">(</a><a title="Erasure.this.global.CompilationUnit" id="982665">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="Erasure.this.global.CompilationUnit">CompilationUnit</a>, <a title="Erasure.this.global.Symbol" id="982666">root</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#406659" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#537672" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539392" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#406659" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="982573">toBeRemoved</a>  = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Erasure.this.global.Symbol*)scala.collection.immutable.Set[Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="982575">site</a>         = <a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; Erasure.this.global.Type">thisType</a>
    <span class="keyword">val</span> <a title="Erasure.this.global.Scope" id="982577">bridgesScope</a> = <a href="../../../reflect/internal/Scopes.scala.html#407757" title="=&gt; Erasure.this.global.Scope">newScope</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]" id="982579">bridgeTarget</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (Erasure.this.global.Symbol, Erasure.this.global.Symbol)*)scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="List[Erasure.this.global.Tree]" id="982582">bridges</a>      = List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="opc extends Erasure.this.global.overridingPairs.Cursor" id="982584">opc</a> = <a href="../Global.scala.html#537711" title="(op: =&gt; Erasure.this.global.overridingPairs.Cursor)Erasure.this.global.overridingPairs.Cursor">beforeExplicitOuter</a> <span class="delimiter">{</span>
      <a href="#982604" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">new</a> <a href="../Global.scala.html#537470" title="anonymous class $anon extends Erasure.this.global.overridingPairs.Cursor" id="982604">overridingPairs</a>.<a href="OverridingPairs.scala.html#619490" title="Erasure.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Erasure.this.global.Type]" id="982642">parents</a>              = <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408417" title="=&gt; Erasure.this.global.Type">firstParent</a><span class="delimiter">)</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="982643">exclude</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982651">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982651" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#982651" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#982604" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">super</a>.<a href="OverridingPairs.scala.html#982610" title="(sym: Erasure.this.global.overridingPairs.global.Symbol)Boolean">exclude</a><span class="delimiter">(</span><a href="#982651" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" id="982586">compute</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#783" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, immutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#982584" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982639" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#982675" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="982676">member</a> = <a href="#982584" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982633" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="982677">other</a>  = <a href="#982584" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982636" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>
        //println(&quot;bridge? &quot; + member + &quot;:&quot; + member.tpe + member.locationString + &quot; to &quot; + other + &quot;:&quot; + other.tpe + other.locationString)//DEBUG
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537711" title="(op: =&gt; Boolean)Boolean">beforeExplicitOuter</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982676" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#982588" title="(member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Unit">checkPair</a><span class="delimiter">(</span><a href="#982676" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>, <a href="#982677" title="Erasure.this.global.overridingPairs.global.Symbol">other</a><span class="delimiter">)</span>

        <a href="#982584" title="=&gt; Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982640" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="../../../Tuple2.scala.html#62849" title="(_1: List[Erasure.this.global.Tree], _2: scala.collection.immutable.Set[Erasure.this.global.Symbol])(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="#982582" title="=&gt; List[Erasure.this.global.Tree]">bridges</a>, <a href="#982573" title="=&gt; scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that a bridge only overrides members that are also overridden by the original member.
     *  This test is necessary only for members that have a value class in their type.
     *  Such members are special because their types after erasure and after post-erasure differ/.
     *  This means we generate them after erasure, but the post-erasure transform might introduce
     *  a name clash. The present method guards against these name clashes.
     *
     *  @param  member   The original member
     *  @param  other    The overidden symbol for which the bridge was generated
     *  @param  bridge   The bridge
     */
    <span class="keyword">def</span> <a title="(member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol, bridge: Erasure.this.global.Symbol)Boolean" id="982587">checkBridgeOverrides</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982689">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="982690">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="982691">bridge</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)String" id="982692">fulldef</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982695">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#982695" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#982695" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411507" title="()String">toString</a>
        <span class="keyword">else</span> <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;$<a href="#982695" title="Erasure.this.global.Symbol">sym</a>: $<span class="delimiter">{</span><a href="#982695" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span> in $<span class="delimiter">{</span><a href="#982695" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">}</span><span class="string">&quot;</span>
      <span class="keyword">var</span> <a title="Boolean" id="982693">noclash</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">def</span> <a title="(what: String)Unit" id="982694">clashError</a><span class="delimiter">(</span><a title="String" id="982700">what</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#982693" title="Boolean">noclash</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="#982665" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
          <span title="Erasure.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#982689" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#982666" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <a href="#982689" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a>,
          <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>&quot;&quot;&quot;bridge generated for member $<span class="delimiter">{</span><a href="#982692" title="(sym: Erasure.this.global.Symbol)String">fulldef</a><span class="delimiter">(</span><a href="#982689" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">}</span>
             |which overrides $<span class="delimiter">{</span><a href="#982692" title="(sym: Erasure.this.global.Symbol)String">fulldef</a><span class="delimiter">(</span><a href="#982690" title="Erasure.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">}</span>
             |clashes with definition of $<a href="#982700" title="String">what</a>;
             |both have erased type $<span class="delimiter">{</span><a href="../Global.scala.html#537678" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterPostErasure</a><span class="delimiter">(</span><a href="#982691" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="string">&quot;&quot;&quot;</span>.<a href="../../../collection/immutable/StringLike.scala.html#59864" title="=&gt; String">stripMargin</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982743">bc</a> &lt;- <a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../collection/immutable/List.scala.html#62719" title="(f: Erasure.this.global.Symbol =&gt; Unit)Unit">baseClasses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540057" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537678" title="(op: =&gt; Unit)Unit">afterPostErasure</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span>
            <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a>&quot;&quot;&quot;check bridge overrides in $<a href="#982743" title="Erasure.this.global.Symbol">bc</a>
            $<span class="delimiter">{</span><a href="#982743" title="Erasure.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408445" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#982691" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; bridge.NameType">name</a><span class="delimiter">)</span><span class="delimiter">}</span>
            $<span class="delimiter">{</span><a href="#982575" title="=&gt; Erasure.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#982691" title="Erasure.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">}</span>
            $<span class="delimiter">{</span><a href="#982575" title="=&gt; Erasure.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#982743" title="Erasure.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408445" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#982691" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; bridge.NameType">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411489" title="(alt: =&gt; Erasure.this.global.Symbol)Erasure.this.global.Symbol">orElse</a> <a href="../../../reflect/internal/Definitions.scala.html#409361" title="=&gt; Erasure.this.global.ClassSymbol">IntClass</a><span class="delimiter">)</span><span class="delimiter">}</span>
            $<span class="delimiter">{</span><span class="delimiter">(</span><a href="#982691" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411460" title="(ofclazz: Erasure.this.global.Symbol, site: Erasure.this.global.Type)Erasure.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#982743" title="Erasure.this.global.Symbol">bc</a>, <a href="#982575" title="=&gt; Erasure.this.global.Type">site</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="string">&quot;&quot;&quot;</span>.<a href="../../../collection/immutable/StringLike.scala.html#59864" title="=&gt; String">stripMargin</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)List[Erasure.this.global.Symbol]" id="982744">overriddenBy</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982778">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#982778" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411460" title="(ofclazz: Erasure.this.global.Symbol, site: Erasure.this.global.Type)Erasure.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#982743" title="Erasure.this.global.Symbol">bc</a>, <a href="#982575" title="=&gt; Erasure.this.global.Type">site</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411413" title="=&gt; List[Erasure.this.global.Symbol]">alternatives</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: Erasure.this.global.Symbol =&gt; Boolean)List[Erasure.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982792">sym</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982792" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411198" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982818">overBridge</a> &lt;- <a href="../Global.scala.html#537678" title="(op: =&gt; List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">afterPostErasure</a><a href="../../../collection/immutable/List.scala.html#62719" title="(f: Erasure.this.global.Symbol =&gt; Unit)Unit" class="delimiter">(</a><a href="#982744" title="(sym: Erasure.this.global.Symbol)List[Erasure.this.global.Symbol]">overriddenBy</a><span class="delimiter">(</span><a href="#982691" title="Erasure.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#982818" title="Erasure.this.global.Symbol">overBridge</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#982689" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#982694" title="(what: String)Unit">clashError</a><span class="delimiter">(</span><span title="String(&quot;the member itself&quot;)" class="string">&quot;the member itself&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="982823">overMembers</a> = <a href="#982744" title="(sym: Erasure.this.global.Symbol)List[Erasure.this.global.Symbol]">overriddenBy</a><span class="delimiter">(</span><a href="#982689" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982823" title="List[Erasure.this.global.Symbol]">overMembers</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: Erasure.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982830">overMember</a> =&gt;
              <a href="../Global.scala.html#537678" title="(op: =&gt; Boolean)Boolean">afterPostErasure</a><span class="delimiter">(</span><a href="#982830" title="Erasure.this.global.Symbol">overMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#982818" title="Erasure.this.global.Symbol">overBridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#982694" title="(what: String)Unit">clashError</a><span class="delimiter">(</span><a href="#982692" title="(sym: Erasure.this.global.Symbol)String">fulldef</a><span class="delimiter">(</span><a href="#982818" title="Erasure.this.global.Symbol">overBridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#982693" title="Boolean">noclash</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Unit" id="982588">checkPair</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="982681">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="982682">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="982840">otpe</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#440910" title="(sym: Erasure.this.global.Symbol)(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialErasure</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#982682" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="982841">bridgeNeeded</a> = <a href="../Global.scala.html#537675" title="(op: =&gt; Boolean)Boolean">afterErasure</a> <span class="delimiter">(</span>
        <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#982682" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">deconstMap</a><span class="delimiter">(</span><a href="#982682" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">deconstMap</a><span class="delimiter">(</span><a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">{</span> <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="982878">e</a> = <a href="#982577" title="=&gt; Erasure.this.global.Scope">bridgesScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#410519" title="(name: Erasure.this.global.Name)Erasure.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#982878" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#982878" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#982840" title="Erasure.this.global.Type">otpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: Erasure.this.global.Symbol)Erasure.this.global.Symbol">bridgeTarget</a><span class="delimiter">(</span><a href="#982878" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#982681" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#982878" title="Erasure.this.global.ScopeEntry">e</a> = <a href="#982577" title="=&gt; Erasure.this.global.Scope">bridgesScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#410520" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#982878" title="Erasure.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#982878" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982841" title="Boolean">bridgeNeeded</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span>

      <span class="keyword">val</span> <a title="Long" id="982842">newFlags</a> = <span class="delimiter">(</span><a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(67108864)">BRIDGE</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57511" title="(x: Long)Long">&amp;</a> <a href="../../../Long.scala.html#57450" title="=&gt; Long">~</a><span class="delimiter">(</span>ACCESSOR | DEFERRED <span title="Long(2281701392L)">|</span> LAZY <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <a href="../../../reflect/internal/Flags.scala.html#407017" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="other.TypeOfClonedSymbol" id="982843">bridge</a>   = <a href="#982682" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411421" title="(owner: Erasure.this.global.Symbol, newFlags: Long)other.TypeOfClonedSymbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a>, <a href="#982842" title="Long">newFlags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)other.TypeOfClonedSymbol">setPos</a> <a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a>

      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;generating bridge from %s (%s): %s to %s: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#982682" title="Erasure.this.global.Symbol">other</a>, <a href="../../../reflect/internal/Flags.scala.html#407114" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#982842" title="Long">newFlags</a><span class="delimiter">)</span>,
        <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">otpe</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <a href="#982682" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a>, <a href="#982681" title="Erasure.this.global.Symbol">member</a>,
        <a href="../../../reflect/internal/transform/Erasure.scala.html#440910" title="(sym: Erasure.this.global.Symbol)(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialErasure</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span><a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      // the parameter symbols need to have the new owner
      <a href="#982843" title="other.TypeOfClonedSymbol">bridge</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: Erasure.this.global.Type)bridge.type">setInfo</a> <span class="delimiter">(</span><a href="#982840" title="Erasure.this.global.Type">otpe</a> <a href="../../../reflect/internal/Types.scala.html#408493" title="(owner: Erasure.this.global.Symbol)Erasure.this.global.Type">cloneInfo</a> <a href="#982843" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: Erasure.this.global.Symbol, value: Erasure.this.global.Symbol)Unit">bridgeTarget</a><span class="delimiter">(</span><a href="#982843" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span> = <a href="#982681" title="Erasure.this.global.Symbol">member</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#982681" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408478" title="(p: Erasure.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#982987" title="Erasure.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411252" title="=&gt; Boolean">isDerivedValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
          <a href="#982587" title="(member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol, bridge: Erasure.this.global.Symbol)Boolean">checkBridgeOverrides</a><span class="delimiter">(</span><a href="#982681" title="Erasure.this.global.Symbol">member</a>, <a href="#982682" title="Erasure.this.global.Symbol">other</a>, <a href="#982843" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#537675" title="(op: =&gt; other.TypeOfClonedSymbol)other.TypeOfClonedSymbol">afterErasure</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; Erasure.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: other.TypeOfClonedSymbol)other.TypeOfClonedSymbol">enter</a> <a href="#982843" title="other.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#982682" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#982666" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537675" title="(op: =&gt; Unit)Unit">afterErasure</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410516" title="(sym: Erasure.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#982682" title="Erasure.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#982573" title="(x$1: scala.collection.immutable.Set[Erasure.this.global.Symbol])Unit">toBeRemoved</a> <a href="../../../collection/SetLike.scala.html#66443" title="(elem: Erasure.this.global.Symbol)scala.collection.immutable.Set[Erasure.this.global.Symbol]">+=</a> <a href="#982682" title="Erasure.this.global.Symbol">other</a>
        <span class="delimiter">}</span>

        <a href="#982577" title="=&gt; Erasure.this.global.Scope">bridgesScope</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: other.TypeOfClonedSymbol)other.TypeOfClonedSymbol">enter</a> <a href="#982843" title="other.TypeOfClonedSymbol">bridge</a>
        <a href="#982582" title="(x$1: List[Erasure.this.global.Tree])Unit">bridges</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::=</a> <a href="#982589" title="(bridge: Erasure.this.global.Symbol, member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Erasure.this.global.DefDef">makeBridgeDefDef</a><span class="delimiter">(</span><a href="#982843" title="other.TypeOfClonedSymbol">bridge</a>, <a href="#982681" title="Erasure.this.global.Symbol">member</a>, <a href="#982682" title="Erasure.this.global.Symbol">other</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(bridge: Erasure.this.global.Symbol, member: Erasure.this.global.Symbol, other: Erasure.this.global.Symbol)Erasure.this.global.DefDef" id="982589">makeBridgeDefDef</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="983051">bridge</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="983052">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="983053">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../Global.scala.html#537675" title="(op: =&gt; Erasure.this.global.DefDef)Erasure.this.global.DefDef">afterErasure</a> <span class="delimiter">{</span>
      // type checking ensures we can safely call `other`, but unless `member.tpe &lt;:&lt; other.tpe`,
      // calling `member` is not guaranteed to succeed in general, there's
      // nothing we can do about this, except for an unapply: when this subtype test fails,
      // return None without calling `member`
      //
      // TODO: should we do this for user-defined unapplies as well?
      // does the first argument list have exactly one argument -- for user-defined unapplies we can't be sure
      <span class="keyword">def</span> <a title="(bridgingCall: Erasure.this.global.Tree)Erasure.this.global.Tree" id="983056">maybeWrap</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983058">bridgingCall</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="983059">guardExtractor</a> = <span class="delimiter">(</span> // can't statically know which member is going to be selected, so don't let this depend on member.isSynthetic
             <span class="delimiter">(</span><a href="#983052" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414575" title="=&gt; Erasure.this.global.nme.NameType">unapply</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#983052" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414577" title="=&gt; Erasure.this.global.nme.NameType">unapplySeq</a><span class="delimiter">)</span>
          <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537675" title="(op: =&gt; Boolean)Boolean">afterErasure</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#983052" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#983053" title="Erasure.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // no static guarantees (TODO: is the subtype test ever true?)

        <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#538235" title="Erasure.this.CODE.type">CODE</a>._
        <span class="keyword">val</span> <a title="Erasure.this.global.Literal" id="983061">_false</a>    = <a href="../ast/TreeDSL.scala.html#624563" title="=&gt; Erasure.this.global.Literal">FALSE_typed</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="983062">pt</a>        = <a href="#983052" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; Erasure.this.global.Type">resultType</a>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Erasure.this.global.gen.global.Tree" id="983064">zero</a> =
          <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span>      <span class="delimiter">(</span><a href="#983061" title="Erasure.this.global.Literal">_false</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#983062" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>    <a href="#983061" title="Erasure.this.global.Literal">_false</a>
          <span class="keyword">else</span> <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408959" title="=&gt; Erasure.this.global.ModuleSymbol">NoneModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#983062" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624612" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408959" title="=&gt; Erasure.this.global.ModuleSymbol">NoneModule</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="Erasure.this.global.EmptyTree.type">EmptyTree</a>

        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983059" title="Boolean">guardExtractor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#983063" title="=&gt; Erasure.this.global.gen.global.Tree">zero</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="Erasure.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.gen.global.Tree" id="983099">typeTest</a> = <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471004" title="(value: Erasure.this.global.gen.global.Tree, tpe: Erasure.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)Erasure.this.global.gen.global.Tree">mkIsInstanceOf</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624612" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#983051" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411479" title="=&gt; Erasure.this.global.Symbol">firstParam</a><span class="delimiter">)</span>, <a href="#983052" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; Erasure.this.global.Symbol">head</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#624605" title="(tree: Erasure.this.global.Tree)Erasure.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#983099" title="Erasure.this.global.gen.global.Tree">typeTest</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662292" title="(x: Erasure.this.global.Tree)Erasure.this.CODE.IfStart">THEN</a> <a href="#983058" title="Erasure.this.global.Tree">bridgingCall</a> <a href="../ast/TreeDSL.scala.html#662293" title="(elsep: Erasure.this.global.Tree)Erasure.this.global.If">ELSE</a> <a href="#983063" title="=&gt; Erasure.this.global.gen.global.Tree">zero</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#983058" title="Erasure.this.global.Tree">bridgingCall</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983057">rhs</a> = <a href="#983052" title="Erasure.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> MethodType<a href="#3358210" title="Erasure.this.global.Tree" id="3358214" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[Erasure.this.global.Symbol]" id="3358218">Nil</a>, ConstantType<a href="../../../reflect/internal/Types.scala.html#410771" title="Erasure.this.global.Type" id="3358217" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410960" title="Erasure.this.global.Constant" id="983117">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><a href="#3358220" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#983117" title="Erasure.this.global.Constant">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _                                =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983120">sel</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>    = <a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408123" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Tree">This</a><span class="delimiter">(</span><a href="#982666" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span>, <a href="#983052" title="Erasure.this.global.Symbol">member</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983121">bridgingCall</a> = <span class="delimiter">(</span><a href="#983120" title="Erasure.this.global.Tree">sel</a> <a href="../../../collection/TraversableOnce.scala.html#58196" title="(z: Erasure.this.global.Tree)(op: (Erasure.this.global.Tree, List[Erasure.this.global.Symbol]) =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">/:</a> <a href="#983051" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411390" title="=&gt; List[List[Erasure.this.global.Symbol]]">paramss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983166">fun</a>, <a title="List[Erasure.this.global.Symbol]" id="983167">vparams</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#983166" title="Erasure.this.global.Tree">fun</a>, <a href="#983167" title="List[Erasure.this.global.Symbol]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Ident,List[Erasure.this.global.Ident]])List[Erasure.this.global.Ident]">map</a> <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#983056" title="(bridgingCall: Erasure.this.global.Tree)Erasure.this.global.Tree">maybeWrap</a><span class="delimiter">(</span><a href="#983121" title="Erasure.this.global.Tree">bridgingCall</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.DefDef)Erasure.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#983051" title="Erasure.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: Erasure.this.global.Symbol, rhs: Erasure.this.global.Tree)Erasure.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#983051" title="Erasure.this.global.Symbol">bridge</a>, <a href="#983057" title="Erasure.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The modifier typer which retypes with erased types. */
  <span class="keyword">class</span> <a title="class Eraser extends Erasure.this.Typer" id="622259">Eraser</a><a href="#622259" title="Erasure.this.Eraser" class="delimiter">(</a><a title="Erasure.this.Context" id="982390">_context</a>: <a href="../typechecker/Contexts.scala.html#537993" title="Erasure.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../typechecker/Typers.scala.html#538117" title="Erasure.this.Typer">Typer</a><span class="delimiter">(</span><a href="#982390" title="Erasure.this.Context">_context</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Erasure.this.global.Type)Boolean" id="982378">isPrimitiveValueType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="983310">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#983310" title="Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Erasure.this.global.Type, other: Erasure.this.global.Type)Boolean" id="982379">isDifferentErasedValueType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="983311">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a>, <a title="Erasure.this.global.Type" id="983312">other</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#622244" title="(tpe: Erasure.this.global.Type)Boolean">isErasedValueType</a><span class="delimiter">(</span><a href="#983311" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#983311" title="Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#983312" title="Erasure.this.global.Type">other</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="982380">isPrimitiveValueMember</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="983313">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#983313" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#983313" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>

    @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree" id="982381">box</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983318">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="=&gt; String" id="983319">target</a>: =&gt; String<span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983320">result</a> = <a href="#982382" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box1</a><span class="delimiter">(</span><a href="#983318" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;boxing $<span class="delimiter">{</span><a href="#983318" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408567" title="=&gt; String">summaryString</a><span class="delimiter">}</span>: $<span class="delimiter">{</span><a href="#983318" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span> into $<a href="#983319" title="=&gt; String">target</a>: $<span class="delimiter">{</span><a href="#983320" title="Erasure.this.global.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
      <a href="#983320" title="Erasure.this.global.Tree">result</a>
    <span class="delimiter">}</span>

    /** Box `tree` of unboxed type */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="982382">box1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983321">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <a href="#983321" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> LabelDef<a href="#3358291" title="Erasure.this.global.Tree" id="3358296" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410239" title="Erasure.this.global.TermName" id="3358292">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410241" title="List[Erasure.this.global.Ident]" id="3358293">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410243" title="Erasure.this.global.Tree" id="3358294">_</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.LabelDef" id="983327">ldef</a> = <a href="../../../reflect/internal/Trees.scala.html#408162" title="(ldef: Erasure.this.global.Tree)(applyToRhs: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)Erasure.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#983321" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#982382" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box1</a><span class="delimiter">)</span>
        <a href="#983327" title="Erasure.this.global.LabelDef">ldef</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)ldef.type">setType</a> <a href="#983327" title="Erasure.this.global.LabelDef">ldef</a>.<a href="../../../reflect/internal/Trees.scala.html#410243" title="=&gt; Erasure.this.global.Tree">rhs</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983334">tree1</a> = <a href="#983321" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ErasedValueType<a href="#3358282" title="Erasure.this.global.Tree" id="3358284" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#420335" title="Erasure.this.global.TypeRef" id="983336">tref</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="983337">clazz</a> = <a href="#983336" title="Erasure.this.global.TypeRef">tref</a>.<a href="../../../reflect/internal/Types.scala.html#410889" title="=&gt; Erasure.this.global.Symbol">sym</a>
            <a href="#983321" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="#982399" title="Option[Erasure.this.global.Tree]" id="3358235">Unboxed</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983339">arg</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#983339" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#983337" title="Erasure.this.global.Symbol">clazz</a> =&gt;
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;shortcircuiting unbox -&gt; box &quot;)" class="string">&quot;shortcircuiting unbox -&gt; box &quot;</span><span title="(x$1: Any)String">+</span><a href="#983339" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span>; <a href="#983339" title="Erasure.this.global.Tree">arg</a>
              <span class="keyword">case</span> _ =&gt;
                <a href="../../../reflect/internal/Trees.scala.html#408121" title="(sym: Erasure.this.global.Symbol, args: Erasure.this.global.Tree*)Erasure.this.global.Tree">New</a><a href="#3358231" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#983337" title="Erasure.this.global.Symbol">clazz</a>, <a href="#982385" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#983321" title="Erasure.this.global.Tree">tree</a>, <a href="../../../reflect/internal/transform/Erasure.scala.html#440904" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">underlyingOfValueClass</a><span class="delimiter">(</span><a href="#983337" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#983321" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="#3358286" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">typeSymbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="Erasure.this.global.gen.global.Tree" id="3358266">UnitClass</a>  =&gt;
            <a href="#3358270" title="(x: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#537807" title="Erasure.this.global.treeInfo.type">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#479196" title="(tree: Erasure.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#983321" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624612" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409145" title="=&gt; Erasure.this.global.TermSymbol">BoxedUnit_UNIT</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#624607" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#983321" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#624612" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409145" title="=&gt; Erasure.this.global.TermSymbol">BoxedUnit_UNIT</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#408692" title="Erasure.this.global.gen.global.Tree" id="3358267">NothingClass</a> =&gt; <a href="#3358270" title="(x: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">tree</a> // a non-terminating expression doesn't need boxing
          <span class="keyword">case</span> x          =&gt;
            <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span>x <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
            <a href="#983321" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              /** Can't always remove a Box(Unbox(x)) combination because the process of boxing x
               *  may lead to throwing an exception.
               *
               *  This is important for specialization: calls to the super constructor should not box/unbox specialized
               *  fields (see TupleX). (ID)
               */
              <span class="keyword">case</span> Apply<a href="#3358237" title="Erasure.this.global.Tree" id="3358240" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="983375">boxFun</a>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358249">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358238" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="983384">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: Erasure.this.global.Symbol)Boolean">isUnbox</a><span class="delimiter">(</span><a href="#983321" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622253" title="(cls: Erasure.this.global.Symbol)Boolean">safeToRemoveUnbox</a><span class="delimiter">(</span><a href="#983384" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt;
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;boxing an unbox: $<span class="delimiter">{</span><a href="#983321" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">}</span> -&gt; $<span class="delimiter">{</span><a href="#983384" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
                <a href="#983384" title="Erasure.this.global.Tree">arg</a>
              <span class="keyword">case</span> _ =&gt;
                <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624612" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Erasure.this.global.Tree)Erasure.this.CODE.TreeMethods" class="delimiter">(</a><a href="../../../collection/MapLike.scala.html#87535" title="(key: Erasure.this.global.Symbol)Erasure.this.global.TermSymbol">boxMethod</a><span class="delimiter">(</span>x<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662336" title="(params: Erasure.this.global.Tree*)Erasure.this.global.Apply">APPLY</a> <a href="#983321" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.Apply">setPos</a> <span class="delimiter">(</span><a href="#983321" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <a href="#3358245" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../typechecker/Typers.scala.html#538703" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#983321" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#983334" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="982383">unbox</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983456">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="983457">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983458">result</a> = <a href="#982384" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox1</a><span class="delimiter">(</span><a href="#983456" title="Erasure.this.global.Tree">tree</a>, <a href="#983457" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;unboxing $<span class="delimiter">{</span><a href="#983456" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408567" title="=&gt; String">summaryString</a><span class="delimiter">}</span>: $<span class="delimiter">{</span><a href="#983456" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span> with pt=$<a href="#983457" title="Erasure.this.global.Type">pt</a> as type $<span class="delimiter">{</span><a href="#983458" title="Erasure.this.global.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
      <a href="#983458" title="Erasure.this.global.Tree">result</a>
    <span class="delimiter">}</span>

    /** Unbox `tree` of boxed type to expected type `pt`.
     *
     *  @param tree the given tree
     *  @param pt   the expected type.
     *  @return     the unboxed tree
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="982384">unbox1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983459">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="983460">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <a href="#983459" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
/*
      case Boxed(unboxed) =&gt;
        println(&quot;unbox shorten: &quot;+tree) // this never seems to kick in during build and test; therefore disabled.
        adaptToType(unboxed, pt)
 */
      <span class="keyword">case</span> LabelDef<a href="#3358335" title="Erasure.this.global.Tree" id="3358340" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410239" title="Erasure.this.global.TermName" id="3358336">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410241" title="List[Erasure.this.global.Ident]" id="3358337">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410243" title="Erasure.this.global.Tree" id="3358338">_</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.LabelDef" id="983466">ldef</a> = <a href="../../../reflect/internal/Trees.scala.html#408162" title="(ldef: Erasure.this.global.Tree)(applyToRhs: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)Erasure.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#983459" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#982383" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#983468" title="Erasure.this.global.Tree">_</a>, <a href="#983460" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#983466" title="Erasure.this.global.LabelDef">ldef</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)ldef.type">setType</a> <a href="#983466" title="Erasure.this.global.LabelDef">ldef</a>.<a href="../../../reflect/internal/Trees.scala.html#410243" title="=&gt; Erasure.this.global.Tree">rhs</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">case</span> _ =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983471">tree1</a> = <a href="#983460" title="Erasure.this.global.Type">pt</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ErasedValueType<a href="#3358326" title="Erasure.this.global.Tree" id="3358328" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#420335" title="Erasure.this.global.TypeRef" id="983473">tref</a><span class="delimiter">)</span> =&gt;
            <a href="#3358330" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="#982499" title="Option[Erasure.this.global.Tree]" id="3358310">Boxed</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983475">arg</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#983475" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#407388" title="Erasure.this.global.ErasedValueType">ErasedValueType</a><span class="delimiter">]</span> =&gt;
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;shortcircuiting box -&gt; unbox &quot;)" class="string">&quot;shortcircuiting box -&gt; unbox &quot;</span><span title="(x$1: Any)String">+</span><a href="#983475" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span>
                <a href="#983475" title="Erasure.this.global.Tree">arg</a>
              <span class="keyword">case</span> _ =&gt;
                <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="983476">clazz</a> = <a href="#983473" title="Erasure.this.global.TypeRef">tref</a>.<a href="../../../reflect/internal/Types.scala.html#410889" title="=&gt; Erasure.this.global.Symbol">sym</a>
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;not boxed: &quot;)" class="string">&quot;not boxed: &quot;</span><span title="(x$1: Any)String">+</span><a href="#983459" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="983478">underlying</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#440904" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">underlyingOfValueClass</a><span class="delimiter">(</span><a href="#983476" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983479">tree0</a> =
                  <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983459" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                      <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#983477" title="=&gt; Erasure.this.global.Type">underlying</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    // convert `null` directly to underlying type, as going
                    // via the unboxed type would yield a NPE (see SI-5866)
                    <a href="#982384" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox1</a><span class="delimiter">(</span><a href="#983459" title="Erasure.this.global.Tree">tree</a>, <a href="#983477" title="=&gt; Erasure.this.global.Type">underlying</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span>
                    <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#983459" title="Erasure.this.global.Tree">tree</a>, <a href="#983476" title="Erasure.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#983476" title="Erasure.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411473" title="=&gt; Erasure.this.global.Symbol">derivedValueClassUnbox</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#982385" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#983479" title="Erasure.this.global.Tree">tree0</a>, <a href="#983460" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#983460" title="Erasure.this.global.Type">pt</a>.<a href="#3358330" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">typeSymbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="Erasure.this.global.Tree" id="3358315">UnitClass</a>  =&gt;
                <a href="#3358318" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#537807" title="Erasure.this.global.treeInfo.type">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#479196" title="(tree: Erasure.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#983459" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624561" title="=&gt; Erasure.this.global.Literal">UNIT</a>
                <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#624607" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#983459" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#624561" title="=&gt; Erasure.this.global.Literal">UNIT</a><span class="delimiter">)</span>
              <span class="keyword">case</span> x          =&gt;
                <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span>x <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
                // don't `setType pt` the Apply tree, as the Apply's fun won't be typechecked if the Apply tree already has a type
                <a href="../../../reflect/internal/Trees.scala.html#408118" title="(sym: Erasure.this.global.Symbol, args: Erasure.this.global.Tree*)Erasure.this.global.Tree">Apply</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: Erasure.this.global.Symbol)Erasure.this.global.TermSymbol">unboxMethod</a><span class="delimiter">(</span><a href="#983460" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="#983459" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../typechecker/Typers.scala.html#538703" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#983459" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#983471" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Generate a synthetic cast operation from tree.tpe to pt.
     *  @pre pt eq pt.normalize
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="982385">cast</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983353">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="983354">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406629" title="(msg: =&gt; String)(result: Erasure.this.global.Tree)Erasure.this.global.Tree">logResult</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;cast($<a href="#983353" title="Erasure.this.global.Tree">tree</a>, $<a href="#983354" title="Erasure.this.global.Type">pt</a><span class="string">)&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983354" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // See SI-4731 for one example of how this occurs.
        <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Attempted to cast to Unit: &quot;)" class="string">&quot;Attempted to cast to Unit: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#983353" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#983353" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408588" title="=&gt; tree.type">duplicate</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)tree.type">setType</a> <a href="#983354" title="Erasure.this.global.Type">pt</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983353" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#983353" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#983354" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // See SI-2386 for one example of when this might be necessary.
        <span class="keyword">val</span> <a title="Boolean" id="983714">needsExtraCast</a> = <a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983353" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[Erasure.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983354" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[Erasure.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.gen.global.Tree" id="983715">tree1</a> = <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983714" title="Boolean">needsExtraCast</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543471" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414557" title="=&gt; Erasure.this.global.nme.NameType">toObjectArray</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#983353" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#983353" title="Erasure.this.global.Tree">tree</a>
        <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../Global.scala.html#543500" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#983715" title="Erasure.this.global.gen.global.Tree">tree1</a>, <a href="#983354" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../Global.scala.html#543500" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#983353" title="Erasure.this.global.Tree">tree</a>, <a href="#983354" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Adapt `tree` to expected type `pt`.
     *
     *  @param tree the given tree
     *  @param pt   the expected type
     *  @return     the adapted tree
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="982386">adaptToType</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983504">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="983505">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540057" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#983505" title="Erasure.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#407279" title="Erasure.this.global.WildcardType.type">WildcardType</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;adapting &quot;)" class="string">&quot;adapting &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#983504" title="Erasure.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; : &quot;)" class="string">&quot; : &quot;</span> <span title="(x$1: Any)String">+</span>  <a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[Erasure.this.global.Type]">parents</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>//debug
      <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#983504" title="Erasure.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#982379" title="(tpe: Erasure.this.global.Type, other: Erasure.this.global.Type)Boolean">isDifferentErasedValueType</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#982381" title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#408499" title="()String">toString</a><span class="delimiter">)</span>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#982379" title="(tpe: Erasure.this.global.Type, other: Erasure.this.global.Type)Boolean">isDifferentErasedValueType</a><span class="delimiter">(</span><a href="#983505" title="Erasure.this.global.Type">pt</a>, <a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#982383" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#982381" title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#408499" title="()String">toString</a><span class="delimiter">)</span>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#407341" title="Erasure.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // [H] this assert fails when trying to typecheck tree !(SomeClass.this.bitmap) for single lazy val
        //assert(tree.symbol.isStable, &quot;adapt &quot;+tree+&quot;:&quot;+tree.tpe+&quot; to &quot;+pt)
        <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>, List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; Erasure.this.global.Type">resultType</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
//      } else if (pt &lt;:&lt; tree.tpe)
//        cast(tree, pt)
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#982383" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#982385" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#983504" title="Erasure.this.global.Tree">tree</a>, <a href="#983505" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**  Replace member references as follows:
     *
     *   - `x == y` for == in class Any becomes `x equals y` with equals in class Object.
     *   - `x != y` for != in class Any becomes `!(x equals y)` with equals in class Object.
     *   - x.asInstanceOf[T] becomes x.$asInstanceOf[T]
     *   - x.isInstanceOf[T] becomes x.$isInstanceOf[T]
     *   - x.isInstanceOf[ErasedValueType(tref)] becomes x.isInstanceOf[tref.sym.tpe]
     *   - x.m where m is some other member of Any becomes x.m where m is a member of class Object.
     *   - x.m where x has unboxed value type T and m is not a directly translated member of T becomes T.box(x).m
     *   - x.m where x is a reference type and m is a directly translated member of value type T becomes x.TValue().m
     *   - All forms of x.m where x is a boxed type and m is a member of an unboxed class become
     *     x.m where m is the corresponding member of the boxed class.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="982387">adaptMember</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="983789">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      //Console.println(&quot;adaptMember: &quot; + tree);
      <a href="#983789" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Apply<a href="#3358365" title="Boolean" id="3358369" class="delimiter">(</a>TypeApply<a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="3358372" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="983796">sel</a> @ Select<a href="#983796" title="Erasure.this.global.Tree" id="3358374" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="983801">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="983802">name</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358407">List</a><a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="3358370" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="983811">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358406">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358367" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409071" title="=&gt; Erasure.this.global.MethodSymbol">Any_asInstanceOf</a> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="983825">qual1</a> = <a href="../typechecker/Typers.scala.html#538705" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#983801" title="Erasure.this.global.Tree">qual</a>, <span title="Int(0)">NOmode</span>, <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> // need to have an expected type, see #3037
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="983826">qualClass</a> = <a href="#983825" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
/*
          val targClass = targ.tpe.typeSymbol

          if (isNumericValueClass(qualClass) &amp;&amp; isNumericValueClass(targClass))
            // convert numeric type casts
            atPos(tree.pos)(Apply(Select(qual1, &quot;to&quot; + targClass.name), List()))
          else
*/
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#983811" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#622244" title="(tpe: Erasure.this.global.Type)Boolean">isErasedValueType</a><span class="delimiter">(</span><a href="#983811" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Boolean" id="983838">noNullCheckNeeded</a> = <a href="#983811" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> ErasedValueType<a href="#3358347" title="Boolean" id="3358349" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#420335" title="Erasure.this.global.TypeRef" id="983840">tref</a><span class="delimiter">)</span> =&gt;
                <a href="../../../reflect/internal/SymbolTable.scala.html#406672" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539392" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <a href="#3358351" title="(x: Boolean)Boolean" class="delimiter">{</a>
                  <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440905" title="(tref: Erasure.this.global.TypeRef)Erasure.this.global.Type">erasedValueClassArg</a><span class="delimiter">(</span><a href="#983840" title="Erasure.this.global.TypeRef">tref</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> _ =&gt;
                <a href="#3358351" title="(x: Boolean)Boolean" class="keyword">true</a>
            <span class="delimiter">}</span>
            <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983838" title="Boolean">noNullCheckNeeded</a><span class="delimiter">)</span> <a href="#982383" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#983825" title="Erasure.this.global.Tree">qual1</a>, <a href="#983811" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="=&gt; Erasure.this.global.Literal" id="983849">nullConst</a> = <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.Literal">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Erasure.this.global.gen.global.Tree" id="983850">untyped</a> =
//                util.trace(&quot;new asinstanceof test&quot;) {
                  <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543491" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#983825" title="Erasure.this.global.Tree">qual1</a>, <a href="../typechecker/Typers.scala.html#538560" title="=&gt; Erasure.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#538749" title="=&gt; Erasure.this.global.Symbol">owner</a>, <a href="../typechecker/Typers.scala.html#538560" title="=&gt; Erasure.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#538743" title="=&gt; Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="983862">qual</a> =&gt;
                    <a href="../../../reflect/internal/Trees.scala.html#453562" title="(cond: Erasure.this.global.Tree, thenp: Erasure.this.global.Tree, elsep: Erasure.this.global.Tree)Erasure.this.global.If">If</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#418089" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#65930" title="()Erasure.this.global.gen.global.Tree">qual</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414345" title="=&gt; Erasure.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.Literal*)List[Erasure.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.Literal">setType</a> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Erasure.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                       <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.Literal">setType</a> <a href="#983811" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>,
                       <a href="#982383" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#65930" title="()Erasure.this.global.gen.global.Tree">qual</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#983811" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
//                }
              <a href="../typechecker/Typers.scala.html#538701" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#983850" title="Erasure.this.global.gen.global.Tree">untyped</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#983789" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> Apply<span class="delimiter">(</span>TypeApply<a href="../../../reflect/internal/Trees.scala.html#410031" title="Erasure.this.global.Tree" id="3358387" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="983941">sel</a> @ Select<a href="#983941" title="Erasure.this.global.Tree" id="3358389" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="983946">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="983947">name</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358410">List</a><a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="3358385" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="983956">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358409">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[Erasure.this.global.Tree]" id="3358382" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409069" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a> =&gt;
          <a href="#983956" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> ErasedValueType<a href="#3358356" title="Any" id="3358358" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#420335" title="Erasure.this.global.TypeRef" id="983971">tref</a><span class="delimiter">)</span> =&gt; <a href="#983956" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)targ.type">setType</a><a href="#3358360" title="(x: Any)Any" class="delimiter">(</a><a href="#983971" title="Erasure.this.global.TypeRef">tref</a>.<a href="../../../reflect/internal/Types.scala.html#410889" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
            <a href="#983789" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> Select<a href="#3358365" title="Erasure.this.global.Tree" id="3358397" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="983987">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="983988">name</a><span class="delimiter">)</span> =&gt;
          <a href="#3358402" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#983789" title="Erasure.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983988" title="Erasure.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413982" title="=&gt; Erasure.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408578" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411710" title="=&gt; Erasure.this.global.Symbol">primaryConstructor</a>
            <a href="#983789" title="Erasure.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409071" title="=&gt; Erasure.this.global.MethodSymbol">Any_asInstanceOf</a><span class="delimiter">)</span>
            <a href="#982387" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#983987" title="Erasure.this.global.Tree">qual</a>, <a href="../../../reflect/internal/Definitions.scala.html#409095" title="=&gt; Erasure.this.global.MethodSymbol">Object_asInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409069" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a><span class="delimiter">)</span>
            <a href="#982387" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#983987" title="Erasure.this.global.Tree">qual</a>, <a href="../../../reflect/internal/Definitions.scala.html#409093" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408667" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a><span class="delimiter">)</span>
            <a href="#982387" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#983987" title="Erasure.this.global.Tree">qual</a>, <a href="../../../reflect/internal/Definitions.scala.html#409262" title="(owner: Erasure.this.global.Symbol, name: Erasure.this.global.Name)Erasure.this.global.Symbol">getMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; Erasure.this.global.ClassSymbol">ObjectClass</a>, <a href="#983988" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Erasure.this.global.Tree" id="984091">qual1</a> = <a href="../typechecker/Typers.scala.html#538707" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#983987" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982380" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueMember</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
                 <a href="#622244" title="(tpe: Erasure.this.global.Type)Boolean">isErasedValueType</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#984091" title="Erasure.this.global.Tree">qual1</a> = <a href="#982381" title="(tree: Erasure.this.global.Tree, target: =&gt; String)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>, <span title="String(&quot;owner &quot;)" class="string">&quot;owner &quot;</span><span title="(x$1: Any)String">+</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#982380" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueMember</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#984091" title="Erasure.this.global.Tree">qual1</a> = <a href="#982383" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>, <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#982380" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueMember</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#982378" title="(tpe: Erasure.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408578" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#407341" title="Erasure.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411286" title="=&gt; Boolean">isStable</a>, <a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>;
              <a href="#984091" title="Erasure.this.global.Tree">qual1</a> = <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>, List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; Erasure.this.global.Type">resultType</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#408045" title="Erasure.this.global.Super">Super</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: Erasure.this.global.Symbol)Boolean">isSubClass</a> <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
              <a href="#984091" title="Erasure.this.global.Tree">qual1</a> = <a href="#982385" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#984091" title="Erasure.this.global.Tree">qual1</a>, <a href="#983789" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405400" title="(tree: Erasure.this.global.Tree, qualifier: Erasure.this.global.Tree, selector: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#983789" title="Erasure.this.global.Tree">tree</a>, <a href="#984091" title="Erasure.this.global.Tree">qual1</a>, <a href="#983988" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> SelectFromArray<a href="#3358365" title="Erasure.this.global.Tree" id="3358399" class="delimiter">(</a><a href="../ast/Trees.scala.html#634447" title="Erasure.this.global.Tree" id="984170">qual</a>, <a href="../ast/Trees.scala.html#634449" title="Erasure.this.global.Name" id="984171">name</a>, <a href="../ast/Trees.scala.html#634451" title="Erasure.this.global.Type" id="984172">erasure</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Erasure.this.global.Tree" id="984173">qual1</a> = <a href="../typechecker/Typers.scala.html#538707" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#984170" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#984173" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#984172" title="Erasure.this.global.Type">erasure</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#984173" title="Erasure.this.global.Tree">qual1</a> = <a href="#982385" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#984173" title="Erasure.this.global.Tree">qual1</a>, <a href="#984172" title="Erasure.this.global.Type">erasure</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Trees.scala.html#418089" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#984173" title="Erasure.this.global.Tree">qual1</a>, <a href="#984171" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408585" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Select">copyAttrs</a> <a href="#983789" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="#3358402" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** A replacement for the standard typer's adapt method.
     */
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type, original: Erasure.this.global.Tree)Erasure.this.global.Tree" id="982388">adapt</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="984204">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Int" id="984205">mode</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="Erasure.this.global.Type" id="984206">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a>, <a title="Erasure.this.global.Tree" id="984218">original</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <a href="../../../reflect/internal/Trees.scala.html#407946" title="Erasure.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> =
      <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#984204" title="Erasure.this.global.Tree">tree</a>, <a href="#984206" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>

    /** A replacement for the standard typer's `typed1` method.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="982389">typed1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="984219">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a>, <a title="Int" id="984220">mode</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="Erasure.this.global.Type" id="984221">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="984229">tree1</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#984219" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> InjectDerivedValue<a href="#3358449" title="Erasure.this.global.Tree" id="3358451" class="delimiter">(</a><a href="../ast/Trees.scala.html#666236" title="Erasure.this.global.Tree" id="984233">arg</a><span class="delimiter">)</span> =&gt;
            <span class="delimiter">(</span><a href="#984219" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409595" title="=&gt; scala.reflect.macros.Attachments{type Pos = Erasure.this.global.Position}">attachments</a>.<a href="../../../reflect/macros/Attachments.scala.html#402528" title="[T](implicit evidence$2: scala.reflect.ClassTag[T])Option[T]">get</a><a href="../../../reflect/ClassTag.scala.html#81051" title="(implicit evidence$2: scala.reflect.ClassTag[Erasure.this.TypeRefAttachment])Option[Erasure.this.TypeRefAttachment]" class="delimiter">[</a><a href="#622261" title="Erasure.this.TypeRefAttachment">TypeRefAttachment</a><span class="delimiter">]</span>: @<a href="#3358453" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">unchecked</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#3358442" title="Nothing" id="3358443" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="Erasure.this.TypeRefAttachment" id="984248">itype</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Erasure.this.global.TypeRef" id="984249">tref</a> = <a href="#984248" title="Erasure.this.TypeRefAttachment">itype</a>.<a href="#985275" title="=&gt; Erasure.this.global.TypeRef">tpe</a>
                <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="984250">argPt</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406672" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539392" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440905" title="(tref: Erasure.this.global.TypeRef)Erasure.this.global.Type">erasedValueClassArg</a><span class="delimiter">(</span><a href="#984249" title="Erasure.this.global.TypeRef">tref</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;transforming inject $<a href="#984233" title="Erasure.this.global.Tree">arg</a> -&gt; $<a href="#984249" title="Erasure.this.global.TypeRef">tref</a>/$<a href="#984250" title="Erasure.this.global.Type">argPt</a><span class="string">&quot;</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="984251">result</a> = <a href="../typechecker/Typers.scala.html#538698" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#984233" title="Erasure.this.global.Tree">arg</a>, <a href="#984220" title="Int">mode</a>, <a href="#984250" title="Erasure.this.global.Type">argPt</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;transformed inject $<a href="#984233" title="Erasure.this.global.Tree">arg</a> -&gt; $<a href="#984249" title="Erasure.this.global.TypeRef">tref</a>/$<a href="#984250" title="Erasure.this.global.Type">argPt</a> = $<a href="#984251" title="Erasure.this.global.Tree">result</a>:$<span class="delimiter">{</span><a href="#984251" title="Erasure.this.global.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">return</span> <a href="#984251" title="Erasure.this.global.Tree">result</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)result.type">setType</a> <a href="../../../reflect/internal/Types.scala.html#420333" title="(original: Erasure.this.global.TypeRef)Erasure.this.global.Type">ErasedValueType</a><span class="delimiter">(</span><a href="#984249" title="Erasure.this.global.TypeRef">tref</a><span class="delimiter">)</span>

            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#622259" title="Erasure.this.Eraser" class="keyword">super</a>.<a href="../typechecker/Typers.scala.html#538697" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typed1</a><a href="#3358453" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#982387" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="#984219" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#984220" title="Int">mode</a>, <a href="#984221" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="984268">er</a>: <a href="../../../reflect/internal/Types.scala.html#407625" title="Erasure.this.global.TypeError">TypeError</a> =&gt;
          <a href="../../../Console.scala.html#136" title="Console.type">Console</a>.<a href="../../../Console.scala.html#63314" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#984219" title="Erasure.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)String">+</span><a href="#984219" title="Erasure.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
          <a href="../../../Console.scala.html#136" title="Console.type">Console</a>.<a href="../../../Console.scala.html#63314" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#984268" title="Erasure.this.global.TypeError">er</a>.<a href="../../../reflect/internal/Types.scala.html#416073" title="=&gt; String">msg</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in file &quot;)" class="string">&quot; in file &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../typechecker/Typers.scala.html#538560" title="=&gt; Erasure.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#538749" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411483" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a><span class="delimiter">)</span>
          <a href="#984268" title="Erasure.this.global.TypeError">er</a>.<span title="()Unit">printStackTrace</span>
          <a href="../Global.scala.html#537501" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;unrecoverable error&quot;)" class="string">&quot;unrecoverable error&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="984279">ex</a>: <span title="Exception">Exception</span> =&gt;
          //if (settings.debug.value)
          <span class="keyword">try</span> <a href="../../../Console.scala.html#136" title="Console.type">Console</a>.<a href="../../../Console.scala.html#63314" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#984219" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">finally</span> <span title="Nothing" class="keyword">throw</span> <a href="#984279" title="Exception">ex</a>
          <span title="Nothing" class="keyword">throw</span> <a href="#984279" title="Exception">ex</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef" id="984230">adaptCase</a><span class="delimiter">(</span><a title="Erasure.this.global.CaseDef" id="984282">cdef</a>: <a href="../../../reflect/internal/Trees.scala.html#407984" title="Erasure.this.global.CaseDef">CaseDef</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407984" title="Erasure.this.global.CaseDef">CaseDef</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.CaseDef" id="984283">newCdef</a> = <a href="../../../reflect/internal/Trees.scala.html#408161" title="(cdef: Erasure.this.global.Tree)(applyToBody: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)Erasure.this.global.CaseDef">deriveCaseDef</a><span class="delimiter">(</span><a href="#984282" title="Erasure.this.global.CaseDef">cdef</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#984287" title="Erasure.this.global.Tree">_</a>, <a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#984283" title="Erasure.this.global.CaseDef">newCdef</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)newCdef.type">setType</a> <a href="#984283" title="Erasure.this.global.CaseDef">newCdef</a>.<a href="../../../reflect/internal/Trees.scala.html#410184" title="=&gt; Erasure.this.global.Tree">body</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree" id="984231">adaptBranch</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="984290">branch</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> =
        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#984290" title="Erasure.this.global.Tree">branch</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="Erasure.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="#984290" title="Erasure.this.global.Tree">branch</a> <span class="keyword">else</span> <a href="#982386" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#984290" title="Erasure.this.global.Tree">branch</a>, <a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>;

      <a href="#984229" title="Erasure.this.global.Tree">tree1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> If<a href="#3358458" title="Erasure.this.global.Tree" id="3358460" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410107" title="Erasure.this.global.Tree" id="984298">cond</a>, <a href="../../../reflect/internal/Trees.scala.html#410109" title="Erasure.this.global.Tree" id="984299">thenp</a>, <a href="../../../reflect/internal/Trees.scala.html#410111" title="Erasure.this.global.Tree" id="984300">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405389" title="(tree: Erasure.this.global.Tree, cond: Erasure.this.global.Tree, thenp: Erasure.this.global.Tree, elsep: Erasure.this.global.Tree)Erasure.this.global.If">If</a><a href="#3358473" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#984229" title="Erasure.this.global.Tree">tree1</a>, <a href="#984298" title="Erasure.this.global.Tree">cond</a>, <a href="#984231" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span><a href="#984299" title="Erasure.this.global.Tree">thenp</a><span class="delimiter">)</span>, <a href="#984231" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span><a href="#984300" title="Erasure.this.global.Tree">elsep</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> Match<a href="#3358458" title="Erasure.this.global.Tree" id="3358462" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410097" title="Erasure.this.global.Tree" id="984307">selector</a>, <a href="../../../reflect/internal/Trees.scala.html#410099" title="List[Erasure.this.global.CaseDef]" id="984308">cases</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405390" title="(tree: Erasure.this.global.Tree, selector: Erasure.this.global.Tree, cases: List[Erasure.this.global.CaseDef])Erasure.this.global.Match">Match</a><a href="#3358473" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#984229" title="Erasure.this.global.Tree">tree1</a>, <a href="#984307" title="Erasure.this.global.Tree">selector</a>, <a href="#984308" title="List[Erasure.this.global.CaseDef]">cases</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.CaseDef =&gt; Erasure.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.CaseDef],Erasure.this.global.CaseDef,List[Erasure.this.global.CaseDef]])List[Erasure.this.global.CaseDef]">map</a> <a href="#984230" title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef">adaptCase</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Try<a href="#3358458" title="Erasure.this.global.Tree" id="3358464" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410079" title="Erasure.this.global.Tree" id="984371">block</a>, <a href="../../../reflect/internal/Trees.scala.html#410081" title="List[Erasure.this.global.CaseDef]" id="984372">catches</a>, <a href="../../../reflect/internal/Trees.scala.html#410083" title="Erasure.this.global.Tree" id="984373">finalizer</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/api/Trees.scala.html#56462" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405392" title="(tree: Erasure.this.global.Tree, block: Erasure.this.global.Tree, catches: List[Erasure.this.global.CaseDef], finalizer: Erasure.this.global.Tree)Erasure.this.global.Try">Try</a><a href="#3358473" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#984229" title="Erasure.this.global.Tree">tree1</a>, <a href="#984231" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span><a href="#984371" title="Erasure.this.global.Tree">block</a><span class="delimiter">)</span>, <a href="#984372" title="List[Erasure.this.global.CaseDef]">catches</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.CaseDef =&gt; Erasure.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.CaseDef],Erasure.this.global.CaseDef,List[Erasure.this.global.CaseDef]])List[Erasure.this.global.CaseDef]">map</a> <a href="#984230" title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef">adaptCase</a>, <a href="#984373" title="Erasure.this.global.Tree">finalizer</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Ident<a href="#3358458" title="Erasure.this.global.Tree" id="3358467" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409987" title="Erasure.this.global.Name" id="3358465">_</a><span class="delimiter">)</span> | Select<a href="#3358458" title="Boolean" id="3358471" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="3358468">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="3358469">_</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411206" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="984430">first</a> = <a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411413" title="=&gt; List[Erasure.this.global.Symbol]">alternatives</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; Erasure.this.global.Symbol">head</a>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="984431">sym1</a> = <a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411414" title="(cond: Erasure.this.global.Symbol =&gt; Boolean)Erasure.this.global.Symbol">filter</a> <span class="delimiter">{</span>
              <a title="Erasure.this.global.Symbol" id="984438">alt</a> =&gt; <a href="#984438" title="Erasure.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#984430" title="Erasure.this.global.Symbol">first</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#984430" title="Erasure.this.global.Symbol">first</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408488" title="(that: Erasure.this.global.Type)Boolean">looselyMatches</a> <a href="#984438" title="Erasure.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984219" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#984431" title="Erasure.this.global.Symbol">sym1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408578" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="#984431" title="Erasure.this.global.Symbol">sym1</a>
              <a href="#984229" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408574" title="(t: Erasure.this.global.Type)Unit">tpe</a> = <a href="#984431" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#984229" title="Erasure.this.global.Tree">tree1</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="#3358473" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The erasure transformer */
  <span class="keyword">class</span> <a title="class ErasureTransformer extends Erasure.this.global.Transformer" id="622260">ErasureTransformer</a><a href="#622260" title="Erasure.this.ErasureTransformer" class="delimiter">(</a><a title="Erasure.this.global.CompilationUnit" id="981017">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="Erasure.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#537817" title="Erasure.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    /** Emit an error if there is a double definition. This can happen if:
     *
     *  - A template defines two members with the same name and erased type.
     *  - A template defines and inherits two members `m` with different types,
     *    but their erased types are the same.
     *  - A template inherits two members `m` with different types,
     *    but their erased types are the same.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(root: Erasure.this.global.Symbol)Unit" id="981011">checkNoDoubleDefs</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="985383">root</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit" id="985631">doubleDefError</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="985636">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="985637">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // the .toString must also be computed at the earlier phase
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="985638">tpe1</a> = <a href="../Global.scala.html#537696" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterRefchecks</a><span class="delimiter">(</span><a href="#985383" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#985636" title="Erasure.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="985639">tpe2</a> = <a href="../Global.scala.html#537696" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterRefchecks</a><span class="delimiter">(</span><a href="#985383" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#985637" title="Erasure.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985638" title="Erasure.this.global.Type">tpe1</a>.<a href="../../../reflect/internal/Types.scala.html#408402" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985639" title="Erasure.this.global.Type">tpe2</a>.<a href="../../../reflect/internal/Types.scala.html#408402" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
          <span title="Erasure.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#985383" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#985383" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a>,
          <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#985637" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="String(&quot;double definition:\n&quot;)" class="string">&quot;double definition:\n&quot;</span>
           <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#985383" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="String(&quot;name clash between defined and inherited member:\n&quot;)" class="string">&quot;name clash between defined and inherited member:\n&quot;</span>
           <span class="keyword">else</span> <span title="String(&quot;name clash between inherited members:\n&quot;)" class="string">&quot;name clash between inherited members:\n&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
          <a href="#985636" title="Erasure.this.global.Symbol">sym1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#537696" title="(op: =&gt; String)String">afterRefchecks</a><span class="delimiter">(</span><a href="#985638" title="Erasure.this.global.Type">tpe1</a>.<a href="../../../reflect/internal/Types.scala.html#408499" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#985383" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and\n&quot;)" class="string">&quot; and\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#985637" title="Erasure.this.global.Symbol">sym2</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#537696" title="(op: =&gt; String)String">afterRefchecks</a><span class="delimiter">(</span><a href="#985639" title="Erasure.this.global.Type">tpe2</a>.<a href="../../../reflect/internal/Types.scala.html#408499" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
            <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#985637" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#985383" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="String(&quot; at line &quot;)" class="string">&quot; at line &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#985637" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/util/Position.scala.html#409692" title="=&gt; Int">line</a> <span class="keyword">else</span> <a href="#985637" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;\nhave same type&quot;)" class="string">&quot;\nhave same type&quot;</span> <span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537696" title="(op: =&gt; Boolean)Boolean">afterRefchecks</a><span class="delimiter">(</span><a href="#985638" title="Erasure.this.global.Type">tpe1</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#985639" title="Erasure.this.global.Type">tpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot; after erasure: &quot;)" class="string">&quot; after erasure: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#537678" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">afterPostErasure</a><span class="delimiter">(</span><a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#985636" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: Erasure.this.global.Type)sym1.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#407277" title="Erasure.this.global.ErrorType.type">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Erasure.this.global.Scope" id="985632">decls</a> = <a href="#985383" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; Erasure.this.global.Scope">decls</a>
      <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="985633">e</a> = <a href="#985632" title="Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410485" title="=&gt; Erasure.this.global.ScopeEntry">elems</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#985633" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#985635" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#985633" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="985688">e1</a> = <a href="#985632" title="Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410520" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#985633" title="Erasure.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#985688" title="Erasure.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#985690" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537678" title="(op: =&gt; Boolean)Boolean">afterPostErasure</a><span class="delimiter">(</span><a href="#985688" title="Erasure.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#985633" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#985631" title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit">doubleDefError</a><span class="delimiter">(</span><a href="#985633" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a>, <a href="#985688" title="Erasure.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#985688" title="Erasure.this.global.ScopeEntry">e1</a> = <a href="#985632" title="Erasure.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410520" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#985688" title="Erasure.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#985633" title="Erasure.this.global.ScopeEntry">e</a> = <a href="#985633" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426506" title="=&gt; Erasure.this.global.ScopeEntry">next</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.Cursor" id="985634">opc</a> = <a href="#985698" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">new</a> <a href="../Global.scala.html#537470" title="anonymous class $anon extends Erasure.this.global.overridingPairs.Cursor" id="985698">overridingPairs</a>.<a href="OverridingPairs.scala.html#619490" title="Erasure.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#985383" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="985700">exclude</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="985702">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
          <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985702" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#985702" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#985698" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">super</a>.<a href="OverridingPairs.scala.html#982610" title="(sym: Erasure.this.global.overridingPairs.global.Symbol)Boolean">exclude</a><span class="delimiter">(</span><a href="#985702" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
           // specialized members have no type history before 'specialize', causing double def errors for curried defs
           <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985702" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411383" title="(pid: Int)Boolean">hasTypeAt</a><span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539384" title="=&gt; scala.tools.nsc.Phase">refchecksPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#419695" title="=&gt; Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Boolean" id="985701">matches</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="985704">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="985705">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
          <a href="../Global.scala.html#537678" title="(op: =&gt; Boolean)Boolean">afterPostErasure</a><span class="delimiter">(</span><a href="#985704" title="Erasure.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#985705" title="Erasure.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982639" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#985749" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537696" title="(op: =&gt; Boolean)Boolean">afterRefchecks</a><span class="delimiter">(</span>
              <a href="#985383" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982633" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#408487" title="(that: Erasure.this.global.Type)Boolean">matches</a>
              <a href="#985383" title="Erasure.this.global.Symbol">root</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982636" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982633" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span>
                     <a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982633" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411513" title="=&gt; String">infosString</a> <span title="(x$1: Any)String">+</span>
                     <a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982636" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span>
                     <a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982636" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411513" title="=&gt; String">infosString</a><span class="delimiter">)</span>
          <a href="#985631" title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit">doubleDefError</a><span class="delimiter">(</span><a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982633" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982636" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#985634" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#982640" title="()Unit">next</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

/*
      for (bc &lt;- root.info.baseClasses.tail; other &lt;- bc.info.decls.toList) {
        if (other.isTerm &amp;&amp; !other.isConstructor &amp;&amp; !(other hasFlag (PRIVATE | BRIDGE))) {
          for (member &lt;- root.info.nonPrivateMember(other.name).alternatives) {
            if (member != other &amp;&amp;
                !(member hasFlag BRIDGE) &amp;&amp;
                afterErasure(member.tpe =:= other.tpe) &amp;&amp;
                !afterRefchecks(
                  root.thisType.memberType(member) matches root.thisType.memberType(other))) {
              debuglog(&quot;&quot; + member.locationString + &quot; &quot; + member.infosString + other.locationString + &quot; &quot; + other.infosString);
              doubleDefError(member, other)
            }
          }
        }
      }
*/

    /**  Add bridge definitions to a template. This means:
     *
     *   If there is a concrete member `m` which overrides a member in a base
     *   class of the template, and the erased types of the two members differ,
     *   and the two members are not inherited or defined by some parent class
     *   of the template, then a bridge from the overridden member `m1` to the
     *   member `m0` is added. The bridge has the erased type of `m1` and
     *   forwards to `m0`.
     *
     *   No bridge is added if there is already a bridge to `m0` with the erased
     *   type of `m1` in the template.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: Erasure.this.global.Symbol)(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" id="981012">bridgeDefs</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="985754">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#783" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, immutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#406659" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#537672" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539392" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#406659" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;computing bridges for &quot;)" class="string">&quot;computing bridges for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#985754" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span title="Erasure.this.ComputeBridges" class="keyword">new</span> <a href="#622258" title="Erasure.this.ComputeBridges">ComputeBridges</a><span class="delimiter">(</span><a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a>, <a href="#985754" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="#982586" title="()(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])">compute</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Erasure.this.global.Tree], base: Erasure.this.global.Symbol)List[Erasure.this.global.Tree]" id="981013">addBridges</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Tree]" id="985389">stats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Erasure.this.global.Symbol" id="985390">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Erasure.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#985390" title="Erasure.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#985389" title="List[Erasure.this.global.Tree]">stats</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#3358488" title="(x: (List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol]))(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[Erasure.this.global.Tree]" id="985764">bridges</a>, <a href="../../../Tuple2.scala.html#60637" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="985765">toBeRemoved</a><span class="delimiter">)</span> = <a href="#981012" title="(owner: Erasure.this.global.Symbol)(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])">bridgeDefs</a><a href="../../../Tuple2.scala.html#783" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol]) @unchecked" class="delimiter">(</a><a href="#985390" title="Erasure.this.global.Symbol">base</a><span class="delimiter">)</span>
        <span title="List[Erasure.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#985764" title="List[Erasure.this.global.Tree]">bridges</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#985389" title="List[Erasure.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">(</span><a href="#985389" title="List[Erasure.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: Erasure.this.global.Tree =&gt; Boolean)List[Erasure.this.global.Tree]">filterNot</a> <span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="985781">stat</a> =&gt; <a href="#985765" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a> <a href="../../../collection/SetLike.scala.html#66442" title="(elem: Erasure.this.global.Symbol)Boolean">contains</a> <a href="#985781" title="Erasure.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[Erasure.this.global.Tree])List[Erasure.this.global.Tree]">:::</a> <a href="#985764" title="List[Erasure.this.global.Tree]">bridges</a>
      <span class="delimiter">}</span>

    /**  Transform tree at phase erasure before retyping it.
     *   This entails the following:
     *
     *   - Remove all type parameters in class and method definitions.
     *   - Remove all abstract and alias type definitions.
     *   - Remove all type applications other than those involving a type test or cast.
     *   - Remove all empty trees in statements and definitions in a PackageDef.
     *   - Check that there are no double definitions in a template.
     *   - Add bridge definitions to a template.
     *   - Replace all types in type nodes and the EmptyTree object by their erasure.
     *     Type nodes of type Unit representing result types of methods are left alone.
     *   - Given a selection q.s, where the owner of `s` is not accessible but the
     *     type symbol of q's type qT is accessible, insert a cast (q.asInstanceOf[qT]).s
     *     This prevents illegal access errors (see #4283).
     *   - Remove all instance creations new C(arg) where C is an inlined class.
     *   - Reset all other type attributes to null, thus enforcing a retyping.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="preTransformer extends Erasure.this.TypingTransformer" id="981014">preTransformer</a> = <a href="#984452" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">new</a> <a href="TypingTransformers.scala.html#621441" title="anonymous class $anon extends Erasure.this.TypingTransformer" id="984452">TypingTransformer</a><span class="delimiter">(</span><a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Apply)Erasure.this.global.Tree" id="984471">preEraseNormalApply</a><span class="delimiter">(</span><a title="Erasure.this.global.Apply" id="984486">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#408036" title="Erasure.this.global.Apply">Apply</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="984487">fn</a> = <a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#410031" title="=&gt; Erasure.this.global.Tree">fun</a>
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Tree]" id="984488">args</a> = <a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#410033" title="=&gt; List[Erasure.this.global.Tree]">args</a>

        <span class="keyword">def</span> <a title="=&gt; Erasure.this.global.Tree" id="984489">qualifier</a> = <a href="#984487" title="Erasure.this.global.Tree">fn</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Select<a href="#3358492" title="Erasure.this.global.Tree" id="3358495" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="984496">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="3358493">_</a><span class="delimiter">)</span> =&gt; <a href="#3358504" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">qual</a>
          <span class="keyword">case</span> TypeApply<a href="#3358492" title="Erasure.this.global.Tree" id="3358499" class="delimiter">(</a>Select<a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="3358502" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="984503">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="3358500">_</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="3358497">_</a><span class="delimiter">)</span> =&gt; <a href="#3358504" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">qual</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="=&gt; Erasure.this.global.Tree" id="984490">preEraseAsInstanceOf</a> = <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#984487" title="Erasure.this.global.Tree">fn</a>: @<a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeApply<a href="#3358509" title="Erasure.this.global.Tree" id="3358513" class="delimiter">(</a>Select<a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="3358516" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="984511">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="3358514">_</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358525">List</a><a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="3358511" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="984520">targ</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#3358521" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="keyword">if</a> <span class="delimiter">(</span><a href="#984511" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#984520" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Typed)Erasure.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#453846" title="(expr: Erasure.this.global.Tree, tpt: Erasure.this.global.Tree)Erasure.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#984511" title="Erasure.this.global.Tree">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#984520" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409351" title="(sym: Erasure.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#984511" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#409351" title="(sym: Erasure.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#984520" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#622234" title="(tree: Erasure.this.global.Tree, numericSym: Erasure.this.global.Symbol)Erasure.this.global.Tree">numericConversion</a><span class="delimiter">(</span><a href="#984511" title="Erasure.this.global.Tree">qual</a>, <a href="#984520" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#984486" title="Erasure.this.global.Apply">tree</a>
          <span class="delimiter">}</span>
          // todo: also handle the case where the singleton type is buried in a compound
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="=&gt; Erasure.this.global.gen.global.Tree" id="984491">preEraseIsInstanceOf</a> = <span class="delimiter">{</span>
          <a href="#984487" title="Erasure.this.global.Tree">fn</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeApply<a href="#3358564" title="Erasure.this.global.gen.global.Tree" id="3358567" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="984553">sel</a> @ Select<a href="#984553" title="Erasure.this.global.gen.global.Tree" id="3358569" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="984558">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="984559">name</a><span class="delimiter">)</span>, <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358578">List</a><a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="3358565" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="984568">targ</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984558" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#984558" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984568" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984568" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; Erasure.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                <a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>sel.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>, <span title="String(&quot;isInstanceOf cannot test if value types are references.&quot;)" class="string">&quot;isInstanceOf cannot test if value types are references.&quot;</span><span class="delimiter">)</span>

              <span class="keyword">def</span> <a title="(q: () =&gt; Erasure.this.global.Tree)(tp: Erasure.this.global.Type)Erasure.this.global.Tree" id="984569">mkIsInstanceOf</a><span class="delimiter">(</span><a title="() =&gt; Erasure.this.global.Tree" id="984587">q</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="984588">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> =
                <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span>
                  <a href="../../../reflect/internal/Trees.scala.html#453869" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span>
                    <a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#65930" title="()Erasure.this.global.Tree">q</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#409093" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.Select">setPos</a> sel.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>,
                    <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.TypeTree*)List[Erasure.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#984588" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.TypeTree">setPos</a> <a href="#984568" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.TypeApply">setPos</a> <a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>,
                  List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>
              <a href="#984568" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> SingleType<a href="#3358537" title="Erasure.this.global.gen.global.Tree" id="3358541" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410991" title="Erasure.this.global.Type" id="3358538">_</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="Erasure.this.global.Symbol" id="3358539">_</a><span class="delimiter">)</span> | ThisType<a href="#3358537" title="Boolean" id="3358544" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="Erasure.this.global.Symbol" id="3358542">_</a><span class="delimiter">)</span> | SuperType<a href="#3358537" title="Boolean" id="3358548" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410972" title="Erasure.this.global.Type" id="3358545">_</a>, <a href="../../../reflect/internal/Types.scala.html#410974" title="Erasure.this.global.Type" id="3358546">_</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Erasure.this.global.MethodSymbol" id="984672">cmpOp</a> = <span title="Erasure.this.global.MethodSymbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#984568" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; Erasure.this.global.ClassSymbol">AnyValClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#409059" title="=&gt; Erasure.this.global.MethodSymbol">Any_equals</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#409089" title="=&gt; Erasure.this.global.MethodSymbol">Object_eq</a>
                  <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Apply)Erasure.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#984558" title="Erasure.this.global.Tree">qual</a>, <a href="#984672" title="Erasure.this.global.MethodSymbol">cmpOp</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.gen.global.Tree*)List[Erasure.this.global.gen.global.Tree]">List</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470985" title="(tpe: Erasure.this.global.gen.global.Type)Erasure.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#984568" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> RefinedType<a href="#3358537" title="Erasure.this.global.gen.global.Tree" id="3358550" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[Erasure.this.global.Type]" id="984733">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="Erasure.this.global.Scope" id="984734">decls</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#984733" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
                  // Optimization: don't generate isInstanceOf tests if the static type
                  // conforms, because it always succeeds.  (Or at least it had better.)
                  // At this writing the pattern matcher generates some instance tests
                  // involving intersections where at least one parent is statically known true.
                  // That needs fixing, but filtering the parents here adds an additional
                  // level of robustness (in addition to the short term fix.)
                  <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="984739">parentTests</a> = <a href="#984733" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filterNot</a> <span class="delimiter">(</span><a href="#984558" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#984743" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span>

                  <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#984739" title="List[Erasure.this.global.Type]">parentTests</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543491" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#984558" title="Erasure.this.global.Tree">qual</a>, <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>, <a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="984749">q</a> =&gt;
                    <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="#984739" title="List[Erasure.this.global.Type]">parentTests</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Tree,List[Erasure.this.global.Tree]])List[Erasure.this.global.Tree]">map</a> <a href="#984569" title="(q: () =&gt; Erasure.this.global.Tree)(tp: Erasure.this.global.Type)Erasure.this.global.Tree">mkIsInstanceOf</a><a href="#984771" title="Erasure.this.global.Type" class="delimiter">(</a><a href="#984749" title="() =&gt; Erasure.this.global.gen.global.Tree">q</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#86391" title="(op: (Erasure.this.global.Tree, Erasure.this.global.Tree) =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">reduceRight</a> <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471013" title="(tree1: Erasure.this.global.gen.global.Tree, tree2: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">mkAnd</a>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> _ =&gt;
                  <a href="#3358552" title="(x: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">tree</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> _ =&gt; <a href="#3358574" title="(x: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409071" title="=&gt; Erasure.this.global.MethodSymbol">Any_asInstanceOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#984490" title="=&gt; Erasure.this.global.Tree">preEraseAsInstanceOf</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409069" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#984491" title="=&gt; Erasure.this.global.gen.global.Tree">preEraseIsInstanceOf</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure extends Erasure.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411184" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411465" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/Trees.scala.html#454091" title="(qual: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#984489" title="=&gt; Erasure.this.global.Tree">qualifier</a>, <a href="#984488" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.ApplyDynamic">setSymbol</a> <a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)Erasure.this.global.ApplyDynamic">setPos</a> <a href="#984486" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Apply" class="keyword">if</span> <span class="delimiter">(</span><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411253" title="=&gt; Boolean">isMethodWithExtension</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408402" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470989" title="(sym: Erasure.this.global.gen.global.Symbol)Erasure.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../Global.scala.html#537556" title="Erasure.this.global.extensionMethods.type">extensionMethods</a>.<a href="ExtensionMethods.scala.html#621513" title="(imeth: Erasure.this.global.extensionMethods.global.Symbol)Erasure.this.global.extensionMethods.global.Symbol">extensionMethod</a><span class="delimiter">(</span><a href="#984487" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#984489" title="=&gt; Erasure.this.global.Tree">qualifier</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::</a> <a href="#984488" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#984486" title="Erasure.this.global.Apply">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Apply)Erasure.this.global.analyzer.global.Tree" id="984472">preEraseApply</a><span class="delimiter">(</span><a title="Erasure.this.global.Apply" id="985013">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#408036" title="Erasure.this.global.Apply">Apply</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#410031" title="=&gt; Erasure.this.global.Tree">fun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> TypeApply<a href="#3358731" title="Erasure.this.global.analyzer.global.Tree" id="3358733" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="985016">fun</a> @ Select<a href="#985016" title="Erasure.this.global.analyzer.global.Tree" id="3358735" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="985021">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="985022">name</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="985023">args</a> @ <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358746">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="985032">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span>fun.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409069" title="=&gt; Erasure.this.global.MethodSymbol">Any_isInstanceOf</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> fun.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409093" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../reflect/internal/transform/Erasure.scala.html#440901" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#985032" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt; // !!! todo: simplify by having GenericArray also extract trees
            <span class="keyword">val</span> <a title="Int" id="985047">level</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#440901" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#985032" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree" id="985048">isArrayTest</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="985049">arg</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span> =
              <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543471" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414403" title="=&gt; Erasure.this.global.nme.NameType">isArray</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#985049" title="Erasure.this.global.Tree">arg</a>, <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#985047" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#537612" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#538703" title="(pos: Erasure.this.global.analyzer.global.Position)(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Erasure.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#985047" title="Int">level</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#985048" title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree">isArrayTest</a><span class="delimiter">(</span><a href="#985021" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543491" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#985021" title="Erasure.this.global.Tree">qual</a>, <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>, <a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="985075">qual1</a> =&gt;
                <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471013" title="(tree1: Erasure.this.global.gen.global.Tree, tree2: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">mkAnd</a><span class="delimiter">(</span>
                  <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470982" title="(receiver: Erasure.this.global.gen.global.Tree, method: Erasure.this.global.gen.global.Symbol, targs: List[Erasure.this.global.gen.global.Type], args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span>
                    <a href="../../../Function0.scala.html#65930" title="()Erasure.this.global.gen.global.Tree">qual1</a><span class="delimiter">(</span><span class="delimiter">)</span>,
                    fun.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a>,
                    <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440910" title="(sym: Erasure.this.global.Symbol)(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialErasure</a><span class="delimiter">(</span>fun.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#985032" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                    <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
                  <span class="delimiter">)</span>,
                  <a href="#985048" title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree">isArrayTest</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#65930" title="()Erasure.this.global.gen.global.Tree">qual1</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> fn @ Select<a href="#3358731" title="Erasure.this.global.analyzer.global.Tree" id="3358740" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="985134">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="985135">name</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[Erasure.this.global.Tree]" id="985136">args</a> = <a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#410033" title="=&gt; List[Erasure.this.global.Tree]">args</a>
            <span title="Erasure.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // Have to also catch calls to abstract types which are bounded by Array.
              <span title="Erasure.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/transform/Erasure.scala.html#440901" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#985134" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#985134" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411171" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // convert calls to apply/update/length on generic arrays to
                // calls of ScalaRunTime.array_xxx method calls
                <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#537612" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#538703" title="(pos: Erasure.this.global.analyzer.global.Position)(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Erasure.this.global.nme.NameType" id="985152">arrayMethodName</a> = <a href="#985135" title="Erasure.this.global.Name">name</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414263" title="Erasure.this.global.nme.NameType" id="3358600">apply</a>  =&gt; <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="#3358613" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_apply</a>
                    <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414419" title="Erasure.this.global.nme.NameType" id="3358601">length</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="#3358613" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_length</a>
                    <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414583" title="Erasure.this.global.nme.NameType" id="3358602">update</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="#3358613" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_update</a>
                    <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414323" title="Erasure.this.global.nme.NameType" id="3358603">clone_</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="#3358613" title="(x: Erasure.this.global.nme.NameType)Erasure.this.global.nme.NameType">array_clone</a>
                    <span class="keyword">case</span> _          =&gt; <a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>, <span title="String(&quot;Unexpected array member, no translation exists.&quot;)" class="string">&quot;Unexpected array member, no translation exists.&quot;</span><span class="delimiter">)</span> ; <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413712" title="=&gt; Erasure.this.global.nme.NameType">NO_NAME</a>
                  <span class="delimiter">}</span>
                  <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543471" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="#985152" title="Erasure.this.global.nme.NameType">arrayMethodName</a>, <a href="#985134" title="Erasure.this.global.Tree">qual</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::</a> <a href="#985136" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                // store exact array erasure in map to be retrieved later when we might
                // need to do the cast in adaptMember
                // Note: No specialErasure needed here because we simply cast, on
                // elimination of SelectFromArray, no boxing or unboxing is done there.
                <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405397" title="(tree: Erasure.this.global.Tree, fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span>
                  <a href="#985013" title="Erasure.this.global.Apply">tree</a>,
                  <a href="../ast/Trees.scala.html#634443" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name, erasure: Erasure.this.global.Type)Erasure.this.global.SelectFromArray">SelectFromArray</a><span class="delimiter">(</span><a href="#985134" title="Erasure.this.global.Tree">qual</a>, <a href="#985135" title="Erasure.this.global.Name">name</a>, <a href="../../../reflect/internal/transform/Erasure.scala.html#440909" title="(sym: Erasure.this.global.Symbol)Erasure.this.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#410036" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#985134" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408585" title="(tree: Erasure.this.global.Tree)Erasure.this.global.SelectFromArray">copyAttrs</a><span class="delimiter">(</span>fn<span class="delimiter">)</span>,
                  <a href="#985136" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#985136" title="List[Erasure.this.global.Tree]">args</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: Erasure.this.global.Symbol)Boolean">interceptedMethods</a><span class="delimiter">(</span>fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409065" title="=&gt; Erasure.this.global.MethodSymbol">Any_##</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409083" title="=&gt; Erasure.this.global.MethodSymbol">Object_##</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // This is unattractive, but without it we crash here on ().## because after
                // erasure the ScalaRunTime.hash overload goes from Unit =&gt; Int to BoxedUnit =&gt; Int.
                // This must be because some earlier transformation is being skipped on ##, but so
                // far I don't know what.  For null we now define null.## == 0.
                <a href="#985134" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="Erasure.this.global.Tree" id="3358647">UnitClass</a> | <a href="../../../reflect/internal/Definitions.scala.html#408694" title="Boolean" id="3358648">NullClass</a>                    =&gt; <a href="../ast/TreeDSL.scala.html#662273" title="(x: Any)Erasure.this.global.Literal">LIT</a><a href="#3358661" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#409361" title="Erasure.this.global.Tree" id="3358649">IntClass</a>                                 =&gt; <a href="#3358661" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">qual</a>
                  <span class="keyword">case</span> s @ <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409357" title="Erasure.this.global.Tree" id="3358650">ShortClass</a> | <a href="../../../reflect/internal/Definitions.scala.html#409355" title="Boolean" id="3358651">ByteClass</a> | <a href="../../../reflect/internal/Definitions.scala.html#409359" title="Boolean" id="3358652">CharClass</a><span class="delimiter">)</span> =&gt; <a href="#622234" title="(tree: Erasure.this.global.Tree, numericSym: Erasure.this.global.Symbol)Erasure.this.global.Tree">numericConversion</a><a href="#3358661" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#985134" title="Erasure.this.global.Tree">qual</a>, s<span class="delimiter">)</span>
                  <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#409369" title="Erasure.this.global.Tree" id="3358653">BooleanClass</a>                             =&gt; <a href="../../../reflect/internal/Trees.scala.html#453562" title="(cond: Erasure.this.global.Tree, thenp: Erasure.this.global.Tree, elsep: Erasure.this.global.Tree)Erasure.this.global.If">If</a><a href="#3358661" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#985134" title="Erasure.this.global.Tree">qual</a>, <a href="../ast/TreeDSL.scala.html#662273" title="(x: Any)Erasure.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>.<span title="()Int">##</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#662273" title="(x: Any)Erasure.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>.<span title="()Int">##</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> _                                        =&gt;
                    <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#537612" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typed</a><a href="#3358661" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543471" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414389" title="=&gt; Erasure.this.global.nme.NameType">hash_</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#985134" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: Erasure.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#985134" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // Rewrite 5.getClass to ScalaRunTime.anyValClass(5)
                <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#537612" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543471" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414259" title="=&gt; Erasure.this.global.nme.NameType">anyValClass</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Erasure.this.global.analyzer.global.Tree*)List[Erasure.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#985134" title="Erasure.this.global.Tree">qual</a>, <a href="../Global.scala.html#537612" title="Erasure.this.global.typer.type">typer</a>.<a href="../typechecker/Tags.scala.html#538731" title="(pos: Erasure.this.global.analyzer.global.Position, tp: Erasure.this.global.analyzer.global.Type, allowMaterialization: Boolean)Erasure.this.global.analyzer.global.Tree">resolveClassTag</a><span class="delimiter">(</span><a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>, <a href="#985134" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Apply" class="keyword">if</span> <span class="delimiter">(</span>fn.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408686" title="=&gt; Erasure.this.global.TermSymbol">AnyVal_getClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#985013" title="Erasure.this.global.Apply">tree</a> <a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: Erasure.this.global.Symbol)tree.type">setSymbol</a> <a href="../../../reflect/internal/Definitions.scala.html#409101" title="=&gt; Erasure.this.global.TermSymbol">Object_getClass</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#985013" title="Erasure.this.global.Apply">tree</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#985134" title="Erasure.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> New<a href="#3358722" title="Erasure.this.global.Tree" id="3358724" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410063" title="Erasure.this.global.Tree" id="985257">tpt</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#985135" title="Erasure.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="Erasure.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413982" title="=&gt; Erasure.this.global.nme.NameType">CONSTRUCTOR</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#985257" title="Erasure.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411252" title="=&gt; Boolean">isDerivedValueClass</a> =&gt;
                // println(&quot;inject derived: &quot;+arg+&quot; &quot;+tpt.tpe)
                <span class="keyword">val</span> <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[Erasure.this.global.Tree]]" id="3358710">List</a><a href="#3358706" title="Erasure.this.global.Tree" id="985263" class="delimiter">(</a><a title="Erasure.this.global.Tree" id="985274">arg</a><span class="delimiter">)</span> = <a href="#985136" title="List[Erasure.this.global.Tree]">args</a>
                <span class="keyword">val</span> <a title="Erasure.this.TypeRefAttachment" id="985264">attachment</a> = <span title="Erasure.this.TypeRefAttachment" class="keyword">new</span> <a href="#622261" title="Erasure.this.TypeRefAttachment">TypeRefAttachment</a><span class="delimiter">(</span><a href="#985013" title="Erasure.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Erasure.this.global.TypeRef" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#407336" title="Erasure.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#667220" title="(arg: Erasure.this.global.Tree)Erasure.this.global.InjectDerivedValue">InjectDerivedValue</a><span class="delimiter">(</span><a href="#985263" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409596" title="(attachment: Erasure.this.TypeRefAttachment)(implicit evidence$1: scala.reflect.ClassTag[Erasure.this.TypeRefAttachment])Erasure.this.global.InjectDerivedValue">updateAttachment</a> <a href="#985264" title="Erasure.this.TypeRefAttachment">attachment</a>
              <span class="keyword">case</span> _ =&gt;
                <a href="#984471" title="(tree: Erasure.this.global.Apply)Erasure.this.global.Tree">preEraseNormalApply</a><a href="#3358726" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#985013" title="Erasure.this.global.Apply">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> _ =&gt;
            <a href="#984471" title="(tree: Erasure.this.global.Apply)Erasure.this.global.Tree">preEraseNormalApply</a><a href="#3358742" title="(x: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#985013" title="Erasure.this.global.Apply">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="984473">preErase</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="984475">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <a href="#984475" title="Erasure.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#3358780" title="Erasure.this.global.Tree" id="3358812">tree</a>: Apply =&gt;
          <a href="#984472" title="(tree: Erasure.this.global.Apply)Erasure.this.global.analyzer.global.Tree">preEraseApply</a><a href="#3358814" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>tree<span class="delimiter">)</span>

        <span class="keyword">case</span> TypeApply<a href="#3358780" title="Erasure.this.global.Tree" id="3358783" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="Erasure.this.global.Tree" id="985294">fun</a>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[Erasure.this.global.Tree]" id="985295">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#985294" title="Erasure.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408667" title="=&gt; Erasure.this.global.ClassSymbol">AnyClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                      <a href="#985294" title="Erasure.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#409095" title="=&gt; Erasure.this.global.MethodSymbol">Object_asInstanceOf</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                      <a href="#985294" title="Erasure.this.global.Tree">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#409093" title="=&gt; Erasure.this.global.MethodSymbol">Object_isInstanceOf</a><span class="delimiter">)</span> =&gt;
          // leave all other type tests/type casts, remove all other type applications
          <a href="#984473" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">preErase</a><a href="#3358814" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="#985294" title="Erasure.this.global.Tree">fun</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Select<a href="#3358780" title="Erasure.this.global.Tree" id="3358785" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="Erasure.this.global.Tree" id="985316">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="Erasure.this.global.Name" id="985317">name</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="985318">owner</a> = <a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a>
          // println(&quot;preXform: &quot;+ (tree, tree.symbol, tree.symbol.owner, tree.symbol.owner.isRefinementClass))
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#985318" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411184" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="985321">overridden</a> = <a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411466" title="=&gt; Erasure.this.global.Symbol">nextOverriddenSymbol</a>
            <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#985321" title="Erasure.this.global.Symbol">overridden</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; Erasure.this.global.NoSymbol">NoSymbol</a>, <a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408578" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="#985321" title="Erasure.this.global.Symbol">overridden</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="985319">isAccessible</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="985331">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="TypingTransformers.scala.html#984456" title="=&gt; Erasure.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538560" title="Erasure.this.global.analyzer.Context" id="985338">context</a>.<a href="../typechecker/Contexts.scala.html#852037" title="Boolean" id="985344">isAccessible</a><span class="delimiter">(</span><a href="#985331" title="Erasure.this.global.Symbol" id="985342">sym</a>, <a href="#985331" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="Erasure.this.global.Type" id="985343">thisType</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985319" title="(sym: Erasure.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#985318" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#985316" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#985316" title="Erasure.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Super<a href="#3358760" title="Erasure.this.global.Tree" id="3358764" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410016" title="Erasure.this.global.Tree" id="3358761">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410018" title="Erasure.this.global.TypeName" id="3358762">_</a><span class="delimiter">)</span> =&gt;
                // Insert a cast here at your peril -- see SI-5162. Bail out if the target method is defined in
                // Java, otherwise, we'd get an IllegalAccessError at runtime. If the target method is defined in
                // Scala, however, we should have access.
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#985318" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; Erasure.this.global.Position">pos</a>, <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;Unable to access $<span class="delimiter">{</span><a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span><span class="string"> with a super reference.&quot;</span><span class="delimiter">)</span>
                <a href="#984475" title="Erasure.this.global.Tree">tree</a>
              <span class="keyword">case</span> _ =&gt;
                // Todo: Figure out how qual.tpe could be null in the check above (it does appear in build where SwingWorker.this
                // has a null type).
                <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="985358">qualSym</a> = <a href="#985316" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; Erasure.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
                <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#985319" title="(sym: Erasure.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#985358" title="Erasure.this.global.Symbol">qualSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985358" title="Erasure.this.global.Symbol">qualSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#985358" title="Erasure.this.global.Symbol">qualSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411221" title="=&gt; Boolean">isPackageObjectClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // insert cast to prevent illegal access error (see #4283)
                  // util.trace(&quot;insert erasure cast &quot;) (*/
                  <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405400" title="(tree: Erasure.this.global.Tree, qualifier: Erasure.this.global.Tree, selector: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#984475" title="Erasure.this.global.Tree">tree</a>, <a href="../Global.scala.html#537460" title="Erasure.this.global.gen.type">gen</a>.<a href="../Global.scala.html#543500" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">mkAttributedCast</a><span class="delimiter">(</span><a href="#985316" title="Erasure.this.global.Tree">qual</a>, <a href="#985316" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="#985317" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span> //)
                <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#984475" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#984475" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> Template<a href="#3358780" title="Erasure.this.global.Tree" id="3358787" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[Erasure.this.global.Tree]" id="985377">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="Erasure.this.global.ValDef" id="985378">self</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[Erasure.this.global.Tree]" id="985379">body</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411180" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
          //Console.println(&quot;checking no dble defs &quot; + tree)//DEBUG
          <a href="#981011" title="(root: Erasure.this.global.Symbol)Unit">checkNoDoubleDefs</a><span class="delimiter">(</span><a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405379" title="(tree: Erasure.this.global.Tree, parents: List[Erasure.this.global.Tree], self: Erasure.this.global.ValDef, body: List[Erasure.this.global.Tree])Erasure.this.global.Template">Template</a><span class="delimiter">(</span><a href="#984475" title="Erasure.this.global.Tree">tree</a>, <a href="#985377" title="List[Erasure.this.global.Tree]">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#408104" title="Erasure.this.global.emptyValDef.type">emptyValDef</a>, <a href="#981013" title="(stats: List[Erasure.this.global.Tree], base: Erasure.this.global.Symbol)List[Erasure.this.global.Tree]">addBridges</a><span class="delimiter">(</span><a href="#985379" title="List[Erasure.this.global.Tree]">body</a>, <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; Erasure.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> Match<a href="#3358780" title="Erasure.this.global.Tree" id="3358789" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410097" title="Erasure.this.global.Tree" id="985393">selector</a>, <a href="../../../reflect/internal/Trees.scala.html#410099" title="List[Erasure.this.global.CaseDef]" id="985394">cases</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/Trees.scala.html#453592" title="(selector: Erasure.this.global.Tree, cases: List[Erasure.this.global.CaseDef])Erasure.this.global.Match">Match</a><a href="#3358814" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#453846" title="(expr: Erasure.this.global.Tree, tpt: Erasure.this.global.Tree)Erasure.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#985393" title="Erasure.this.global.Tree">selector</a>, <a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#985393" title="Erasure.this.global.Tree">selector</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#985394" title="List[Erasure.this.global.CaseDef]">cases</a><span class="delimiter">)</span>

        <span class="keyword">case</span> Literal<a href="#3358780" title="Erasure.this.global.Tree" id="3358791" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409973" title="Erasure.this.global.Constant" id="985402">ct</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#985402" title="Erasure.this.global.Constant">ct</a>.<a href="../../../reflect/internal/Constants.scala.html#409765" title="=&gt; Int">tag</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(12)">ClazzTag</span>
                         <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#985402" title="Erasure.this.global.Constant">ct</a>.<a href="../../../reflect/internal/Constants.scala.html#409791" title="=&gt; Erasure.this.global.Type">typeValue</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="Erasure.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; Erasure.this.global.ClassSymbol">UnitClass</a> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="985413">erased</a> = <a href="#985402" title="Erasure.this.global.Constant">ct</a>.<a href="../../../reflect/internal/Constants.scala.html#409791" title="=&gt; Erasure.this.global.Type">typeValue</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#3358771" title="Erasure.this.global.Type" id="3358773" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="Erasure.this.global.Type" id="985417">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="Erasure.this.global.Symbol" id="985418">clazz</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[Erasure.this.global.Type]" id="985419">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#985418" title="Erasure.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411252" title="=&gt; Boolean">isDerivedValueClass</a> =&gt; <a href="../../../reflect/internal/transform/Erasure.scala.html#440914" title="Erasure.this.scalaErasure.type">scalaErasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#441789" title="(pre: Erasure.this.global.Type, clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">eraseNormalClassRef</a><a href="#3358775" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a><a href="#985417" title="Erasure.this.global.Type">pre</a>, <a href="#985418" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">case</span> tpe =&gt; <a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialScalaErasure</a><a href="#3358775" title="(x: Erasure.this.global.Type)Erasure.this.global.Type" class="delimiter">(</a>tpe<span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405403" title="(tree: Erasure.this.global.Tree, value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#984475" title="Erasure.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#985413" title="Erasure.this.global.Type">erased</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> ClassDef<a href="#3358780" title="Erasure.this.global.Tree" id="3358797" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="Erasure.this.global.Modifiers" id="3358792">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410332" title="Erasure.this.global.TypeName" id="3358793">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410334" title="List[Erasure.this.global.TypeDef]" id="3358794">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410336" title="Erasure.this.global.Template" id="3358795">_</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;defs of &quot;)" class="string">&quot;defs of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#984475" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
          <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">copyClassDef</a><a href="../../../reflect/internal/Trees.scala.html#486521" title="Erasure.this.global.Modifiers" id="985456" class="delimiter">(</a><a href="#984475" title="Erasure.this.global.Tree" id="985449">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>tparams = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" id="985453">Nil</a><span class="delimiter">)</span>
        <span class="keyword">case</span> DefDef<a href="#3358780" title="Erasure.this.global.Tree" id="3358805" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="Erasure.this.global.Modifiers" id="3358798">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410280" title="Erasure.this.global.Name" id="3358799">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410282" title="List[Erasure.this.global.TypeDef]" id="3358800">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[Erasure.this.global.ValDef]]" id="3358801">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410286" title="Erasure.this.global.Tree" id="3358802">_</a>,<a href="../../../reflect/internal/Trees.scala.html#410288" title="Erasure.this.global.Tree" id="3358803">_</a><span class="delimiter">)</span> =&gt;
          <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">copyDefDef</a><a href="../../../reflect/internal/Trees.scala.html#486469" title="Erasure.this.global.Modifiers" id="985483" class="delimiter">(</a><a href="#984475" title="Erasure.this.global.Tree" id="985472">tree</a><span class="delimiter">)</span><a href="#3358814" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree" class="delimiter">(</a>tparams = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" id="985478">Nil</a><span class="delimiter">)</span>
        <span class="keyword">case</span> TypeDef<a href="#3358780" title="Erasure.this.global.Tree" id="3358811" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410256" title="Erasure.this.global.Modifiers" id="3358806">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410258" title="Erasure.this.global.TypeName" id="3358807">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410260" title="List[Erasure.this.global.TypeDef]" id="3358808">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410262" title="Erasure.this.global.Tree" id="3358809">_</a><span class="delimiter">)</span> =&gt;
          <a href="#3358814" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">EmptyTree</a>

        <span class="keyword">case</span> _ =&gt;
          <a href="#3358814" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="984474">transform</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="984476">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        // Reply to &quot;!!! needed?&quot; which adorned the next line: without it, build fails with:
        //   Exception in thread &quot;main&quot; scala.tools.nsc.symtab.Types$TypeError:
        //   value array_this is not a member of object scala.runtime.ScalaRunTime
        //
        // What the heck is array_this? See preTransformer in this file:
        //   gen.mkRuntimeCall(&quot;array_&quot;+name, qual :: args)
        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#984476" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; Erasure.this.global.ClassSymbol">ArrayClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#984476" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408584" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#984476" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="985501">tree1</a> = <a href="#984473" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">preErase</a><span class="delimiter">(</span><a href="#984476" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="#985501" title="Erasure.this.global.Tree">tree1</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="Erasure.this.global.Tree" id="3358840">EmptyTree</a> | TypeTree<a href="#3358827" title="Boolean" id="3358830" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
              <a href="#985501" title="Erasure.this.global.Tree">tree1</a> <a href="#3358842" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialScalaErasure</a><span class="delimiter">(</span><a href="#985501" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> ArrayValue<a href="#3358827" title="Erasure.this.global.Tree" id="3358832" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#453357" title="Erasure.this.global.Tree" id="985508">elemtpt</a>, <a href="../../../reflect/internal/Trees.scala.html#453359" title="List[Erasure.this.global.Tree]" id="985509">trees</a><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/internal/Trees.scala.html#480854" title="(tree: Erasure.this.global.Tree, elemtpt: Erasure.this.global.Tree, trees: List[Erasure.this.global.Tree])Erasure.this.global.ArrayValue">ArrayValue</a><span class="delimiter">(</span>
                <a href="#985501" title="Erasure.this.global.Tree">tree1</a>, <a href="#985508" title="Erasure.this.global.Tree">elemtpt</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)elemtpt.type">setType</a> <a href="../../../reflect/internal/transform/Erasure.scala.html#440916" title="Erasure.this.specialScalaErasure.type">specialScalaErasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#441792" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">applyInArray</a><span class="delimiter">(</span><a href="#985508" title="Erasure.this.global.Tree">elemtpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#985509" title="List[Erasure.this.global.Tree]">trees</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Erasure.this.global.Tree =&gt; Erasure.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Tree],Erasure.this.global.Tree,List[Erasure.this.global.Tree]])List[Erasure.this.global.Tree]">map</a> <a href="#984474" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">)</span> <a href="#3358842" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
            <span class="keyword">case</span> DefDef<a href="#3358827" title="Erasure.this.global.Tree" id="3358839" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="Erasure.this.global.Modifiers" id="3358833">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="Erasure.this.global.Name" id="3358834">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[Erasure.this.global.TypeDef]" id="3358835">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[Erasure.this.global.ValDef]]" id="3358836">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="Erasure.this.global.Tree" id="985576">tpt</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="Erasure.this.global.Tree" id="3358837">_</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="985577">result</a> = <a href="#984452" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#985501" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
              <a href="#985576" title="Erasure.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408574" title="(t: Erasure.this.global.Type)Unit">tpe</a> = <a href="../../../reflect/internal/transform/Erasure.scala.html#440910" title="(sym: Erasure.this.global.Symbol)(tp: Erasure.this.global.Type)Erasure.this.global.Type">specialErasure</a><span class="delimiter">(</span><a href="#985501" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#985501" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; Erasure.this.global.Type">resultType</a>
              <a href="#985577" title="Erasure.this.global.Tree">result</a>
            <span class="keyword">case</span> _ =&gt;
              <a href="#984452" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#985501" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span> <a href="#3358842" title="(x: Erasure.this.global.Tree)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The main transform function: Pretransfom the tree, and then
     *  re-type it at phase erasure.next.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="981016">transform</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="985789">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="985791">tree1</a> = <a href="#981014" title="=&gt; Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}">preTransformer</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#985789" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
      // log(&quot;tree after pretransform: &quot;+tree1)
      <a href="../Global.scala.html#537675" title="(op: =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">afterErasure</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="985796">tree2</a> = <a href="AddInterfaces.scala.html#622224" title="=&gt; Erasure.this.global.Transformer">mixinTransformer</a>.<a href="../../../reflect/api/Trees.scala.html#405652" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#985791" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
        // debuglog(&quot;tree after addinterfaces: \n&quot; + tree2)

        <a href="#622252" title="(context: Erasure.this.Context)Erasure.this.Eraser">newTyper</a><span class="delimiter">(</span><a href="../typechecker/Contexts.scala.html#537989" title="(unit: Erasure.this.global.CompilationUnit, tree: Erasure.this.global.Tree, erasedTypes: Boolean)Erasure.this.Context">rootContext</a><span class="delimiter">(</span><a href="#981017" title="Erasure.this.global.CompilationUnit">unit</a>, <a href="#985789" title="Erasure.this.global.Tree">tree</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#985796" title="Erasure.this.global.Tree">tree2</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class TypeRefAttachment extends Object" id="622261">TypeRefAttachment</a><a href="#622261" title="Erasure.this.TypeRefAttachment" class="delimiter">(</a><span class="keyword">val</span> <a title="Erasure.this.global.TypeRef" id="985275">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407336" title="Erasure.this.global.TypeRef">TypeRef</a><span class="delimiter">)</span>
<span title="Object" class="delimiter">}</span>

        </pre>
    </body>
</html>