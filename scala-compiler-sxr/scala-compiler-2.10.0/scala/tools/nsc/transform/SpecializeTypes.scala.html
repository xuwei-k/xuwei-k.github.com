<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/SpecializeTypes.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author Iulian Dragos
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.tools.nsc.symtab.Flags
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.<a href="../../../language.scala.html#1423" title="language.type">language</a>.postfixOps
<span class="keyword">import</span> scala.<a href="../../../language.scala.html#1423" title="language.type">language</a>.existentials

/** Specialize code on types.
 *
 *  Make sure you've read the thesis:
 *
 *    Iulian Dragos: Compiling Scala for Performance (chapter 4)
 *
 *  There are some things worth noting, (possibly) not mentioned there:
 *  0) Make sure you understand the meaning of various `SpecializedInfo` descriptors
 *     defined below.
 *
 *  1) Specializing traits by introducing bridges in specialized methods
 *     of the specialized trait may introduce problems during mixin composition.
 *     Concretely, it may cause cyclic calls and result in a stack overflow.
 *     See ticket #4351.
 *     This was solved by introducing an `Abstract` specialized info descriptor.
 *     Instead of generating a bridge in the trait, an abstract method is generated.
 *
 *  2) Specialized private members sometimes have to be switched to protected.
 *     In some cases, even this is not enough. Example:
 *
 *     {{{
 *       class A[@specialized T](protected val d: T) {
 *         def foo(that: A[T]) = that.d
 *       }
 *     }}}
 *
 *     Specialization will generate a specialized class and a specialized method:
 *
 *     {{{
 *       class A$mcI$sp(protected val d: Int) extends A[Int] {
 *         def foo(that: A[Int]) = foo$mcI$sp(that)
 *         def foo(that: A[Int]) = that.d
 *       }
 *     }}}
 *
 *     Above, `A$mcI$sp` cannot access `d`, so the method cannot be typechecked.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializeTypes extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.transform.TypingTransformers" id="44535">SpecializeTypes</a> <a href="#44535" title="scala.tools.nsc.transform.SpecializeTypes" class="keyword">extends</a> <a href="InfoTransform.scala.html#43005" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> <a href="TypingTransformers.scala.html#43407" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/package.scala.html#55820" title="=&gt; reflect.internal.Flags.type">Flags</a>._
  /** the name of the phase: */
  <span class="keyword">val</span> <a title="String" id="622023">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;specialize&quot;)" class="string">&quot;specialize&quot;</span>

  /** The following flags may be set by this phase: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="622025">phaseNewFlags</a>: <a href="../../../Long.scala.html#1293" title="Long">Long</a> = <a href="../../../reflect/internal/Flags.scala.html#407029" title="=&gt; Long">notPRIVATE</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <a href="../../../reflect/internal/Flags.scala.html#407019" title="=&gt; Long">lateFINAL</a>

  /** This phase changes base classes. */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="622026">changesBaseClasses</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="622027">keepsTypeParams</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="keyword">type</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="622028">TypeEnv</a> = immutable.<a href="../../../collection/immutable/Map.scala.html#11241" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</a><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.TypeEnv" id="622029">emptyEnv</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)*)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="Ordering[SpecializeTypes.this.global.Type]" id="622030">typeOrdering</a>: <a href="../../../math/Ordering.scala.html#17425" title="Ordering[SpecializeTypes.this.global.Type]">Ordering</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="../../../math/Ordering.scala.html#82208" title="[T](implicit ord: scala.math.Ordering[T])scala.math.Ordering[T]">Ordering</a><a href="../../../math/Ordering.scala.html#82256" title="(implicit ord: scala.math.Ordering[String])scala.math.Ordering[String]" class="delimiter">[</a><span title="String">String</span><span class="delimiter">]</span> <a href="../../../math/Ordering.scala.html#82126" title="(f: SpecializeTypes.this.global.Type =&gt; String)scala.math.Ordering[SpecializeTypes.this.global.Type]">on</a> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#999068" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; SpecializeTypes.this.global.Symbol#NameType">name</a><span class="delimiter">)</span>

  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="SpecializeTypes.this.global.definitions.type">definitions</a>.<span class="delimiter">{</span>
    BooleanClass, UnitClass, ArrayClass,
    ScalaValueClasses, isPrimitiveValueClass, isPrimitiveValueType,
    SpecializedClass, UnspecializedClass, AnyRefClass, ObjectClass,
    GroupOfSpecializable, uncheckedVarianceClass, ScalaInlineClass
  <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../Global.scala.html#537442" title="=&gt; SpecializeTypes.this.global.Mirror">rootMirror</a>.RootClass

  /** TODO - this is a lot of maps.
   */

  /** For a given class and concrete type arguments, give its specialized class */
  <span class="keyword">val</span> <a title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" id="622034">specializedClass</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">Map</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, TypeEnv<span class="delimiter">)</span>, Symbol<span class="delimiter">]</span> = <span title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">LinkedHashMap</a>

  /** Map a method symbol to a list of its specialized overloads in the same class. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" id="622036">overloads</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.Overload]">List</a><span class="delimiter">[</span>Overload<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../collection/mutable/Map.scala.html#87604" title="(d: List[SpecializeTypes.this.Overload])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">withDefaultValue</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>

  /** Map a symbol to additional information on specialization. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" id="622038">info</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Map class symbols to the type environments where they were created. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" id="622040">typeEnv</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../collection/mutable/Map.scala.html#87604" title="(d: SpecializeTypes.this.TypeEnv)scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">withDefaultValue</a> <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>

  //    Key: a specialized class or method
  //  Value: a map from tparams in the original class to tparams in the specialized class.
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]]" id="622042">anyrefSpecCache</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, mutable.<a href="../../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  // holds mappings from members to the type variables in the class
  // that they were already specialized for, so that they don't get
  // specialized twice (this is for AnyRef specializations)
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,Set[SpecializeTypes.this.global.Symbol]]" id="622044">wasSpecializedForTypeVars</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/Set.scala.html#11919" title="Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../collection/mutable/Map.scala.html#87604" title="(d: Set[SpecializeTypes.this.global.Symbol])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,Set[SpecializeTypes.this.global.Symbol]]">withDefaultValue</a> <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Concrete methods that use a specialized type, or override such methods. */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.reflect.internal.util.WeakHashSet[SpecializeTypes.this.global.Symbol]" id="622046">concreteSpecMethods</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471995" title="[K &lt;: AnyRef]()scala.reflect.internal.util.WeakHashSet[K]">newWeakSet</a><span title="()scala.reflect.internal.util.WeakHashSet[SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="622048">specializedTypes</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="999075">tps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#999075" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#999081" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="622049">specializedOn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="998925">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#998925" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#408616" title="(cls: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.AnnotationInfo]">getAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#409199" title="=&gt; SpecializeTypes.this.global.ClassSymbol">SpecializedClass</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Some<a href="#3360658" title="Boolean" id="3360660" class="delimiter">(</a><a href="../../../reflect/internal/AnnotationInfos.scala.html#411922" title="Option[(SpecializeTypes.this.global.Type, List[SpecializeTypes.this.global.Tree], List[(SpecializeTypes.this.global.Name, SpecializeTypes.this.global.ClassfileAnnotArg)])]" id="3360677">AnnotationInfo</a><a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.global.AnnotationInfo" id="3360659" class="delimiter">(</a><a href="../../../Tuple3.scala.html#60576" title="SpecializeTypes.this.global.Type" id="3360661">_</a>, <a href="../../../Tuple3.scala.html#60578" title="List[SpecializeTypes.this.global.Tree]" id="3360670">Nil</a>, <a href="../../../Tuple3.scala.html#60580" title="List[(SpecializeTypes.this.global.Name, SpecializeTypes.this.global.ClassfileAnnotArg)]" id="3360663">_</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#622094" title="=&gt; List[SpecializeTypes.this.global.Type]">specializableTypes</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a><a href="#3360673" title="(x: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#999155" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Some<span class="delimiter">(</span><a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.global.AnnotationInfo" id="999185">ann</a> @ <a href="../../../reflect/internal/AnnotationInfos.scala.html#411922" title="Option[(SpecializeTypes.this.global.Type, List[SpecializeTypes.this.global.Tree], List[(SpecializeTypes.this.global.Name, SpecializeTypes.this.global.ClassfileAnnotArg)])]" id="3360679">AnnotationInfo</a><span class="delimiter">(</span><a href="../../../Tuple3.scala.html#60576" title="SpecializeTypes.this.global.Type" id="3360667">_</a>, <a href="../../../Tuple3.scala.html#60578" title="List[SpecializeTypes.this.global.Tree]" id="999189">args</a>, <a href="../../../Tuple3.scala.html#60580" title="List[(SpecializeTypes.this.global.Name, SpecializeTypes.this.global.ClassfileAnnotArg)]" id="3360668">_</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
        <a href="#999189" title="List[SpecializeTypes.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#999206" title="SpecializeTypes.this.global.Tree">_</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#3360673" title="(x: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">flatMap</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="999254">tp</a> =&gt;
          <a href="#999254" title="SpecializeTypes.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#408459" title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#408751" title="=&gt; SpecializeTypes.this.global.ClassSymbol">GroupOfSpecializable</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#3360632" title="List[SpecializeTypes.this.global.Symbol]" id="3360637" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="3360633">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="3360643">GroupOfSpecializable</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="SpecializeTypes.this.global.Type" id="999262">arg</a> <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="3360641">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[SpecializeTypes.this.global.Type]" id="3360644">Nil</a><span class="delimiter">)</span> =&gt;
              <a href="#999262" title="SpecializeTypes.this.global.Type">arg</a>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[SpecializeTypes.this.global.Type]">typeArgs</a> <a href="#3360647" title="(x: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#999282" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
              <a href="#999254" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <a href="#3360647" title="(x: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt; <a href="#3360673" title="(x: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">Nil</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // If we replace `isBoundedGeneric` with (tp &lt;:&lt; AnyRefClass.tpe),
  // then pos/spec-List.scala fails - why? Does this kind of check fail
  // for similar reasons? Does `sym.isAbstractType` make a difference?
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean" id="622050">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="998921">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Symbol" id="998922">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#622049" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedOn</a><span class="delimiter">(</span><a href="#998922" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="998935">s</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#998935" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#998921" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="../../../reflect/internal/Types.scala.html#407643" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#998921" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    //(tp &lt;:&lt; AnyRefClass.tpe)
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="SpecializeTypes.this.TypeEnv.type" id="622051">TypeEnv</a> <a href="#622052" title="SpecializeTypes.this.TypeEnv.type" class="delimiter">{</a>
    /** Return a new type environment binding specialized type parameters of sym to
     *  the given args. Expects the lists to have the same length.
     */
    <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv" id="998947">fromSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="998951">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="998952">args</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#537502" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#998951" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#998952" title="List[SpecializeTypes.this.global.Type]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>, <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; args: &quot;)" class="string">&quot; args: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#998952" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../reflect/internal/util/Collections.scala.html#406785" title="(xs1: List[SpecializeTypes.this.global.Symbol], xs2: List[SpecializeTypes.this.global.Type])(p: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) =&gt; Boolean)Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">collectMap2</a><span class="delimiter">(</span><a href="#998951" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#998952" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="999421">k</a>, <a title="SpecializeTypes.this.global.Type" id="999422">v</a><span class="delimiter">)</span> =&gt; <a href="#999421" title="SpecializeTypes.this.global.Symbol">k</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Does typeenv `t1` include `t2`? All type variables in `t1`
     *  are defined in `t2` and:
     *  - are bound to the same type, or
     *  - are an AnyRef specialization and `t2` is bound to a subtype of AnyRef
     */
    <span class="keyword">def</span> <a title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean" id="998948">includes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="999461">t1</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="SpecializeTypes.this.TypeEnv" id="999462">t2</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> = <a href="#999461" title="SpecializeTypes.this.TypeEnv">t1</a> <a href="../../../collection/IterableLike.scala.html#58565" title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</a> <a href="#999468" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="999471">sym</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="999472">tpe</a><span class="delimiter">)</span> =&gt;
        <a href="#999462" title="SpecializeTypes.this.TypeEnv">t2</a> <a href="../../../collection/MapLike.scala.html#87525" title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.global.Type]">get</a> <a href="#999471" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="#3360692" title="(x: Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Type" id="999477">t2tp</a> =&gt;
          <span class="delimiter">(</span><a href="#999472" title="SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#999477" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409300" title="(tp: SpecializeTypes.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#999472" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../reflect/internal/Definitions.scala.html#409300" title="(tp: SpecializeTypes.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#999477" title="SpecializeTypes.this.global.Type">t2tp</a><span class="delimiter">)</span><span class="delimiter">)</span> // u.t.b. (t2tp &lt;:&lt; AnyRefClass.tpe)
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Reduce the given environment to contain mappings only for type variables in tps. */
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv" id="998949">restrict</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="999483">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="999484">tps</a>: immutable.<a href="../../../collection/immutable/Set.scala.html#11919" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> =
      <a href="#999483" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/MapLike.scala.html#120407" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">filterKeys</a> <a href="#999484" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tps</a> <a href="../../../collection/immutable/Map.scala.html#62518" title="(implicit ev: &lt;:&lt;[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">toMap</a>

    /** Is the given environment a valid specialization for sym?
     *  It is valid if each binding is from a @specialized type parameter in sym (or its owner)
     *  to a type for which `sym` is specialized.
     */
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="998950">isValid</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="999501">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="SpecializeTypes.this.global.Symbol" id="999502">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#999501" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/IterableLike.scala.html#58565" title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</a> <a href="#999508" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="999511">tvar</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="999512">tpe</a><span class="delimiter">)</span> =&gt;
        <a href="#999511" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#622097" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#999511" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="#999512" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#3360698" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#999502" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="#999511" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
          <span class="delimiter">(</span><a href="#999502" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Mirrors.scala.html#412962" title="=&gt; SpecializeTypes.this.global.ClassSymbol">RootClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#999502" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="#999511" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Returns the generic class that was specialized to 'sClass', or
   *  'sClass' itself if sClass is not a specialized subclass.
   */
  <span class="keyword">def</span> <a title="(sClass: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="622053">genericClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="999523">sClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#999523" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span> <a href="#999523" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411440" title="=&gt; SpecializeTypes.this.global.Symbol">superClass</a>
    <span class="keyword">else</span> <a href="#999523" title="SpecializeTypes.this.global.Symbol">sClass</a>

  case <span class="keyword">class</span> <a title="class Overload extends AnyRef with Product with Serializable" id="1010264">Overload</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1002681">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1002682">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="998848">toString</a> = <span title="String(&quot;specialized overload &quot;)" class="string">&quot;specialized overload &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1002681" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1002682" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>

  /** Just to mark uncheckable */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)SpecializeTypes.this.StdPhase" id="622057">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="624621">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#19756" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#620064" title="SpecializeTypes.this.StdPhase">StdPhase</a> = <span title="SpecializeTypes.this.SpecializationPhase" class="keyword">new</span> <a href="#622058" title="SpecializeTypes.this.SpecializationPhase">SpecializationPhase</a><span class="delimiter">(</span><a href="#624621" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="keyword">class</span> <a title="class SpecializationPhase extends SpecializeTypes.this.Phase" id="622058">SpecializationPhase</a><a href="#622058" title="SpecializeTypes.this.SpecializationPhase" class="delimiter">(</a><a title="tools.nsc.Phase" id="999574">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#19756" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#44535" title="scala.tools.nsc.transform.SpecializeTypes" class="keyword">super</a>.<a href="InfoTransform.scala.html#621619" title="SpecializeTypes.this.Phase">Phase</a><span class="delimiter">(</span><a href="#999574" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="999573">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.global.Transformer" id="622059">newTransformer</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="999577">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#537817" title="SpecializeTypes.this.global.Transformer">Transformer</a> =
    <span title="SpecializeTypes.this.SpecializationTransformer" class="keyword">new</span> <a href="#622142" title="SpecializeTypes.this.SpecializationTransformer">SpecializationTransformer</a><span class="delimiter">(</span><a href="#999577" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SpecializedInfo extends Object" id="622060">SpecializedInfo</a> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="998851">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>

    /** Are type bounds of @specialized type parameters of 'target' now in 'env'? */
    <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="998852">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="999586">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> = <span title="Boolean(false)" class="keyword">false</span>

    /** A degenerated method has @specialized type parameters that appear only in
     *  type bounds of other @specialized type parameters (and not in its result type).
     */
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="998853">degenerate</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="998854">isAccessor</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  /** Symbol is a special overloaded method of 'original', in the environment env. */
  case <span class="keyword">class</span> <a title="class SpecialOverload extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010268">SpecialOverload</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1004617">original</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1004618">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="999594">target</a> = <a href="#1004617" title="=&gt; SpecializeTypes.this.global.Symbol">original</a>
  <span class="delimiter">}</span>

  /** Symbol is a method that should be forwarded to 't' */
  case <span class="keyword">class</span> <a title="class Forward extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010272">Forward</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1002548">t</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="999645">target</a> = <a href="#1002548" title="=&gt; SpecializeTypes.this.global.Symbol">t</a>
  <span class="delimiter">}</span>

  /** Symbol is a specialized abstract method, either specialized or original. The original `t` is abstract. */
  case <span class="keyword">class</span> <a title="class Abstract extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010279">Abstract</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1010276">t</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="999684">target</a> = <a href="#1010276" title="=&gt; SpecializeTypes.this.global.Symbol">t</a>
  <span class="delimiter">}</span>

  /** Symbol is a specialized accessor for the `target` field. */
  case <span class="keyword">class</span> <a title="class SpecializedAccessor extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010283">SpecializedAccessor</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1003096">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="999723">isAccessor</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  /** Symbol is a specialized method whose body should be the target's method body. */
  case <span class="keyword">class</span> <a title="class Implementation extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010287">Implementation</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1002555">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  /** Symbol is a specialized override paired with `target`. */
  case <span class="keyword">class</span> <a title="class SpecialOverride extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010291">SpecialOverride</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1005131">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  /** A specialized inner class that specializes original inner class `target` on a type parameter of the enclosing class, in the typeenv `env`. */
  case <span class="keyword">class</span> <a title="class SpecializedInnerClass extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010317">SpecializedInnerClass</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1003316">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1003317">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a>

  /** Symbol is a normalized member obtained by specializing 'target'. */
  case <span class="keyword">class</span> <a title="class NormalizedMember extends SpecializeTypes.this.SpecializedInfo with Product with Serializable" id="1010321">NormalizedMember</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="SpecializeTypes.this.global.Symbol" id="1003943">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622060" title="SpecializeTypes.this.SpecializedInfo">SpecializedInfo</a> <span class="delimiter">{</span>

    /** Type bounds of a @specialized type var are now in the environment. */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="999882">typeBoundsIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="999889">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#1003943" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="999899">tvar</a> =&gt;
        <a href="#999899" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#999899" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a><span class="delimiter">)</span> <a href="../../../collection/IterableLike.scala.html#58566" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="#999889" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87537" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="999884">degenerate</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="999921">stvTypeParams</a> = <a href="#622101" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1003943" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#999948" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="999922">stvResult</a>     = <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1003943" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; SpecializeTypes.this.global.Type">resultType</a><span class="delimiter">)</span>

      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;degenerate: &quot;)" class="string">&quot;degenerate: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1003943" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; stv tparams: &quot;)" class="string">&quot; stv tparams: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#999921" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; stv info: &quot;)" class="string">&quot; stv info: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#999922" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#999921" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvTypeParams</a> <a href="../../../collection/generic/Subtractable.scala.html#66460" title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">--</a> <a href="#999922" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvResult</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Has `clazz` any type parameters that need be specialized? */
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="622085">hasSpecializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000015">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#1000015" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1000026" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>

  /** Return specialized type parameters. */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="622086">specializedParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000027">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#1000027" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#1000034" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" id="622087">splitParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="1000035">tps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#1000035" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <a href="../../../collection/TraversableLike.scala.html#58080" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</a> <span class="delimiter">(</span><a href="#1000041" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>

  /** Given an original class symbol and a list of types its type parameters are instantiated at
   *  returns a list of type parameters that should remain in the TypeRef when instantiating a
   *  specialized type.
   */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="622088">survivingArgs</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="998967">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Type]" id="998968">args</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1000120">tvar</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1000121">tpe</a><span class="delimiter">)</span> &lt;- <a href="#998967" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</a><a href="../../../collection/generic/FilterMonadic.scala.html#58161" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]" class="delimiter">(</a><a href="#998968" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1000120" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> <a href="#3360795" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409300" title="(tp: SpecializeTypes.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="#1000121" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#3360801" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">tpe</a>

  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.TypeMap" id="622089">specializedType</a> = <a href="#998862" title="SpecializeTypes.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="anonymous class $anon extends SpecializeTypes.this.global.TypeMap" id="998862">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="998864">apply</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="998865">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#998865" title="SpecializeTypes.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#3360818" title="SpecializeTypes.this.global.Type" id="3360820" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="998874">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="998875">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="998876">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#998876" title="List[SpecializeTypes.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="998877">pre1</a> = <a href="#998864" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#998874" title="SpecializeTypes.this.global.Type">pre</a><span class="delimiter">)</span>
        // when searching for a specialized class, take care to map all
        // type parameters that are subtypes of AnyRef to AnyRef
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="998878">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#406731" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">map2</a><span class="delimiter">(</span><a href="#998876" title="List[SpecializeTypes.this.global.Type]">args</a>, <a href="#998875" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="998919">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="998920">orig</a><span class="delimiter">)</span> =&gt;
          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#622050" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#998919" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#998920" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="#998919" title="SpecializeTypes.this.global.Type">tp</a>
        <span class="delimiter">)</span>
        <a href="#622034" title="=&gt; scala.collection.mutable.Map[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv),SpecializeTypes.this.global.Symbol]">specializedClass</a>.<a href="../../../collection/MapLike.scala.html#87525" title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv))Option[SpecializeTypes.this.global.Symbol]">get</a><a href="#3360810" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="delimiter">(</a><a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</a><a href="#998875" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#622051" title="SpecializeTypes.this.TypeEnv.type">TypeEnv</a>.<a href="#998947" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.TypeEnv">fromSpecialization</a><span class="delimiter">(</span><a href="#998875" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#998878" title="List[SpecializeTypes.this.global.Type]">args1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<a href="#3360805" title="SpecializeTypes.this.global.Type" id="3360806" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.global.Symbol" id="998960">sym1</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#407402" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><a href="#3360810" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="delimiter">(</a><a href="#998877" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#998960" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#622088" title="(sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">survivingArgs</a><span class="delimiter">(</span><a href="#998875" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#998876" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="SpecializeTypes.this.global.Type" id="3360808">None</a>       =&gt; <a href="../../../reflect/internal/Types.scala.html#407402" title="(pre: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol, args: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">typeRef</a><a href="#3360810" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="delimiter">(</a><a href="#998877" title="SpecializeTypes.this.global.Type">pre1</a>, <a href="#998875" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#998876" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt; <a href="#3360822" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">tp</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Return the specialized overload of sym in the given env, if any. */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]" id="622091">overload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000150">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1000151">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> =
    <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#1000150" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#86381" title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</a><span class="delimiter">(</span><a title="SpecializeTypes.this.Overload" id="1000177">ov</a> =&gt; <a href="#622051" title="SpecializeTypes.this.TypeEnv.type">TypeEnv</a>.<a href="#998948" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="#1000177" title="SpecializeTypes.this.Overload">ov</a>.<a href="#1002682" title="=&gt; SpecializeTypes.this.TypeEnv">env</a>, <a href="#1000151" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Return the specialized name of 'sym' in the given environment. It
   *  guarantees the same result regardless of the map order by sorting
   *  type variables alphabetically.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName" id="622092">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000178">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1000179">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#406879" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="1000181">tvars</a> = <span class="delimiter">(</span>
      <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1000178" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#1000179" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a>
      <span class="keyword">else</span> <a href="#622102" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1000178" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../collection/GenSetLike.scala.html#66404" title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</a><span class="delimiter">(</span><a href="#1000179" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#3360829" title="(x: (List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol]))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[SpecializeTypes.this.global.Symbol]" id="1000183">methparams</a>, <a href="../../../Tuple2.scala.html#60637" title="List[SpecializeTypes.this.global.Symbol]" id="1000184">others</a><span class="delimiter">)</span> = <a href="#1000181" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tvars</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a> <a href="../../../collection/SeqLike.scala.html#58869" title="(f: SpecializeTypes.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[SpecializeTypes.this.global.Symbol]">sortBy</a> <span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1000198" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$13.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58080" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Symbol])">partition</a> <span class="delimiter">(</span><a href="#1000260" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
    // debuglog(&quot;specName(&quot; + sym + &quot;) env: &quot; + env + &quot; tvars: &quot; + tvars)

    <a href="#622093" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1000178" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>, <a href="#1000183" title="List[SpecializeTypes.this.global.Symbol]">methparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <a href="#1000179" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1000184" title="List[SpecializeTypes.this.global.Symbol]">others</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <a href="#1000179" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Specialize name for the two list of types. The first one denotes
   *  specialization on method type parameters, the second on outer environment.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName" id="622093">specializedName</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Name" id="1000276">name</a>: <a href="../../../reflect/internal/Names.scala.html#406868" title="SpecializeTypes.this.global.Name">Name</a>, <a title="List[SpecializeTypes.this.global.Type]" id="1000277">types1</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="1000278">types2</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#406879" title="SpecializeTypes.this.global.TermName">TermName</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413988" title="=&gt; SpecializeTypes.this.global.nme.NameType">INITIALIZER</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1000276" title="SpecializeTypes.this.global.Name">name</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1000277" title="List[SpecializeTypes.this.global.Type]">types1</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1000278" title="List[SpecializeTypes.this.global.Type]">types2</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414053" title="(name: SpecializeTypes.this.global.Name)Boolean">isSetterName</a><span class="delimiter">(</span><a href="#1000276" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414067" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#622093" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414070" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">setterToGetter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#1000277" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#1000278" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="SpecializeTypes.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414048" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#1000276" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414066" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#622093" title="(name: SpecializeTypes.this.global.Name, types1: List[SpecializeTypes.this.global.Type], types2: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414068" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#1000277" title="List[SpecializeTypes.this.global.Type]">types1</a>, <a href="#1000278" title="List[SpecializeTypes.this.global.Type]">types2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#3360835" title="(x: (SpecializeTypes.this.global.Name, String, String))(SpecializeTypes.this.global.Name, String, String)" class="delimiter">(</a><a href="../../../Tuple3.scala.html#60576" title="SpecializeTypes.this.global.Name" id="1000385">base</a>, <a href="../../../Tuple3.scala.html#60578" title="String" id="1000386">cs</a>, <a href="../../../Tuple3.scala.html#60580" title="String" id="1000387">ms</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414064" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><a href="../../../Tuple3.scala.html#126" title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</a><a href="#1000276" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Names.scala.html#406859" title="(s: String)SpecializeTypes.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#1000385" title="SpecializeTypes.this.global.Name">base</a>.<span title="()String">toString</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span>
                  <span title="(x$1: Any)String">+</span> <span title="String(&quot;m&quot;)" class="string">&quot;m&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1000387" title="String">ms</a> <span title="(x$1: Any)String">+</span> <a href="#1000277" title="List[SpecializeTypes.this.global.Type]">types1</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</a><a title="SpecializeTypes.this.global.Type" id="1000425">t</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#407777" title="SpecializeTypes.this.global.definitions.type">definitions</a>.<a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="#1000425" title="SpecializeTypes.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span title="(x$1: Any)String">+</span> <span title="String(&quot;c&quot;)" class="string">&quot;c&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1000386" title="String">cs</a> <span title="(x$1: Any)String">+</span> <a href="#1000278" title="List[SpecializeTypes.this.global.Type]">types2</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Type =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],Char,List[Char]])List[Char]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Char,List[Char]]" class="delimiter">(</a><a title="SpecializeTypes.this.global.Type" id="1000494">t</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#407777" title="SpecializeTypes.this.global.definitions.type">definitions</a>.<a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="#1000494" title="SpecializeTypes.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;$sp&quot;)" class="string">&quot;$sp&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="622095">specializableTypes</a> = <a href="../../../reflect/internal/Definitions.scala.html#409399" title="=&gt; List[SpecializeTypes.this.global.ClassSymbol]">ScalaValueClasses</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.ClassSymbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ClassSymbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#999103" title="SpecializeTypes.this.global.ClassSymbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58872" title="(implicit ord: scala.math.Ordering[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">sorted</a>

  /** If the symbol is the companion of a value class, the value class.
   *  Otherwise, AnyRef.
   */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="622096">specializesClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000541">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1000543">c</a> = <a href="#1000541" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411453" title="=&gt; SpecializeTypes.this.global.Symbol">companionClass</a>
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1000543" title="SpecializeTypes.this.global.Symbol">c</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1000543" title="SpecializeTypes.this.global.Symbol">c</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>
  <span class="delimiter">}</span>

  /** Return the types `sym` should be specialized at. This may be some of the primitive types
   *  or AnyRef. AnyRef means that a new type parameter T will be generated later, known to be a
   *  subtype of AnyRef (T &lt;: AnyRef).
   *  These are in a meaningful order for stability purposes.
   */
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]" id="622097">concreteTypes</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="999513">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="1000544">types</a> = <span title="List[SpecializeTypes.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#999513" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>
      <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> // no @specialized Annotation
    <span class="keyword">else</span>
      <a href="#622049" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedOn</a><span class="delimiter">(</span><a href="#999513" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000564">s</a> =&gt; <a href="#622096" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">specializesClass</a><span class="delimiter">(</span><a href="#1000564" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58872" title="(implicit ord: scala.math.Ordering[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">sorted</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#407643" title="(tp: SpecializeTypes.this.global.Type)Boolean">isBoundedGeneric</a><span class="delimiter">(</span><a href="#999513" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1000544" title="List[SpecializeTypes.this.global.Type]">types</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539684" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#999513" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; is always a subtype of &quot;)" class="string">&quot; is always a subtype of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>

    <a href="#1000544" title="List[SpecializeTypes.this.global.Type]">types</a>
  <span class="delimiter">}</span>

  /** Return a list of all type environments for all specializations
   *  of @specialized types in `tps`.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]" id="622098">specializations</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="1000600">tps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.TypeEnv]">List</a><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span> = <span class="delimiter">{</span>
    // the keys in each TypeEnv
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1000602">keys</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#1000600" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#1000607" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span>
    // creating each permutation of concrete types
    <span class="keyword">def</span> <a title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]" id="1000603">loop</a><span class="delimiter">(</span><a title="List[List[SpecializeTypes.this.global.Type]]" id="1000608">ctypes</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[List[SpecializeTypes.this.global.Type]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[List[SpecializeTypes.this.global.Type]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#1000608" title="List[List[SpecializeTypes.this.global.Type]]">ctypes</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="List[List[SpecializeTypes.this.global.Type]]" id="3360845">Nil</a>         =&gt; <a href="#3360849" title="(x: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">Nil</a>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="List[SpecializeTypes.this.global.Type]" id="1000611">set</a> <a href="#3360839" title="Boolean" id="3360842">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[List[SpecializeTypes.this.global.Type]]" id="3360846">Nil</a>  =&gt; <a href="#1000611" title="List[SpecializeTypes.this.global.Type]">set</a> <a href="#3360849" title="(x: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">map</a> <span class="delimiter">(</span><a href="#1000628" title="SpecializeTypes.this.global.Type">_</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="List[SpecializeTypes.this.global.Type]" id="1000667">set</a> :: <a href="../../../collection/immutable/List.scala.html#206584" title="List[List[SpecializeTypes.this.global.Type]]" id="1000668">sets</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1000685">x</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.GenTraversableOnce[List[SpecializeTypes.this.global.Type]])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">set</a> ; <a title="List[SpecializeTypes.this.global.Type]" id="1000705">xs</a> &lt;- <a href="#1000603" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><a href="../../../collection/TraversableLike.scala.html#58063" title="(f: List[SpecializeTypes.this.global.Type] =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]" class="delimiter">(</a><a href="#1000668" title="List[List[SpecializeTypes.this.global.Type]]">sets</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#1000685" title="SpecializeTypes.this.global.Type">x</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1000705" title="List[SpecializeTypes.this.global.Type]">xs</a>
    <span class="delimiter">}</span>
    // zip the keys with each permutation to create a TypeEnv.
    // If we don't exclude the &quot;all AnyRef&quot; specialization, we will
    // incur duplicate members and crash during mixin.
    <a href="#1000603" title="(ctypes: List[List[SpecializeTypes.this.global.Type]])List[List[SpecializeTypes.this.global.Type]]">loop</a><span class="delimiter">(</span><a href="#1000602" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; List[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],List[SpecializeTypes.this.global.Type],List[List[SpecializeTypes.this.global.Type]]])List[List[SpecializeTypes.this.global.Type]]">map</a> <a href="#622097" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: List[SpecializeTypes.this.global.Type] =&gt; Boolean)List[List[SpecializeTypes.this.global.Type]]">filterNot</a> <span class="delimiter">(</span><a href="#1000818" title="List[SpecializeTypes.this.global.Type]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86378" title="(p: SpecializeTypes.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#1000825" title="SpecializeTypes.this.global.Type">_</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: List[SpecializeTypes.this.global.Type] =&gt; scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[SpecializeTypes.this.global.Type]],scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],List[SpecializeTypes.this.TypeEnv]])List[SpecializeTypes.this.TypeEnv]">map</a> <span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="1000847">xss</a> =&gt; <a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)*)scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</a><span class="delimiter">(</span><a href="#1000602" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</a> <a href="#1000847" title="List[SpecializeTypes.this.global.Type]">xss</a>: _*<span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Does the given 'sym' need to be specialized in the environment 'env'?
   *  Specialization is needed for
   *    - members with specialized type parameters found in the given environment
   *    - constructors of specialized classes
   *    - normalized members whose type bounds appear in the environment
   *  But suppressed for:
   *    - any member with the @unspecialized annotation, or which has an
   *      enclosing member with the annotation.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean" id="622099">needsSpecialization</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1000942">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="SpecializeTypes.this.global.Symbol" id="1000943">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
    <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411317" title="=&gt; List[SpecializeTypes.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1000953" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#408615" title="(cls: SpecializeTypes.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#409207" title="=&gt; SpecializeTypes.this.global.ClassSymbol">UnspecializedClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
         <a href="#622102" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../collection/GenSetLike.scala.html#66404" title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</a><span class="delimiter">(</span><a href="#1000942" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a><span class="delimiter">)</span>.<a href="../../../collection/SetLike.scala.html#66449" title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">diff</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a>
      <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411200" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1000989" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#622100" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#1000943" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="#998852" title="(env: SpecializeTypes.this.TypeEnv)Boolean">typeBoundsIn</a><span class="delimiter">(</span><a href="#1000942" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Boolean" id="622100">isNormalizedMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1000990">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1000990" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#622038" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <a href="../../../collection/mutable/HashMap.scala.html#88246" title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</a> <a href="#1000990" title="SpecializeTypes.this.global.Symbol">m</a> <a href="../../../Option.scala.html#62882" title="(p: SpecializeTypes.this.SpecializedInfo =&gt; Boolean)Boolean">exists</a> <a href="#1000998" title="SpecializeTypes.this.SpecializedInfo" class="delimiter">{</a>
    <span class="keyword">case</span> NormalizedMember<a href="#3360861" title="Boolean" id="3360864" class="delimiter">(</a><a href="#1003943" title="SpecializeTypes.this.global.Symbol" id="3360862">_</a><span class="delimiter">)</span>  =&gt; <a href="#3360866" title="(x: Boolean)Boolean" class="keyword">true</a>
    <span class="keyword">case</span> _                    =&gt; <a href="#3360866" title="(x: Boolean)Boolean" class="keyword">false</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="622101">specializedTypeVars</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="978788">tpes</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: immutable.<a href="../../../collection/immutable/Set.scala.html#11919" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" id="1001042">buf</a> = <a href="../../../Predef.scala.html#7446" title="=&gt; scala.collection.immutable.Set.type">Set</a>.<a href="../../../collection/generic/ImmutableSetFactory.scala.html#60801" title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Set[A]]">newBuilder</a><span title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span>
    <a href="#978788" title="List[SpecializeTypes.this.global.Type]">tpes</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]])Unit">foreach</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1001063">tp</a> =&gt; <a href="#1001042" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a> <a href="../../../collection/generic/Growable.scala.html#60003" title="(xs: scala.collection.TraversableOnce[SpecializeTypes.this.global.Symbol])buf.type">++=</a> <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1001063" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#1001042" title="scala.collection.mutable.Builder[SpecializeTypes.this.global.Symbol,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]]">buf</a>.<a href="../../../collection/mutable/Builder.scala.html#60008" title="()scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">result</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="622102">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="978785">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: immutable.<a href="../../../collection/immutable/Set.scala.html#11919" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../Global.scala.html#537732" title="(op: =&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">beforeTyper</a><span class="delimiter">(</span><a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#978785" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Return the set of @specialized type variables mentioned by the given type.
   *  It only counts type variables that appear:
   *    - naked
   *    - as arguments to type constructors in @specialized positions
   *      (arrays are considered as Array[@specialized T])
   */
  <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="622103">specializedTypeVars</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="978782">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: immutable.<a href="../../../collection/immutable/Set.scala.html#11919" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#978782" title="SpecializeTypes.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> TypeRef<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360886" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="1001084">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1001085">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="1001086">args</a><span class="delimiter">)</span> =&gt;
      <a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</a> <span class="delimiter">(</span><a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span>
        <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#978782" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; SpecializeTypes.this.global.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411192" title="=&gt; Boolean">isTypeParameter</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411194" title="=&gt; Boolean">isTypeSkolem</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411475" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">(</span><a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408861" title="=&gt; SpecializeTypes.this.global.ClassSymbol">ArrayClass</a><span class="delimiter">)</span>
        <a href="#622101" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1001086" title="List[SpecializeTypes.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1001086" title="List[SpecializeTypes.this.global.Type]">args</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
        <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#622101" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1001085" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">zip</a> <a href="#1001086" title="List[SpecializeTypes.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Type] with Serializable" id="1001197" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1001202">tp</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1001203">arg</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1001202" title="SpecializeTypes.this.global.Symbol">tp</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> =&gt; <a href="#3360873" title="(x: B1)B1">arg</a> <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="keyword">case</span> PolyType<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360888" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[SpecializeTypes.this.global.Symbol]" id="1001256">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="SpecializeTypes.this.global.Type" id="1001257">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#622101" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1001257" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1001256" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</a><a href="#1001281" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    // since this method may be run at phase typer (before uncurry, where NMTs are eliminated)
    <span class="keyword">case</span> NullaryMethodType<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360890" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410746" title="SpecializeTypes.this.global.Type" id="1001316">resTpe</a><span class="delimiter">)</span>   =&gt; <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1001316" title="SpecializeTypes.this.global.Type">resTpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> MethodType<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360892" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[SpecializeTypes.this.global.Symbol]" id="1001325">argSyms</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="SpecializeTypes.this.global.Type" id="1001326">resTpe</a><span class="delimiter">)</span> =&gt; <a href="#622101" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1001326" title="SpecializeTypes.this.global.Type">resTpe</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1001325" title="List[SpecializeTypes.this.global.Symbol]">argSyms</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</a><a href="#1001350" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> ExistentialType<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360895" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[SpecializeTypes.this.global.Symbol]" id="3360893">_</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="SpecializeTypes.this.global.Type" id="1001384">res</a><span class="delimiter">)</span>     =&gt; <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1001384" title="SpecializeTypes.this.global.Type">res</a><span class="delimiter">)</span>
    <span class="keyword">case</span> AnnotatedType<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360899" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410660" title="List[SpecializeTypes.this.global.AnnotationInfo]" id="3360896">_</a>, <a href="../../../reflect/internal/Types.scala.html#410662" title="SpecializeTypes.this.global.Type" id="1001394">tp</a>, <a href="../../../reflect/internal/Types.scala.html#410664" title="SpecializeTypes.this.global.Symbol" id="3360897">_</a><span class="delimiter">)</span>     =&gt; <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1001394" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> TypeBounds<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360901" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410582" title="SpecializeTypes.this.global.Type" id="1001403">lo</a>, <a href="../../../reflect/internal/Types.scala.html#410584" title="SpecializeTypes.this.global.Type" id="1001404">hi</a><span class="delimiter">)</span>          =&gt; <a href="#622101" title="(tpes: List[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1001403" title="SpecializeTypes.this.global.Type">lo</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1001404" title="SpecializeTypes.this.global.Type">hi</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
    <span class="keyword">case</span> RefinedType<a href="#3360884" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="3360904" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[SpecializeTypes.this.global.Type]" id="1001425">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="SpecializeTypes.this.global.Scope" id="3360902">_</a><span class="delimiter">)</span>     =&gt; <a href="#1001425" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: SpecializeTypes.this.global.Type =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</a> <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a> <a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">toSet</a>
    <span class="keyword">case</span> _                           =&gt; <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="(elems: SpecializeTypes.this.global.Symbol*)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">Set</a><a href="#3360906" title="(x: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Returns the type parameter in the specialized class `sClass` that corresponds to type parameter
   *  `tparam` in the original class. It will create it if needed or use the one from the cache.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparam: SpecializeTypes.this.global.Symbol, sClass: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type" id="622104">typeParamSubAnyRef</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1001489">tparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1001490">sClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" id="1001492">sClassMap</a> = <a href="#622042" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]]">anyrefSpecCache</a>.<a href="../../../collection/mutable/MapLike.scala.html#87629" title="(key: SpecializeTypes.this.global.Symbol, op: =&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol])scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">getOrElseUpdate</a><span class="delimiter">(</span><a href="#1001490" title="SpecializeTypes.this.global.Symbol">sClass</a>, mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</a><span title="(elems: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol)*)scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#1001492" title="scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]">sClassMap</a>.<a href="../../../collection/mutable/MapLike.scala.html#87629" title="(key: SpecializeTypes.this.global.Symbol, op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getOrElseUpdate</a><span class="delimiter">(</span><a href="#1001489" title="SpecializeTypes.this.global.Symbol">tparam</a>,
      <a href="#1001489" title="SpecializeTypes.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#411420" title="(newOwner: SpecializeTypes.this.global.Symbol, newFlags: Long, newName: SpecializeTypes.this.global.Name)tparam.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1001490" title="SpecializeTypes.this.global.Symbol">sClass</a>, <a href="#1001489" title="SpecializeTypes.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a>, <a href="#1001489" title="SpecializeTypes.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; tparam.NameType">name</a> <a href="../../../reflect/internal/Names.scala.html#410425" title="(suffix: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Name with Name.this.ThisNameType">append</a> <a href="../../../reflect/internal/StdNames.scala.html#407863" title="SpecializeTypes.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413668" title="=&gt; SpecializeTypes.this.global.tpnme.NameType">SPECIALIZED_SUFFIX</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)tparam.TypeOfClonedSymbol">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1001539">info</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#424774" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#1001539" title="SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>
  <span class="delimiter">}</span>

  /** Cleans the anyrefSpecCache of all type parameter symbols of a class.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit" id="622105">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1001548">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="1001549">decls</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    // remove class type parameters and those of normalized members.
    <a href="#1001548" title="SpecializeTypes.this.global.Symbol">clazz</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#1001549" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Symbol =&gt; Option[scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]])Unit">foreach</a> <span class="delimiter">(</span><a href="#622042" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]]">anyrefSpecCache</a> <a href="../../../collection/mutable/HashMap.scala.html#88249" title="(key: SpecializeTypes.this.global.Symbol)Option[scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Symbol]]">remove</a> <a href="#1001579" title="SpecializeTypes.this.global.Symbol">_</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Type parameters that survive when specializing in the specified environment. */
  <span class="keyword">def</span> <a title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="622106">survivingParams</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="1001583">params</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="1001584">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> =
    <a href="#1001583" title="List[SpecializeTypes.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a> <span class="delimiter">{</span>
      <a title="SpecializeTypes.this.global.Symbol" id="1001590">p</a> =&gt;
      <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1001590" title="SpecializeTypes.this.global.Symbol">p</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
      <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1001584" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87536" title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#1001590" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
      <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409300" title="(tp: SpecializeTypes.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#1001590" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  /** Produces the symbols from type parameters `syms` of the original owner,
   *  in the given type environment `env`. The new owner is `nowner`.
   *
   *  Non-specialized type parameters are cloned into new ones.
   *  Type parameters specialized on AnyRef have preexisting symbols.
   *
   *  For instance, a @specialized(AnyRef) T, will become T$sp &lt;: AnyRef.
   */
  <span class="keyword">def</span> <a title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="622107">produceTypeParameters</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="1001608">syms</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="1001609">nowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1001610">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1001613">cloned</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1001630">s</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">syms</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1001610" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87536" title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#1001630" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1001630" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#411418" title="(newOwner: SpecializeTypes.this.global.Symbol)s.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1001609" title="SpecializeTypes.this.global.Symbol">nowner</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#1001630" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
    // log(&quot;producing type params: &quot; + cloned.map(t =&gt; (t, t.tpe.bounds.hi)))
    <a href="../../../reflect/internal/util/Collections.scala.html#406792" title="(xs1: List[SpecializeTypes.this.global.Symbol], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#1001608" title="List[SpecializeTypes.this.global.Symbol]">syms</a>, <a href="#1001613" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1001714">orig</a>, <a title="SpecializeTypes.this.global.Symbol" id="1001715">cln</a><span class="delimiter">)</span> =&gt;
      <a href="#1001715" title="SpecializeTypes.this.global.Symbol">cln</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#408617" title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409199" title="=&gt; SpecializeTypes.this.global.ClassSymbol">SpecializedClass</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1001610" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87536" title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#1001714" title="SpecializeTypes.this.global.Symbol">orig</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1001715" title="SpecializeTypes.this.global.Symbol">cln</a> <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)cln.type">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1001719">info</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#424774" title="(lo: SpecializeTypes.this.global.Type, hi: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#1001719" title="SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#1001613" title="List[SpecializeTypes.this.global.Symbol]">cloned</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1001737" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411371" title="(syms0: List[SpecializeTypes.this.global.Symbol], syms1: List[SpecializeTypes.this.global.Symbol])x$34.type">substInfo</a> <span class="delimiter">(</span><a href="#1001608" title="List[SpecializeTypes.this.global.Symbol]">syms</a>, <a href="#1001613" title="List[SpecializeTypes.this.global.Symbol]">cloned</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the specialized symbol (class (specialization) or member (normalization)), leaves everything else as-is.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="622108">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1001772">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="SpecializeTypes.this.global.Symbol" id="1001773">origsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1001774">specsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <a href="#1001772" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</a> <a href="#1001792" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1001795">sym</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1001796">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1001796" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1001795" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1001773" title="SpecializeTypes.this.global.Symbol">origsym</a> =&gt; <a href="#3360920" title="(x: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</a><a href="#1001795" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#622104" title="(tparam: SpecializeTypes.this.global.Symbol, sClass: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">typeParamSubAnyRef</a><span class="delimiter">(</span><a href="#1001795" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1001774" title="SpecializeTypes.this.global.Symbol">specsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> x =&gt; <a href="#3360920" title="(x: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>

  /** Maps AnyRef bindings from a raw environment (holding AnyRefs) into type parameters from
   *  the original class, leaves everything else as-is.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv" id="622109">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1001848">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="SpecializeTypes.this.global.Symbol" id="1001849">origcls</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <a href="#1001848" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.TypeEnv])SpecializeTypes.this.TypeEnv">map</a> <a href="#1001867" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1001870">sym</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1001871">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#1001871" title="SpecializeTypes.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; SpecializeTypes.this.global.AliasTypeSymbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1001870" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1001849" title="SpecializeTypes.this.global.Symbol">origcls</a> =&gt; <a href="#3360927" title="(x: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</a><a href="#1001870" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1001870" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> x =&gt; <a href="#3360927" title="(x: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">x</a>
  <span class="delimiter">}</span>

  /** Specialize 'clazz', in the environment `outerEnv`. The outer
   *  environment contains bindings for specialized types of enclosing
   *  classes.
   *
   *  A class C is specialized w.r.t to its own specialized type params
   *  `stps`, by specializing its members, and creating a new class for
   *  each combination of `stps`.
   */
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="622110">specializeClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1001923">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1001924">outerEnv</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol" id="1001926">specializedClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1001929">env0</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="1001930">normMembers</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      /** It gets hard to follow all the clazz and cls, and specializedClass
       *  was both already used for a map and mucho long.  So &quot;sClass&quot; is the
       *  specialized subclass of &quot;clazz&quot; throughout this file.
       */

      // SI-5545: Eliminate classes with the same name loaded from the bytecode already present - all we need to do is
      // to force .info on them, as their lazy type will be evaluated and the symbols will be eliminated. Unfortunately
      // evaluating the info after creating the specialized class will mess the specialized class signature, so we'd
      // better evaluate it before creating the new class symbol
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.TypeName" id="1001931">clazzName</a> = <a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1001929" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Names.scala.html#410448" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1001932">bytecodeClazz</a> = <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1001931" title="SpecializeTypes.this.global.TypeName">clazzName</a><span class="delimiter">)</span>
      // debuglog(&quot;Specializing &quot; + clazz + &quot;, but found &quot; + bytecodeClazz + &quot; already there&quot;)
      <a href="#1001932" title="SpecializeTypes.this.global.Symbol">bytecodeClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ClassSymbol" id="1001933">sClass</a> = <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411148" title="(name: SpecializeTypes.this.global.TypeName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.ClassSymbol">newClass</a><span class="delimiter">(</span><a href="#1001931" title="SpecializeTypes.this.global.TypeName">clazzName</a>, <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span title="Int(2048)">CASE</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol" id="1001934">cloneInSpecializedClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1001964">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="Long =&gt; Long" id="1001965">flagFn</a>: Long =&gt; Long, <a title="SpecializeTypes.this.global.Name" id="1001967">newName</a>: <a href="../../../reflect/internal/Names.scala.html#406868" title="SpecializeTypes.this.global.Name">Name</a> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =
        <a href="#1001964" title="SpecializeTypes.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411420" title="(newOwner: SpecializeTypes.this.global.Symbol, newFlags: Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="../../../Function1.scala.html#58642" title="(v1: Long)Long">flagFn</a><span class="delimiter">(</span><a href="#1001964" title="SpecializeTypes.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>, <a href="#1001967" title="SpecializeTypes.this.global.Name">newName</a><span class="delimiter">)</span>

      <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411486" title="(f: scala.reflect.io.AbstractFile)Unit">sourceFile</a> = <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411483" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a>
      <a href="../Global.scala.html#537672" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span> = <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411483" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a> // needed later on by mixin

      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1001935">env</a> = <a href="#622108" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#1001929" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span> = <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a>
      <a href="#44535" title="SpecializeTypes.this.type" class="keyword">this</a>.<a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), value: SpecializeTypes.this.global.Symbol)Unit">specializedClass</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</a><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1001929" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="1001936">decls1</a>                        = <a href="../../../reflect/internal/Scopes.scala.html#407757" title="=&gt; SpecializeTypes.this.global.Scope">newScope</a>  // declarations of the newly specialized class 'sClass'
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1001937">oldClassTParams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>       // original unspecialized type parameters
      <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1001938">newClassTParams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>       // unspecialized type parameters of 'specializedClass' (cloned)

      // has to be a val in order to be computed early. It is later called
      // within 'atPhase(next)', which would lead to an infinite cycle otherwise
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1001939">specializedInfoType</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <a href="#1001937" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a> = <a href="#622106" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <a href="#1001938" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> = <a href="#622107" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#1001937" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a> <a href="#622123" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#1002046" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        // log(&quot;new tparams &quot; + newClassTParams.zip(newClassTParams map {s =&gt; (s.tpe, s.tpe.bounds.hi)}) + &quot;, in env: &quot; + env)

        <span class="keyword">def</span> <a title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="1002010">applyContext</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1002077">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1002077" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408435" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1001937" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#1001938" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1002105" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

        /** Return a list of specialized parents to be re-mixed in a specialized subclass.
         *  Assuming env = [T -&gt; Int] and
         *    class Integral[@specialized T] extends Numeric[T]
         *  and Numeric[U] is specialized on U, this produces List(Numeric$mcI).
         *
         *  so that class Integral$mci extends Integral[Int] with Numeric$mcI.
         */
        <span class="keyword">def</span> <a title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]" id="1002011">specializedParents</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="1002134">parents</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Type]" id="1002135">res</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
          // log(specializedClass + &quot;: seeking specialized parents of class with parents: &quot; + parents.map(_.typeSymbol))
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1002156">p</a> &lt;- <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Type =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1002157">stp</a> = <a href="../Global.scala.html#537699" title="(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">afterSpecialize</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><span class="delimiter">(</span><a href="#1002156" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002157" title="SpecializeTypes.this.global.Type">stp</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1002156" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002156" title="SpecializeTypes.this.global.Type">p</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#1002135" title="List[SpecializeTypes.this.global.Type]">res</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::=</a> <a href="#1002157" title="SpecializeTypes.this.global.Type">stp</a>
              <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539423" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539684" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#1002156" title="SpecializeTypes.this.global.Type">p</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeSymbol</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; must be a trait. Specialized version of &quot;)" class="string">&quot; must be a trait. Specialized version of &quot;</span>
                  <span title="(x$1: Any)String">+</span> <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; will inherit generic &quot;)" class="string">&quot; will inherit generic &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1002156" title="SpecializeTypes.this.global.Type">p</a><span class="delimiter">)</span>  // TODO change to error
          <span class="delimiter">}</span>
          <a href="#1002135" title="List[SpecializeTypes.this.global.Type]">res</a>
        <span class="delimiter">}</span>

        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Type]" id="1002012">parents</a> = <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1002010" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">(</span><a href="../Global.scala.html#537732" title="(op: =&gt; SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">beforeTyper</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // log(&quot;!!! Parents: &quot; + parents + &quot;, sym: &quot; + parents.map(_.typeSymbol))
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002012" title="List[SpecializeTypes.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; SpecializeTypes.this.global.Type">head</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#1002012" title="List[SpecializeTypes.this.global.Type]">parents</a> = <a href="#1002012" title="List[SpecializeTypes.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; SpecializeTypes.this.global.Type">head</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; SpecializeTypes.this.global.Type">head</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1002012" title="List[SpecializeTypes.this.global.Type]">parents</a>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="1002013">extraSpecializedMixins</a> = <a href="#1002011" title="(parents: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">specializedParents</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <a href="#1002010" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002013" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;extra specialized mixins for %s: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; clazz.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a>, <a href="#1002013" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // If the class being specialized has a self-type, the self type may
        // require specialization.  First exclude classes whose self types have
        // the same type constructor as the class itself, since they will
        // already be covered.  Then apply the current context to the self-type
        // as with the parents and assign it to typeOfThis.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411426" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a>.<a href="../../../reflect/internal/Types.scala.html#408420" title="=&gt; SpecializeTypes.this.global.Type">typeConstructor</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411386" title="=&gt; SpecializeTypes.this.global.Type">typeConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411718" title="(tp: SpecializeTypes.this.global.Type)Unit">typeOfThis</a> = <a href="#1002010" title="(tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">applyContext</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411426" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span class="string">&quot;Rewriting self-type for specialized class:\n&quot;</span> <span title="String(&quot;Rewriting self-type for specialized class:\n    &quot;)">+</span>
              <span class="string">&quot;    &quot;</span> <span title="(x$1: Any)String">+</span>  <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411517" title="(info: SpecializeTypes.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411426" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; =&gt; &quot;)" class="string">&quot; =&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411517" title="(info: SpecializeTypes.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411426" title="=&gt; SpecializeTypes.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#426941" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">GenPolyType</a><span class="delimiter">(</span><a href="#1001938" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a>, <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#1002012" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">:::</a> <a href="#1002013" title="List[SpecializeTypes.this.global.Type]">extraSpecializedMixins</a>, <a href="#1001936" title="SpecializeTypes.this.global.Scope">decls1</a>, <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="../Global.scala.html#537699" title="(op: =&gt; SpecializeTypes.this.global.ClassSymbol)SpecializeTypes.this.global.ClassSymbol">afterSpecialize</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: SpecializeTypes.this.global.Type)sClass.type">setInfo</a> <a href="#1001939" title="SpecializeTypes.this.global.Type">specializedInfoType</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="1001940">fullEnv</a> = <a href="#1001924" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a>

      /** Enter 'sym' in the scope of the current specialized class. It's type is
       *  mapped through the active environment, binding type variables to concrete
       *  types. The existing typeEnv for `sym` is composed with the current active
       *  environment
       */
      <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="1001941">enterMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1002349">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1002349" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#1001940" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1002349" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> // append the full environment
        <a href="#1002349" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)sym.type">modifyInfo</a> <span class="delimiter">(</span><a href="#1002431" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408467" title="(from: SpecializeTypes.this.global.Symbol, to: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408435" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1001937" title="List[SpecializeTypes.this.global.Symbol]">oldClassTParams</a>, <a href="#1001938" title="List[SpecializeTypes.this.global.Symbol]">newClassTParams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1002459" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // we remove any default parameters. At this point, they have been all
        // resolved by the type checker. Later on, erasure re-typechecks everything and
        // chokes if it finds default parameters for specialized members, even though
        // they are never needed.
        <a href="../../../reflect/internal/Symbols.scala.html#407199" title="(sym: SpecializeTypes.this.global.Symbol)(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)List[List[SpecializeTypes.this.global.Symbol]]">mapParamss</a><span class="delimiter">(</span><a href="#1002349" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1002495" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)x$40.type">resetFlag</a> <span title="Long(33554432L)">DEFAULTPARAM</span><span class="delimiter">)</span>
        <a href="#1001936" title="SpecializeTypes.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a> <a href="#622123" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#1001940" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1002349" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Create and enter in scope an overridden symbol m1 for `m` that forwards
       *  to `om`. `om` is a fresh, special overload of m1 that is an implementation
       *  of `m`. For example, for a
       *
       *  class Foo[@specialized A] {
       *    def m(x: A) = &lt;body&gt; // m
       *  }
       *  , for class Foo$I extends Foo[Int], this method enters two new symbols in
       *  the scope of Foo$I:
       *
       *    def m(x: Int) = m$I(x) // m1
       *    def m$I(x: Int) = &lt;body&gt;/adapted to env {A -&gt; Int} // om
       */
      <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="1001942">forwardToOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1002511">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1002512">specMember</a> = <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1001934" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#1002511" title="SpecializeTypes.this.global.Symbol">m</a>, <a title="Long" id="1002516">f</a> =&gt; <span class="delimiter">(</span><a href="#1002516" title="Long">f</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(2)">OVERRIDE</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span class="delimiter">(</span>DEFERRED <span title="Int(16777232)">|</span> CASEACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1002513">om</a>         = <a href="#622114" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#1002511" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)SpecializeTypes.this.global.Symbol">setFlag</a><span class="delimiter">(</span><span title="Long(2L)">OVERRIDE</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1002514">original</a> = <a href="#622038" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<a href="../../../collection/mutable/HashMap.scala.html#88246" title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</a><span title="SpecializeTypes.this.global.Symbol" class="delimiter">(</span><a href="#1002511" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<a href="#3360932" title="SpecializeTypes.this.global.Symbol" id="3360934" class="delimiter">(</a>NormalizedMember<a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.SpecializedInfo" id="3360936" class="delimiter">(</a><a href="#1003943" title="SpecializeTypes.this.global.Symbol" id="1002539">tg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#3360938" title="(x: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">tg</a>
          <span class="keyword">case</span> _                          =&gt; <a href="#3360938" title="(x: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">m</a>
        <span class="delimiter">}</span>
        <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1002512" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1002513" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
        <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1002513" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>         = <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002514" title="SpecializeTypes.this.global.Symbol">original</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1002514" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1010287" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#1002514" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
        <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1002513" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>      = <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1002511" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> // add the environment for any method tparams

        <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#1002512" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</a> <a href="#1010264" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#1002513" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1002513" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1002513" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1002782">m</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">normMembers</a> ; <span class="keyword">if</span> <a href="#622099" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#1001924" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622129" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#1001940" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
          <a href="#622139" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        // specialized members have to be overridable.
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>
          <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)m.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1002794">specCtor</a> = <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1001934" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>, <a title="Long" id="1002796">x</a> =&gt; <a href="#1002796" title="Long">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1002794" title="SpecializeTypes.this.global.Symbol">specCtor</a><span class="delimiter">)</span> = <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#622100" title="(m: SpecializeTypes.this.global.Symbol)Boolean">isNormalizedMember</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  // methods added by normalization
          <span class="keyword">val</span> NormalizedMember<a href="#3360943" title="SpecializeTypes.this.global.Symbol" id="3360945" class="delimiter">(</a><a href="#1003943" title="SpecializeTypes.this.global.Symbol" id="1002824">original</a><span class="delimiter">)</span> = <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><a href="#622060" title="SpecializeTypes.this.SpecializedInfo @unchecked" class="delimiter">(</a><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#622128" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#998853" title="=&gt; Boolean">degenerate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;degenerate normalized member &quot;)" class="string">&quot;degenerate normalized member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1002954">specMember</a> = <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1001934" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#1002956" title="Long">_</a> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span><span class="delimiter">)</span>

              <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1002954" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>    = <a href="#1010287" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Implementation">Implementation</a><span class="delimiter">(</span><a href="#3360945" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1002954" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1003028">om</a> = <a href="#1001942" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;normalizedMember &quot;)" class="string">&quot;normalizedMember &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; om: &quot;)" class="string">&quot; om: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1003028" title="SpecializeTypes.this.global.Symbol">om</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#622112" title="(env: SpecializeTypes.this.TypeEnv)String">pp</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1003028" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;conflicting env for &quot;)" class="string">&quot;conflicting env for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; env: &quot;)" class="string">&quot; env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span> // abstract methods
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1003046">specMember</a> = <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1001934" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#1003048" title="Long">_</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(16)">DEFERRED</span><span class="delimiter">)</span><span class="delimiter">)</span>
          // debuglog(&quot;deferred &quot; + specMember.fullName + &quot; remains abstract&quot;)

          <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003046" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <span title="SpecializeTypes.this.Abstract" class="keyword">new</span> <a href="#1010279" title="SpecializeTypes.this.Abstract">Abstract</a><span class="delimiter">(</span><a href="#1003046" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          // was: new Forward(specMember) {
          //   override def target = m.owner.info.member(specializedName(m, env))
          // }
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409839" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span> // other concrete methods
          // log(&quot;other concrete &quot; + m)
          <a href="#1001942" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1001942" title="(m: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">forwardToOverload</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411209" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // concrete value definition
          <span class="keyword">def</span> <a title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol" id="1003058">mkAccessor</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1003061">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Name" id="1003062">name</a>: <a href="../../../reflect/internal/Names.scala.html#406868" title="SpecializeTypes.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Long" id="1003063">newFlags</a> = <span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411469" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span class="delimiter">(</span>LOCAL | CASEACCESSOR <span title="Int(554172416)">|</span> PARAMACCESSOR<span class="delimiter">)</span>
            // we rely on the super class to initialize param accessors
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="1003064">sym</a> = <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a>, <a href="#1003061" title="SpecializeTypes.this.global.Symbol">field</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#1003063" title="Long">newFlags</a><span class="delimiter">)</span>
            <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003064" title="SpecializeTypes.this.global.MethodSymbol">sym</a><span class="delimiter">)</span> = <a href="#1010283" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#1003061" title="SpecializeTypes.this.global.Symbol">field</a><span class="delimiter">)</span>
            <a href="#1003064" title="SpecializeTypes.this.global.MethodSymbol">sym</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)sym.TypeOfClonedSymbol" id="1003059">overrideIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1003099">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1003100">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Long" id="1003101">newFlags</a> = <span class="delimiter">(</span><a href="#1003100" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(2)">OVERRIDE</span> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span class="delimiter">(</span>DEFERRED | CASEACCESSOR <span title="Int(553648144)">|</span> PARAMACCESSOR<span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="sym.TypeOfClonedSymbol" id="1003102">sym1</a>     = <a href="#1003100" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411419" title="(newOwner: SpecializeTypes.this.global.Symbol, newFlags: Long)sym.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1003099" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1003101" title="Long">newFlags</a><span class="delimiter">)</span>
            <a href="#1003102" title="sym.TypeOfClonedSymbol">sym1</a> <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)sym1.type">modifyInfo</a> <span class="delimiter">(</span><a href="#1003157" title="SpecializeTypes.this.global.Type">_</a> <a href="../../../reflect/internal/Types.scala.html#408460" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a> <span class="delimiter">(</span><a href="#1003099" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1003102" title="sym.TypeOfClonedSymbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1003060">specVal</a> = <a href="#622114" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#1001935" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

          <a href="#622139" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>
          <a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="SpecializeTypes.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407149" title="SpecializeTypes.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../../../reflect/internal/Symbols.scala.html#411646" title="(alias: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>

          <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
          // create accessors
          // debuglog(&quot;m: &quot; + m + &quot; isLocal: &quot; + nme.isLocalName(m.name) + &quot; specVal: &quot; + specVal.name + &quot; isLocal: &quot; + nme.isLocalName(specVal.name))

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414048" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; m.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="1003176">specGetter</a> = <a href="#1003058" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414068" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">localToGetter</a><span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Names.scala.html#406832" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="sym.TypeOfClonedSymbol" id="1003177">origGetter</a> = <a href="#1003059" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)sym.TypeOfClonedSymbol">overrideIn</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411469" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003177" title="sym.TypeOfClonedSymbol">origGetter</a><span class="delimiter">)</span> = <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1003176" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003176" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a><span class="delimiter">)</span>
            <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003177" title="sym.TypeOfClonedSymbol">origGetter</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specialize accessor in %s: %s -&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411716" title="=&gt; SpecializeTypes.this.global.TypeName">name</a>.<a href="../../../reflect/internal/Names.scala.html#410475" title="=&gt; String">decode</a>, <a href="#1003177" title="sym.TypeOfClonedSymbol">origGetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; origGetter.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a>, <a href="#1003176" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#411609" title="=&gt; SpecializeTypes.this.global.TermName">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411428" title="=&gt; List[SpecializeTypes.this.global.Symbol]">caseFieldAccessors</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86381" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Option[SpecializeTypes.this.global.Symbol]">find</a><span class="delimiter">(</span><a href="#1003212" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$44.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410400" title="(prefix: SpecializeTypes.this.global.Name)Boolean">startsWith</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; m.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#62884" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="1003224">cfa</a> =&gt;
              <span class="keyword">val</span> <a title="cfa.TypeOfClonedSymbol" id="1003225">cfaGetter</a> = <a href="#1003059" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)sym.TypeOfClonedSymbol">overrideIn</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#1003224" title="SpecializeTypes.this.global.Symbol">cfa</a><span class="delimiter">)</span>
              <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003225" title="cfa.TypeOfClonedSymbol">cfaGetter</a><span class="delimiter">)</span> = <a href="#1010283" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedAccessor">SpecializedAccessor</a><span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a><span class="delimiter">)</span>
              <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003225" title="cfa.TypeOfClonedSymbol">cfaGetter</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;override case field accessor %s -&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; m.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a>, <a href="#1003225" title="cfa.TypeOfClonedSymbol">cfaGetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; cfaGetter.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#411211" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411471" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="1003256">specSetter</a> = <a href="#1003058" title="(field: SpecializeTypes.this.global.Symbol, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.MethodSymbol">mkAccessor</a><span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414067" title="(name: SpecializeTypes.this.global.TermName)SpecializeTypes.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#1003176" title="SpecializeTypes.this.global.MethodSymbol">specGetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#411609" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)SpecializeTypes.this.global.MethodSymbol">resetFlag</a><span class="delimiter">(</span><span title="Long(4194304L)">STABLE</span><span class="delimiter">)</span>
              <a href="#1003256" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: SpecializeTypes.this.global.Type)specSetter.type">setInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#1003256" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a>.<a href="../../../reflect/internal/Symbols.scala.html#411137" title="(argtypes: List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.TermSymbol]">newSyntheticValueParams</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                                            <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; SpecializeTypes.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="sym.TypeOfClonedSymbol" id="1003257">origSetter</a> = <a href="#1003059" title="(clazz: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol)sym.TypeOfClonedSymbol">overrideIn</a><span class="delimiter">(</span><a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>, <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411471" title="(base: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003257" title="sym.TypeOfClonedSymbol">origSetter</a><span class="delimiter">)</span> = <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1003256" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003256" title="SpecializeTypes.this.global.MethodSymbol">specSetter</a><span class="delimiter">)</span>
              <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003257" title="sym.TypeOfClonedSymbol">origSetter</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span> // if there are no accessors, specialized methods will need to access this field in specialized subclasses
            <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)m.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
            <a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)specVal.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;no accessors for %s/%s, specialized methods must access field in subclass&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
              <a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; m.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a>, <a href="#1003060" title="SpecializeTypes.this.global.Symbol">specVal</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; specVal.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1003293">specClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <a href="#1001934" title="(member: SpecializeTypes.this.global.Symbol, flagFn: Long =&gt; Long, newName: SpecializeTypes.this.global.Name)member.TypeOfClonedSymbol">cloneInSpecializedClass</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>, <a title="Long" id="1003295">x</a> =&gt; <a href="#1003295" title="Long">x</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1003293" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#1001940" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a>
          <a href="#1003293" title="SpecializeTypes.this.global.Symbol">specClass</a> <a href="../../../reflect/internal/Symbols.scala.html#411099" title="(name: SpecializeTypes.this.global.Name)specClass.type">setName</a> <a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1003293" title="SpecializeTypes.this.global.Symbol">specClass</a>, <a href="#1001940" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Names.scala.html#410448" title="=&gt; SpecializeTypes.this.global.TypeName">toTypeName</a>
          <a href="#1001941" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enterMember</a><span class="delimiter">(</span><a href="#1003293" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;entered specialized class &quot;)" class="string">&quot;entered specialized class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1003293" title="SpecializeTypes.this.global.Symbol">specClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003293" title="SpecializeTypes.this.global.Symbol">specClass</a><span class="delimiter">)</span> = <a href="#1010317" title="(target: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecializedInnerClass">SpecializedInnerClass</a><span class="delimiter">(</span><a href="#1002782" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#1001940" title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">fullEnv</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#1001933" title="SpecializeTypes.this.global.ClassSymbol">sClass</a>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1001927">decls1</a> = <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410521" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</a> <span class="delimiter">{</span> m: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> =&gt;
      <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003343" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411177" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: SpecializeTypes.this.global.Symbol*)List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1003343" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#622111" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">normalizeMember</a><span class="delimiter">(</span><a href="#1003343" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#1003343" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="#1001924" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">flatMap</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="1003374">normalizedMember</a> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1003375">ms</a> = <a href="#622113" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeMember</a><span class="delimiter">(</span><a href="#1003343" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>, <a href="#1003374" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>, <a href="#1001924" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          // interface traits have concrete members now
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003375" title="List[SpecializeTypes.this.global.Symbol]">ms</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409854" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span>
            <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(128L)">INTERFACE</span><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003374" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1003386">newTpe</a> = <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1001924" title="SpecializeTypes.this.TypeEnv">outerEnv</a>, <a href="#1003374" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
            // only do it when necessary, otherwise the method type might be at a later phase already
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003386" title="SpecializeTypes.this.global.Type">newTpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1003374" title="SpecializeTypes.this.global.Symbol">normalizedMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1003374" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="../../../reflect/internal/Symbols.scala.html#411374" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Symbol">updateInfo</a> <a href="#1003386" title="SpecializeTypes.this.global.Type">newTpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#1003374" title="SpecializeTypes.this.global.Symbol">normalizedMember</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#1003375" title="List[SpecializeTypes.this.global.Symbol]">ms</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="List[SpecializeTypes.this.TypeEnv]" id="1001928">subclasses</a> = <a href="#622098" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.TypeEnv =&gt; Boolean)List[SpecializeTypes.this.TypeEnv]">filter</a> <a href="#622129" title="(env: SpecializeTypes.this.TypeEnv)Boolean">satisfiable</a>
    <a href="#1001928" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</a> <span class="delimiter">{</span>
      <a title="SpecializeTypes.this.TypeEnv" id="1003497">env</a> =&gt;
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1003498">spc</a>      = <a href="#1001926" title="(env0: SpecializeTypes.this.TypeEnv, normMembers: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Symbol">specializedClass</a><span class="delimiter">(</span><a href="#1003497" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1001927" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1003499">existing</a> = <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1003498" title="SpecializeTypes.this.global.Symbol">spc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; spc.NameType">name</a><span class="delimiter">)</span>

      // a symbol for the specialized class already exists if there's a classfile for it.
      // keeping both crashes the compiler on test/files/pos/spec-Function1.scala
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003499" title="SpecializeTypes.this.global.Symbol">existing</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410516" title="(sym: SpecializeTypes.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#1003499" title="SpecializeTypes.this.global.Symbol">existing</a><span class="delimiter">)</span>

      <a href="../Global.scala.html#537699" title="(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">afterSpecialize</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">enter</a> <a href="#1003498" title="SpecializeTypes.this.global.Symbol">spc</a><span class="delimiter">)</span> //!!! assumes fully specialized classes
    <span class="delimiter">}</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1001928" title="List[SpecializeTypes.this.TypeEnv]">subclasses</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)clazz.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
    <a href="#622105" title="(clazz: SpecializeTypes.this.global.Symbol, decls: List[SpecializeTypes.this.global.Symbol])Unit">cleanAnyRefSpecCache</a><span class="delimiter">(</span><a href="#1001923" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1001927" title="List[SpecializeTypes.this.global.Symbol]">decls1</a><span class="delimiter">)</span>
    <a href="#1001927" title="List[SpecializeTypes.this.global.Symbol]">decls1</a>
  <span class="delimiter">}</span>

  /** Expand member `sym` to a set of normalized members. Normalized members
   *  are monomorphic or polymorphic only in non-specialized types.
   *
   *  Given method m[@specialized T, U](x: T, y: U) it returns
   *     m[T, U](x: T, y: U),
   *     m$I[ U](x: Int, y: U),
   *     m$D[ U](x: Double, y: U)
   *     // etc.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]" id="622111">normalizeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1003351">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1003352">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1003353">outerEnv</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <span class="delimiter">(</span>
      <span title="List[sym.TypeOfClonedSymbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../Global.scala.html#537732" title="(op: =&gt; Boolean)Boolean">beforeTyper</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        // debuglog(&quot;normalizeMember: &quot; + sym.fullNameAsName('.').decode)
        <span class="keyword">var</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1003529">specializingOn</a> = <a href="#622086" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedParams</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1003530">unusedStvars</a>   = <a href="#1003529" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</a> <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>

        // I think the last condition should be !sym.isArtifact, but that made the
        // compiler start warning about Tuple1.scala and Tuple2.scala claiming
        // their type parameters are used in non-specializable positions.  Why is
        // unusedStvars.nonEmpty for these classes???
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003530" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#537672" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539423" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409872" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539684" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>,
            <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s unused or used in non-specializable positions.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
              <a href="#1003530" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003530" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="String(&quot;are&quot;)" class="string">&quot;are&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#1003530" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1003571" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#408617" title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">removeAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#409199" title="=&gt; SpecializeTypes.this.global.ClassSymbol">SpecializedClass</a><span class="delimiter">)</span>
          <a href="#1003529" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> = <a href="#1003529" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filterNot</a> <span class="delimiter">(</span><a href="#1003530" title="List[SpecializeTypes.this.global.Symbol]">unusedStvars</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1003594">env0</a> &lt;- <a href="#622098" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><a href="../../../collection/generic/FilterMonadic.scala.html#58161" title="(f: SpecializeTypes.this.TypeEnv =&gt; sym.TypeOfClonedSymbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],sym.TypeOfClonedSymbol,List[sym.TypeOfClonedSymbol]])List[sym.TypeOfClonedSymbol]" class="delimiter">(</a><a href="#1003529" title="List[SpecializeTypes.this.global.Symbol]">specializingOn</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#622099" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">needsSpecialization</a><span class="delimiter">(</span><a href="#1003594" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          // !!! Can't this logic be structured so that the new symbol's name is
          // known when the symbol is cloned? It is much cleaner not to be mutating
          // names after the fact.  And it adds about a billion lines of
          // &quot;Renaming value _1 in class Tuple2 to _1$mcZ$sp&quot; to obscure the small
          // number of other (important) actual symbol renamings.
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1003595">tps</a>          = <a href="#622106" title="(params: List[SpecializeTypes.this.global.Symbol], env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">survivingParams</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#1003594" title="SpecializeTypes.this.TypeEnv">env0</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="sym.TypeOfClonedSymbol" id="1003596">specMember</a>   = <a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411419" title="(newOwner: SpecializeTypes.this.global.Symbol, newFlags: Long)sym.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1003351" title="SpecializeTypes.this.global.Symbol">owner</a>, <span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span>  // &lt;-- this needs newName = ...
          <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1003597">env</a>          = <a href="#622108" title="(env: SpecializeTypes.this.TypeEnv, origsym: SpecializeTypes.this.global.Symbol, specsym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInSpecSym</a><span class="delimiter">(</span><a href="#1003594" title="SpecializeTypes.this.TypeEnv">env0</a>, <a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#3360953" title="(x: (List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type]))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[SpecializeTypes.this.global.Symbol]" id="1003599">keys</a>, <a href="../../../Tuple2.scala.html#60637" title="List[SpecializeTypes.this.global.Type]" id="1003600">vals</a><span class="delimiter">)</span> = <a href="#1003597" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58476" title="(implicit asPair: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</a>

          <a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a> <a href="../../../reflect/internal/Symbols.scala.html#411099" title="(name: SpecializeTypes.this.global.Name)specMember.type">setName</a> <a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1003597" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>  // &lt;-- but the name is calculated based on the cloned symbol
          // debuglog(&quot;%s normalizes to %s%s&quot;.format(sym, specMember,
          //   if (tps.isEmpty) &quot;&quot; else &quot; with params &quot; + tps.mkString(&quot;, &quot;)))

          <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a><span class="delimiter">)</span> = <a href="#1003353" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1003597" title="SpecializeTypes.this.TypeEnv">env</a>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1003601">tps1</a> = <a href="#622107" title="(syms: List[SpecializeTypes.this.global.Symbol], nowner: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">produceTypeParameters</a><span class="delimiter">(</span><a href="#1003595" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a>, <a href="#1003597" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#1003601" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#1003757" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)x$48.type">modifyInfo</a> <span class="delimiter">(</span><a href="#1003760" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408435" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1003599" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#1003600" title="List[SpecializeTypes.this.global.Type]">vals</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          // the cloneInfo is necessary so that method parameter symbols are cloned at the new owner
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1003602">methodType</a> = <a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; SpecializeTypes.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#408435" title="(formals: List[SpecializeTypes.this.global.Symbol], actuals: List[SpecializeTypes.this.global.Type])SpecializeTypes.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1003599" title="List[SpecializeTypes.this.global.Symbol]">keys</a> <a href="../../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</a> <a href="#1003595" title="List[SpecializeTypes.this.global.Symbol]">tps</a>, <a href="#1003600" title="List[SpecializeTypes.this.global.Type]">vals</a> <a href="../../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">++</a> <a href="#1003601" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</a><a href="#1003864" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408493" title="(owner: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a><span class="delimiter">)</span>
          <a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: SpecializeTypes.this.global.Type)specMember.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#426941" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">GenPolyType</a><span class="delimiter">(</span><a href="#1003601" title="List[SpecializeTypes.this.global.Symbol]">tps1</a>, <a href="#1003602" title="SpecializeTypes.this.global.Type">methodType</a><span class="delimiter">)</span>

          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s expands to %s in %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; specMember.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a>, <a href="#622112" title="(env: SpecializeTypes.this.TypeEnv)String">pp</a><span class="delimiter">(</span><a href="#1003597" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a><span class="delimiter">)</span> = <a href="#1010321" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.NormalizedMember">NormalizedMember</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#1003352" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</a> <a href="#1010264" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a>, <a href="#1003597" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#1003351" title="SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: sym.TypeOfClonedSymbol)sym.TypeOfClonedSymbol">enter</a><span class="delimiter">(</span><a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a><span class="delimiter">)</span>
          <a href="#1003596" title="sym.TypeOfClonedSymbol">specMember</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // concise printing of type env
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)String" id="622112">pp</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1003029">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#1003029" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</a>.<a href="../../../collection/SeqLike.scala.html#58869" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; x$52._1.NameType forSome { val x$52: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) })(implicit ord: scala.math.Ordering[x$52._1.NameType forSome { val x$52: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) }])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">sortBy</a><a href="../../../reflect/internal/SymbolTable.scala.html#406635" title="Ordering[x$52._1.NameType forSome { val x$52: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type) }]" class="delimiter">(</a><a href="#1004062" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)">_</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; SpecializeTypes.this.global.Symbol">_1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$52._1.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)],String,List[String]])List[String]">map</a> <a href="#1004101" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1004104">k</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1004105">v</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1004106">vsym</a> = <a href="#1004105" title="SpecializeTypes.this.global.Type">v</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004104" title="SpecializeTypes.this.global.Symbol">k</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1004106" title="SpecializeTypes.this.global.Symbol">vsym</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004104" title="SpecializeTypes.this.global.Symbol">k</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; k.NameType">name</a>
        <span class="keyword">else</span> <a href="#1004104" title="SpecializeTypes.this.global.Symbol">k</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004106" title="SpecializeTypes.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; vsym.NameType">name</a>

    <span class="delimiter">}</span> <a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="String(&quot;env(&quot;)" class="string">&quot;env(&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Specialize member `m` w.r.t. to the outer environment and the type
   *  parameters of the innermost enclosing class.
   *
   *  Turns 'private' into 'protected' for members that need specialization.
   *
   *  Return a list of symbols that are specializations of 'sym', owned by 'owner'.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv, tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="622113">specializeMember</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1003376">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1003377">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1003378">outerEnv</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="1003379">tps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="1004158">specializeOn</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Symbol]" id="1004159">tparams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#622098" title="(tps: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.TypeEnv]">specializations</a><span class="delimiter">(</span><a href="#1004159" title="List[SpecializeTypes.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.TypeEnv =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.TypeEnv],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.TypeEnv" id="1004179">spec0</a> =&gt;
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1004180">spec</a> = <a href="#622109" title="(env: SpecializeTypes.this.TypeEnv, origcls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">mapAnyRefsInOrigCls</a><span class="delimiter">(</span><a href="#1004179" title="SpecializeTypes.this.TypeEnv">spec0</a>, <a href="#1003376" title="SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Set %s to private[%s]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411447" title="=&gt; SpecializeTypes.this.global.Symbol">enclosingPackage</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1004181">specMember</a> = <a href="#622123" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><span class="delimiter">(</span><a href="#1003378" title="SpecializeTypes.this.TypeEnv">outerEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#622114" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#1003376" title="SpecializeTypes.this.global.Symbol">owner</a>, <a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1004180" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1003378" title="SpecializeTypes.this.TypeEnv">outerEnv</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1004180" title="SpecializeTypes.this.TypeEnv">spec</a>
      <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: Set[SpecializeTypes.this.global.Symbol])Unit">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#66445" title="(elems: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">++=</a> <a href="#1004180" title="SpecializeTypes.this.TypeEnv">spec</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Symbol,scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]])scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type),SpecializeTypes.this.global.Symbol] with Serializable" id="1004448" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1004453">s</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1004454">tp</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1004453" title="SpecializeTypes.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1004454" title="SpecializeTypes.this.global.Type">tp</a> =&gt; <a href="#3360965" title="(x: B1)B1">s</a> <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Set[SpecializeTypes.this.global.Symbol]" id="1004182">wasSpec</a> = <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)Set[SpecializeTypes.this.global.Symbol]">wasSpecializedForTypeVars</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004182" title="Set[SpecializeTypes.this.global.Symbol]">wasSpec</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specialized overload for %s in %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#622112" title="(env: SpecializeTypes.this.TypeEnv)String">pp</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</a> <a href="#1010264" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="#1004180" title="SpecializeTypes.this.TypeEnv">spec</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span> = <a href="#1010268" title="(original: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.SpecialOverload">SpecialOverload</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#1004181" title="SpecializeTypes.this.global.Symbol">specMember</a>
    <span class="delimiter">}</span>

    <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="1004676">stvars</a> = <a href="#622102" title="(sym: SpecializeTypes.this.global.Symbol)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004676" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specialized %s on %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#1004676" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<a href="../../../collection/SetLike.scala.html#66437" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol#NameType)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol#NameType,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol#NameType]])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol#NameType]">map</a><a href="../../../collection/immutable/Set.scala.html#60805" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,SpecializeTypes.this.global.Symbol#NameType,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol#NameType]]" class="delimiter">(</a><a href="#1004708" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$53.NameType">name</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1004677">tps1</a> = <span title="List[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#1003379" title="List[SpecializeTypes.this.global.Symbol]">tps</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="#1004744" title="SpecializeTypes.this.global.Symbol">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1003379" title="List[SpecializeTypes.this.global.Symbol]">tps</a>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1004678">tps2</a> = <a href="#1004677" title="List[SpecializeTypes.this.global.Symbol]">tps1</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a> <a href="#1004676" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <a href="#622139" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#1003377" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <a href="#1004158" title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">specializeOn</a><span class="delimiter">(</span><a href="#1004678" title="List[SpecializeTypes.this.global.Symbol]">tps2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
  <span class="delimiter">}</span>

  /** Return the specialized overload of `m`, in the given environment. */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol" id="622114">specializedOverload</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1002532">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1002533">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1002534">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="1004748">newFlags</a> = <span class="delimiter">(</span><a href="#1002533" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span class="delimiter">(</span>DEFERRED <span title="Int(16777232)">|</span> CASEACCESSOR<span class="delimiter">)</span>
    // this method properly duplicates the symbol's info
    <span class="delimiter">(</span> <a href="#1002533" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411420" title="(newOwner: SpecializeTypes.this.global.Symbol, newFlags: Long, newName: SpecializeTypes.this.global.Name)sym.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1002532" title="SpecializeTypes.this.global.Symbol">owner</a>, <a href="#1004748" title="Long">newFlags</a>, newName = <a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1002533" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="#1002534" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)sym.TypeOfClonedSymbol">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1004798">info</a> =&gt; <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002534" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004798" title="SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408460" title="(pre: SpecializeTypes.this.global.Type, clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1002532" title="SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, <a href="#1002533" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** For each method m that overrides an inherited method m', add a special
   *  overload method `om` that overrides the corresponding overload in the
   *  superclass. For the following example:
   *
   *  class IntFun extends Function1[Int, Int] {
   *    def apply(x: Int): Int = ..
   *  }
   *
   *  this method will return List('apply$mcII$sp')
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]" id="622115">specialOverrides</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1004815">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#406632" title="[T](msg: =&gt; String, cond: T =&gt; Boolean)(result: T)T">logResultIf</a><span title="(msg: =&gt; String, cond: List[SpecializeTypes.this.global.Symbol] =&gt; Boolean)(result: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="String(&quot;specialized overrides in &quot;)" class="string">&quot;specialized overrides in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004815" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1004822" title="List[SpecializeTypes.this.global.Symbol]">_</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /** Return the overridden symbol in syms that needs a specialized overriding symbol,
     *  together with its specialization environment. The overridden symbol may not be
     *  the closest to 'overriding', in a given hierarchy.
     *
     *  An method m needs a special override if
     *    * m overrides a method whose type contains specialized type variables
     *    * there is a valid specialization environment that maps the overridden method type to m's type.
     */
    <span class="keyword">def</span> <a title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" id="1004823">needsSpecialOverride</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1004824">overriding</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#783" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</a>Symbol, TypeEnv<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(overridden: SpecializeTypes.this.global.Symbol)Unit" id="1004825">checkOverriddenTParams</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1004826">overridden</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/util/Collections.scala.html#406792" title="(xs1: List[SpecializeTypes.this.global.Symbol], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#1004826" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#1004824" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1004846">baseTvar</a>, <a title="SpecializeTypes.this.global.Symbol" id="1004847">derivedTvar</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]" id="1004848">missing</a> = <a href="#622097" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#1004846" title="SpecializeTypes.this.global.Symbol">baseTvar</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</a> <a href="../../../collection/generic/Subtractable.scala.html#66460" title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Type])scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">--</a> <a href="#622097" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Type]">concreteTypes</a><span class="delimiter">(</span><a href="#1004847" title="SpecializeTypes.this.global.Symbol">derivedTvar</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">toSet</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004848" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539685" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1004847" title="SpecializeTypes.this.global.Symbol">derivedTvar</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>,
              <span class="string">&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing &quot;</span>
              <span title="String(&quot;Type parameter has to be specialized at least for the same types as in the overridden method. Missing types: &quot;)">+</span> <span class="string">&quot;types: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004848" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Type]">missing</a>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1004824" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409862" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1004889">overridden</a> &lt;- <a href="#1004824" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">allOverriddenSymbols</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="1004890">stvars</a> = <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004890" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specialized override of %s by %s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#1004824" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>,
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004890" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<a href="../../../collection/SetLike.scala.html#66447" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#1004890" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a>.<a href="../../../collection/SetLike.scala.html#66437" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol#NameType)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol#NameType,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol#NameType]])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol#NameType]">map</a><a href="../../../collection/immutable/Set.scala.html#60805" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set.Coll,SpecializeTypes.this.global.Symbol#NameType,scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol#NameType]]" class="delimiter">(</a><a href="#1004922" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$56.NameType">name</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a> <a href="../Global.scala.html#539423" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a> <a href="#1004824" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
              <a href="#1004825" title="(overridden: SpecializeTypes.this.global.Symbol)Unit">checkOverriddenTParams</a><span class="delimiter">(</span><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1004897">env</a>    = <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#1004824" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>, <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Symbol" id="1004898">atNext</a> = <a href="../Global.scala.html#537699" title="(op: =&gt; SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">afterSpecialize</a><span class="delimiter">(</span><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#1004897" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#622051" title="SpecializeTypes.this.TypeEnv.type">TypeEnv</a>.<a href="#998949" title="(env: SpecializeTypes.this.TypeEnv, tps: scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.TypeEnv">restrict</a><span class="delimiter">(</span><a href="#1004897" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004890" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">stvars</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622051" title="SpecializeTypes.this.TypeEnv.type">TypeEnv</a>.<a href="#998950" title="(env: SpecializeTypes.this.TypeEnv, sym: SpecializeTypes.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#1004897" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1004898" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#622112" title="(env: SpecializeTypes.this.TypeEnv)String">pp</a><span class="delimiter">(</span><a href="#1004897" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; found &quot;)" class="string">&quot; found &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004898" title="=&gt; SpecializeTypes.this.global.Symbol">atNext</a><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</a><a href="#1004889" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#1004897" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.NoSymbol, _2: SpecializeTypes.this.TypeEnv)(SpecializeTypes.this.global.NoSymbol, SpecializeTypes.this.TypeEnv)" class="delimiter">(</a><a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a>, <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#1004815" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: SpecializeTypes.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,Iterable[SpecializeTypes.this.global.Symbol]])Iterable[SpecializeTypes.this.global.Symbol]">flatMap</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="1005016">overriding</a> =&gt;
      <a href="#1004823" title="(overriding: SpecializeTypes.this.global.Symbol)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)">needsSpecialOverride</a><a href="#3360987" title="Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="3360992">NoSymbol</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.TypeEnv" id="3360989">_</a><span class="delimiter">)</span>     =&gt; <a href="#3360995" title="(x: Iterable[SpecializeTypes.this.global.Symbol])Iterable[SpecializeTypes.this.global.Symbol]">None</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1005026">overridden</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.TypeEnv" id="1005027">env</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1005028">om</a> = <a href="#622114" title="(owner: SpecializeTypes.this.global.Symbol, sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.Symbol">specializedOverload</a><span class="delimiter">(</span><a href="#1004815" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1005026" title="SpecializeTypes.this.global.Symbol">overridden</a>, <a href="#1005027" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specialized overload %s for %s in %s: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; overriding.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a>, <a href="#622112" title="(env: SpecializeTypes.this.TypeEnv)String">pp</a><span class="delimiter">(</span><a href="#1005027" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>, <a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#1005027" title="SpecializeTypes.this.TypeEnv">env</a>
          <a href="#622139" title="(m: SpecializeTypes.this.global.Symbol)Unit">addConcreteSpecMethod</a><span class="delimiter">(</span><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
            <span title="SpecializeTypes.this.SpecializedInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>    // abstract override
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;abstract override &quot;)" class="string">&quot;abstract override &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with specialized &quot;)" class="string">&quot; with specialized &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              // if the override is a normalized member, 'om' gets the
              // implementation from its original target, and adds the
              // environment of the normalized member (that is, any
              // specialized /method/ type parameter bindings)
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1005041">impl</a> = <a href="#622038" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a> <a href="../../../collection/mutable/HashMap.scala.html#88246" title="(key: SpecializeTypes.this.global.Symbol)Option[SpecializeTypes.this.SpecializedInfo]">get</a> <a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> Some<a href="#3360976" title="SpecializeTypes.this.global.Symbol" id="3360978" class="delimiter">(</a>NormalizedMember<a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.SpecializedInfo" id="3360980" class="delimiter">(</a><a href="#1003943" title="SpecializeTypes.this.global.Symbol" id="1005043">target</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.TypeEnv)Unit">typeEnv</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span> = <a href="#1005027" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span>
                  <a href="#1005043" title="SpecializeTypes.this.global.Symbol">target</a>
                <span class="keyword">case</span> _ =&gt;
                  <a href="#3360982" title="(x: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">overriding</a>
              <span class="delimiter">}</span>
              <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.SpecializedInfo)Unit">info</a><span class="delimiter">(</span><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> = <a href="#1010272" title="(t: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.Forward">Forward</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: SpecializeTypes.this.global.Position)om.type">setPos</a> <a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <a href="#1010291" title="(target: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecialOverride">SpecialOverride</a><span class="delimiter">(</span><a href="#1005041" title="SpecializeTypes.this.global.Symbol">impl</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
          <a href="../../../collection/mutable/MapLike.scala.html#87611" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.Overload])Unit">overloads</a><span class="delimiter">(</span><a href="#1005016" title="SpecializeTypes.this.global.Symbol">overriding</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.Overload)List[SpecializeTypes.this.Overload]">::=</a> <a href="#1010264" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.Overload">Overload</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a>, <a href="#1005027" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537502" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../Global.scala.html#537699" title="(op: =&gt; Unit)Unit">afterSpecialize</a><span class="delimiter">(</span><a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span>
            <a href="#1005026" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; om.NameType">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a>,
            <span title="String(&quot;Could not find &quot;)" class="string">&quot;Could not find &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; om.NameType">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005026" title="SpecializeTypes.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="../../../Option.scala.html#63128" title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</a><a href="../../../Option.scala.html#97396" title="(xo: Option[SpecializeTypes.this.global.Symbol])Iterable[SpecializeTypes.this.global.Symbol]" class="delimiter">(</a><a href="#1005028" title="SpecializeTypes.this.global.Symbol">om</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a>
  <span class="delimiter">}</span>

  case <span class="keyword">object</span> <a href="#1005229" title="SpecializeTypes.this.UnifyError.type" id="1005236">UnifyError</a> <a href="../../../Product.scala.html#186" title="Product" class="keyword">extends</a> scala.util.control.<a href="../../../util/control/ControlThrowable.scala.html#52278" title="scala.util.control.ControlThrowable">ControlThrowable</a>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tp1: Any, tp2: Any)Nothing" id="622118">unifyError</a><span class="delimiter">(</span><a title="Any" id="1005237">tp1</a>: <span title="Any">Any</span>, <a title="Any" id="1005238">tp2</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Nothing">Nothing</span> = <span class="delimiter">{</span>
    <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unifyError&quot;)" class="string">&quot;unifyError&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: Any, _2: Any)(Any, Any)" class="delimiter">(</a><a href="#1005237" title="Any">tp1</a>, <a href="#1005238" title="Any">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Nothing" class="keyword">throw</span> <a href="#1005236" title="SpecializeTypes.this.UnifyError.type">UnifyError</a>
  <span class="delimiter">}</span>

  /** Return the most general type environment that specializes tp1 to tp2.
   *  It only allows binding of type parameters annotated with @specialized.
   *  Fails if such an environment cannot be found.
   *
   *  If `strict` is true, a UnifyError is thrown if unification is impossible.
   *
   *  If `tparams` is true, then the methods tries to unify over type params in polytypes as well.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv" id="622119">unify</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1004964">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="1004965">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="1004966">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="Boolean" id="1004967">strict</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="Boolean" id="1004970">tparams</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.Type, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" class="delimiter">(</a><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>TypeRef<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361015" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="3361012">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1005257">sym1</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="3361013">_</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361011">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1005257" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a> =&gt;
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify &quot;)" class="string">&quot;Unify &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#622050" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1005257" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/Map.scala.html#62533" title="(kv: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">+</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</a><a href="#1005257" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#622050" title="(tp: SpecializeTypes.this.global.Type, sym: SpecializeTypes.this.global.Symbol)Boolean">isSpecializedAnyRefSubtype</a><span class="delimiter">(</span><a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1005257" title="SpecializeTypes.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/Map.scala.html#62533" title="(kv: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">+</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: SpecializeTypes.this.global.Symbol, _2: SpecializeTypes.this.global.Type)(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">(</a><a href="#1005257" title="SpecializeTypes.this.global.Symbol">sym1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span> // env + ((sym1, AnyRefClass.tpe))
      <span class="keyword">else</span> <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
        <a href="#622118" title="(tp1: Any, tp2: Any)Nothing">unifyError</a><span class="delimiter">(</span><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span class="delimiter">(</span>TypeRef<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361020" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="3361018">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1005341">sym1</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="1005342">args1</a><span class="delimiter">)</span>, TypeRef<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361023" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="3361021">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1005346">sym2</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="1005347">args2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1005342" title="List[SpecializeTypes.this.global.Type]">args1</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1005347" title="List[SpecializeTypes.this.global.Type]">args2</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify types &quot;)" class="string">&quot;Unify types &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004967" title="Boolean">strict</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1005342" title="List[SpecializeTypes.this.global.Type]">args1</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1005347" title="List[SpecializeTypes.this.global.Type]">args2</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#622118" title="(tp1: Any, tp2: Any)Nothing">unifyError</a><span class="delimiter">(</span><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1005348">e</a> = <a href="#622120" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1005342" title="List[SpecializeTypes.this.global.Type]">args1</a>, <a href="#1005347" title="List[SpecializeTypes.this.global.Type]">args2</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1005348" title="SpecializeTypes.this.TypeEnv">e</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;unified to: &quot;)" class="string">&quot;unified to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005348" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
      <a href="#1005348" title="SpecializeTypes.this.TypeEnv">e</a>
    <span class="keyword">case</span> <span class="delimiter">(</span>TypeRef<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361029" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="3361026">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1005365">sym1</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="3361027">_</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361025">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1005365" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a> =&gt;
      <a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span class="delimiter">(</span>MethodType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361033" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[SpecializeTypes.this.global.Symbol]" id="1005370">params1</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="SpecializeTypes.this.global.Type" id="1005371">res1</a><span class="delimiter">)</span>, MethodType<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361035" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[SpecializeTypes.this.global.Symbol]" id="1005374">params2</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="SpecializeTypes.this.global.Type" id="1005375">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004967" title="Boolean">strict</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1005370" title="List[SpecializeTypes.this.global.Symbol]">params1</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1005374" title="List[SpecializeTypes.this.global.Symbol]">params2</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#622118" title="(tp1: Any, tp2: Any)Nothing">unifyError</a><span class="delimiter">(</span><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify methods &quot;)" class="string">&quot;Unify methods &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <a href="#622120" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1005371" title="SpecializeTypes.this.global.Type">res1</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#1005370" title="List[SpecializeTypes.this.global.Symbol]">params1</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1005404" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1005375" title="SpecializeTypes.this.global.Type">res2</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#1005374" title="List[SpecializeTypes.this.global.Symbol]">params2</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1005455" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>PolyType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361039" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[SpecializeTypes.this.global.Symbol]" id="1005491">tparams1</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="SpecializeTypes.this.global.Type" id="1005492">res1</a><span class="delimiter">)</span>, PolyType<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361041" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[SpecializeTypes.this.global.Symbol]" id="1005495">tparams2</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="SpecializeTypes.this.global.Type" id="1005496">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Unify polytypes &quot;)" class="string">&quot;Unify polytypes &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004967" title="Boolean">strict</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1005491" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1005495" title="List[SpecializeTypes.this.global.Symbol]">tparams2</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <a href="#622118" title="(tp1: Any, tp2: Any)Nothing">unifyError</a><span class="delimiter">(</span><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004970" title="Boolean">tparams</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1005491" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1005495" title="List[SpecializeTypes.this.global.Symbol]">tparams2</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <a href="#622120" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1005492" title="SpecializeTypes.this.global.Type">res1</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1005491" title="List[SpecializeTypes.this.global.Symbol]">tparams1</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</a><a href="#1005530" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#1005496" title="SpecializeTypes.this.global.Type">res2</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">::</a> <a href="#1005495" title="List[SpecializeTypes.this.global.Symbol]">tparams2</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]]" class="delimiter">(</a><a href="#1005579" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1005492" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#1005496" title="SpecializeTypes.this.global.Type">res2</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>PolyType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361045" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[SpecializeTypes.this.global.Symbol]" id="3361043">_</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="SpecializeTypes.this.global.Type" id="1005623">res</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1005624">other</a><span class="delimiter">)</span>                    =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1005623" title="SpecializeTypes.this.global.Type">res</a>, <a href="#1005624" title="SpecializeTypes.this.global.Type">other</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>ThisType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361050" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="SpecializeTypes.this.global.Symbol" id="3361048">_</a><span class="delimiter">)</span>, ThisType<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361053" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="SpecializeTypes.this.global.Symbol" id="3361051">_</a><span class="delimiter">)</span><span class="delimiter">)</span>                   =&gt; <a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361054">_</a>, SingleType<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361059" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410991" title="SpecializeTypes.this.global.Type" id="3361056">_</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="SpecializeTypes.this.global.Symbol" id="3361057">_</a><span class="delimiter">)</span><span class="delimiter">)</span>                        =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#408410" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>SingleType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361065" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410991" title="SpecializeTypes.this.global.Type" id="3361062">_</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="SpecializeTypes.this.global.Symbol" id="3361063">_</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361061">_</a><span class="delimiter">)</span>                        =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#408410" title="=&gt; SpecializeTypes.this.global.Type">underlying</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>ThisType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361070" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="SpecializeTypes.this.global.Symbol" id="3361068">_</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361067">_</a><span class="delimiter">)</span>                             =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361071">_</a>, ThisType<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361075" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="SpecializeTypes.this.global.Symbol" id="3361073">_</a><span class="delimiter">)</span><span class="delimiter">)</span>                             =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; SpecializeTypes.this.global.Type">widen</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>RefinedType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361081" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[SpecializeTypes.this.global.Type]" id="3361078">_</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="SpecializeTypes.this.global.Scope" id="3361079">_</a><span class="delimiter">)</span>, RefinedType<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361085" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[SpecializeTypes.this.global.Type]" id="3361082">_</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="SpecializeTypes.this.global.Scope" id="3361083">_</a><span class="delimiter">)</span><span class="delimiter">)</span>       =&gt; <a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">case</span> <span class="delimiter">(</span>AnnotatedType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361090" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410660" title="List[SpecializeTypes.this.global.AnnotationInfo]" id="3361087">_</a>, <a href="../../../reflect/internal/Types.scala.html#410662" title="SpecializeTypes.this.global.Type" id="1005684">tp1</a>, <a href="../../../reflect/internal/Types.scala.html#410664" title="SpecializeTypes.this.global.Symbol" id="3361088">_</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1005685">tp2</a><span class="delimiter">)</span>              =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1005685" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1005684" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>ExistentialType<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361095" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[SpecializeTypes.this.global.Symbol]" id="3361093">_</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="SpecializeTypes.this.global.Type" id="1005696">res1</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361092">_</a><span class="delimiter">)</span>                =&gt; <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1005696" title="SpecializeTypes.this.global.Type">res1</a>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>TypeBounds<a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Type" id="3361099" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410582" title="SpecializeTypes.this.global.Type" id="1005707">lo1</a>, <a href="../../../reflect/internal/Types.scala.html#410584" title="SpecializeTypes.this.global.Type" id="1005708">hi1</a><span class="delimiter">)</span>, TypeBounds<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="3361101" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410582" title="SpecializeTypes.this.global.Type" id="1005711">lo2</a>, <a href="../../../reflect/internal/Types.scala.html#410584" title="SpecializeTypes.this.global.Type" id="1005712">hi2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#622120" title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv">unify</a><a href="#3361103" title="(x: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1005707" title="SpecializeTypes.this.global.Type">lo1</a>, <a href="#1005708" title="SpecializeTypes.this.global.Type">hi1</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: SpecializeTypes.this.global.Type*)List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1005711" title="SpecializeTypes.this.global.Type">lo2</a>, <a href="#1005712" title="SpecializeTypes.this.global.Type">hi2</a><span class="delimiter">)</span>, <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004967" title="Boolean">strict</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt;
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;don't know how to unify %s [%s] with %s [%s]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>, <a href="#1004964" title="SpecializeTypes.this.global.Type">tp1</a>.<span title="()Class[_]">getClass</span>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>, <a href="#1004965" title="SpecializeTypes.this.global.Type">tp2</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#1004966" title="SpecializeTypes.this.TypeEnv">env</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: List[SpecializeTypes.this.global.Type], tp2: List[SpecializeTypes.this.global.Type], env: SpecializeTypes.this.TypeEnv, strict: Boolean)SpecializeTypes.this.TypeEnv" id="622120">unify</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Type]" id="1004959">tp1</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="1004960">tp2</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="SpecializeTypes.this.TypeEnv" id="1004961">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="Boolean" id="1004962">strict</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#1004959" title="List[SpecializeTypes.this.global.Type]">tp1</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1004960" title="List[SpecializeTypes.this.global.Type]">tp2</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1004961" title="SpecializeTypes.this.TypeEnv">env</a>
    <span class="keyword">else</span> <span class="delimiter">(</span><a href="#1004959" title="List[SpecializeTypes.this.global.Type]">tp1</a> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type),List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]])List[(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)]">zip</a> <a href="#1004960" title="List[SpecializeTypes.this.global.Type]">tp2</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#86382" title="(z: SpecializeTypes.this.TypeEnv)(f: (SpecializeTypes.this.TypeEnv, (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)) =&gt; SpecializeTypes.this.TypeEnv)SpecializeTypes.this.TypeEnv">foldLeft</a><span class="delimiter">(</span><a href="#1004961" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1005805">env</a>, <a title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)" id="1005806">args</a><span class="delimiter">)</span> =&gt;
      <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1004962" title="Boolean">strict</a><span class="delimiter">)</span> <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1005806" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; SpecializeTypes.this.global.Type">_1</a>, <a href="#1005806" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<a href="../../../Tuple2.scala.html#60637" title="=&gt; SpecializeTypes.this.global.Type">_2</a>, <a href="#1005805" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1004962" title="Boolean">strict</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1005813">nenv</a> = <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1005806" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; SpecializeTypes.this.global.Type">_1</a>, <a href="#1005806" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<a href="../../../Tuple2.scala.html#60637" title="=&gt; SpecializeTypes.this.global.Type">_2</a>, <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <a href="#1004962" title="Boolean">strict</a><span class="delimiter">)</span>
        <span title="SpecializeTypes.this.TypeEnv" class="keyword">if</span> <span class="delimiter">(</span><a href="#1005805" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a> <a href="../../../collection/GenSetLike.scala.html#66404" title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">intersect</a> <a href="#1005813" title="SpecializeTypes.this.TypeEnv">nenv</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a> <a href="../../../collection/SetLike.scala.html#66447" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1005805" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1005813" title="SpecializeTypes.this.TypeEnv">nenv</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;could not unify: u(&quot;)" class="string">&quot;could not unify: u(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005806" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; SpecializeTypes.this.global.Type">_1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005806" title="(SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Type)">args</a>.<a href="../../../Tuple2.scala.html#60637" title="=&gt; SpecializeTypes.this.global.Type">_2</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;) yields &quot;)" class="string">&quot;) yields &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005813" title="SpecializeTypes.this.TypeEnv">nenv</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, env: &quot;)" class="string">&quot;, env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1005805" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <a href="#622118" title="(tp1: Any, tp2: Any)Nothing">unifyError</a><span class="delimiter">(</span><a href="#1004959" title="List[SpecializeTypes.this.global.Type]">tp1</a>, <a href="#1004960" title="List[SpecializeTypes.this.global.Type]">tp2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Apply type bindings in the given environment `env` to all declarations.  */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, decls: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]" id="622121">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1002042">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="1002043">decls</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
    <a href="#1002043" title="List[SpecializeTypes.this.global.Symbol]">decls</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a> <a href="#622123" title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">subst</a><a href="#1005903" title="SpecializeTypes.this.global.Symbol" class="delimiter">(</a><a href="#1002042" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>

  /** Apply the type environment 'env' to the given type. All type
   *  bindings are supposed to be to primitive types. A type variable
   *  that is annotated with 'uncheckedVariance' is mapped to the corresponding
   *  primitive type losing the annotation.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="622122">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1002039">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="SpecializeTypes.this.global.Type" id="1002040">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">class</span> <a title="class FullTypeMap extends SpecializeTypes.this.global.SubstTypeMap with SpecializeTypes.this.global.AnnotationFilter" id="1005934">FullTypeMap</a><a href="#1005934" title="FullTypeMap" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="1005948">from</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[SpecializeTypes.this.global.Type]" id="1005949">to</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#407479" title="SpecializeTypes.this.global.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#1005948" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#1005949" title="List[SpecializeTypes.this.global.Type]">to</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="../../../reflect/internal/Types.scala.html#407457" title="SpecializeTypes.this.global.AnnotationFilter">AnnotationFilter</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annot: SpecializeTypes.this.global.AnnotationInfo)Boolean" id="1005943">keepAnnotation</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.AnnotationInfo" id="1005952">annot</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#407923" title="SpecializeTypes.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1005952" title="SpecializeTypes.this.global.AnnotationInfo">annot</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#409745" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">matches</a> <a href="../../../reflect/internal/Definitions.scala.html#409173" title="=&gt; SpecializeTypes.this.global.ClassSymbol">uncheckedVarianceClass</a><span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="1005944">mapOver</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1005957">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#1005957" title="SpecializeTypes.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ClassInfoType<a href="#3361122" title="SpecializeTypes.this.global.Type" id="3361124" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[SpecializeTypes.this.global.Type]" id="1005980">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="SpecializeTypes.this.global.Scope" id="1005981">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="SpecializeTypes.this.global.Symbol" id="1005982">clazz</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="1005983">parents1</a>  = <a href="#1005980" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#62694" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">mapConserve</a> <a href="#1005934" title="FullTypeMap" class="keyword">this</a>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="1005984">decls1</a>    = <a href="../../../reflect/internal/Types.scala.html#441775" title="(scope: SpecializeTypes.this.global.Scope)SpecializeTypes.this.global.Scope">mapOver</a><span class="delimiter">(</span><a href="#1005981" title="SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1005983" title="List[SpecializeTypes.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1005980" title="List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1005984" title="SpecializeTypes.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1005981" title="SpecializeTypes.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1005957" title="SpecializeTypes.this.global.Type">tp</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#1005983" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="#1005984" title="SpecializeTypes.this.global.Scope">decls1</a>, <a href="#1005982" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#1005934" title="FullTypeMap" class="keyword">super</a>.<a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">mapOver</a><a href="#3361126" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="delimiter">(</a><a href="#1005957" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a href="#3361133" title="(x: (List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type]))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[SpecializeTypes.this.global.Symbol]" id="1005936">keys</a>, <a href="../../../Tuple2.scala.html#60637" title="List[SpecializeTypes.this.global.Type]" id="1005937">values</a><span class="delimiter">)</span> = <a href="#1002039" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)]">toList</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58476" title="(implicit asPair: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(List[SpecializeTypes.this.global.Symbol], List[SpecializeTypes.this.global.Type])">unzip</a>
    <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#486223" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="keyword">new</a> <a href="#1005934" title="FullTypeMap">FullTypeMap</a><span class="delimiter">(</span><a href="#1005936" title="List[SpecializeTypes.this.global.Symbol]">keys</a>, <a href="#1005937" title="List[SpecializeTypes.this.global.Type]">values</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1002040" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)(decl: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="622123">subst</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1002036">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1002037">decl</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <a href="#1002037" title="SpecializeTypes.this.global.Symbol">decl</a> <a href="../../../reflect/internal/Symbols.scala.html#411370" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)decl.type">modifyInfo</a> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1006071">info</a> =&gt;
      <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002037" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002036" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006071" title="SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[SpecializeTypes.this.global.Symbol]">params</a>, <a href="#1002037" title="SpecializeTypes.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002036" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006071" title="SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

  /** Checks if the type parameter symbol is not specialized
   *  and is used as type parameters when extending a class with a specialized
   *  type parameter.
   *  At some point we may remove this restriction.
   *
   *  Example:
   *
   *    class Base[@specialized T]
   *    class Derived[T] extends Base[T] // a non-specialized T is
   *                                     // used as a type param for Base
   *                                     // -&gt; returning true
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tsym: SpecializeTypes.this.global.Symbol, supertpe: SpecializeTypes.this.global.Type)Unit" id="622124">notSpecializedIn</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006084">tsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="1006085">supertpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1006085" title="SpecializeTypes.this.global.Type">supertpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> TypeRef<a href="#3361137" title="Unit" id="3361140" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="3361138">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1006091">supersym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="1006092">supertargs</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="1006093">tspec</a> = <a href="#622049" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedOn</a><span class="delimiter">(</span><a href="#1006084" title="SpecializeTypes.this.global.Symbol">tsym</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">toSet</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006123">supt</a> &lt;- <a href="#1006091" title="SpecializeTypes.this.global.Symbol">supersym</a>.<a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="1006124">supspec</a> = <a href="#622049" title="(sym: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specializedOn</a><span class="delimiter">(</span><a href="#1006123" title="SpecializeTypes.this.global.Symbol">supt</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">toSet</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006093" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tspec</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1006124" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">supspec</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1006093" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tspec</a>.<a href="../../../collection/GenSetLike.scala.html#66410" title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])Boolean">subsetOf</a><span class="delimiter">(</span><a href="#1006124" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">supspec</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539685" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1006084" title="SpecializeTypes.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="String(&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;)" class="string">&quot;Type parameter has to be specialized at least for the same types as in the superclass. Missing types: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#1006124" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">supspec</a>.<a href="../../../collection/SetLike.scala.html#66449" title="(that: scala.collection.GenSet[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">diff</a><span class="delimiter">(</span><a href="#1006093" title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">tspec</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> _ =&gt; //log(&quot;nope&quot;)
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)Boolean" id="622125">unspecializableClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1006143">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="../../../reflect/internal/Definitions.scala.html#407777" title="SpecializeTypes.this.global.definitions.type">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#408815" title="(tp: SpecializeTypes.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#1006143" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>  // ???
    <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1006143" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a>
    <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1006143" title="SpecializeTypes.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a>
  <span class="delimiter">)</span>

  /** Type transformation. It is applied to all symbols, compiled or loaded.
   *  If it is a 'no-specialization' run, it is applied only to loaded symbols.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="622126">transformInfo</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006148">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="1006149">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#539947" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#537672" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539423" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#1006148" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1006149" title="SpecializeTypes.this.global.Type">tpe</a>
    <span class="keyword">else</span> <a href="#1006149" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; SpecializeTypes.this.global.Type">resultType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> cinfo @ ClassInfoType<a href="#3361147" title="SpecializeTypes.this.global.Type" id="3361149" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[SpecializeTypes.this.global.Type]" id="1006161">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="SpecializeTypes.this.global.Scope" id="1006162">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="SpecializeTypes.this.global.Symbol" id="1006163">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#622125" title="(tp: SpecializeTypes.this.global.Type)Boolean">unspecializableClass</a><span class="delimiter">(</span>cinfo<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1006164">tparams</a>  = <a href="#1006149" title="SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006164" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537699" title="(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">afterSpecialize</a><span class="delimiter">(</span><a href="#1006161" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.Type,List[SpecializeTypes.this.global.Type]])List[SpecializeTypes.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1006185" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Type]" id="1006165">parents1</a> = <a href="#1006161" title="List[SpecializeTypes.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#62694" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Type]">mapConserve</a> <a href="#622089" title="=&gt; SpecializeTypes.this.global.TypeMap">specializedType</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006161" title="List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1006165" title="List[SpecializeTypes.this.global.Type]">parents1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specialization transforms %s%s parents to %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006164" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span title="String(&quot;(poly) &quot;)" class="string">&quot;(poly) &quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <a href="#1006163" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="#1006165" title="List[SpecializeTypes.this.global.Type]">parents1</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Scope" id="1006166">newScope</a> = <a href="../../../reflect/internal/Scopes.scala.html#407760" title="(elems: SpecializeTypes.this.global.Symbol*)SpecializeTypes.this.global.Scope">newScopeWith</a><span class="delimiter">(</span><a href="#622110" title="(clazz: SpecializeTypes.this.global.Symbol, outerEnv: SpecializeTypes.this.TypeEnv)List[SpecializeTypes.this.global.Symbol]">specializeClass</a><span class="delimiter">(</span><a href="#1006163" title="SpecializeTypes.this.global.Symbol">clazz</a>, <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1006163" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">++</a> <a href="#622115" title="(clazz: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">specialOverrides</a><span class="delimiter">(</span><a href="#1006163" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
        // If tparams.isEmpty, this is just the ClassInfoType.
        <a href="../../../reflect/internal/Types.scala.html#426941" title="(tparams: List[SpecializeTypes.this.global.Symbol], tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">GenPolyType</a><span class="delimiter">(</span><a href="#1006164" title="List[SpecializeTypes.this.global.Symbol]">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#420424" title="(parents: List[SpecializeTypes.this.global.Type], decls: SpecializeTypes.this.global.Scope, typeSymbol: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#1006165" title="List[SpecializeTypes.this.global.Type]">parents1</a>, <a href="#1006166" title="SpecializeTypes.this.global.Scope">newScope</a>, <a href="#1006163" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#3361151" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">tpe</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Is any type variable in `env` conflicting with any if its type bounds, when
   *  type bindings in `env` are taken into account?
   *
   *  A conflicting type environment could still be satisfiable.
   */
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="622127">conflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1006304">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#622128" title="(env: SpecializeTypes.this.TypeEnv)Boolean">nonConflicting</a><span class="delimiter">(</span><a href="#1006304" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="622128">nonConflicting</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1002825">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> = <a href="#1002825" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/IterableLike.scala.html#58565" title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</a> <a href="#1002833" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1002836">tvar</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1002837">tpe</a><span class="delimiter">)</span> =&gt;
    <span class="delimiter">(</span><a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002825" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1002836" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1002837" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#3361158" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1002837" title="SpecializeTypes.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002825" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1002836" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The type environment is sound w.r.t. to all type bounds or only soft
   *  conflicts appear. An environment is sound if all bindings are within
   *  the bounds of the given type variable. A soft conflict is a binding
   *  that does not fall within the bounds, but whose bounds contain
   *  type variables that are @specialized, (that could become satisfiable).
   */
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Boolean" id="622129">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1002776">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#622130" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="#1002776" title="SpecializeTypes.this.TypeEnv">env</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean" id="622130">satisfiable</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1002773">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a>, <a title="Boolean" id="1002774">warnings</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean" id="1006311">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1006312">tpe1</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="1006313">tpe2</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1006314">t1</a> = <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002773" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006312" title="SpecializeTypes.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1006315">t2</a> = <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002773" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006313" title="SpecializeTypes.this.global.Type">tpe2</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1006314" title="SpecializeTypes.this.global.Type">t1</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1006315" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>
        <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006314" title="SpecializeTypes.this.global.Type">t1</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a>
        <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006315" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
     <span class="delimiter">}</span>

    <a href="#1002773" title="SpecializeTypes.this.TypeEnv">env</a> <a href="../../../collection/IterableLike.scala.html#58565" title="(p: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Boolean)Boolean">forall</a> <a href="#1006349" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1006352">tvar</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1006353">tpe</a><span class="delimiter">)</span> =&gt;
      <a href="#1006311" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="#1006353" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1006311" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#1006353" title="SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <a href="#3361164" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1002774" title="Boolean">warnings</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539684" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <span title="String(&quot;Bounds prevent specialization of &quot;)" class="string">&quot;Bounds prevent specialization of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;specvars: &quot;)" class="string">&quot;specvars: &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002773" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1002773" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006352" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.TypeEnv]" id="622131">satisfiabilityConstraints</a><span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1006384">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[SpecializeTypes.this.TypeEnv]">Option</a><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Some[SpecializeTypes.this.TypeEnv]" id="1006386">noconstraints</a> = <a href="../../../Option.scala.html#63128" title="(x: SpecializeTypes.this.TypeEnv)Some[SpecializeTypes.this.TypeEnv]">Some</a><span class="delimiter">(</span><a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Option[SpecializeTypes.this.TypeEnv]" id="1006387">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1006391">tpe1</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="1006392">tpe2</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[SpecializeTypes.this.TypeEnv]">Option</a><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1006393">t1</a> = <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006391" title="SpecializeTypes.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1006394">t2</a> = <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006392" title="SpecializeTypes.this.global.Type">tpe2</a><span class="delimiter">)</span>
      // log(&quot;---------&gt; &quot; + tpe1 + &quot; matches &quot; + tpe2)
      // log(t1 + &quot;, &quot; + specializedTypeVars(t1))
      // log(t2 + &quot;, &quot; + specializedTypeVars(t2))
      // log(&quot;unify: &quot; + unify(t1, t2, env, false, false) + &quot; in &quot; + env)
      <span title="Option[SpecializeTypes.this.TypeEnv]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006393" title="SpecializeTypes.this.global.Type">t1</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1006394" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span> <a href="#1006386" title="Some[SpecializeTypes.this.TypeEnv]">noconstraints</a>
      <span class="keyword">else</span> <span title="Option[SpecializeTypes.this.TypeEnv]" class="keyword">if</span> <span class="delimiter">(</span><a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006393" title="SpecializeTypes.this.global.Type">t1</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#63128" title="(x: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Some[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">Some</a><span class="delimiter">(</span><a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1006393" title="SpecializeTypes.this.global.Type">t1</a>, <a href="#1006394" title="SpecializeTypes.this.global.Type">t2</a>, <a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <a href="../../../collection/generic/Subtractable.scala.html#66460" title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">--</a> <a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87541" title="=&gt; Iterable[SpecializeTypes.this.global.Symbol]">keys</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Option[SpecializeTypes.this.TypeEnv]" class="keyword">if</span> <span class="delimiter">(</span><a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006394" title="SpecializeTypes.this.global.Type">t2</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#63128" title="(x: scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Some[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">Some</a><span class="delimiter">(</span><a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1006394" title="SpecializeTypes.this.global.Type">t2</a>, <a href="#1006393" title="SpecializeTypes.this.global.Type">t1</a>, <a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <a href="../../../collection/generic/Subtractable.scala.html#66460" title="(xs: scala.collection.GenTraversableOnce[SpecializeTypes.this.global.Symbol])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">--</a> <a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87541" title="=&gt; Iterable[SpecializeTypes.this.global.Symbol]">keys</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../../Option.scala.html#1585" title="None.type">None</a>
    <span class="delimiter">}</span>

    <a href="#1006384" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/TraversableOnce.scala.html#58202" title="[B](z: B)(op: (B, (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; B)B">foldLeft</a><span title="(z: Option[SpecializeTypes.this.TypeEnv])(op: (Option[SpecializeTypes.this.TypeEnv], (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; Option[SpecializeTypes.this.TypeEnv])Option[SpecializeTypes.this.TypeEnv]" class="delimiter">[</span><a href="../../../Option.scala.html#978" title="Option[SpecializeTypes.this.TypeEnv]">Option</a><span class="delimiter">[</span>TypeEnv<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1006386" title="Some[SpecializeTypes.this.TypeEnv]">noconstraints</a><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#62849" title="(_1: Option[SpecializeTypes.this.TypeEnv], _2: (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(Option[SpecializeTypes.this.TypeEnv], (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))" class="delimiter">{</a>
      <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Option[SpecializeTypes.this.TypeEnv]" id="1006455">constraints</a>, <a href="../../../Tuple2.scala.html#60637" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)" id="3361169" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1006458">tvar</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Type" id="1006459">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.TypeEnv]" id="1006460">loconstraints</a> = <a href="#1006387" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Option[SpecializeTypes.this.TypeEnv]">matches</a><span class="delimiter">(</span><a href="#1006458" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; SpecializeTypes.this.global.Type">lo</a>, <a href="#1006459" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.TypeEnv]" id="1006461">hiconstraints</a> = <a href="#1006387" title="(tpe1: SpecializeTypes.this.global.Type, tpe2: SpecializeTypes.this.global.Type)Option[SpecializeTypes.this.TypeEnv]">matches</a><span class="delimiter">(</span><a href="#1006459" title="SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006458" title="SpecializeTypes.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; SpecializeTypes.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; SpecializeTypes.this.global.Type">hi</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]" id="1006462">allconstraints</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.TypeEnv" id="1006469">c</a> &lt;- <a href="../../../Option.scala.html#62871" title="(f: SpecializeTypes.this.TypeEnv =&gt; Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]])Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">constraints</a>; <a title="SpecializeTypes.this.TypeEnv" id="1006474">l</a> &lt;- <a href="../../../Option.scala.html#62871" title="(f: SpecializeTypes.this.TypeEnv =&gt; Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]])Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">loconstraints</a>; <a title="SpecializeTypes.this.TypeEnv" id="1006479">h</a> &lt;- <a href="../../../Option.scala.html#62865" title="(f: SpecializeTypes.this.TypeEnv =&gt; scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type])Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">hiconstraints</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#1006469" title="SpecializeTypes.this.TypeEnv">c</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1006474" title="SpecializeTypes.this.TypeEnv">l</a> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="#1006479" title="SpecializeTypes.this.TypeEnv">h</a>
        <a href="#1006462" title="Option[scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]]">allconstraints</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** This duplicator additionally performs casts of expressions if that is allowed by the `casts` map. */
  <span class="keyword">class</span> <a title="class Duplicator extends scala.tools.nsc.typechecker.Duplicators" id="622132">Duplicator</a><a href="#622132" title="SpecializeTypes.this.Duplicator" class="delimiter">(</a><a title="Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]" id="979868">casts</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">Map</a><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="SpecializeTypes.this.global.type" id="1006648">global</a>: SpecializeTypes.<span class="keyword">this</span>.global.<span class="keyword">type</span> = <a href="#44535" title="SpecializeTypes.this.type">SpecializeTypes</a>.<span class="keyword">this</span>.<a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>
  <span class="delimiter">}</span> <span class="keyword">with</span> typechecker.<a href="../typechecker/Duplicators.scala.html#48161" title="scala.tools.nsc.typechecker.Duplicators">Duplicators</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a href="#3361177" title="(x: (scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol], scala.collection.immutable.Iterable[SpecializeTypes.this.global.Type]))(scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol], scala.collection.immutable.Iterable[SpecializeTypes.this.global.Type])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]" id="979860">castfrom</a>, <a href="../../../Tuple2.scala.html#60637" title="scala.collection.immutable.Iterable[SpecializeTypes.this.global.Type]" id="979862">castto</a><span class="delimiter">)</span> = <a href="#979868" title="Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">casts</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58476" title="(implicit asPair: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)) =&gt; (SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type))(scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol], scala.collection.immutable.Iterable[SpecializeTypes.this.global.Type])">unzip</a>
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="Duplicator.this.CastMap.type" id="979864">CastMap</a> <a href="#979865" title="Duplicator.this.CastMap.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#407479" title="SpecializeTypes.this.global.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#979860" title="=&gt; scala.collection.immutable.Iterable[SpecializeTypes.this.global.Symbol]">castfrom</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[SpecializeTypes.this.global.Symbol]">toList</a>, <a href="#979862" title="=&gt; scala.collection.immutable.Iterable[SpecializeTypes.this.global.Type]">castto</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[SpecializeTypes.this.global.Type]">toList</a><span class="delimiter">)</span>

    <span class="keyword">class</span> <a title="class BodyDuplicator extends Duplicator.this.BodyDuplicator" id="979866">BodyDuplicator</a><a href="#979866" title="Duplicator.this.BodyDuplicator" class="delimiter">(</a><a title="Duplicator.this.Context" id="1006671">_context</a>: <a href="../typechecker/Contexts.scala.html#537993" title="Duplicator.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#622132" title="SpecializeTypes.this.Duplicator" class="keyword">super</a>.<a href="../typechecker/Duplicators.scala.html#979851" title="Duplicator.this.BodyDuplicator">BodyDuplicator</a><span class="delimiter">(</span><a href="#1006671" title="Duplicator.this.Context">_context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree, pt: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Tree" id="1006668">castType</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1006674">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a>, <a title="SpecializeTypes.this.global.Type" id="1006675">pt</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        // log(&quot; expected type: &quot; + pt)
        // log(&quot; tree type: &quot; + tree.tpe)
        <a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408574" title="(t: SpecializeTypes.this.global.Type)Unit">tpe</a> = <span title="SpecializeTypes.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../typechecker/Duplicators.scala.html#1006657" title="(tpe: Duplicator.this.global.Type)Duplicator.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
        // log(&quot; tree type: &quot; + tree.tpe)
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="1006680">ntree</a> = <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1006675" title="SpecializeTypes.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1006699">casttpe</a> = <a href="../../../reflect/internal/Types.scala.html#486223" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">CastMap</a><span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006699" title="SpecializeTypes.this.global.Type">casttpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1006675" title="SpecializeTypes.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543485" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type)SpecializeTypes.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#1006699" title="SpecializeTypes.this.global.Type">casttpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006699" title="SpecializeTypes.this.global.Type">casttpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: SpecializeTypes.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Types.scala.html#486223" title="(tp0: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">CastMap</a><span class="delimiter">(</span><a href="#1006675" title="SpecializeTypes.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543485" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type)SpecializeTypes.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#1006675" title="SpecializeTypes.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1006674" title="SpecializeTypes.this.global.Tree">tree</a>
        <a href="#1006680" title="SpecializeTypes.this.global.gen.global.Tree">ntree</a>.<a href="../../../reflect/internal/Trees.scala.html#408574" title="(t: SpecializeTypes.this.global.gen.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
        <a href="#1006680" title="SpecializeTypes.this.global.gen.global.Tree">ntree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Duplicator.this.Context)Duplicator.this.BodyDuplicator" id="979867">newBodyDuplicator</a><span class="delimiter">(</span><a title="Duplicator.this.Context" id="1006712">context</a>: <a href="../typechecker/Contexts.scala.html#537993" title="Duplicator.this.Context">Context</a><span class="delimiter">)</span> = <span title="Duplicator.this.BodyDuplicator" class="keyword">new</span> <a href="#979866" title="Duplicator.this.BodyDuplicator">BodyDuplicator</a><span class="delimiter">(</span><a href="#1006712" title="Duplicator.this.Context">context</a><span class="delimiter">)</span>

  <span class="delimiter">}</span>

  /** A tree symbol substituter that substitutes on type skolems.
   *  If a type parameter is a skolem, it looks for the original
   *  symbol in the 'from' and maps it to the corresponding new
   *  symbol. The new symbol should probably be a type skolem as
   *  well (not enforced).
   *
   *  All private members are made protected in order to be accessible from
   *  specialized classes.
   */
  <span class="keyword">class</span> <a title="class ImplementationAdapter extends SpecializeTypes.this.global.TreeSymSubstituter" id="622133">ImplementationAdapter</a><a href="#622133" title="SpecializeTypes.this.ImplementationAdapter" class="delimiter">(</a><a title="List[SpecializeTypes.this.global.Symbol]" id="979802">from</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="List[SpecializeTypes.this.global.Symbol]" id="979803">to</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                              <a title="SpecializeTypes.this.global.Symbol" id="979804">targetClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>,
                              <a title="Boolean" id="979805">addressFields</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../reflect/internal/Trees.scala.html#408145" title="SpecializeTypes.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="#979802" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#979803" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="SpecializeTypes.this.global.SubstSymMap" id="979797">symSubst</a> = <a href="#1006722" title="SpecializeTypes.this.global.SubstSymMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407478" title="anonymous class $anon extends SpecializeTypes.this.global.SubstSymMap" id="1006722">SubstSymMap</a><span class="delimiter">(</span><a href="#979802" title="List[SpecializeTypes.this.global.Symbol]">from</a>, <a href="#979803" title="List[SpecializeTypes.this.global.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: SpecializeTypes.this.global.Symbol, sym2: SpecializeTypes.this.global.Symbol)Boolean" id="1006724">matches</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006725">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Symbol" id="1006726">sym2</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006726" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411194" title="=&gt; Boolean">isTypeSkolem</a><span class="delimiter">)</span> <a href="#1006726" title="SpecializeTypes.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411475" title="=&gt; SpecializeTypes.this.global.Symbol">deSkolemize</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1006725" title="SpecializeTypes.this.global.Symbol">sym1</a>
        <span class="keyword">else</span> <a href="#1006725" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1006726" title="SpecializeTypes.this.global.Symbol">sym2</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="979799">isAccessible</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006753">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
      <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1006753" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#979804" title="SpecializeTypes.this.global.Symbol">targetClass</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: SpecializeTypes.this.global.Symbol)Boolean" id="979800">shouldMakePublic</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006764">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
      <a href="#1006764" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#979805" title="Boolean">addressFields</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414048" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#1006764" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** All private members that are referenced are made protected,
     *  in order to be accessible from specialized subclasses.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="979801">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1006769">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a> = <a href="#1006769" title="SpecializeTypes.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Select<a href="#3361181" title="SpecializeTypes.this.global.Tree" id="3361183" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="SpecializeTypes.this.global.Tree" id="1006786">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="SpecializeTypes.this.global.Name" id="1006787">name</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1006788">sym</a> = <a href="#1006769" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
          <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;seeing private member %s, currentClass: %s, owner: %s, isAccessible: %b, isLocalName: %b&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a>, <a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>, <a href="#979799" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414048" title="(name: SpecializeTypes.this.global.Name)Boolean">isLocalName</a><span class="delimiter">(</span><a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#979800" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">shouldMakePublic</a><span class="delimiter">(</span><a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#979799" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;changing private flag of &quot;)" class="string">&quot;changing private flag of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411477" title="(base: SpecializeTypes.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#1006788" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#622133" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../../../reflect/internal/Trees.scala.html#481161" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1006769" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span class="keyword">case</span> _ =&gt;
        <a href="#622133" title="SpecializeTypes.this.ImplementationAdapter" class="keyword">super</a>.<a href="../../../reflect/internal/Trees.scala.html#481161" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><a href="#3361185" title="(x: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="delimiter">(</a><a href="#1006769" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Return the generic class corresponding to this specialized class. */
  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol" id="622134">originalClass</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006797">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a> =
    <span title="SpecializeTypes.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006797" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#3361194" title="SpecializeTypes.this.global.Name" id="1006799" class="delimiter">(</a><a href="../../../Tuple3.scala.html#60576" title="SpecializeTypes.this.global.Name" id="1006804">originalName</a>, <a href="../../../Tuple3.scala.html#60578" title="String" id="3361191">_</a>, <a href="../../../Tuple3.scala.html#60580" title="String" id="3361192">_</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414064" title="(name: SpecializeTypes.this.global.Name)(SpecializeTypes.this.global.Name, String, String)">splitSpecializedName</a><a href="../../../Tuple3.scala.html#126" title="(SpecializeTypes.this.global.Name, String, String) @unchecked" class="delimiter">(</a><a href="#1006797" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; clazz.NameType">name</a><span class="delimiter">)</span>
      <a href="#1006797" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1006799" title="SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411415" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#1006810" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a>

  <span class="keyword">def</span> <a title="(clazz: SpecializeTypes.this.global.Symbol)Boolean" id="622135">illegalSpecializedInheritance</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006811">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
       <a href="#1006811" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409870" title="=&gt; Boolean">isSpecialized</a>
    <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622134" title="(clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">originalClass</a><span class="delimiter">(</span><a href="#1006811" title="SpecializeTypes.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411441" title="=&gt; List[SpecializeTypes.this.global.Symbol]">parentSymbols</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006821">p</a> =&gt; <a href="#622085" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">hasSpecializedParams</a><span class="delimiter">(</span><a href="#1006821" title="SpecializeTypes.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1006821" title="SpecializeTypes.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" id="622136">specializeCalls</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.CompilationUnit" id="1006822">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> = <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">new</a> <a href="TypingTransformers.scala.html#621441" title="anonymous class $anon extends SpecializeTypes.this.TypingTransformer" id="1006825">TypingTransformer</a><span class="delimiter">(</span><a href="#1006822" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /** Map a specializable method to it's rhs, when not deferred. */
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" id="1006827">body</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** Map a specializable method to its value parameter symbols. */
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]" id="1006829">parameters</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="SpecializeTypes.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** Collect method bodies that are concrete specialized methods.
     */
    <span class="keyword">class</span> <a title="class CollectMethodBodies extends SpecializeTypes.this.global.Traverser" id="1006831">CollectMethodBodies</a> <a href="#1006831" title="this.CollectMethodBodies" class="keyword">extends</a> <a href="../../../reflect/api/Trees.scala.html#56467" title="SpecializeTypes.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)Unit" id="1007808">traverse</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1008656">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> DefDef<a href="#3361198" title="Unit" id="3361205" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="SpecializeTypes.this.global.Modifiers" id="3361199">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="SpecializeTypes.this.global.Name" id="3361200">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[SpecializeTypes.this.global.TypeDef]" id="3361201">_</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="List[SpecializeTypes.this.global.ValDef]" id="1008668">vparams</a> <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[SpecializeTypes.this.global.ValDef]]" id="3361207">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[List[SpecializeTypes.this.global.ValDef]]" id="3361211">Nil</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="SpecializeTypes.this.global.Tree" id="3361203">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="SpecializeTypes.this.global.Tree" id="1008669">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#3361213" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../reflect/internal/util/WeakHashSet.scala.html#472115" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // debuglog(&quot;!!! adding body of a defdef %s, symbol %s: %s&quot;.format(tree, tree.symbol, rhs))
            <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="#1008669" title="SpecializeTypes.this.global.Tree">rhs</a>
            //          body(tree.symbol) = tree // whole method
            <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: List[SpecializeTypes.this.global.Symbol])Unit">parameters</a><span class="delimiter">(</span><a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="#1008668" title="List[SpecializeTypes.this.global.ValDef]">vparams</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]" class="delimiter">(</a><a href="#1008705" title="SpecializeTypes.this.global.ValDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#622046" title="=&gt; scala.reflect.internal.util.WeakHashSet[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <a href="../../../reflect/internal/util/WeakHashSet.scala.html#472113" title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">-=</a> <a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>
          <span class="delimiter">}</span> // no need to descend further down inside method bodies

        <span class="keyword">case</span> ValDef<a href="#3361198" title="Unit" id="3361210" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="SpecializeTypes.this.global.Modifiers" id="1008742">mods</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="SpecializeTypes.this.global.TermName" id="1008743">name</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="SpecializeTypes.this.global.Tree" id="1008744">tpt</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="SpecializeTypes.this.global.Tree" id="1008745">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/util/WeakHashSet.scala.html#472115" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">concreteSpecMethods</a><span class="delimiter">(</span><a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: SpecializeTypes.this.global.Symbol, value: SpecializeTypes.this.global.Tree)Unit">body</a><span class="delimiter">(</span><a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="#1008745" title="SpecializeTypes.this.global.Tree">rhs</a>
          // log(&quot;!!! adding body of a valdef &quot; + tree.symbol + &quot;: &quot; + rhs)
          //super.traverse(tree)
        <span class="keyword">case</span> _ =&gt;
          <a href="#1006831" title="this.CollectMethodBodies" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405544" title="(tree: SpecializeTypes.this.global.Tree)Unit">traverse</a><a href="#3361213" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1008656" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean" id="1006832">doesConform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1006842">origSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.global.Type" id="1006843">treeType</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.global.Type" id="1006844">memberType</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a>, <a title="SpecializeTypes.this.TypeEnv" id="1006845">env</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#1006843" title="SpecializeTypes.this.global.Type">treeType</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#1006844" title="SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span> // anyref specialization
        <a href="#1006844" title="SpecializeTypes.this.global.Type">memberType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> PolyType<a href="#3361222" title="Boolean" id="3361225" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[SpecializeTypes.this.global.Symbol]" id="3361223">_</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="SpecializeTypes.this.global.Type" id="1006850">resTpe</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Conformance for anyref - polytype with result type: &quot;)" class="string">&quot;Conformance for anyref - polytype with result type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006850" title="SpecializeTypes.this.global.Type">resTpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006843" title="SpecializeTypes.this.global.Type">treeType</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nOrig. sym.: &quot;)" class="string">&quot;\nOrig. sym.: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006842" title="SpecializeTypes.this.global.Symbol">origSymbol</a><span class="delimiter">)</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1006851">e</a> = <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1006842" title="SpecializeTypes.this.global.Symbol">origSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006844" title="SpecializeTypes.this.global.Type">memberType</a>, <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;obtained env: &quot;)" class="string">&quot;obtained env: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006851" title="SpecializeTypes.this.TypeEnv">e</a><span class="delimiter">)</span>
              <a href="#1006851" title="SpecializeTypes.this.TypeEnv">e</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1006845" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Could not unify.&quot;)" class="string">&quot;Could not unify.&quot;</span><span class="delimiter">)</span>
                <span title="Boolean(false)" class="keyword">false</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt; <a href="#3361227" title="(x: Boolean)Boolean" class="keyword">false</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T)T" id="1006833">reportError</a><span class="delimiter">[</span><a title="" id="1006835">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="1006863">body</a>: =&gt;T<span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.TypeError =&gt; T" id="1006864">handler</a>: TypeError =&gt; T<span class="delimiter">)</span>: <a href="#1006835" title="T">T</a> =
      <span class="keyword">try</span> <a href="#1006863" title="=&gt; T">body</a>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="T" id="1008762">te</a>: <a href="../../../reflect/internal/Types.scala.html#407625" title="SpecializeTypes.this.global.TypeError">TypeError</a> =&gt;
          <a href="../Global.scala.html#537436" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#539685" title="(pos: scala.reflect.internal.util.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1008762" title="SpecializeTypes.this.global.TypeError">te</a>.<a href="../../../reflect/internal/Types.scala.html#416070" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#1008762" title="SpecializeTypes.this.global.TypeError">te</a>.<a href="../../../reflect/internal/Types.scala.html#416073" title="=&gt; String">msg</a><span class="delimiter">)</span>
          <a href="../../../Function1.scala.html#58642" title="(v1: SpecializeTypes.this.global.TypeError)T">handler</a><span class="delimiter">(</span><a href="#1008762" title="SpecializeTypes.this.global.TypeError">te</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="1006836">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1006867">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a> =
      <a href="#1006833" title="(body: =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(handler: SpecializeTypes.this.global.TypeError =&gt; SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">reportError</a> <span class="delimiter">{</span> <a href="#1006837" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">transform1</a><span class="delimiter">(</span><a href="#1006867" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="delimiter">{</span><a title="SpecializeTypes.this.global.TypeError" id="1008772">_</a> =&gt; <a href="#1006867" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree" id="1006837">transform1</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1006872">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1006873">symbol</a> = <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>

      /** The specialized symbol of 'tree.symbol' for tree.tpe, if there is one */
      <span class="keyword">def</span> <a title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]" id="1006874">specSym</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1006875">qual</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[SpecializeTypes.this.global.Symbol]">Option</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1006876">env</a> = <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[specSym] checking for rerouting: %s with \n\tsym.tpe: %s, \n\ttree.tpe: %s \n\tenv: %s \n\tname: %s&quot;</a>
                .<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87531" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>  // a method?
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1006890">specCandidates</a> = <a href="#1006875" title="SpecializeTypes.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1006891">specMember</a> = <a href="#1006890" title="SpecializeTypes.this.global.Symbol">specCandidates</a> <a href="../../../reflect/internal/Symbols.scala.html#411415" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a> <span class="delimiter">{</span> <a title="SpecializeTypes.this.global.Symbol" id="1006903">s</a> =&gt;
            <a href="#1006832" title="(origSymbol: SpecializeTypes.this.global.Symbol, treeType: SpecializeTypes.this.global.Type, memberType: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv)Boolean">doesConform</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006875" title="SpecializeTypes.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1006903" title="SpecializeTypes.this.global.Symbol">s</a><span class="delimiter">)</span>, <a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;[specSym] found: &quot;)" class="string">&quot;[specSym] found: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006890" title="SpecializeTypes.this.global.Symbol">specCandidates</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, instantiated as: &quot;)" class="string">&quot;, instantiated as: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;[specSym] found specMember: &quot;)" class="string">&quot;[specSym] found specMember: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006891" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
          <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006891" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span title="Option[SpecializeTypes.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#622051" title="SpecializeTypes.this.TypeEnv.type">TypeEnv</a>.<a href="#998948" title="(t1: SpecializeTypes.this.TypeEnv, t2: SpecializeTypes.this.TypeEnv)Boolean">includes</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1006891" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#63128" title="(x: SpecializeTypes.this.global.Symbol)Some[SpecializeTypes.this.global.Symbol]">Some</a><span class="delimiter">(</span><a href="#1006891" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;wrong environments for specialized member: \n\ttypeEnv(%s) = %s\n\tenv = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1006891" title="SpecializeTypes.this.global.Symbol">specMember</a>, <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1006891" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#1006876" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Option.scala.html#1585" title="None.type">None</a>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="../../../Option.scala.html#1585" title="None.type">None</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#1585" title="None.type">None</a>
      <span class="delimiter">}</span>

      <a href="TypingTransformers.scala.html#984460" title="(x$1: SpecializeTypes.this.global.Tree)Unit">curTree</a> = <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>
      <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Apply<a href="#3361307" title="Boolean" id="3361310" class="delimiter">(</a>Select<a href="../../../reflect/internal/Trees.scala.html#410031" title="SpecializeTypes.this.global.Tree" id="3361314" class="delimiter">(</a>New<a href="../../../reflect/internal/Trees.scala.html#409999" title="SpecializeTypes.this.global.Tree" id="3361316" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410063" title="SpecializeTypes.this.global.Tree" id="1006969">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/Trees.scala.html#410001" title="SpecializeTypes.this.global.Name" id="3361348">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[SpecializeTypes.this.global.Tree]" id="1006970">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree" id="1006971">transformNew</a> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Attempting to specialize new %s(%s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1006969" title="SpecializeTypes.this.global.Tree">tpt</a>, <a href="#1006970" title="List[SpecializeTypes.this.global.Tree]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Type" id="1006972">found</a> = <a href="#622141" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">findSpec</a><span class="delimiter">(</span><a href="#1006969" title="SpecializeTypes.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006972" title="SpecializeTypes.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1006969" title="SpecializeTypes.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // the ctor can be specialized
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;** instantiated specialized type: &quot;)" class="string">&quot;** instantiated specialized type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006972" title="SpecializeTypes.this.global.Type">found</a><span class="delimiter">)</span>
            <a href="#1006833" title="(body: =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(handler: SpecializeTypes.this.global.TypeError =&gt; SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">reportError</a> <span class="delimiter">{</span>
              <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538703" title="(pos: SpecializeTypes.this.global.analyzer.global.Position)(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408120" title="(tpe: SpecializeTypes.this.global.Type, args: SpecializeTypes.this.global.Tree*)SpecializeTypes.this.global.Tree">New</a><span class="delimiter">(</span><a href="#1006972" title="SpecializeTypes.this.global.Type">found</a>, <a href="../../../reflect/api/Trees.scala.html#405653" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1006970" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="delimiter">{</span>
              <a title="SpecializeTypes.this.global.TypeError" id="1007008">_</a> =&gt; <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1006971" title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree">transformNew</a>

        <span class="keyword">case</span> Apply<span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#410031" title="SpecializeTypes.this.global.Tree" id="1007017">sel</a> @ Select<a href="#1007017" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361322" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="SpecializeTypes.this.global.Tree" id="1007022">sup</a> @ Super<a href="#1007022" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361324" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410016" title="SpecializeTypes.this.global.Tree" id="1007031">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410018" title="SpecializeTypes.this.global.TypeName" id="1007032">name</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="SpecializeTypes.this.global.Name" id="1007033">name1</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[SpecializeTypes.this.global.Tree]" id="1007034">args</a><span class="delimiter">)</span>
          <span class="keyword">if</span> <span class="delimiter">(</span>sup.<a href="../../../reflect/internal/Trees.scala.html#410021" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/SymbolTable.scala.html#406684" title="(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">beforePrevPhase</a><span class="delimiter">(</span>sup.<a href="../../../reflect/internal/Trees.scala.html#410021" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree" id="1007043">transformSuperApply</a> = <span class="delimiter">{</span>

          <span class="keyword">def</span> <a title="=&gt; List[SpecializeTypes.this.global.Type]" id="1007044">parents</a> = sup.<a href="../../../reflect/internal/Trees.scala.html#410021" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; parents changed from: &quot;)" class="string">&quot; parents changed from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/SymbolTable.scala.html#406684" title="(op: =&gt; List[SpecializeTypes.this.global.Type])List[SpecializeTypes.this.global.Type]">beforePrevPhase</a><span class="delimiter">(</span><a href="#1007044" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to: &quot;)" class="string">&quot; to: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1007044" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.analyzer.global.Tree" id="1007045">res</a> = <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#418089" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#454185" title="(qual: SpecializeTypes.this.global.Tree, mix: SpecializeTypes.this.global.TypeName)SpecializeTypes.this.global.Super">Super</a><span class="delimiter">(</span><a href="#1007031" title="SpecializeTypes.this.global.Tree">qual</a>, <a href="#1007032" title="SpecializeTypes.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.Super">setPos</a> sup.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#1007033" title="SpecializeTypes.this.global.Name">name1</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.Select">setPos</a> sel.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="../../../reflect/api/Trees.scala.html#405653" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1007034" title="List[SpecializeTypes.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.Apply">setPos</a> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;retyping call to super, from: &quot;)" class="string">&quot;retyping call to super, from: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1007045" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.analyzer.global.Symbol">symbol</a><span class="delimiter">)</span>
          <a href="#1007045" title="SpecializeTypes.this.global.analyzer.global.Tree">res</a>
          <span class="delimiter">}</span>
          <a href="#1007043" title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree">transformSuperApply</a>

        <span class="keyword">case</span> TypeApply<a href="#3361307" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361326" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="SpecializeTypes.this.global.Tree" id="1007142">sel</a> @ Select<a href="#1007142" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361328" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="SpecializeTypes.this.global.Tree" id="1007147">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="SpecializeTypes.this.global.Name" id="1007148">name</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[SpecializeTypes.this.global.Tree]" id="1007149">targs</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<a href="../../../collection/SetLike.scala.html#66447" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1007148" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413982" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree" id="1007161">transformTypeApply</a> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checking typeapp for rerouting: &quot;)" class="string">&quot;checking typeapp for rerouting: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with sym.tpe: &quot;)" class="string">&quot; with sym.tpe: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree.tpe: &quot;)" class="string">&quot; tree.tpe: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1007162">qual1</a> = <a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1007147" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
          // log(&quot;&gt;&gt;&gt; TypeApply: &quot; + tree + &quot;, qual1: &quot; + qual1)
          <a href="#1006874" title="(qual: SpecializeTypes.this.global.Tree)Option[SpecializeTypes.this.global.Symbol]">specSym</a><a href="#3361250" title="(x: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#1007162" title="SpecializeTypes.this.global.Tree">qual1</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Some<a href="#3361245" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361246" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.global.Symbol" id="1007165">specMember</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;found &quot;)" class="string">&quot;found &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537502" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1007149" title="List[SpecializeTypes.this.global.Tree]">targs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>, <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">typeParams</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1007149" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1007166">env</a> = <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Tree]" id="1007167">residualTargs</a> = <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]])List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)]">zip</a> <a href="#1007149" title="List[SpecializeTypes.this.global.Tree]">targs</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),SpecializeTypes.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree)],SpecializeTypes.this.global.Tree,List[SpecializeTypes.this.global.Tree]])List[SpecializeTypes.this.global.Tree]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Tree),SpecializeTypes.this.global.Tree] with Serializable" id="1007299" class="delimiter">{</a>
                <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1007304">tvar</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Tree" id="1007305">targ</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1007166" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87536" title="(key: SpecializeTypes.this.global.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#1007304" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#1007304" title="SpecializeTypes.this.global.Symbol">tvar</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; SpecializeTypes.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <a href="#3361234" title="(x: B1)B1">targ</a>
              <span class="delimiter">}</span>
              // See SI-5583.  Don't know why it happens now if it didn't before.
              <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1007167" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;!!! Type args to be applied, but symbol says no parameters: &quot;)" class="string">&quot;!!! Type args to be applied, but symbol says no parameters: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#62849" title="(_1: String, _2: List[SpecializeTypes.this.global.Tree])(String, List[SpecializeTypes.this.global.Tree])" class="delimiter">(</a><a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a>, <a href="#1007167" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span>sel<span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#537502" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1007167" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>,
                  <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;residual: %s, tparams: %s, env: %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1007167" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a>, <a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>, <a href="#1007166" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">)</span>

                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="1007381">tree1</a> = <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470998" title="(fun: SpecializeTypes.this.global.gen.global.Tree, targs: List[SpecializeTypes.this.global.gen.global.Tree])SpecializeTypes.this.global.gen.global.Tree">mkTypeApply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1007162" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#1007165" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span>, <a href="#1007167" title="List[SpecializeTypes.this.global.Tree]">residualTargs</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;rewrote &quot;)" class="string">&quot;rewrote &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1007381" title="SpecializeTypes.this.global.gen.global.Tree">tree1</a><span class="delimiter">)</span>
                <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538708" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.gen.global.Tree)SpecializeTypes.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1007381" title="SpecializeTypes.this.global.gen.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span> // being polymorphic, it must be a method
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361248">None</a> =&gt;
              <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405396" title="(tree: SpecializeTypes.this.global.Tree, fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.TypeApply">TypeApply</a><a href="#3361250" title="(x: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405400" title="(tree: SpecializeTypes.this.global.Tree, qualifier: SpecializeTypes.this.global.Tree, selector: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span>sel, <a href="#1007162" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#1007148" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405653" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1007149" title="List[SpecializeTypes.this.global.Tree]">targs</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // See pos/exponential-spec.scala - can't call transform on the whole tree again.
              // super.transform(tree)
          <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#1007161" title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree">transformTypeApply</a>

        <span class="keyword">case</span> Select<a href="#3361307" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361330" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="SpecializeTypes.this.global.Tree" id="1007442">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="SpecializeTypes.this.global.Name" id="1007443">name</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Tree" id="1007444">transformSelect</a> = <span class="delimiter">{</span>
            <a href="#1007442" title="SpecializeTypes.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> _: Super <span class="keyword">if</span> <a href="#622135" title="(clazz: SpecializeTypes.this.global.Symbol)Boolean">illegalSpecializedInheritance</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; SpecializeTypes.this.global.Symbol">currentClass</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Position" id="1007445">pos</a> = <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a>
                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#1007445" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#409665" title="=&gt; scala.reflect.internal.util.SourceFile">source</a>.<a href="../../../reflect/internal/util/SourceFile.scala.html#403754" title="=&gt; scala.reflect.io.AbstractFile">file</a>.<a href="../../../reflect/io/AbstractFile.scala.html#404301" title="=&gt; String">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#1007445" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#409692" title="=&gt; Int">line</a><span title="(x$1: Any)String">+</span><span title="String(&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;)" class="string">&quot;: not specializing call to super inside illegal specialized inheritance class.&quot;</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#1007445" title="SpecializeTypes.this.global.Position">pos</a>.<a href="../../../reflect/internal/util/Position.scala.html#409695" title="=&gt; String">lineContent</a><span class="delimiter">)</span>
                <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>
              <span class="keyword">case</span> _ =&gt;

          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;specializing Select %s [tree.tpe: %s]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a>, <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

          //log(&quot;!!! select &quot; + tree + &quot; -&gt; &quot; + symbol.info + &quot; specTypeVars: &quot; + specializedTypeVars(symbol.info))
          <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#622103" title="(tpe: SpecializeTypes.this.global.Type)scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">specializedTypeVars</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1007443" title="SpecializeTypes.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413982" title="=&gt; SpecializeTypes.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // log(&quot;!!! unifying &quot; + (symbol, symbol.tpe) + &quot; and &quot; + (tree, tree.tpe))
            <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1007460">env</a> = <a href="#622119" title="(tp1: SpecializeTypes.this.global.Type, tp2: SpecializeTypes.this.global.Type, env: SpecializeTypes.this.TypeEnv, strict: Boolean, tparams: Boolean)SpecializeTypes.this.TypeEnv">unify</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>, <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            // log(&quot;!!! found env: &quot; + env + &quot;; overloads: &quot; + overloads(symbol))
            <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1007460" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/MapLike.scala.html#87531" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // debuglog(&quot;checking for rerouting: &quot; + tree + &quot; with sym.tpe: &quot; + symbol.tpe + &quot; tree.tpe: &quot; + tree.tpe + &quot; env: &quot; + env)
              <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.Overload]" id="1007467">specMember</a> = <a href="#622091" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.Overload]">overload</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#1007460" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1007467" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<a href="../../../Option.scala.html#62857" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538708" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#418089" title="(qualifier: SpecializeTypes.this.global.Tree, name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1007442" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#1007467" title="Option[SpecializeTypes.this.Overload]">specMember</a>.<a href="../../../Option.scala.html#62858" title="=&gt; SpecializeTypes.this.Overload">get</a>.<a href="#1002681" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; SpecializeTypes.this.global.Symbol#NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1007496">qual1</a> = <a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1007442" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1007497">specMember</a> = <a href="#1007496" title="SpecializeTypes.this.global.Tree">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#1007460" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411415" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#1007511" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408487" title="(that: SpecializeTypes.this.global.Type)Boolean">matches</a> <a href="#622122" title="(env: SpecializeTypes.this.TypeEnv, tpe: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">subst</a><span class="delimiter">(</span><a href="#1007460" title="SpecializeTypes.this.TypeEnv">env</a>, <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1007497" title="SpecializeTypes.this.global.Symbol">specMember</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Select" id="1007519">tree1</a> = <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1007496" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#1007497" title="SpecializeTypes.this.global.Symbol">specMember</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1007497" title="SpecializeTypes.this.global.Symbol">specMember</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>
                    <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538708" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="#1007519" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#1007519" title="SpecializeTypes.this.global.Select">tree1</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405400" title="(tree: SpecializeTypes.this.global.Tree, qualifier: SpecializeTypes.this.global.Tree, selector: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#1007496" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#1007443" title="SpecializeTypes.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.Overload]">overloads</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#86381" title="(p: SpecializeTypes.this.Overload =&gt; Boolean)Option[SpecializeTypes.this.Overload]">find</a><a href="#3361263" title="(x: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#1007567" title="SpecializeTypes.this.Overload">_</a>.<a href="#1002681" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: SpecializeTypes.this.global.Type)Boolean">=:=</a> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#3361258" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361259" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="SpecializeTypes.this.Overload" id="1007573">specMember</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1007574">qual1</a> = <a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1007442" title="SpecializeTypes.this.global.Tree">qual</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;** routing &quot;)" class="string">&quot;** routing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1007573" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#1002681" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree: &quot;)" class="string">&quot; tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1007574" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#1007573" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#1002681" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538708" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedOperator</a><span class="delimiter">(</span><a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Select)SpecializeTypes.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="#1007574" title="SpecializeTypes.this.global.Tree">qual1</a>, <a href="#1007573" title="SpecializeTypes.this.Overload">specMember</a>.<a href="#1002681" title="=&gt; SpecializeTypes.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361261">None</a> =&gt;
                <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><a href="#3361263" title="(x: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#1007444" title="=&gt; SpecializeTypes.this.global.Tree">transformSelect</a>

        <span class="keyword">case</span> PackageDef<a href="#3361307" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361332" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410345" title="SpecializeTypes.this.global.RefTree" id="1007620">pid</a>, <a href="../../../reflect/internal/Trees.scala.html#410347" title="List[SpecializeTypes.this.global.Tree]" id="1007621">stats</a><span class="delimiter">)</span> =&gt;
          <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a> // make sure specializations have been performed
          <a href="TypingTransformers.scala.html#984466" title="(tree: SpecializeTypes.this.global.Tree, owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.PackageDef)SpecializeTypes.this.global.PackageDef">atOwner</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="1007643">specMembers</a> = <a href="#1006841" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#1007621" title="List[SpecializeTypes.this.global.Tree]">stats</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</a> <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a>
            <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405372" title="(tree: SpecializeTypes.this.global.Tree, pid: SpecializeTypes.this.global.RefTree, stats: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>, <a href="#1007620" title="SpecializeTypes.this.global.RefTree">pid</a>, <a href="../../../reflect/api/Trees.scala.html#405661" title="(stats: List[SpecializeTypes.this.global.Tree], exprOwner: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#1007621" title="List[SpecializeTypes.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#1007643" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a>, <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411459" title="=&gt; SpecializeTypes.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> Template<a href="#3361307" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361334" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[SpecializeTypes.this.global.Tree]" id="1007729">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="SpecializeTypes.this.global.ValDef" id="1007730">self</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[SpecializeTypes.this.global.Tree]" id="1007731">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.Template" id="1007732">transformTemplate</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.analyzer.global.Tree]" id="1007733">specMembers</a> = <a href="#1006840" title="(sClass: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]">makeSpecializedMembers</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#1006841" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">implSpecClasses</a><span class="delimiter">(</span><a href="#1007731" title="List[SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Tree],SpecializeTypes.this.global.analyzer.global.Tree,List[SpecializeTypes.this.global.analyzer.global.Tree]])List[SpecializeTypes.this.global.analyzer.global.Tree]">map</a> <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405549" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</a> <a href="#1006831" title="this.CollectMethodBodies">CollectMethodBodies</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="1007734">parents1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#406731" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Tree])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Tree) =&gt; SpecializeTypes.this.global.TypeTree)List[SpecializeTypes.this.global.TypeTree]">map2</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>, <a href="#1007729" title="List[SpecializeTypes.this.global.Tree]">parents</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1007839">tpe</a>, <a title="SpecializeTypes.this.global.Tree" id="1007840">parent</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1007839" title="SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.TypeTree">setPos</a> <a href="#1007840" title="SpecializeTypes.this.global.Tree">parent</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>

          <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; SpecializeTypes.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405379" title="(tree: SpecializeTypes.this.global.Tree, parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>,
            <a href="#1007734" title="List[SpecializeTypes.this.global.TypeTree]">parents1</a>    /*currentOwner.info.parents.map(tpe =&gt; TypeTree(tpe) setPos parents.head.pos)*/ ,
            <a href="#1007730" title="SpecializeTypes.this.global.ValDef">self</a>,
            <a href="TypingTransformers.scala.html#984463" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">atOwner</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; SpecializeTypes.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405653" title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1007731" title="List[SpecializeTypes.this.global.Tree]">body</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[SpecializeTypes.this.global.analyzer.global.Tree])List[SpecializeTypes.this.global.analyzer.global.Tree]">:::</a> <a href="#1007733" title="List[SpecializeTypes.this.global.analyzer.global.Tree]">specMembers</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1007732" title="=&gt; SpecializeTypes.this.global.Template">transformTemplate</a>

        <span class="keyword">case</span> ddef @ DefDef<a href="#3361307" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361341" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="SpecializeTypes.this.global.Modifiers" id="3361335">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="SpecializeTypes.this.global.Name" id="3361336">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[SpecializeTypes.this.global.TypeDef]" id="3361337">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[SpecializeTypes.this.global.ValDef]]" id="1007920">vparamss</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="SpecializeTypes.this.global.Tree" id="3361338">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="SpecializeTypes.this.global.Tree" id="3361339">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#622038" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<a href="../../../collection/MapLike.scala.html#87537" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree" id="1007924">transformDefDef</a> = <span class="delimiter">{</span>
          // log(&quot;--&gt; method: &quot; + ddef + &quot; in &quot; + ddef.symbol.owner + &quot;, &quot; + info(symbol))
          <span class="keyword">def</span> <a title="(body: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="1007925">reportTypeError</a><span class="delimiter">(</span><a title="=&gt; SpecializeTypes.this.global.Tree" id="1007926">body</a>: =&gt;Tree<span class="delimiter">)</span> = <a href="#1006833" title="(body: =&gt; SpecializeTypes.this.global.Tree)(handler: SpecializeTypes.this.global.TypeError =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">reportError</a><span class="delimiter">(</span><a href="#1007926" title="=&gt; SpecializeTypes.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.TypeError" id="1007935">_</a> =&gt; ddef<span class="delimiter">)</span>

          <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>

            <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1007936">t</a> = <a href="TypingTransformers.scala.html#984463" title="(owner: SpecializeTypes.this.global.Symbol)(trans: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atOwner</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#622138" title="(pos: scala.reflect.internal.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">forwardCtorCall</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543478" title="=&gt; SpecializeTypes.this.global.gen.global.Select">mkSuperSelect</a>, <a href="#1007920" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>, <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span title="SpecializeTypes.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411287" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538703" title="(pos: SpecializeTypes.this.global.analyzer.global.Position)(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1007965">_</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#453067" title="(stats: List[SpecializeTypes.this.global.Tree], expr: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Block">Block</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: SpecializeTypes.this.global.Tree*)List[SpecializeTypes.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1007936" title="SpecializeTypes.this.global.Tree">t</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> // duplicate the original constructor
              <a href="#1007925" title="(body: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">reportTypeError</a><span class="delimiter">(</span><a href="#1006838" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol, castmap: SpecializeTypes.this.TypeEnv)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span>ddef, <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="#998851" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><a href="#3361291" title="SpecializeTypes.this.Forward" class="delimiter">(</a><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Implementation<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361282" class="delimiter">(</a><a href="#1002555" title="SpecializeTypes.this.global.Symbol" id="1008175">target</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1006827" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<a href="../../../collection/MapLike.scala.html#87537" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#1008175" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008175" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              // we have an rhs, specialize it
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1008176">tree1</a> = <a href="#1007925" title="(body: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">reportTypeError</a> <span class="delimiter">{</span>
                <a href="#1006838" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol, castmap: SpecializeTypes.this.TypeEnv)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span>ddef, <a href="#1008175" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008176" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1008176" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">)</span>

            <span class="keyword">case</span> NormalizedMember<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361284" class="delimiter">(</a><a href="#1003943" title="SpecializeTypes.this.global.Symbol" id="1008192">target</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Option[SpecializeTypes.this.TypeEnv]" id="1008193">constraints</a> = <a href="#622131" title="(env: SpecializeTypes.this.TypeEnv)Option[SpecializeTypes.this.TypeEnv]">satisfiabilityConstraints</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;constraints: &quot;)" class="string">&quot;constraints: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008193" title="Option[SpecializeTypes.this.TypeEnv]">constraints</a><span class="delimiter">)</span>
              <span title="SpecializeTypes.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#1008192" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1008193" title="Option[SpecializeTypes.this.TypeEnv]">constraints</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../Option.scala.html#1585" title="None.type">None</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1008214">_</a> =&gt; <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a> <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543473" title="(message: String)SpecializeTypes.this.global.gen.global.Tree">mkSysErrorCall</a><span class="delimiter">(</span><span title="String(&quot;Fatal error in code generation: this should never be called.&quot;)" class="string">&quot;Fatal error in code generation: this should never be called.&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                // we have an rhs, specialize it
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1008223">tree1</a> = <a href="#1007925" title="(body: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">reportTypeError</a> <span class="delimiter">{</span>
                  <a href="#1006838" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol, castmap: SpecializeTypes.this.TypeEnv)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }">duplicateBody</a><span class="delimiter">(</span>ddef, <a href="#1008192" title="SpecializeTypes.this.global.Symbol">target</a>, <a href="#1008193" title="Option[SpecializeTypes.this.TypeEnv]">constraints</a>.<a href="../../../Option.scala.html#62858" title="=&gt; SpecializeTypes.this.TypeEnv">get</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;implementation: &quot;)" class="string">&quot;implementation: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008223" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1008223" title="SpecializeTypes.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> SpecialOverride<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361286" class="delimiter">(</a><a href="#1005131" title="SpecializeTypes.this.global.Symbol" id="1008242">target</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1006827" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<a href="../../../collection/MapLike.scala.html#87537" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#1008242" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <span title="String(&quot;sym: &quot;)" class="string">&quot;sym: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; target: &quot;)" class="string">&quot; target: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008242" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
              //debuglog(&quot;moving implementation, body of target &quot; + target + &quot;: &quot; + body(target))
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is param accessor? %b&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>ddef.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>, ddef.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409862" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // we have an rhs, specialize it
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="1008243">tree1</a> = <a href="#1006839" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span>ddef, <a href="#1008242" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405549" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" class="keyword">new</a> <a href="../../../reflect/internal/Trees.scala.html#408135" title="SpecializeTypes.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#1008242" title="SpecializeTypes.this.global.Symbol">target</a>, <a href="#1008243" title="SpecializeTypes.this.global.DefDef">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1008243" title="SpecializeTypes.this.global.DefDef">tree1</a>.<a href="../../../reflect/internal/Trees.scala.html#410288" title="=&gt; SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;changed owners, now: &quot;)" class="string">&quot;changed owners, now: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008243" title="SpecializeTypes.this.global.DefDef">tree1</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1008243" title="SpecializeTypes.this.global.DefDef">tree1</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">)</span>

            <span class="keyword">case</span> SpecialOverload<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361288" class="delimiter">(</a><a href="#1004617" title="SpecializeTypes.this.global.Symbol" id="1008283">original</a>, <a href="#1004618" title="SpecializeTypes.this.TypeEnv" id="1008284">env</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;completing specialized &quot;)" class="string">&quot;completing specialized &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; calling &quot;)" class="string">&quot; calling &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008283" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;special overload &quot;)" class="string">&quot;special overload &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008283" title="SpecializeTypes.this.global.Symbol">original</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008284" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="1008285">t</a> = <a href="../../../reflect/internal/Trees.scala.html#408110" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="1008309">vparamss</a> =&gt;
                <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Apply" id="1008310">fun</a> = <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: SpecializeTypes.this.global.Tree, sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408123" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">This</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#1008283" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>,
                                <a href="#622140" title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]">makeArguments</a><span class="delimiter">(</span><a href="#1008283" title="SpecializeTypes.this.global.Symbol">original</a>, <a href="#1008309" title="List[List[SpecializeTypes.this.global.Symbol]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; List[SpecializeTypes.this.global.Symbol]">head</a><span class="delimiter">)</span><span class="delimiter">)</span>

                <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;inside defdef: &quot;)" class="string">&quot;inside defdef: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;; type: &quot;)" class="string">&quot;; type: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;; owner: &quot;)" class="string">&quot;; owner: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471006" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="#1008310" title="SpecializeTypes.this.global.Apply">fun</a>,
                  <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408427" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a>,
                  <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1008283" title="SpecializeTypes.this.global.Symbol">original</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408427" title="=&gt; SpecializeTypes.this.global.Type">finalResultType</a><span class="delimiter">)</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;created special overload tree &quot;)" class="string">&quot;created special overload tree &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008285" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;created &quot;)" class="string">&quot;created &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008285" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <a href="#1006833" title="(body: =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(handler: SpecializeTypes.this.global.TypeError =&gt; SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">reportError</a> <span class="delimiter">{</span>
                <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#1008285" title="SpecializeTypes.this.global.DefDef">t</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="delimiter">{</span>
                <a title="SpecializeTypes.this.global.TypeError" id="1008373">_</a> =&gt; <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> fwd @ Forward<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361291" class="delimiter">(</a><a href="#1002548" title="SpecializeTypes.this.global.Symbol" id="3361289">_</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;forward: &quot;)" class="string">&quot;forward: &quot;</span> <span title="(x$1: Any)String">+</span> fwd <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> ddef<span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1008390">rhs1</a> = <a href="#622137" title="(pos: scala.reflect.internal.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree">forwardCall</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470988" title="(pre: SpecializeTypes.this.global.gen.global.Type, sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; SpecializeTypes.this.global.Type">thisType</a>, fwd.<a href="#999645" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#1007920" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;--&gt;d completed forwarder to specialized overload: &quot;)" class="string">&quot;--&gt;d completed forwarder to specialized overload: &quot;</span> <span title="(x$1: Any)String">+</span> fwd.<a href="#999645" title="=&gt; SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008390" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="#1006833" title="(body: =&gt; SpecializeTypes.this.global.analyzer.global.Tree)(handler: SpecializeTypes.this.global.TypeError =&gt; SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">reportError</a> <span class="delimiter">{</span>
                <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1008410">_</a> =&gt; <a href="#1008390" title="SpecializeTypes.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="delimiter">{</span>
                <a title="SpecializeTypes.this.global.TypeError" id="1008415">_</a> =&gt; <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> SpecializedAccessor<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361293" class="delimiter">(</a><a href="#1003096" title="SpecializeTypes.this.global.Symbol" id="1008432">target</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="SpecializeTypes.this.global.gen.global.Tree" id="1008433">rhs1</a> = <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411203" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470989" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#1008432" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="../../../reflect/internal/Trees.scala.html#453516" title="(lhs: SpecializeTypes.this.global.Tree, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470989" title="(sym: SpecializeTypes.this.global.gen.global.Symbol)SpecializeTypes.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#1008432" title="SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1007920" title="List[List[SpecializeTypes.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; List[SpecializeTypes.this.global.ValDef]">head</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; SpecializeTypes.this.global.ValDef">head</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;specialized accessor: &quot;)" class="string">&quot;specialized accessor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008432" title="SpecializeTypes.this.global.Symbol">target</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008433" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1008460">_</a> =&gt; <a href="#1008433" title="SpecializeTypes.this.global.gen.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">case</span> Abstract<a href="#3361280" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361295" class="delimiter">(</a><a href="#1010276" title="SpecializeTypes.this.global.Symbol" id="1008479">targ</a><span class="delimiter">)</span> =&gt;
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;abstract: &quot;)" class="string">&quot;abstract: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008479" title="SpecializeTypes.this.global.Symbol">targ</a><span class="delimiter">)</span>
              <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538701" title="(tree: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1008483">rhs</a> =&gt; <a href="#1008483" title="SpecializeTypes.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#1007924" title="=&gt; SpecializeTypes.this.global.analyzer.global.Tree">transformDefDef</a>

        <span class="keyword">case</span> ValDef<a href="#3361307" title="SpecializeTypes.this.global.analyzer.global.Tree" id="3361347" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="SpecializeTypes.this.global.Modifiers" id="3361342">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="SpecializeTypes.this.global.TermName" id="3361343">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="SpecializeTypes.this.global.Tree" id="3361344">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="SpecializeTypes.this.global.Tree" id="3361345">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409862" title="=&gt; Boolean">isParamAccessor</a> =&gt;
          <span class="keyword">def</span> <a title="=&gt; SpecializeTypes.this.global.ValDef" id="1008496">transformValDef</a> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1006827" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a>.<a href="../../../collection/MapLike.scala.html#87537" title="(key: SpecializeTypes.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411435" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="#1006827" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]">body</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="SpecializeTypes.this.global.ValDef" id="1008497">tree1</a> = <a href="../../../reflect/internal/Trees.scala.html#408157" title="(vdef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">deriveValDef</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1008506">_</a> =&gt; <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411435" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408588" title="=&gt; SpecializeTypes.this.global.Tree">duplicate</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;now typing: &quot;)" class="string">&quot;now typing: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008497" title="SpecializeTypes.this.global.ValDef">tree1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; SpecializeTypes.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="1008498">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#622132" title="SpecializeTypes.this.Duplicator">Duplicator</a><span class="delimiter">(</span><a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="d.global.Tree" id="1008499">newValDef</a> = <a href="#1008498" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#979834" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span class="delimiter">(</span>
            <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538563" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#537993" title="d.Context">Context</a><span class="delimiter">]</span>,
            <a href="#1008497" title="SpecializeTypes.this.global.ValDef">tree1</a>,
            <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411435" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
            <a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
            <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1006873" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411435" title="=&gt; SpecializeTypes.this.global.Symbol">alias</a><span class="delimiter">)</span> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="../../../reflect/internal/Trees.scala.html#408157" title="(vdef: SpecializeTypes.this.global.Tree)(applyToRhs: SpecializeTypes.this.global.Tree =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">deriveValDef</a><span class="delimiter">(</span><a href="#1008499" title="d.global.Tree">newValDef</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1006836" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1008496" title="=&gt; SpecializeTypes.this.global.ValDef">transformValDef</a>

        <span class="keyword">case</span> _ =&gt;
          <a href="#1006825" title="SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; class CollectMethodBodies extends SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><a href="#3361352" title="(x: SpecializeTypes.this.global.analyzer.global.Tree)SpecializeTypes.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#1006872" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Duplicate the body of the given method `tree` to the new symbol `source`.
     *
     *  Knowing that the method can be invoked only in the `castmap` type environment,
     *  this method will insert casts for all the expressions of types mappend in the
     *  `castmap`.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol, castmap: SpecializeTypes.this.TypeEnv)d.global.Tree forSome { val d: SpecializeTypes.this.Duplicator }" id="1006838">duplicateBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="1007997">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407963" title="SpecializeTypes.this.global.DefDef">DefDef</a>, <a title="SpecializeTypes.this.global.Symbol" id="1007998">source</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="SpecializeTypes.this.TypeEnv" id="1008000">castmap</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="SpecializeTypes.this.TypeEnv">TypeEnv</a> = <a href="#622029" title="=&gt; SpecializeTypes.this.TypeEnv">emptyEnv</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1008001">symbol</a> = <a href="#1007997" title="SpecializeTypes.this.global.DefDef">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.DefDef" id="1008002">meth</a>   = <a href="#1006839" title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef">addBody</a><span class="delimiter">(</span><a href="#1007997" title="SpecializeTypes.this.global.DefDef">tree</a>, <a href="#1007998" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="SpecializeTypes.this.Duplicator" id="1008003">d</a> = <span title="SpecializeTypes.this.Duplicator" class="keyword">new</span> <a href="#622132" title="SpecializeTypes.this.Duplicator">Duplicator</a><span class="delimiter">(</span><a href="#1008000" title="SpecializeTypes.this.TypeEnv">castmap</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;--&gt;d DUPLICATING: &quot;)" class="string">&quot;--&gt;d DUPLICATING: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008002" title="SpecializeTypes.this.global.DefDef">meth</a><span class="delimiter">)</span>
      <a href="#1008003" title="SpecializeTypes.this.Duplicator">d</a>.<a href="../typechecker/Duplicators.scala.html#979834" title="(context: d.Context, tree: d.global.Tree, oldThis: d.global.Symbol, newThis: d.global.Symbol, env: scala.collection.Map[d.global.Symbol,d.global.Type])d.global.Tree">retyped</a><span class="delimiter">(</span>
        <a href="TypingTransformers.scala.html#984456" title="=&gt; SpecializeTypes.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#538563" title="=&gt; SpecializeTypes.this.global.analyzer.Context">context1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="d.Context" class="delimiter">[</span>d.<a href="../typechecker/Contexts.scala.html#537993" title="d.Context">Context</a><span class="delimiter">]</span>,
        <a href="#1008002" title="SpecializeTypes.this.global.DefDef">meth</a>,
        <a href="#1007998" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
        <a href="#1008001" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
        <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1007998" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span> <a href="../../../collection/immutable/MapLike.scala.html#120404" title="(xs: scala.collection.GenTraversableOnce[(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.global.Type)])scala.collection.immutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Type]">++</a> <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1008001" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Put the body of 'source' as the right hand side of the method 'tree'.
     *  The destination method gets fresh symbols for type and value parameters,
     *  and the body is updated to the new symbols, and owners adjusted accordingly.
     *  However, if the same source tree is used in more than one place, full re-typing
     *  is necessary. @see method duplicateBody
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.DefDef, source: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.DefDef" id="1006839">addBody</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.DefDef" id="1008004">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407963" title="SpecializeTypes.this.global.DefDef">DefDef</a>, <a title="SpecializeTypes.this.global.Symbol" id="1008005">source</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407963" title="SpecializeTypes.this.global.DefDef">DefDef</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Symbol" id="1008774">symbol</a> = <a href="#1008004" title="SpecializeTypes.this.global.DefDef">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;specializing body of&quot;)" class="string">&quot;specializing body of&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008774" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a><span class="delimiter">)</span>
      <span class="keyword">val</span> DefDef<a href="#3361377" title="(x: (List[SpecializeTypes.this.global.TypeDef], List[SpecializeTypes.this.global.ValDef], SpecializeTypes.this.global.Tree))(List[SpecializeTypes.this.global.TypeDef], List[SpecializeTypes.this.global.ValDef], SpecializeTypes.this.global.Tree)" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="SpecializeTypes.this.global.Modifiers" id="3361368">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="SpecializeTypes.this.global.Name" id="3361369">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[SpecializeTypes.this.global.TypeDef]" id="1008776">tparams</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="List[SpecializeTypes.this.global.ValDef]" id="1008777">vparams</a> <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[SpecializeTypes.this.global.ValDef]]" id="3361373">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[List[SpecializeTypes.this.global.ValDef]]" id="3361375">Nil</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="SpecializeTypes.this.global.Tree" id="1008778">tpt</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="SpecializeTypes.this.global.Tree" id="3361371">_</a><span class="delimiter">)</span> = <a href="#1008004" title="SpecializeTypes.this.global.DefDef">tree</a>
//      val (_, origtparams) = splitParams(source.typeParams)
      <span class="keyword">val</span> <a title="SpecializeTypes.this.TypeEnv" id="1008779">env</a> = <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1008774" title="SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]" id="1008780">boundTvars</a> = <a href="#1008779" title="SpecializeTypes.this.TypeEnv">env</a>.<a href="../../../collection/immutable/MapLike.scala.html#120411" title="=&gt; scala.collection.immutable.Set[SpecializeTypes.this.global.Symbol]">keySet</a>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1008781">origtparams</a> = <a href="#1008005" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableLike.scala.html#58073" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)List[SpecializeTypes.this.global.Symbol]">filter</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1008838">tparam</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: SpecializeTypes.this.global.Symbol)Boolean">boundTvars</a><span class="delimiter">(</span><a href="#1008838" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409300" title="(tp: SpecializeTypes.this.global.Type)Boolean">isPrimitiveValueType</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Type">env</a><span class="delimiter">(</span><a href="#1008838" title="SpecializeTypes.this.global.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1008781" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1008774" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;substituting &quot;)" class="string">&quot;substituting &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008781" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1008774" title="SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[SpecializeTypes.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>

      // skolemize type parameters
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1008782">oldtparams</a> = <a href="#1008776" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.TypeDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.TypeDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1008882" title="SpecializeTypes.this.global.TypeDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1008783">newtparams</a> = <a href="../../../reflect/internal/ExistentialsAndSkolems.scala.html#407732" title="(tparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">deriveFreshSkolems</a><span class="delimiter">(</span><a href="#1008782" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/util/Collections.scala.html#406731" title="(xs1: List[SpecializeTypes.this.global.TypeDef], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.TypeDef, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.TypeDef)List[SpecializeTypes.this.global.TypeDef]">map2</a><span class="delimiter">(</span><a href="#1008776" title="List[SpecializeTypes.this.global.TypeDef]">tparams</a>, <a href="#1008783" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1008933" title="SpecializeTypes.this.global.TypeDef">_</a> <a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: SpecializeTypes.this.global.Symbol)x$87.type">setSymbol</a> <a href="#1008934" title="SpecializeTypes.this.global.Symbol">_</a><span class="delimiter">)</span>

      // create fresh symbols for value parameters to hold the skolem types
      <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1008784">newSyms</a> = <a href="../../../reflect/internal/Symbols.scala.html#407192" title="(syms: List[SpecializeTypes.this.global.Symbol], owner: SpecializeTypes.this.global.Symbol, infoFn: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.Type)List[SpecializeTypes.this.global.Symbol]">cloneSymbolsAtOwnerAndModify</a><span class="delimiter">(</span><a href="#1008777" title="List[SpecializeTypes.this.global.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.ValDef],SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]])List[SpecializeTypes.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1008962" title="SpecializeTypes.this.global.ValDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>, <a href="#1008774" title="SpecializeTypes.this.global.Symbol">symbol</a>, <a href="#1008992" title="SpecializeTypes.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408465" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#1008782" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#1008783" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // replace value and type parameters of the old method with the new ones
      // log(&quot;Adding body for &quot; + tree.symbol + &quot; - origtparams: &quot; + origtparams + &quot;; tparams: &quot; + tparams)
      // log(&quot;Type vars of: &quot; + source + &quot;: &quot; + source.typeParams)
      // log(&quot;Type env of: &quot; + tree.symbol + &quot;: &quot; + boundTvars)
      // log(&quot;newtparams: &quot; + newtparams)
      <span class="keyword">val</span> <a title="SpecializeTypes.this.ImplementationAdapter" id="1008785">symSubstituter</a> = <span title="SpecializeTypes.this.ImplementationAdapter" class="keyword">new</span> <a href="#622133" title="SpecializeTypes.this.ImplementationAdapter">ImplementationAdapter</a><span class="delimiter">(</span>
        <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">parameters</a><span class="delimiter">(</span><a href="#1008005" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#1008781" title="List[SpecializeTypes.this.global.Symbol]">origtparams</a>,
        <a href="#1008784" title="List[SpecializeTypes.this.global.Symbol]">newSyms</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Symbol]">:::</a> <a href="#1008783" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a>,
        <a href="#1008005" title="SpecializeTypes.this.global.Symbol">source</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; SpecializeTypes.this.global.Symbol">enclClass</a>,
        <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> // don't make private fields public

      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1008786">newBody</a> = <a href="../../../reflect/internal/Trees.scala.html#481162" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">symSubstituter</a><span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree">body</a><span class="delimiter">(</span><a href="#1008005" title="SpecializeTypes.this.global.Symbol">source</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408588" title="=&gt; SpecializeTypes.this.global.Tree">duplicate</a><span class="delimiter">)</span>
      <a href="#1008778" title="SpecializeTypes.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408574" title="(t: SpecializeTypes.this.global.Type)Unit">tpe</a> = <a href="#1008778" title="SpecializeTypes.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; SpecializeTypes.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408465" title="(from: List[SpecializeTypes.this.global.Symbol], to: List[SpecializeTypes.this.global.Symbol])SpecializeTypes.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#1008782" title="List[SpecializeTypes.this.global.Symbol]">oldtparams</a>, <a href="#1008783" title="List[SpecializeTypes.this.global.Symbol]">newtparams</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">copyDefDef</a><a href="../../../reflect/internal/Trees.scala.html#486469" title="SpecializeTypes.this.global.Modifiers" id="1009149" class="delimiter">(</a><a href="#1008004" title="SpecializeTypes.this.global.DefDef" id="1009070">tree</a><span class="delimiter">)</span><span class="delimiter">(</span>vparamss = <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: List[SpecializeTypes.this.global.ValDef]*)List[List[SpecializeTypes.this.global.ValDef]]">List</a><a title="List[List[SpecializeTypes.this.global.ValDef]]" id="1009144" class="delimiter">(</a><a href="#1008784" title="List[SpecializeTypes.this.global.Symbol]">newSyms</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Symbol =&gt; SpecializeTypes.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Symbol],SpecializeTypes.this.global.ValDef,List[SpecializeTypes.this.global.ValDef]])List[SpecializeTypes.this.global.ValDef]">map</a> <a href="../../../reflect/internal/Trees.scala.html#408103" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">)</span>, rhs = <a href="#1008786" title="SpecializeTypes.this.global.Tree" id="1009145">newBody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Create trees for specialized members of 'sClass', based on the
     *  symbols that are already there.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sClass: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Tree]" id="1006840">makeSpecializedMembers</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1007736">sClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      // add special overrides first
//      if (!specializedClass.hasFlag(SPECIALIZED))
//        for (m &lt;- specialOverrides(specializedClass)) specializedClass.info.decls.enter(m)
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="1009150">mbrs</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="Boolean" id="1009151">hasSpecializedFields</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1009181">m</a> &lt;- <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: SpecializeTypes.this.global.Symbol =&gt; Any)Unit">decls</a>
             <span class="keyword">if</span> <a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
                 <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411483" title="=&gt; scala.reflect.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
                 <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#622130" title="(env: SpecializeTypes.this.TypeEnv, warnings: Boolean)Boolean">satisfiable</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>, <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;creating tree for &quot;)" class="string">&quot;creating tree for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#998851" title="=&gt; SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409839" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <a href="#1009151" title="Boolean">hasSpecializedFields</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span title="mbrs.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411200" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.Symbol]" id="1009203">origParams</a> = <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">parameters</a><span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.SpecializedInfo">info</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span>.<a href="#998851" title="=&gt; SpecializeTypes.this.global.Symbol">target</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TermSymbol]" id="1009204">vparams</a> = <span class="delimiter">(</span>
              <a href="../../../reflect/internal/util/Collections.scala.html#406731" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.TermSymbol)List[SpecializeTypes.this.global.TermSymbol]">map2</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a>, <a href="#1009203" title="List[SpecializeTypes.this.global.Symbol]">origParams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1009263">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="1009264">sym</a><span class="delimiter">)</span> =&gt;
                <a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411109" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#622092" title="(sym: SpecializeTypes.this.global.Symbol, env: SpecializeTypes.this.TypeEnv)SpecializeTypes.this.global.TermName">specializedName</a><span class="delimiter">(</span><a href="#1009264" title="SpecializeTypes.this.global.Symbol">sym</a>, <a href="../../../collection/MapLike.scala.html#87535" title="(key: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.TypeEnv">typeEnv</a><span class="delimiter">(</span><a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1009264" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a>, <a href="#1009264" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TermSymbol">setInfo</a> <a href="#1009263" title="SpecializeTypes.this.global.Type">tp</a>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
            // param accessors for private members (the others are inherited from the generic class)
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411287" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.TermSymbol" id="1009310">param</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: SpecializeTypes.this.global.TermSymbol =&gt; scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree])Unit">vparams</a> ; <span class="keyword">if</span> <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408452" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#1009310" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#411609" title="=&gt; SpecializeTypes.this.global.TermName">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="param.TypeOfClonedSymbol" id="1009311">acc</a> = <a href="#1009310" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#411419" title="(newOwner: SpecializeTypes.this.global.Symbol, newFlags: Long)param.TypeOfClonedSymbol">cloneSymbol</a><span class="delimiter">(</span><a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>, <a href="#1009310" title="SpecializeTypes.this.global.TermSymbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(536870912)">PARAMACCESSOR</span> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(4)">PRIVATE</span><span class="delimiter">)</span>
                <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; SpecializeTypes.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: param.TypeOfClonedSymbol)param.TypeOfClonedSymbol">enter</a><span class="delimiter">(</span><a href="#1009311" title="param.TypeOfClonedSymbol">acc</a><span class="delimiter">)</span>
                <a href="#1009150" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</a> <a href="../../../reflect/internal/Trees.scala.html#408102" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#1009311" title="param.TypeOfClonedSymbol">acc</a>, <a href="../../../reflect/internal/Trees.scala.html#407946" title="SpecializeTypes.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#407284" title="SpecializeTypes.this.global.NoType.type">NoType</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.ValDef">setPos</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            // ctor
            <a href="#1009150" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</a> <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408106" title="(sym: SpecializeTypes.this.global.Symbol, mods: SpecializeTypes.this.global.Modifiers, vparamss: List[List[SpecializeTypes.this.global.ValDef]], rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="../../../reflect/api/Trees.scala.html#56479" title="(flags: SpecializeTypes.this.global.FlagSet)SpecializeTypes.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/util/Collections.scala.html#406717" title="(xss: List[List[SpecializeTypes.this.global.TermSymbol]])(f: SpecializeTypes.this.global.TermSymbol =&gt; SpecializeTypes.this.global.ValDef)List[List[SpecializeTypes.this.global.ValDef]]">mmap</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: List[SpecializeTypes.this.global.TermSymbol]*)List[List[SpecializeTypes.this.global.TermSymbol]]">List</a><span class="delimiter">(</span><a href="#1009204" title="List[SpecializeTypes.this.global.TermSymbol]">vparams</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408103" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#407946" title="SpecializeTypes.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1009150" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</a> <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408110" title="(sym: SpecializeTypes.this.global.Symbol, rhs: List[List[SpecializeTypes.this.global.Symbol]] =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>, <span class="delimiter">{</span> <a title="List[List[SpecializeTypes.this.global.Symbol]]" id="1009464">paramss</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#407946" title="SpecializeTypes.this.global.EmptyTree.type">EmptyTree</a> <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411209" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1009150" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</a> <a href="../../../reflect/internal/Trees.scala.html#408102" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>, <a href="../../../reflect/internal/Trees.scala.html#407946" title="SpecializeTypes.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.ValDef">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#407284" title="SpecializeTypes.this.global.NoType.type">NoType</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.ValDef">setPos</a><span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009181" title="SpecializeTypes.this.global.Symbol">m</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
//           mbrs  +=
//              ClassDef(m, Template(m.info.parents map TypeTree, emptyValDef, List())
//                         .setSymbol(m.newLocalDummy(m.pos)))
//            log(&quot;created synthetic class: &quot; + m.fullName)
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1009151" title="Boolean">hasSpecializedFields</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="1009506">isSpecializedInstance</a> = <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: SpecializeTypes.this.global.Symbol)List[SpecializeTypes.this.global.Symbol]">::</a> <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411441" title="=&gt; List[SpecializeTypes.this.global.Symbol]">parentSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: SpecializeTypes.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1009522" title="SpecializeTypes.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(1099511627776L)">SPECIALIZED</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="SpecializeTypes.this.global.MethodSymbol" id="1009507">sym</a> = <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: SpecializeTypes.this.global.TermName, pos: SpecializeTypes.this.global.Position, newFlags: Long)SpecializeTypes.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414036" title="=&gt; SpecializeTypes.this.global.nme.NameType">SPECIALIZED_INSTANCE</a>, <a href="#1007736" title="SpecializeTypes.this.global.Symbol">sClass</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411373" title="(info: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodSymbol">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[SpecializeTypes.this.global.Symbol], resultType: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../reflect/internal/Definitions.scala.html#409369" title="=&gt; SpecializeTypes.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>

        <a href="#1009150" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: SpecializeTypes.this.global.Tree)mbrs.type">+=</a> <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.DefDef)SpecializeTypes.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#1009507" title="SpecializeTypes.this.global.MethodSymbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: SpecializeTypes.this.global.Symbol, rhs: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1009507" title="SpecializeTypes.this.global.MethodSymbol">sym</a>, <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#1009506" title="Boolean">isSpecializedInstance</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Literal">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409369" title="=&gt; SpecializeTypes.this.global.ClassSymbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.DefDef">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#407284" title="SpecializeTypes.this.global.NoType.type">NoType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#1009150" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">mbrs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</a>
    <span class="delimiter">}</span>

    /** Create specialized class definitions */
    <span class="keyword">def</span> <a title="(trees: List[SpecializeTypes.this.global.Tree])List[SpecializeTypes.this.global.Tree]" id="1006841">implSpecClasses</a><span class="delimiter">(</span><a title="List[SpecializeTypes.this.global.Tree]" id="1007644">trees</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" id="1009581">buf</a> = <span title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1009602">tree</a> &lt;- <a href="../../../collection/immutable/List.scala.html#62719" title="(f: SpecializeTypes.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span>
        <a href="#1009602" title="SpecializeTypes.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#3361398" title="Unit" id="3361403" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="SpecializeTypes.this.global.Modifiers" id="3361399">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="SpecializeTypes.this.global.TypeName" id="3361400">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[SpecializeTypes.this.global.TypeDef]" id="3361401">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="SpecializeTypes.this.global.Template" id="1009619">impl</a><span class="delimiter">)</span> =&gt;
            <a href="#1009602" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a> // force specialization
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv)" id="3361392" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1009646">sym1</a>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.TypeEnv" id="1009647">env</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.global.Symbol" id="1009648">specCls</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: (((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.TypeEnv), SpecializeTypes.this.global.Symbol)) =&gt; Unit)Unit">specializedClass</a> <span class="keyword">if</span> <a href="#1009646" title="SpecializeTypes.this.global.Symbol">sym1</a> <a href="#3361387" title="(x: Boolean)Boolean">==</a> <a href="#1009602" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="#3361394" title="(x: Unit)Unit" class="delimiter">{</a>
              <span class="keyword">val</span> <a title="List[SpecializeTypes.this.global.TypeTree]" id="1009649">parents</a> = <a href="#1009648" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[SpecializeTypes.this.global.Type]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: SpecializeTypes.this.global.Type =&gt; SpecializeTypes.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[SpecializeTypes.this.global.Type],SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]])List[SpecializeTypes.this.global.TypeTree]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,SpecializeTypes.this.global.TypeTree,List[SpecializeTypes.this.global.TypeTree]]" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.TypeTree">TypeTree</a><span class="delimiter">)</span>
              <a href="#1009581" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: SpecializeTypes.this.global.Tree)buf.type">+=</a>
                <a href="../../../reflect/internal/Trees.scala.html#408100" title="(sym: SpecializeTypes.this.global.Symbol, impl: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#1009648" title="SpecializeTypes.this.global.Symbol">specCls</a>, <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Template)SpecializeTypes.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#1009619" title="SpecializeTypes.this.global.Template">impl</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#452941" title="(parents: List[SpecializeTypes.this.global.Tree], self: SpecializeTypes.this.global.ValDef, body: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Template">Template</a><span class="delimiter">(</span><a href="#1009649" title="List[SpecializeTypes.this.global.TypeTree]">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#408104" title="SpecializeTypes.this.global.emptyValDef.type">emptyValDef</a>, List<a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                           .<a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Template">setSymbol</a><span class="delimiter">(</span><a href="#1009648" title="SpecializeTypes.this.global.Symbol">specCls</a>.<a href="../../../reflect/internal/Symbols.scala.html#411112" title="(pos: SpecializeTypes.this.global.Position)SpecializeTypes.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#1009646" title="SpecializeTypes.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; SpecializeTypes.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)SpecializeTypes.this.global.ClassDef">setPos</a> <a href="#1009602" title="SpecializeTypes.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; SpecializeTypes.this.global.Position">pos</a>
              <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;created synthetic class: &quot;)" class="string">&quot;created synthetic class: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1009648" title="SpecializeTypes.this.global.Symbol">specCls</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1009646" title="SpecializeTypes.this.global.Symbol">sym1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#622112" title="(env: SpecializeTypes.this.TypeEnv)String">pp</a><span class="delimiter">(</span><a href="#1009647" title="SpecializeTypes.this.TypeEnv">env</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <a href="#1009581" title="scala.collection.mutable.ListBuffer[SpecializeTypes.this.global.Tree]">buf</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[SpecializeTypes.this.global.Tree]">toList</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.reflect.internal.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]])SpecializeTypes.this.global.Tree" id="622137">forwardCall</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.Position" id="1008391">pos</a>: scala.reflect.internal.util.<a href="../../../reflect/internal/util/Position.scala.html#22953" title="scala.reflect.internal.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="1008392">receiver</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="1008393">paramss</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[List[SpecializeTypes.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.Ident]]" id="1009949">argss</a> = <a href="../../../reflect/internal/util/Collections.scala.html#406717" title="(xss: List[List[SpecializeTypes.this.global.ValDef]])(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.Ident)List[List[SpecializeTypes.this.global.Ident]]">mmap</a><span class="delimiter">(</span><a href="#1008393" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="1009967">x</a> =&gt; <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1009967" title="SpecializeTypes.this.global.ValDef">x</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1008391" title="scala.reflect.internal.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#1008392" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="../../../collection/TraversableOnce.scala.html#58196" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.Ident]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#1009949" title="List[List[SpecializeTypes.this.global.Ident]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408037" title="SpecializeTypes.this.global.Apply.type">Apply</a>.<a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Forward to the generic class constructor. If the current class initializes
   *  specialized fields corresponding to parameters, it passes null to the superclass
   *  constructor. This saves the boxing cost for initializing generic fields that are
   *  never used.
   *
   *  For example:
   *  {{{
   *    case class Tuple2[T, U](x: T, y: U)
   *
   *    class Tuple2$II {
   *      val _x$I: Int = ..
   *      def x = _x$I
   *      // same for y
   *      def this(x: Int, y: Int) {
   *        super.this(null.asInstanceOf[Int], null.asInstanceOf[Int])
   *      }
   *    }
   *  }}
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: scala.reflect.internal.util.Position, receiver: SpecializeTypes.this.global.Tree, paramss: List[List[SpecializeTypes.this.global.ValDef]], clazz: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Tree" id="622138">forwardCtorCall</a><span class="delimiter">(</span><a title="scala.reflect.internal.util.Position" id="1007953">pos</a>: scala.reflect.internal.util.<a href="../../../reflect/internal/util/Position.scala.html#22953" title="scala.reflect.internal.util.Position">Position</a>, <a title="SpecializeTypes.this.global.Tree" id="1007954">receiver</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a>, <a title="List[List[SpecializeTypes.this.global.ValDef]]" id="1007955">paramss</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[List[SpecializeTypes.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="SpecializeTypes.this.global.Symbol" id="1007956">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a> = <span class="delimiter">{</span>

    /** A constructor parameter `f` initializes a specialized field
     *  iff:
     *    - it is specialized itself
     *    - there is a getter for the original (non-specialized) field in the same class
     *    - there is a getter for the specialized field in the same class
     */
    <span class="keyword">def</span> <a title="(f: SpecializeTypes.this.global.Symbol)Boolean" id="1010004">initializesSpecializedField</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1010006">f</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#1010006" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; f.NameType">name</a> <a href="../../../reflect/internal/Names.scala.html#410402" title="(suffix: SpecializeTypes.this.global.Name)Boolean">endsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413668" title="=&gt; SpecializeTypes.this.global.nme.NameType">SPECIALIZED_SUFFIX</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1007956" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="SpecializeTypes.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414062" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Name">originalName</a><span class="delimiter">(</span><a href="#1010006" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; f.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/HasFlags.scala.html#409868" title="=&gt; Boolean">isPublic</a>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1007956" title="SpecializeTypes.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: SpecializeTypes.this.global.Name)SpecializeTypes.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1010006" title="SpecializeTypes.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; f.NameType">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411415" title="(cond: SpecializeTypes.this.global.Symbol =&gt; Boolean)SpecializeTypes.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#1010025" title="SpecializeTypes.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411203" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; SpecializeTypes.this.global.NoSymbol">NoSymbol</a>
    <span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="List[List[SpecializeTypes.this.global.gen.global.Tree]]" id="1010005">argss</a> = <a href="../../../reflect/internal/util/Collections.scala.html#406717" title="(xss: List[List[SpecializeTypes.this.global.ValDef]])(f: SpecializeTypes.this.global.ValDef =&gt; SpecializeTypes.this.global.gen.global.Tree)List[List[SpecializeTypes.this.global.gen.global.Tree]]">mmap</a><span class="delimiter">(</span><a href="#1007955" title="List[List[SpecializeTypes.this.global.ValDef]]">paramss</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.ValDef" id="1010044">x</a> =&gt;
      <span title="SpecializeTypes.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1010004" title="(f: SpecializeTypes.this.global.Symbol)Boolean">initializesSpecializedField</a><span class="delimiter">(</span><a href="#1010044" title="SpecializeTypes.this.global.ValDef">x</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471005" title="(value: SpecializeTypes.this.global.gen.global.Tree, tpe: SpecializeTypes.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)SpecializeTypes.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: SpecializeTypes.this.global.Constant)SpecializeTypes.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)SpecializeTypes.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1010044" title="SpecializeTypes.this.global.ValDef">x</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1010044" title="SpecializeTypes.this.global.ValDef">x</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; SpecializeTypes.this.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: SpecializeTypes.this.global.Position)(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#1007953" title="scala.reflect.internal.util.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a href="#1007954" title="SpecializeTypes.this.global.Tree">receiver</a> <a href="../../../collection/TraversableOnce.scala.html#58196" title="(z: SpecializeTypes.this.global.Tree)(op: (SpecializeTypes.this.global.Tree, List[SpecializeTypes.this.global.gen.global.Tree]) =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">/:</a> <a href="#1010005" title="List[List[SpecializeTypes.this.global.gen.global.Tree]]">argss</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408037" title="SpecializeTypes.this.global.Apply.type">Apply</a>.<a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: SpecializeTypes.this.global.Tree, args: List[SpecializeTypes.this.global.Tree])SpecializeTypes.this.global.Apply">apply</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Add method m to the set of symbols for which we need an implementation tree
   *  in the tree transformer.
   *
   *  @note This field is part of the specializeTypes subcomponent, so any symbols
   *        that here are not garbage collected at the end of a compiler run!
   */
  <span class="keyword">def</span> <a title="(m: SpecializeTypes.this.global.Symbol)Unit" id="622139">addConcreteSpecMethod</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1002783">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; SpecializeTypes.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539423" title="(sym: SpecializeTypes.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#1002783" title="SpecializeTypes.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#622046" title="=&gt; scala.reflect.internal.util.WeakHashSet[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a> <a href="../../../reflect/internal/util/WeakHashSet.scala.html#472112" title="(elem: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.concreteSpecMethods.type">+=</a> <a href="#1002783" title="SpecializeTypes.this.global.Symbol">m</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fun: SpecializeTypes.this.global.Symbol, vparams: List[SpecializeTypes.this.global.Symbol])List[SpecializeTypes.this.global.Tree]" id="622140">makeArguments</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Symbol" id="1008348">fun</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="SpecializeTypes.this.global.Symbol">Symbol</a>, <a title="List[SpecializeTypes.this.global.Symbol]" id="1008349">vparams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[SpecializeTypes.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">(</span>
    //! TODO: make sure the param types are seen from the right prefix
    <a href="../../../reflect/internal/util/Collections.scala.html#406731" title="(xs1: List[SpecializeTypes.this.global.Type], xs2: List[SpecializeTypes.this.global.Symbol])(f: (SpecializeTypes.this.global.Type, SpecializeTypes.this.global.Symbol) =&gt; SpecializeTypes.this.global.gen.global.Tree)List[SpecializeTypes.this.global.gen.global.Tree]">map2</a><span class="delimiter">(</span><a href="#1008348" title="SpecializeTypes.this.global.Symbol">fun</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; SpecializeTypes.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[SpecializeTypes.this.global.Type]">paramTypes</a>, <a href="#1008349" title="List[SpecializeTypes.this.global.Symbol]">vparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1010106">tp</a>, <a title="SpecializeTypes.this.global.Symbol" id="1010107">arg</a><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#537460" title="SpecializeTypes.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471006" title="(tree: SpecializeTypes.this.global.gen.global.Tree, pt: SpecializeTypes.this.global.gen.global.Type, tpe: SpecializeTypes.this.global.gen.global.Type, beforeRefChecks: Boolean)SpecializeTypes.this.global.gen.global.Tree">maybeMkAsInstanceOf</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#1010107" title="SpecializeTypes.this.global.Symbol">arg</a><span class="delimiter">)</span>, <a href="#1010106" title="SpecializeTypes.this.global.Type">tp</a>, <a href="#1010107" title="SpecializeTypes.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; SpecializeTypes.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" id="622141">findSpec</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Type" id="1006978">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="SpecializeTypes.this.global.Type">Type</a> = <a href="#1006978" title="SpecializeTypes.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> TypeRef<a href="#3361410" title="SpecializeTypes.this.global.Type" id="3361413" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="SpecializeTypes.this.global.Type" id="1010123">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="SpecializeTypes.this.global.Symbol" id="1010124">sym</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="SpecializeTypes.this.global.Type" id="3361414">_</a> <a href="../../../reflect/internal/Types.scala.html#410891" title="List[SpecializeTypes.this.global.Type]" id="3361416">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[SpecializeTypes.this.global.Type]" id="3361415">_</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">specializedType</a><a href="#3361418" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type" class="delimiter">(</a><a href="#1006978" title="SpecializeTypes.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _                         =&gt; <a href="#3361418" title="(x: SpecializeTypes.this.global.Type)SpecializeTypes.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SpecializationTransformer extends SpecializeTypes.this.global.Transformer" id="622142">SpecializationTransformer</a><a href="#622142" title="SpecializeTypes.this.SpecializationTransformer" class="delimiter">(</a><a title="SpecializeTypes.this.global.CompilationUnit" id="999584">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="SpecializeTypes.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#537817" title="SpecializeTypes.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <a href="../Global.scala.html#537506" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="String(&quot;specializing &quot;)" class="string">&quot;specializing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#999584" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree" id="999583">transform</a><span class="delimiter">(</span><a title="SpecializeTypes.this.global.Tree" id="1010140">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="SpecializeTypes.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="SpecializeTypes.this.global.Tree" id="1010142">resultTree</a> = <span title="SpecializeTypes.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#539947" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#1010140" title="SpecializeTypes.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="../Global.scala.html#537699" title="(op: =&gt; SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">afterSpecialize</a><span class="delimiter">(</span><a href="#622136" title="(unit: SpecializeTypes.this.global.CompilationUnit)SpecializeTypes.this.TypingTransformer{val body: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.global.Tree]; val parameters: scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.global.Symbol]]; type CollectMethodBodies &lt;: SpecializeTypes.this.global.Traverser; def doesConform(origSymbol: SpecializeTypes.this.global.Symbol,treeType: SpecializeTypes.this.global.Type,memberType: SpecializeTypes.this.global.Type,env: SpecializeTypes.this.TypeEnv): Boolean; def reportError[T](body: =&gt; T)(handler: SpecializeTypes.this.global.TypeError =&gt; T): T; def transform1(tree: SpecializeTypes.this.global.Tree): SpecializeTypes.this.global.analyzer.global.Tree; def implSpecClasses(trees: List[SpecializeTypes.this.global.Tree]): List[SpecializeTypes.this.global.Tree]}">specializeCalls</a><span class="delimiter">(</span><a href="#999584" title="SpecializeTypes.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>.<a href="TypingTransformers.scala.html#984469" title="(tree: SpecializeTypes.this.global.Tree)SpecializeTypes.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1010140" title="SpecializeTypes.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // Remove the final modifier and @inline annotation from anything in the
      // original class (since it's being overridden in at least onesubclass).
      //
      // We do this here so that the specialized subclasses will correctly copy
      // final and @inline.
      <a href="#622038" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<a href="../../../collection/mutable/HashMap.scala.html#88253" title="(f: ((SpecializeTypes.this.global.Symbol, SpecializeTypes.this.SpecializedInfo)) =&gt; Any)Unit">foreach</a> <a href="#1010205" title="(SpecializeTypes.this.global.Symbol, SpecializeTypes.this.SpecializedInfo)" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="SpecializeTypes.this.global.Symbol" id="1010208">sym</a>, SpecialOverload<a href="../../../Tuple2.scala.html#60637" title="SpecializeTypes.this.SpecializedInfo" id="3361427" class="delimiter">(</a><a href="#1004617" title="SpecializeTypes.this.global.Symbol" id="1010209">target</a>, <a href="#1004618" title="SpecializeTypes.this.TypeEnv" id="3361425">_</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#3361429" title="(x: Any)Any" class="delimiter">{</a>
          <a href="#1010208" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)sym.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
          <a href="#1010209" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)target.type">resetFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span>
          <a href="#1010208" title="SpecializeTypes.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#408617" title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409193" title="=&gt; SpecializeTypes.this.global.ClassSymbol">ScalaInlineClass</a><span class="delimiter">)</span>
          <a href="#1010209" title="SpecializeTypes.this.global.Symbol">target</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#408617" title="(cls: SpecializeTypes.this.global.Symbol)SpecializeTypes.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409193" title="=&gt; SpecializeTypes.this.global.ClassSymbol">ScalaInlineClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">case</span> _ =&gt; <a href="#3361429" title="(x: Any)Any" class="delimiter">{</a><span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#1010142" title="SpecializeTypes.this.global.Tree">resultTree</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="622143">printSpecStats</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    concreteSpecMembers: %7d&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#622046" title="=&gt; scala.reflect.internal.util.WeakHashSet[SpecializeTypes.this.global.Symbol]">concreteSpecMethods</a>.<a href="../../../reflect/internal/util/WeakHashSet.scala.html#472116" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    overloads:           %7d&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#622036" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,List[SpecializeTypes.this.Overload]]">overloads</a>.<a href="../../../collection/TraversableOnce.scala.html#58190" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    typeEnv:             %7d&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#622040" title="=&gt; scala.collection.mutable.Map[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.TypeEnv]">typeEnv</a>.<a href="../../../collection/TraversableOnce.scala.html#58190" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;    info:                %7d&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#622038" title="=&gt; scala.collection.mutable.HashMap[SpecializeTypes.this.global.Symbol,SpecializeTypes.this.SpecializedInfo]">info</a>.<a href="../../../collection/mutable/HashMap.scala.html#88241" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>