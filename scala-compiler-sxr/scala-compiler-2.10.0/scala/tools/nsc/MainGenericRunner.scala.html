<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/MainGenericRunner.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2006-2013 LAMP/EPFL
 * @author  Lex Spoon
 */

<span class="keyword">package</span> scala.tools.nsc

<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> scala.tools.util.PathResolver
<span class="keyword">import</span> io.<span class="delimiter">{</span> File <span class="delimiter">}</span>
<span class="keyword">import</span> util.<span class="delimiter">{</span> ClassPath, ScalaClassLoader <span class="delimiter">}</span>
<span class="keyword">import</span> <a href="Properties.scala.html#27455" title="scala.tools.nsc.Properties.type">Properties</a>.<span class="delimiter">{</span> versionString, copyrightString <span class="delimiter">}</span>
<span class="keyword">import</span> interpreter.<span class="delimiter">{</span> ILoop <span class="delimiter">}</span>
<span class="keyword">import</span> <a href="GenericRunnerCommand.scala.html#27875" title="scala.tools.nsc.GenericRunnerCommand.type">GenericRunnerCommand</a>._

<span class="keyword">object</span> <a title="scala.tools.nsc.JarRunner.type" id="27788">JarRunner</a> <a href="#27789" title="scala.tools.nsc.JarRunner.type" class="keyword">extends</a> <a href="ObjectRunner.scala.html#27664" title="scala.tools.nsc.CommonRunner">CommonRunner</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.GenericRunnerSettings, jarPath: String, arguments: Seq[String])Either[Throwable,Boolean]" id="635379">runJar</a><span class="delimiter">(</span><a title="scala.tools.nsc.GenericRunnerSettings" id="635381">settings</a>: <a href="GenericRunnerSettings.scala.html#27376" title="scala.tools.nsc.GenericRunnerSettings">GenericRunnerSettings</a>, <a title="String" id="635382">jarPath</a>: <span title="String">String</span>, <a title="Seq[String]" id="635383">arguments</a>: <a href="../../collection/Seq.scala.html#4340" title="Seq[String]">Seq</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../util/Either.scala.html#7222" title="Either[Throwable,Boolean]">Either</a><span class="delimiter">[</span>Throwable, Boolean<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.Jar" id="635385">jar</a>       = <a href="io/Jar.scala.html#635567" title="(path: String)scala.tools.nsc.io.Jar" class="keyword">new</a> io.<a href="io/Jar.scala.html#39951" title="scala.tools.nsc.io.Jar">Jar</a><span class="delimiter">(</span><a href="#635382" title="String">jarPath</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="String" id="635386">mainClass</a> = <a href="#635385" title="scala.tools.nsc.io.Jar">jar</a>.<a href="io/Jar.scala.html#635573" title="=&gt; Option[String]">mainClass</a> <a href="../../Option.scala.html#62859" title="(default: =&gt; String)String">getOrElse</a> sys.<a href="../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Cannot find main class for jar: &quot;)" class="string">&quot;Cannot find main class for jar: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#635382" title="String">jarPath</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="List[java.net.URL]" id="635387">jarURLs</a>   = <a href="util/ClassPath.scala.html#50228" title="scala.tools.nsc.util.ClassPath.type">ClassPath</a> <a href="util/ClassPath.scala.html#538296" title="(jarPath: String)List[java.net.URL]">expandManifestPath</a> <a href="#635382" title="String">jarPath</a>
    <span class="keyword">val</span> <a title="List[java.net.URL]" id="635388">urls</a>      = <span title="List[java.net.URL]" class="keyword">if</span> <span class="delimiter">(</span><a href="#635387" title="List[java.net.URL]">jarURLs</a>.<a href="../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../reflect/io/File.scala.html#530996" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">File</a><a href="../../io/Codec.scala.html#393359" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="../../reflect/io/Path.scala.html#531009" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">jarPath</a><span class="delimiter">)</span>.<a href="../../reflect/io/Path.scala.html#530878" title="=&gt; java.net.URL">toURL</a> <a href="../../collection/immutable/List.scala.html#62702" title="(elem: java.net.URL)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],java.net.URL,List[java.net.URL]])List[java.net.URL]">+:</a> <a href="#635381" title="scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#618186" title="=&gt; List[java.net.URL]">classpathURLs</a> <span class="keyword">else</span> <a href="#635387" title="List[java.net.URL]">jarURLs</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635381" title="scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="settings/ScalaSettings.scala.html#540071" title="=&gt; settings.BooleanSetting">Ylogcp</a>.<a href="settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../Console.scala.html#136" title="Console.type">Console</a>.<a href="../../Console.scala.html#63285" title="=&gt; java.io.PrintStream">err</a>.<span title="(x$1: String)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Running jar with these URLs as the classpath:&quot;)" class="string">&quot;Running jar with these URLs as the classpath:&quot;</span><span class="delimiter">)</span>
      <a href="#635388" title="List[java.net.URL]">urls</a> <a href="../../collection/immutable/List.scala.html#62719" title="(f: java.net.URL =&gt; Unit)Unit">foreach</a> <a href="../../Predef.scala.html#7514" title="(x: Any)Unit">println</a>
    <span class="delimiter">}</span>

    <a href="ObjectRunner.scala.html#635377" title="(urls: List[java.net.URL], objectName: String, arguments: Seq[String])Either[Throwable,Boolean]">runAndCatch</a><span class="delimiter">(</span><a href="#635388" title="List[java.net.URL]">urls</a>, <a href="#635386" title="String">mainClass</a>, <a href="#635383" title="Seq[String]">arguments</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/** An object that runs Scala code.  It has three possible
  * sources for the code to run: pre-compiled code, a script file,
  * or interactive entry.
  */
<span class="keyword">class</span> <a title="class MainGenericRunner extends Object" id="27187">MainGenericRunner</a> <a href="#27187" title="scala.tools.nsc.MainGenericRunner" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(ex: Throwable)Boolean" id="635773">errorFn</a><span class="delimiter">(</span><a title="Throwable" id="635777">ex</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#635777" title="Throwable">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(str: String)Boolean" id="635774">errorFn</a><span class="delimiter">(</span><a title="String" id="635780">str</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="../../Console.scala.html#136" title="Console.type">Console</a>.<a href="../../Console.scala.html#63285" title="=&gt; java.io.PrintStream">err</a> <span title="(x$1: String)Unit">println</span> <a href="#635780" title="String">str</a>
    <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(args: Array[String])Boolean" id="635775">process</a><span class="delimiter">(</span><a title="Array[String]" id="635785">args</a>: <a href="../../Array.scala.html#174" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.GenericRunnerCommand" id="635786">command</a> = <a href="GenericRunnerCommand.scala.html#618160" title="(args: List[String], error: String =&gt; Unit)scala.tools.nsc.GenericRunnerCommand" class="keyword">new</a> <a href="GenericRunnerCommand.scala.html#27874" title="scala.tools.nsc.GenericRunnerCommand">GenericRunnerCommand</a><span class="delimiter">(</span><a href="../../Predef.scala.html#7555" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">args</a>.<a href="../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[String]">toList</a>, <span class="delimiter">(</span>x: <span title="String">String</span><span class="delimiter">)</span> =&gt; <a href="#635774" title="(str: String)Boolean">errorFn</a><span title="Unit" class="delimiter">(</span><a href="#635859" title="String">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">import</span> <a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<span class="delimiter">{</span> settings, howToRun, thingToRun <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.Global" id="635788">sampleCompiler</a> = <a href="Global.scala.html#537450" title="(settings: scala.tools.nsc.Settings)scala.tools.nsc.Global" class="keyword">new</a> <a href="Global.scala.html#27346" title="scala.tools.nsc.Global">Global</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a><span class="delimiter">)</span>   // def so its not created unless needed

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#618171" title="=&gt; Boolean">ok</a><span class="delimiter">)</span>                      <span title="Nothing" class="keyword">return</span> <a href="#635774" title="(str: String)Boolean">errorFn</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#618178" title="=&gt; String">shortUsageMsg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="settings/StandardScalaSettings.scala.html#540230" title="=&gt; command.settings.BooleanSetting">version</a>.<a href="settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>      <span title="Nothing" class="keyword">return</span> <a href="#635774" title="(str: String)Boolean">errorFn</a><span class="delimiter">(</span><a href="../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Scala code runner %s -- %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../../util/Properties.scala.html#80174" title="=&gt; String">versionString</a>, <a href="../../util/Properties.scala.html#80176" title="=&gt; String">copyrightString</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="CompilerCommand.scala.html#600815" title="=&gt; Boolean">shouldStopWithInfo</a><span class="delimiter">)</span>  <span title="Nothing" class="keyword">return</span> <a href="#635774" title="(str: String)Boolean">errorFn</a><span class="delimiter">(</span><a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a> <a href="CompilerCommand.scala.html#600816" title="(global: scala.tools.nsc.Global)String">getInfoMessage</a> <a href="#635788" title="=&gt; scala.tools.nsc.Global">sampleCompiler</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="635789">isE</a>   = <a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#618191" title="=&gt; command.settings.StringSetting">execute</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#423750" title="=&gt; Boolean">isDefault</a>
    <span class="keyword">def</span> <a title="=&gt; command.settings.execute.T" id="635790">dashe</a> = <a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#618191" title="=&gt; command.settings.StringSetting">execute</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#423752" title="=&gt; command.settings.execute.T">value</a>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="635791">isI</a>   = <a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#618189" title="=&gt; command.settings.MultiStringSetting">loadfiles</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#423750" title="=&gt; Boolean">isDefault</a>
    <span class="keyword">def</span> <a title="=&gt; command.settings.loadfiles.T" id="635792">dashi</a> = <a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#618189" title="=&gt; command.settings.MultiStringSetting">loadfiles</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#423752" title="=&gt; command.settings.loadfiles.T">value</a>

    // Deadlocks on startup under -i unless we disable async.
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635791" title="=&gt; Boolean">isI</a><span class="delimiter">)</span>
      <a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="settings/ScalaSettings.scala.html#540117" title="=&gt; command.settings.BooleanSetting">Yreplsync</a>.<a href="../../reflect/internal/settings/MutableSettings.scala.html#423753" title="(arg: command.settings.Yreplsync.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">def</span> <a title="=&gt; String" id="635793">combinedCode</a>  = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[String]" id="635892">files</a>   = <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#635791" title="=&gt; Boolean">isI</a><span class="delimiter">)</span> <a href="#635792" title="=&gt; command.settings.loadfiles.T">dashi</a> <a href="../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="String" id="635913">file</a> =&gt; <a href="../../reflect/io/File.scala.html#530996" title="(path: scala.reflect.io.Path)(implicit codec: scala.io.Codec)scala.reflect.io.File">File</a><a href="../../io/Codec.scala.html#393359" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="../../reflect/io/Path.scala.html#531009" title="implicit scala.reflect.io.Path.string2path : (s: String)scala.reflect.io.Path">file</a><span class="delimiter">)</span>.<a href="../../reflect/io/Streamable.scala.html#530988" title="()String">slurp</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="keyword">val</span> <a title="List[command.settings.execute.T]" id="635893">str</a>     = <span title="List[command.settings.execute.T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#635789" title="=&gt; Boolean">isE</a><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#62451" title="(xs: command.settings.execute.T*)List[command.settings.execute.T]">List</a><span class="delimiter">(</span><a href="#635790" title="=&gt; command.settings.execute.T">dashe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>

      <a href="#635892" title="List[String]">files</a> <a href="../../collection/immutable/List.scala.html#62697" title="(that: scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">++</a> <a href="#635893" title="List[command.settings.execute.T]">str</a> <a href="../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a> <span title="String(&quot;\n\n&quot;)" class="string">&quot;\n\n&quot;</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Either[Throwable,Boolean]" id="635794">runTarget</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../util/Either.scala.html#7222" title="Either[Throwable,Boolean]">Either</a><span class="delimiter">[</span>Throwable, Boolean<span class="delimiter">]</span> = <a href="GenericRunnerCommand.scala.html#618175" title="=&gt; scala.tools.nsc.GenericRunnerCommand.HowToRun">howToRun</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="GenericRunnerCommand.scala.html#618144" title="Either[Throwable,Boolean]" id="3299307">AsObject</a> =&gt;
        <a href="ObjectRunner.scala.html#27299" title="scala.tools.nsc.ObjectRunner.type">ObjectRunner</a>.<a href="ObjectRunner.scala.html#635377" title="(urls: List[java.net.URL], objectName: String, arguments: Seq[String])Either[Throwable,Boolean]">runAndCatch</a><a href="#3299312" title="(x: Either[Throwable,Boolean])Either[Throwable,Boolean]" class="delimiter">(</a><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>.<a href="GenericRunnerSettings.scala.html#618186" title="=&gt; List[java.net.URL]">classpathURLs</a>, <a href="GenericRunnerCommand.scala.html#618173" title="=&gt; String">thingToRun</a>, <a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#618174" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="GenericRunnerCommand.scala.html#618146" title="Either[Throwable,Boolean]" id="3299308">AsScript</a> =&gt;
        <a href="ScriptRunner.scala.html#27857" title="scala.tools.nsc.ScriptRunner.type">ScriptRunner</a>.<a href="ScriptRunner.scala.html#636024" title="(settings: scala.tools.nsc.GenericRunnerSettings, scriptFile: String, scriptArgs: List[String])Either[Throwable,Boolean]">runScriptAndCatch</a><a href="#3299312" title="(x: Either[Throwable,Boolean])Either[Throwable,Boolean]" class="delimiter">(</a><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>, <a href="GenericRunnerCommand.scala.html#618173" title="=&gt; String">thingToRun</a>, <a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#618174" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="GenericRunnerCommand.scala.html#618142" title="Either[Throwable,Boolean]" id="3299309">AsJar</a>    =&gt;
        <a href="#27788" title="scala.tools.nsc.JarRunner.type">JarRunner</a>.<a href="#635379" title="(settings: scala.tools.nsc.GenericRunnerSettings, jarPath: String, arguments: Seq[String])Either[Throwable,Boolean]">runJar</a><a href="#3299312" title="(x: Either[Throwable,Boolean])Either[Throwable,Boolean]" class="delimiter">(</a><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>, <a href="GenericRunnerCommand.scala.html#618173" title="=&gt; String">thingToRun</a>, <a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#618174" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="GenericRunnerCommand.scala.html#618150" title="Either[Throwable,Boolean]" id="3299310">Error</a> =&gt;
        <a href="../../util/Either.scala.html#97673" title="(b: Boolean)scala.util.Right[Nothing,Boolean]">Right</a><a href="#3299312" title="(x: Either[Throwable,Boolean])Either[Throwable,Boolean]" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _  =&gt;
        // We start the repl when no arguments are given.
        <a href="../../util/Either.scala.html#97673" title="(b: Boolean)scala.util.Right[Nothing,Boolean]">Right</a><a href="#3299312" title="(x: Either[Throwable,Boolean])Either[Throwable,Boolean]" class="delimiter">(</a><a href="interpreter/ILoop.scala.html#632779" title="()scala.tools.nsc.interpreter.ILoop" class="keyword">new</a> <a href="interpreter/ILoop.scala.html#37218" title="scala.tools.nsc.interpreter.ILoop">ILoop</a> <a href="interpreter/ILoop.scala.html#632889" title="(settings: scala.tools.nsc.Settings)Boolean">process</a> <a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** If -e and -i were both given, we want to execute the -e code after the
     *  -i files have been included, so they are read into strings and prepended to
     *  the code given in -e.  The -i option is documented to only make sense
     *  interactively so this is a pretty reasonable assumption.
     *
     *  This all needs a rewrite though.
     */
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#635789" title="=&gt; Boolean">isE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="ScriptRunner.scala.html#27857" title="scala.tools.nsc.ScriptRunner.type">ScriptRunner</a>.<a href="ScriptRunner.scala.html#636025" title="(settings: scala.tools.nsc.GenericRunnerSettings, command: String, scriptArgs: List[String])Boolean">runCommand</a><span class="delimiter">(</span><a href="GenericRunnerCommand.scala.html#618157" title="=&gt; scala.tools.nsc.GenericRunnerSettings">settings</a>, <a href="#635793" title="=&gt; String">combinedCode</a>, <a href="GenericRunnerCommand.scala.html#618173" title="=&gt; String">thingToRun</a> <a href="../../collection/immutable/List.scala.html#62702" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <a href="#635786" title="scala.tools.nsc.GenericRunnerCommand">command</a>.<a href="GenericRunnerCommand.scala.html#618174" title="=&gt; List[String]">arguments</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <a href="#635794" title="()Either[Throwable,Boolean]">runTarget</a><a href="#3299336" title="(x: Boolean)Boolean" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Left<a href="#3299332" title="Boolean" id="3299333" class="delimiter">(</a><a href="../../util/Either.scala.html#97650" title="Throwable" id="636113">ex</a><span class="delimiter">)</span> =&gt; <a href="#635773" title="(ex: Throwable)Boolean">errorFn</a><a href="#3299336" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#636113" title="Throwable">ex</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Right<a href="#3299332" title="Boolean" id="3299334" class="delimiter">(</a><a href="../../util/Either.scala.html#97679" title="Boolean" id="636121">b</a><span class="delimiter">)</span> =&gt; <a href="#3299336" title="(x: Boolean)Boolean">b</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">object</span> <a title="scala.tools.nsc.MainGenericRunner.type" id="27188">MainGenericRunner</a> <a href="#27189" title="scala.tools.nsc.MainGenericRunner.type" class="keyword">extends</a> <a href="#27187" title="scala.tools.nsc.MainGenericRunner">MainGenericRunner</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="636123">main</a><span class="delimiter">(</span><a title="Array[String]" id="636125">args</a>: <a href="../../Array.scala.html#174" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#635775" title="(args: Array[String])Boolean">process</a><span class="delimiter">(</span><a href="#636125" title="Array[String]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      sys.<a href="../../sys/package.scala.html#55660" title="(status: Int)Nothing">exit</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>