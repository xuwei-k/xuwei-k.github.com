<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#55820" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.<a href="../../../language.scala.html#1423" title="language.type">language</a>.postfixOps

/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.reflect.internal.transform.RefChecks" id="45572">RefChecks</a> <a href="#45572" title="scala.tools.nsc.typechecker.RefChecks" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#43005" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> scala.reflect.internal.transform.<a href="../../../reflect/internal/transform/RefChecks.scala.html#22491" title="scala.reflect.internal.transform.RefChecks">RefChecks</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="621621">global</a>: <a href="../Global.scala.html#27346" title="scala.tools.nsc.Global">Global</a>               // need to repeat here because otherwise last mixin defines global as
                                   // SymbolTable. If we had DOT this would not be an issue

  <span class="keyword">import</span> <a href="#621621" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="RefChecks.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#537612" title="RefChecks.this.global.typer.type">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="621625">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="621627">phaseNewFlags</a>: <a href="../../../Long.scala.html#1293" title="Long">Long</a> = <a href="../../../reflect/internal/Flags.scala.html#407023" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="621628">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="1094350">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#621637" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#621637" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#1094350" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="621629">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="621630">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094429">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="1094430">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094429" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402401" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094429" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411293" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#1094429" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411236" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#407023" title="=&gt; Long">lateMETHOD</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
    <a href="#45572" title="scala.tools.nsc.typechecker.RefChecks" class="keyword">super</a>.<a href="../../../reflect/internal/transform/RefChecks.scala.html#442040" title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#1094429" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1094430" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="621631">toJavaRepeatedParam</a> = <a href="#1094208" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="1094208">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1094210">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094211">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1094211" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#3370677" title="RefChecks.this.global.Type" id="3370680" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="RefChecks.this.global.Type" id="1094223">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="RefChecks.this.global.Symbol" id="3370683">RepeatedParamClass</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[RefChecks.this.global.Type]" id="1094224">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#407402" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><a href="#3370686" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a><a href="#1094223" title="RefChecks.this.global.Type">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#408808" title="=&gt; RefChecks.this.global.ClassSymbol">JavaRepeatedParamClass</a>, <a href="#1094224" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><a href="#3370686" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a><a href="#1094211" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="621633">toScalaRepeatedParam</a> = <a href="#1094300" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="1094300">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1094302">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094303">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a> = <a href="#1094303" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#3370694" title="RefChecks.this.global.Type" id="3370697" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="RefChecks.this.global.Type" id="1094312">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="RefChecks.this.global.Symbol" id="3370700">JavaRepeatedParamClass</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[RefChecks.this.global.Type]" id="1094313">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#407402" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><a href="#3370703" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a><a href="#1094312" title="RefChecks.this.global.Type">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#408810" title="=&gt; RefChecks.this.global.ClassSymbol">RepeatedParamClass</a>, <a href="#1094313" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><a href="#3370703" title="(x: RefChecks.this.global.Type)RefChecks.this.global.Type" class="delimiter">(</a><a href="#1094303" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="621635">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094452">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Flags.scala.html#407113" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#1094452" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411233" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094452" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411360" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094452" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411357" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; RefChecks.this.global.Symbol#NameType">name</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean" id="621636">overridesTypeInPrefix</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094464">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="1094465">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="1094466">prefix</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="../../../Tuple2.scala.html#62849" title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</a><a href="#1094464" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#1094465" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>MethodType<a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.Type" id="3370716" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[RefChecks.this.global.Symbol]]" id="3370743">List</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[RefChecks.this.global.Symbol]" id="3370714" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#410771" title="RefChecks.this.global.Type" id="1094490">rtp1</a><span class="delimiter">)</span>, NullaryMethodType<a href="../../../Tuple2.scala.html#60637" title="RefChecks.this.global.Type" id="3370721" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410746" title="RefChecks.this.global.Type" id="1094492">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#1094490" title="RefChecks.this.global.Type">rtp1</a> <a href="#3370739" title="(x: Boolean)Boolean">&lt;:&lt;</a> <a href="#1094492" title="RefChecks.this.global.Type">rtp2</a>
    <span class="keyword">case</span> <span class="delimiter">(</span>NullaryMethodType<a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.Type" id="3370725" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410746" title="RefChecks.this.global.Type" id="1094498">rtp1</a><span class="delimiter">)</span>, MethodType<a href="../../../Tuple2.scala.html#60637" title="RefChecks.this.global.Type" id="3370728" class="delimiter">(</a><a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[RefChecks.this.global.Symbol]]" id="3370745">List</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[RefChecks.this.global.Symbol]" id="3370726" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#410771" title="RefChecks.this.global.Type" id="1094509">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#1094498" title="RefChecks.this.global.Type">rtp1</a> <a href="#3370739" title="(x: Boolean)Boolean">&lt;:&lt;</a> <a href="#1094509" title="RefChecks.this.global.Type">rtp2</a>
    <span class="keyword">case</span> <span class="delimiter">(</span>TypeRef<a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.Type" id="3370737" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="RefChecks.this.global.Type" id="3370734">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="RefChecks.this.global.Symbol" id="1094517">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[RefChecks.this.global.Type]" id="3370735">_</a><span class="delimiter">)</span>,  <a href="../../../Tuple2.scala.html#60637" title="RefChecks.this.global.Type" id="3370733">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1094517" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402404" title="=&gt; Boolean">isModuleClass</a> =&gt;
      <a href="#621636" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><a href="#3370739" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#441694" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#1094464" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#1094465" title="RefChecks.this.global.Type">tp2</a>, <a href="#1094466" title="RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
    <span class="keyword">case</span> _ =&gt;
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1094520">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094521">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1094521" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411391" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#408460" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1094466" title="RefChecks.this.global.Type">prefix</a>, <a href="#1094521" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#1094464" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1094465" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>  // object override check
        <a href="#1094464" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/api/Symbols.scala.html#402404" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1094465" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/api/Symbols.scala.html#402404" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1094532">cb1</a> = <a href="#1094520" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1094464" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1094533">cb2</a> = <a href="#1094520" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1094465" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#1094532" title="RefChecks.this.global.Type">cb1</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1094533" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
            <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Allowing %s to override %s because %s &lt;:&lt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1094464" title="RefChecks.this.global.Type">tp1</a>, <a href="#1094465" title="RefChecks.this.global.Type">tp2</a>, <a href="#1094532" title="RefChecks.this.global.Type">cb1</a>, <a href="#1094533" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer" id="621637">RefCheckTransformer</a><a href="#621637" title="RefChecks.this.RefCheckTransformer" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="1094425">unit</a>: <a href="../CompilationUnits.scala.html#537766" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#537817" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="1094357">localTyper</a>: analyzer.<a href="Typers.scala.html#538117" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#537612" title="RefChecks.this.global.typer.type">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="1094360">currentApplication</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <a href="../../../reflect/internal/Trees.scala.html#407946" title="RefChecks.this.global.EmptyTree.type">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="1094363">inPattern</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="1094366">checkedCombinations</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    // only one overloaded alternative is allowed to define default arguments
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="1094368">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094931">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> = <span class="delimiter">{</span>
      // Using the default getters (such as methodName$default$1) as a cheap way of
      // finding methods with default parameters. This way, we can limit the members to
      // those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods
      // directly requires inspecting the parameter list of every one. That modification
      // shaved 95% off the time spent in this method.
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="1094932">defaultGetters</a>     = <a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408506" title="(excludedFlags: Long, requiredFlags: Long)RefChecks.this.global.Scope">findMembers</a><span class="delimiter">(</span><span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Iterable[RefChecks.this.global.TermName]" id="1094933">defaultMethodNames</a> = <a href="#1094932" title="RefChecks.this.global.Scope">defaultGetters</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,Iterable[RefChecks.this.global.TermName]])Iterable[RefChecks.this.global.TermName]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094950">sym</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414072" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#1094950" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#1094933" title="Iterable[RefChecks.this.global.TermName]">defaultMethodNames</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[RefChecks.this.global.TermName]">toList</a>.<a href="../../../collection/SeqLike.scala.html#58839" title="=&gt; List[RefChecks.this.global.TermName]">distinct</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="1094992">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1094993">methods</a>      = <a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408507" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#1094992" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411413" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">def</span> <a title="(tpe: RefChecks.this.global.Type)Boolean" id="1094994">hasDefaultParam</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1095000">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#1095000" title="RefChecks.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> MethodType<a href="#3370754" title="Boolean" id="3370756" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[RefChecks.this.global.Symbol]" id="1095003">params</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="RefChecks.this.global.Type" id="1095004">restpe</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#1095003" title="List[RefChecks.this.global.Symbol]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1095011" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411212" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#3370758" title="(x: Boolean)Boolean">||</a> <a href="#1094994" title="(tpe: RefChecks.this.global.Type)Boolean">hasDefaultParam</a><span class="delimiter">(</span><a href="#1095004" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt; <a href="#3370758" title="(x: Boolean)Boolean" class="keyword">false</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1094995">haveDefaults</a> = <a href="#1094993" title="List[RefChecks.this.global.Symbol]">methods</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095015">sym</a> =&gt; <a href="#1094994" title="(tpe: RefChecks.this.global.Type)Boolean">hasDefaultParam</a><span class="delimiter">(</span><a href="#1095015" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414050" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#1095015" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094995" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86404" title="(len: Int)Int">lengthCompare</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1095021">owners</a> = <a href="#1094995" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#1095038" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           // constructors of different classes are allowed to have defaults
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094995" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095073">x</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095073" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1095021" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/SeqLike.scala.html#58839" title="=&gt; List[RefChecks.this.global.Symbol]">distinct</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1094995" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#1094995" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; RefChecks.this.global.Symbol">head</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095021" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86378" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#1095085" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="String(&quot;.\nThe members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095021" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1095106" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#540239" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">lint</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410528" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095146">x</a> =&gt; <a href="#1095146" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409853" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095146" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#410525" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="1095168">sym</a> =&gt;
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1095169">alts</a> = <a href="#1094931" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#1095168" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411413" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095169" title="List[RefChecks.this.global.Symbol]">alts</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#1095169" title="List[RefChecks.this.global.Symbol]">alts</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095195">x</a> =&gt; <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1095195" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Override checking ------------------------------------------------------------

    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Boolean" id="1094369">isJavaVarargsAncestor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095200">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#1095200" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095200" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1095200" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408444" title="=&gt; List[RefChecks.this.global.Symbol]">nonPrivateDecls</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="../../../reflect/internal/Definitions.scala.html#408818" title="(m: RefChecks.this.global.Symbol)Boolean">isJavaVarArgsMethod</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    /** Add bridges for vararg methods that extend Java vararg methods
     */
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="1094370">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095211">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      // This is quite expensive, so attempt to skip it completely.
      // Insist there at least be a java-defined ancestor which
      // defines a varargs method. TODO: Find a cheaper way to exclude.
      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408491" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="#1094369" title="(clazz: RefChecks.this.global.Symbol)Boolean">isJavaVarargsAncestor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Found java varargs ancestor in &quot;)" class="string">&quot;Found java varargs ancestor in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1095222">self</a> = <a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="1095223">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="1095224">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095225">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="1095226">bridgetpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Generating varargs bridge for &quot;)" class="string">&quot;Generating varargs bridge for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095225" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095226" title="RefChecks.this.global.Type">bridgetpe</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="member.TypeOfClonedSymbol" id="1095227">bridge</a> = <a href="#1095225" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411421" title="(owner: RefChecks.this.global.Symbol, newFlags: Long)member.TypeOfClonedSymbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#1095225" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57506" title="(x: Long)Long">|</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)member.TypeOfClonedSymbol">setPos</a> <a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>
          <a href="#1095227" title="member.TypeOfClonedSymbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#1095226" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../../../reflect/internal/Types.scala.html#408493" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#1095227" title="member.TypeOfClonedSymbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: member.TypeOfClonedSymbol)member.TypeOfClonedSymbol">enter</a> <a href="#1095227" title="member.TypeOfClonedSymbol">bridge</a>

          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1095228">params</a>  = <a href="#1095227" title="member.TypeOfClonedSymbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#411390" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; List[RefChecks.this.global.Symbol]">head</a>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1095229">elemtp</a>  = <a href="#1095228" title="List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86394" title="=&gt; RefChecks.this.global.Symbol">last</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; RefChecks.this.global.Type">head</a>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Ident]" id="1095230">idents</a>  = <a href="#1095228" title="List[RefChecks.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</a> <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a>
          <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="1095231">lastarg</a> = <a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543479" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543484" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">mkWrapArray</a><span class="delimiter">(</span><a href="#1095230" title="List[RefChecks.this.global.Ident]">idents</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86394" title="=&gt; RefChecks.this.global.Ident">last</a>, <a href="#1095229" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="1095232">body</a>    = <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408123" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#1095225" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#1095230" title="List[RefChecks.this.global.Ident]">idents</a>.<a href="../../../collection/TraversableLike.scala.html#58107" title="=&gt; List[RefChecks.this.global.Ident]">init</a> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: RefChecks.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Ident],RefChecks.this.global.Tree with Serializable,List[RefChecks.this.global.Tree with Serializable]])List[RefChecks.this.global.Tree with Serializable]">:+</a> <a href="#1095231" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span>

          <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a> <a href="Typers.scala.html#538701" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1095227" title="member.TypeOfClonedSymbol">bridge</a>, <a href="#1095232" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // For all concrete non-private members that have a (Scala) repeated parameter:
        //   compute the corresponding method type `jtpe` with a Java repeated parameter
        //   if a method with type `jtpe` exists and that method is not a varargs bridge
        //   then create a varargs bridge of type `jtpe` that forwards to the
        //   member method with the Scala vararg type.
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095649">member</a> &lt;- <a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#410525" title="(p: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095649" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095649" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#408823" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#1095649" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1095651">inherited</a> = <a href="#1095211" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408455" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#1095649" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            // Delaying calling memberType as long as possible
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095651" title="RefChecks.this.global.Symbol">inherited</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1095654">jtpe</a> = <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#1095222" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1095649" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // this is a bit tortuous: we look for non-private members or bridges
              // if we find a bridge everything is OK. If we find another member,
              // we need to create a bridge
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095651" title="RefChecks.this.global.Symbol">inherited</a> <a href="../../../reflect/internal/Symbols.scala.html#411414" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095670">sym</a> =&gt; <span class="delimiter">(</span><a href="#1095222" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1095670" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#408487" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#1095654" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1095670" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#411310" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
                <a href="#1095223" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: RefChecks.this.global.Tree)bridges.type">+=</a> <a href="#1095224" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#1095649" title="RefChecks.this.global.Symbol">member</a>, <a href="#1095654" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#1095223" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[RefChecks.this.global.Tree]">toList</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
    <span class="delimiter">}</span>

    /** 1. Check all members of class `clazz` for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override` modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O.
     *    1.7. If O is an abstract type then
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *    1.9.  If M is a macro def, O cannot be deferred.
     *    1.10. If M is not a macro def, O cannot be a macro def.
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override` modifier
     *     overrides some other member.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="1094371">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095695">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="1095697">typesOnly</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1095698">self</a> = <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1095699">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1095712">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#1095712" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411391" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#408460" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1095698" title="RefChecks.this.global.Type">self</a>, <a href="#1095712" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends AnyRef with Product with Serializable" id="1097120">MixinOverrideError</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="1097115">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="1097116">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="1095703">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</a><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="1095704">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1095703" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[MixinOverrideError]">toList</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[MixinOverrideError]]" id="3370805">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[MixinOverrideError]]" id="3370807">List</a><span class="delimiter">(</span>MixinOverrideError<a title="MixinOverrideError" id="3370786" class="delimiter">(</a><a href="#1097115" title="RefChecks.this.global.Symbol" id="3370790">_</a>, <a href="#1097116" title="String" id="1095820">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><a href="#3370801" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1095820" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">case</span> MixinOverrideError<a href="../../../collection/immutable/List.scala.html#206583" title="MixinOverrideError" id="3370791" class="delimiter">(</a><a href="#1097115" title="RefChecks.this.global.Symbol" id="1095823">member</a>, <a href="#1097116" title="String" id="1095824">msg</a><span class="delimiter">)</span> <a href="#3370782" title="Unit" id="3370792">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[MixinOverrideError]" id="1095825">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="1095826">others1</a> = <a href="#1095825" title="List[MixinOverrideError]">others</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1095843" title="MixinOverrideError">_</a>.<a href="#1097115" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$5.member.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#58073" title="(p: String =&gt; Boolean)List[String]">filter</a><span class="delimiter">(</span><a href="#1095823" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1095877" title="String">_</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#58839" title="=&gt; List[String]">distinct</a>
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <a href="#1095824" title="String">msg</a><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095826" title="List[String]">others1</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                   <span class="keyword">else</span> <span title="String(&quot;;\n other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><a href="#1095826" title="List[String]">others1</a> <a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="1095705">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095886">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1095707" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#1095886" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1095886" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="1095706">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095897">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1095707" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#1095897" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String" id="1095707">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095887">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="1095888">showLocation</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="1095889">sym1</a> = <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538449" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#1095887" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411507" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095888" title="Boolean">showLocation</a><span class="delimiter">)</span>
          <a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span title="String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408461" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411171" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span title="String(&quot; with bounds&quot;)" class="string">&quot; with bounds&quot;</span><span title="(x$1: Any)String">+</span><a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408461" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/api/Symbols.scala.html#402401" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408461" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1095889" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */
      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="1095708">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095898">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1095899">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Checking validity of %s overriding %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="1095900">memberTp</a> = <a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="1095901">otherTp</a>  = <a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1095902">noErrorType</a> = <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#407277" title="RefChecks.this.global.ErrorType.type">ErrorType</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#407277" title="RefChecks.this.global.ErrorType.type">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="1095903">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1095928">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1095928" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095928" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411224" title="=&gt; Boolean">isRoot</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1095928" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1095904">isNeitherInClass</a> = <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="1095905">objectOverrideErrorMsg</a> = <span class="delimiter">(</span>
          <span title="String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;an overriding object must conform to the overridden object\'s class bound&quot;)" class="string">&quot;an overriding object must conform to the overridden object's class bound&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538457" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#1095699" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#1095699" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(msg: String)String" id="1095906">overrideErrorMsg</a><span class="delimiter">(</span><a title="String" id="1095949">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="1095950">isConcreteOverAbstract</a> =
            <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">val</span> <a title="String" id="1095951">addendum</a> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095950" title="Boolean">isConcreteOverAbstract</a><span class="delimiter">)</span>
              <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;;\n (Note that %s is abstract,\n  and is therefore overridden by concrete %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
                <a href="#1095706" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>,
                <a href="#1095706" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540057" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538457" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

          <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;overriding %s;\n %s %s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="#1095706" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="#1095705" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#1095949" title="String">msg</a>, <a href="#1095951" title="String">addendum</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(fullmsg: String)Unit" id="1095907">emitOverrideError</a><span class="delimiter">(</span><a title="String" id="1095963">fullmsg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1095963" title="String">fullmsg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1095703" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</a> <span title="MixinOverrideError" class="keyword">new</span> <a href="#1097120" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>, <a href="#1095963" title="String">fullmsg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="1095908">overrideError</a><span class="delimiter">(</span><a title="String" id="1095987">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095902" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span>
            <a href="#1095907" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span><a href="#1095906" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><a href="#1095987" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1095909">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095902" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095907" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/api/Symbols.scala.html#402401" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/api/Symbols.scala.html#402401" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#1095905" title="=&gt; String">objectOverrideErrorMsg</a>
              <span class="keyword">else</span> <a href="#1095906" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><span title="String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1095910">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="1095988">otherAccess</a> = <a href="#621635" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095988" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095988" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        //Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG

        // return if we already checked this combination elsewhere
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1095998">deferredCheck</a>        = <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1095999">subOther</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096001">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#1096001" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1096000">subMember</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096003">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1096003" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095999" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095998" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411441" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096013">p</a> =&gt; <a href="#1095999" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#1096013" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1096000" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#1096013" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095998" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411441" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86378" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096022">p</a> =&gt; <a href="#1095999" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#1096022" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57823" title="(x: Boolean)Boolean">==</a> <a href="#1096000" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#1096022" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /** Is the intersection between given two lists of overridden symbols empty?
         */
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="1095911">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="1096028">syms1</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="1096029">syms2</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1096028" title="List[RefChecks.this.global.Symbol]">syms1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1096029" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a> <a href="#1096036" title="RefChecks.this.global.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095697" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#1095912" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // o: public | protected        | package-protected  (aka java's default access)
          // ^-may be overridden by member with access privileges-v
          // m: public | public/protected | public/protected/package-protected-in-same-package-as-o

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409863" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> // (1.1)
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>

          // todo: align accessibility implication checking with isAccessible in Contexts
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1096037">ob</a> = <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411354" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1096038">mb</a> = <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411354" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1096039">isOverrideAccessOK</a> = <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409868" title="=&gt; Boolean">isPublic</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>      // member is public, definitely same or relaxed access
            <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>    // if o is protected, so is m
            <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095903" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#1096037" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1096037" title="RefChecks.this.global.Symbol">ob</a>.<a href="../../../reflect/internal/Symbols.scala.html#411321" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#1096038" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>  // m relaxes o's access boundary
              <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>                           // overriding a protected java member, see #3946
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096039" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095910" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - class definitions cannot be overridden&quot;)" class="string">&quot;cannot be used here - class definitions cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - classes can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.2)
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409847" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409872" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (*)
            // (*) Synthetic exclusion for (at least) default getters, fixes SI-5178. We cannot assign the OVERRIDE flag to
            // the default getter: one default getter might sometimes override, sometimes not. Example in comment on ticket.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095904" title="=&gt; Boolean">isNeitherInClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#1095907" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
                  <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; inherits conflicting members:\n  &quot;)" class="string">&quot; inherits conflicting members:\n  &quot;</span>
                    <span title="(x$1: Any)String">+</span> <a href="#1095706" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;  and\n  &quot;)" class="string">&quot;  and\n  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095706" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
                    <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n(Note: this can be resolved by declaring an override in &quot;)" class="string">&quot;\n(Note: this can be resolved by declaring an override in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.)&quot;)" class="string">&quot;.)&quot;</span>
                <span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409846" title="=&gt; Boolean">isAbstractOverride</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411309" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409846" title="=&gt; Boolean">isAbstractOverride</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409847" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411430" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#411211" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411430" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // !?! this is not covered by the spec. We need to resolve this either by changing the spec or removing the test here.
            // !!! is there a !?! convention? I'm !!!ing this to make sure it turns up on my searches.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540039" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">overrideVars</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409847" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408491" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1096064" title="RefChecks.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#1095911" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411467" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411467" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411286" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411286" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.4)
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411209" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411209" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411216" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411209" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411216" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411209" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411213" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.9)
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override an abstract method&quot;)" class="string">&quot;cannot override an abstract method&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411213" title="=&gt; Boolean">isTermMacro</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411213" title="=&gt; Boolean">isTermMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.10)
            <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a macro&quot;)" class="string">&quot;cannot override a macro&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1095912" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#1095913" title="()Unit">checkOverrideDeprecated</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#540257" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411390" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411390" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1095912">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) (1.5)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            //if (!other.typeParams.isEmpty)  (1.5)   @MAT
            //  overrideError(&quot;may not override parameterized type&quot;);
            // @M: substSym

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#407537" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#408465" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#1095901" title="=&gt; RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> // (1.6)
              <a href="#1095909" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411171" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) // (1.7)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1096079">otherTp</a> = <a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408461" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1096079" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#410590" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.7.1)
              <a href="#1095909" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; // todo: do an explaintypes with bounds here
              <a href="../../../reflect/internal/Types.scala.html#407638" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1096090" title="RefChecks.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#410590" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#1096091" title="RefChecks.this.global.Type">_</a>, <a href="#1096079" title="RefChecks.this.global.Type">otherTp</a>, <a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            // check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))
            // making an abstract type member concrete is like passing a type argument
            <span class="keyword">val</span> <a title="List[String]" id="1096080">kindErrors</a> = <a href="../Global.scala.html#537612" title="RefChecks.this.global.typer.type">typer</a>.<a href="Typers.scala.html#538550" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#541389" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#1095698" title="RefChecks.this.global.Type">self</a>, <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> // (1.7.2)

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096080" title="List[String]">kindErrors</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>,
                <span title="String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411494" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411104" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411504" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span>
                <span title="String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#1096080" title="List[String]">kindErrors</a>.<a href="../../../collection/immutable/List.scala.html#62707" title="=&gt; List[String]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

            // check a type alias's RHS corresponds to its declaration
            // this overlaps somewhat with validateVariance
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(&quot;checkKindBounds&quot; + ((List(member), List(memberTp.normalize), self, member.owner)))
              <span class="keyword">val</span> <a title="List[String]" id="1096113">kindErrors</a> = <a href="../Global.scala.html#537612" title="RefChecks.this.global.typer.type">typer</a>.<a href="Typers.scala.html#538550" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#541389" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#1095698" title="RefChecks.this.global.Type">self</a>, <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096113" title="List[String]">kindErrors</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>,
                  <span title="String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411494" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411104" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411504" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span> <span title="String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#1096113" title="List[String]">kindErrors</a>.<a href="../../../collection/immutable/List.scala.html#62707" title="=&gt; List[String]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411171" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095900" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#408395" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096079" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#408395" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411384" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #2454
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1096134">memberTp</a> = <a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1096135">otherTp</a> = <a href="#1095698" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#621636" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><span class="delimiter">(</span><a href="#1096134" title="RefChecks.this.global.Type">memberTp</a>, <a href="#1096135" title="RefChecks.this.global.Type">otherTp</a>, <a href="#1095698" title="RefChecks.this.global.Type">self</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 8
              <a href="#1095909" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#407637" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1096134" title="RefChecks.this.global.Type">memberTp</a>, <a href="#1096135" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411286" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096135" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#408395" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096134" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#408395" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#1095908" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1096134" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; RefChecks.this.global.Type">resultType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="#3370823" title="Unit" id="3370825">rt</a>: RefinedType <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span>rt <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#1096135" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1094366" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <a href="../../../collection/SetLike.scala.html#66442" title="(elem: List[RefChecks.this.global.Type])Boolean">contains</a> rt.<a href="../../../reflect/internal/Types.scala.html#410866" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt;
                  // might mask some inconsistencies -- check overrides
                  <a href="#1094366" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <a href="../../../collection/SetLike.scala.html#66443" title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</a> rt.<a href="../../../reflect/internal/Types.scala.html#410866" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1096152">tsym</a> = rt.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096152" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Positions.scala.html#408302" title="=&gt; reflect.internal.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#1096152" title="RefChecks.this.global.Symbol">tsym</a> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#1094371" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#1096152" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> _ =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="1095913">checkOverrideDeprecated</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411276" title="=&gt; Boolean">hasDeprecatedOverridingAnnotation</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="1096184">suffix</a> = <a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411277" title="=&gt; Option[String]">deprecatedOverridingMessage</a> <a href="../../../Option.scala.html#62865" title="(f: String =&gt; String)Option[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096190" title="String">_</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#62859" title="(default: =&gt; String)String">getOrElse</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="keyword">val</span> <a title="String" id="1096185">msg</a> = <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;overriding $<span class="delimiter">{</span><a href="#1095899" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span> is deprecated$<a href="#1096184" title="String">suffix</a><span class="string">&quot;</span>
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539300" title="(pos: RefChecks.this.global.Position, msg: String)Any">deprecationWarning</a><span title="Unit" class="delimiter">(</span><a href="#1095898" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1096185" title="String">msg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="1095709">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#537470" title="RefChecks.this.global.overridingPairs.type">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#619490" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1095709" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#982639" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#1095711" title="()Unit" class="delimiter">{</a>
        //Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095709" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#982636" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#1095708" title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#1095709" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#982633" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#1095709" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#982636" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;

        <a href="#1095709" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#982640" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#1095704" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span>

      // Verifying a concrete class has nothing unimplemented.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411179" title="=&gt; Boolean">isConcreteClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1095697" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="1096200">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="1096201">abstractErrorMessage</a> =
          // a little formatting polish
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79762" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#79940" title="(sep: String)String">mkString</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79939" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79904" title="=&gt; String">head</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="1096202">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="1096216">mustBeMixin</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="String" id="1096217">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="1096218">prelude</a> = <span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411177" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/api/Symbols.scala.html#402404" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <span title="String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096216" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79860" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79766" title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</a> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><a href="#1096218" title="=&gt; String">prelude</a>, <a href="#1096217" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)abstractErrors.type">+=</a> <a href="#1096217" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="1096203">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096241">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a> =
          <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408455" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#1096241" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411414" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096247">other</a> =&gt;
            <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096247" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1096247" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096241" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; RefChecks.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#1096247" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; RefChecks.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
              // #3622: erasure operates on uncurried types --
              // note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo
              // !!! erasure.erasure(sym, uncurry.transformInfo(sym, tp)) gives erreneous of inaccessible type - check whether that's still the case!
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="1096249">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1096252">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#537570" title="RefChecks.this.global.erasure.type">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#440909" title="(sym: RefChecks.this.global.erasure.global.Symbol)RefChecks.this.global.erasure.ErasureMap">erasure</a><a href="../../../reflect/internal/transform/Erasure.scala.html#441791" title="(tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type" class="delimiter">(</a><a href="#1096241" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#537562" title="RefChecks.this.global.uncurry.type">uncurry</a>.<a href="../../../reflect/internal/transform/UnCurry.scala.html#441918" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#1096241" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1096252" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="1096250">tp1</a> = <a href="#1096249" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1096241" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="1096251">tp2</a> = <a href="#1096249" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#1096247" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#537675" title="(op: =&gt; Boolean)Boolean">afterErasure</a><span class="delimiter">(</span><a href="#1096250" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#408487" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#1096251" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="1096204">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096286">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
          <span class="delimiter">(</span><a href="#1096286" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411171" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096286" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411264" title="=&gt; Boolean">isFBounded</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>
            <a href="#1096286" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
            // the test requires afterErasure so shouldn't be
            // done if the compiler has no erasure phase available
            <span class="delimiter">(</span><a href="../Global.scala.html#537672" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#539392" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../package.scala.html#55806" title="=&gt; reflect.internal.NoPhase.type">NoPhase</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1096203" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#1096286" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>

        // 2. Check that only abstract classes have deferred members
        <span class="keyword">def</span> <a title="()Unit" id="1096205">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> = <span class="delimiter">{</span>
          // Avoid spurious duplicates: first gather any missing members.
          <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Scope" id="1096297">memberList</a> = <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408448" title="(admit: Long)RefChecks.this.global.Scope">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#3370834" title="(x: (Iterable[RefChecks.this.global.Symbol], Iterable[RefChecks.this.global.Symbol]))(Iterable[RefChecks.this.global.Symbol], Iterable[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="Iterable[RefChecks.this.global.Symbol]" id="1096299">missing</a>, <a href="../../../Tuple2.scala.html#60637" title="Iterable[RefChecks.this.global.Symbol]" id="1096300">rest</a><span class="delimiter">)</span> = <a href="#1096297" title="=&gt; RefChecks.this.global.Scope">memberList</a> <a href="../../../collection/TraversableLike.scala.html#58080" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(Iterable[RefChecks.this.global.Symbol], Iterable[RefChecks.this.global.Symbol])">partition</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096309">m</a> =&gt; <a href="#1096309" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096204" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#1096309" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // Group missing members by the name of the underlying symbol,
          // to consolidate getters and setters.
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,Iterable[RefChecks.this.global.Symbol]]" id="1096301">grouped</a> = <a href="#1096299" title="Iterable[RefChecks.this.global.Symbol]">missing</a> <a href="../../../collection/TraversableLike.scala.html#58081" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Symbol#NameType)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,Iterable[RefChecks.this.global.Symbol]]">groupBy</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096328">sym</a> =&gt; <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538449" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#1096328" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; RefChecks.this.global.analyzer.global.Symbol#NameType">name</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1096302">missingMethods</a> = <a href="#1096301" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,Iterable[RefChecks.this.global.Symbol]]">grouped</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[(RefChecks.this.global.analyzer.global.Symbol#NameType, Iterable[RefChecks.this.global.Symbol])]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: ((RefChecks.this.global.analyzer.global.Symbol#NameType, Iterable[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.analyzer.global.Symbol#NameType, Iterable[RefChecks.this.global.Symbol])],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</a> <a href="#1096352" title="(RefChecks.this.global.analyzer.global.Symbol#NameType, Iterable[RefChecks.this.global.Symbol])" class="delimiter">{</a>
            <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.analyzer.global.Symbol#NameType" id="1096355">name</a>, <a href="../../../Tuple2.scala.html#60637" title="Iterable[RefChecks.this.global.Symbol]" id="1096356">syms</a><span class="delimiter">)</span> =&gt;
              <a href="#3370840" title="(x: Iterable[RefChecks.this.global.Symbol])Iterable[RefChecks.this.global.Symbol]" class="keyword">if</a> <span class="delimiter">(</span><a href="#1096356" title="Iterable[RefChecks.this.global.Symbol]">syms</a> <a href="../../../collection/IterableLike.scala.html#58566" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1096362" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411207" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1096356" title="Iterable[RefChecks.this.global.Symbol]">syms</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Iterable[RefChecks.this.global.Symbol]">filterNot</a> <span class="delimiter">(</span><a href="#1096366" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411203" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1096356" title="Iterable[RefChecks.this.global.Symbol]">syms</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; List[String]" id="1096303">stubImplementations</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // Grouping missing methods by the declaring class
            <span class="keyword">val</span> <a title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]" id="1096395">regrouped</a> = <a href="#1096302" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<a href="../../../collection/TraversableLike.scala.html#58081" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)scala.collection.immutable.Map[RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]]">groupBy</a><span class="delimiter">(</span><a href="#1096403" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">toList</a>
            <span class="keyword">def</span> <a title="(members: List[RefChecks.this.global.Symbol])List[String]" id="1096396">membersStrings</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="1096410">members</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
              <a href="#1096410" title="List[RefChecks.this.global.Symbol]">members</a>.<a href="../../../collection/SeqLike.scala.html#58869" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[RefChecks.this.global.Symbol]">sortBy</a><a href="../../../math/Ordering.scala.html#82256" title="scala.math.Ordering.String.type" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096417" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$16.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096493">m</a> =&gt; <a href="#1096493" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411517" title="(info: RefChecks.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#1096493" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = ???&quot;)" class="string">&quot; = ???&quot;</span><span class="delimiter">)</span>

            <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096395" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">tail</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="#1096396" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#1096395" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; (RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">head</a>.<a href="../../../Tuple2.scala.html#60637" title="=&gt; List[RefChecks.this.global.Symbol]">_2</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">(</span><a href="#1096395" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<a href="../../../collection/SeqLike.scala.html#58869" title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; String)(implicit ord: scala.math.Ordering[String])List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">sortBy</a><a href="../../../math/Ordering.scala.html#82256" title="scala.math.Ordering.String.type" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096531" title="(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">_</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; RefChecks.this.global.Symbol">_1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$17._1.NameType">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])],String,List[String]])List[String]">flatMap</a> <a href="#1096607" title="(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])" class="delimiter">{</a>
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.Symbol" id="1096610">owner</a>, <a href="../../../Tuple2.scala.html#60637" title="List[RefChecks.this.global.Symbol]" id="1096611">members</a><span class="delimiter">)</span> =&gt;
                <span class="delimiter">(</span><span title="String(&quot;// Members declared in &quot;)" class="string">&quot;// Members declared in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096610" title="RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62702" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <a href="#1096396" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#1096611" title="List[RefChecks.this.global.Symbol]">members</a><span class="delimiter">)</span> <a href="#3370846" title="(x: List[String])List[String]">:+</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#58107" title="=&gt; List[String]">init</a>
          <span class="delimiter">}</span>

          // If there are numerous missing methods, we presume they are aware of it and
          // give them a nicely formatted set of method signatures for implementing.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096302" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1096202" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;it has &quot;)" class="string">&quot;it has &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096302" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; unimplemented members.&quot;)" class="string">&quot; unimplemented members.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="1096757">preface</a> =
              <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|/** As seen from %s, the missing signatures are as follows.
                 | *  For convenience, these are usable as stub implementations.
                 | */
                 |&quot;&quot;&quot;</a>.<a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: String)abstractErrors.type">+=</a> <a href="#1096303" title="=&gt; List[String]">stubImplementations</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096792" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><a href="#1096757" title="String">preface</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096840">member</a> &lt;- <a href="../../../collection/IterableLike.scala.html#58562" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="1096841">undefined</a><span class="delimiter">(</span><a title="String" id="1096843">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#1096202" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#1095705" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1096840" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1096843" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="1096842">underlying</a> = <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538449" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#1096840" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            // Give a specific error message for abstract vars based on why it fails:
            // It could be unimplemented, have only one accessor, or be uninitialized.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#411211" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Boolean" id="1096844">isMultiple</a> = <a href="#1096301" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Symbol#NameType,Iterable[RefChecks.this.global.Symbol]]">grouped</a>.<a href="../../../collection/MapLike.scala.html#87532" title="(key: RefChecks.this.global.analyzer.global.Symbol#NameType, default: =&gt; Iterable[RefChecks.this.global.Symbol])Iterable[RefChecks.this.global.Symbol]">getOrElse</a><span class="delimiter">(</span><a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; underlying.NameType">name</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58190" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span>

              // If both getter and setter are missing, squelch the setter error.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096840" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411207" title="=&gt; Boolean">isSetter</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1096844" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#1096841" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096840" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411207" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096840" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411203" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096844" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538445" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#1096840" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/api/Symbols.scala.html#402398" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // If there is a concrete method whose name matches the unimplemented
              // abstract method, and a cursory examination of the difference reveals
              // something obvious to us, let's make it more obvious to them.
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="1096868">abstractParams</a>   = <a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="1096869">matchingName</a>     = <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408448" title="(admit: Long)RefChecks.this.global.Scope">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="1096870">matchingArity</a>    = <a href="#1096869" title="RefChecks.this.global.Scope">matchingName</a> <a href="../../../reflect/internal/Scopes.scala.html#410528" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="1096875">m</a> =&gt;
                <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096875" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1096875" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; m.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; underlying.NameType">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1096875" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#1096875" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <a href="#1096870" title="RefChecks.this.global.Scope">matchingArity</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                // So far so good: only one candidate method
                <span class="keyword">case</span> <a href="../../../reflect/internal/Scopes.scala.html#446007" title="Option[Seq[RefChecks.this.global.Symbol]]" id="3370879">Scope</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096898">concrete</a><span class="delimiter">)</span>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="1096899">mismatches</a>  = <a href="#1096868" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</a> <a href="#1096898" title="RefChecks.this.global.Symbol">concrete</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: ((RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</a> <a href="#1096953" title="(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.analyzer.global.Type" id="1096956">x</a>, <a href="../../../Tuple2.scala.html#60637" title="RefChecks.this.global.Type" id="1096957">y</a><span class="delimiter">)</span> =&gt; <a href="#1096956" title="RefChecks.this.global.analyzer.global.Type">x</a> <a href="#3370852" title="(x: Boolean)Boolean">=:=</a> <a href="#1096957" title="RefChecks.this.global.Type">y</a> <span class="delimiter">}</span>
                  <a href="#1096899" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                    // Only one mismatched parameter: say something useful.
                    <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)" id="3370857" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="RefChecks.this.global.analyzer.global.Type" id="1096964">pa</a>, <a href="../../../Tuple2.scala.html#60637" title="RefChecks.this.global.Type" id="1096965">pc</a><span class="delimiter">)</span> <a href="#3370856" title="Unit" id="3370859">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="3370861">Nil</a>  =&gt;
                      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="1096966">abstractSym</a> = <a href="#1096964" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>
                      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1096967">concreteSym</a> = <a href="#1096965" title="RefChecks.this.global.Type">pc</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
                      <span class="keyword">def</span> <a title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String" id="1096968">subclassMsg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1096970">c1</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1096971">c2</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
                        <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;: %s is a subclass of %s, but method parameter types must match exactly.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
                          <a href="#1096970" title="RefChecks.this.global.Symbol">c1</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#1096971" title="RefChecks.this.global.Symbol">c2</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                      <span class="keyword">val</span> <a title="String" id="1096969">addendum</a> = <span class="delimiter">(</span>
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096966" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1096967" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          // TODO: what is the optimal way to test for a raw type at this point?
                          // Compilation has already failed so we shouldn't have to worry overmuch
                          // about forcing types.
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096842" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1096964" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1096966" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
                            <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1096964" title="RefChecks.this.global.analyzer.global.Type">pa</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096964" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#408418" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#1096965" title="RefChecks.this.global.Type">pc</a>.<a href="../../../reflect/internal/Types.scala.html#408418" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096966" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.analyzer.global.Symbol)Boolean">isSubClass</a> <a href="#1096967" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                          <a href="#1096968" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#1096966" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>, <a href="#1096967" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096967" title="RefChecks.this.global.Symbol">concreteSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1096966" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                          <a href="#1096968" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#1096967" title="RefChecks.this.global.Symbol">concreteSym</a>, <a href="#1096966" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                      <span class="delimiter">)</span>

                      <a href="#1096841" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1096964" title="RefChecks.this.global.analyzer.global.Type">pa</a>, <a href="#1096965" title="RefChecks.this.global.Type">pc</a>, <a href="#1096969" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> xs =&gt;
                      <a href="#1096841" title="(msg: String)Unit">undefined</a><a href="#3370863" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> _ =&gt;
                  <a href="#1096841" title="(msg: String)Unit">undefined</a><a href="#3370875" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#1096841" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // Check the remainder for invalid absoverride.
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097004">member</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><a href="#1097004" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409846" title="=&gt; Boolean">isAbstractOverride</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097004" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411309" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097005">other</a> = <a href="#1097004" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411468" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="1097006">explanation</a> =
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097005" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1095705" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1097005" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>

            <a href="#1096202" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#1095705" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1097004" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097006" title="String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // 3. Check that concrete classes do not have deferred definitions
        // that are not implemented in a subclass.
        // Note that this is not the same as (2); In a situation like
        //
        // class C { def m: Int = 0}
        // class D extends C { def m: Int }
        //
        // (3) is violated but not (2).
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="1096206">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097013">bc</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097034">decl</a> &lt;- <a href="#1097013" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#410525" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097034" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1096204" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#1097034" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097035">impl</a> = <a href="#1097034" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411461" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097035" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097034" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097035" title="RefChecks.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#1096202" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1095705" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#1097034" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)String">+</span><a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#538445" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#1097034" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097013" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411440" title="=&gt; RefChecks.this.global.Symbol">superClass</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span>
            <a href="#1096206" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#1097013" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#411440" title="=&gt; RefChecks.this.global.Symbol">superClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#1096205" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79860" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#1096206" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1096200" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#79861" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1096201" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // For non-AnyVal classes, prevent abstract methods in interfaces that override
        // final members in Object; see #4431
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097061">decl</a> &lt;- <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408442" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../collection/Iterator.scala.html#66797" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097062">overridden</a> = <a href="#1097061" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#411462" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; RefChecks.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097062" title="RefChecks.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409851" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1097061" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="1095710">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097065">inclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1097066">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="1097067">isVarargs</a> = <a href="../../../reflect/internal/Definitions.scala.html#408823" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#1097066" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1097069">varargsType</a> = <a href="../../../reflect/internal/Types.scala.html#441770" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#1097066" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="1097070">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097085">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097085" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1097086">symtpe</a>            = <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#1097085" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="1097087">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1097088">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1097088" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#408487" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#1097086" title="RefChecks.this.global.Type">symtpe</a>

          <a href="#1097087" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#1097066" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097067" title="Boolean">isVarargs</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097087" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#1097068" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        /** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="1097071">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097090">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097065" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a>                             // not a java defined member
          <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097090" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411360" title="=&gt; Boolean">hasAccessBoundary</a>                             // no access boundary
          <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097090" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a>                                    // marked protected in java, thus accessible to subclasses
          <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097090" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411357" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1097066" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411445" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  // exact package match
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="1097072">classDecls</a>   = <a href="#1097065" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408445" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#1097066" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="1097073">matchingSyms</a> = <a href="#1097072" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../../../reflect/internal/Symbols.scala.html#411414" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097102">sym</a> =&gt; <a href="#1097070" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#1097102" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097071" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#1097102" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="delimiter">(</span><a href="#1097065" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1097073" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // 4. Check that every defined member with an `override` modifier overrides some other member.
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097141">member</a> &lt;- <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#410525" title="(p: RefChecks.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409847" title="=&gt; Boolean">isAnyOverride</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411427" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#408491" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#1095710" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#1097151" title="RefChecks.this.global.Symbol">_</a>, <a href="#1097141" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG

          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1097152">nonMatching</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#1097141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411413" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>.<a href="../../../collection/TraversableLike.scala.html#58074" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filterNot</a><span class="delimiter">(</span><a href="#1097163" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#58074" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filterNot</a><span class="delimiter">(</span><a href="#1097174" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409851" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(suffix: String)Unit" id="1097153">issueError</a><span class="delimiter">(</span><a title="String" id="1097175">suffix</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1097141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1097141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411507" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097175" title="String">suffix</a><span class="delimiter">)</span>;
          <a href="#1097152" title="List[RefChecks.this.global.Symbol]">nonMatching</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="Unit" id="3370894">Nil</a> =&gt;
              <a href="#1097153" title="(suffix: String)Unit">issueError</a><a href="#3370896" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> ms =&gt;
              <span class="keyword">val</span> <a title="String" id="1097177">superSigs</a> = ms.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="1097194">m</a> =&gt; <a href="#1097194" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411517" title="(info: RefChecks.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#1095695" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#1097194" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
              <a href="#1097153" title="(suffix: String)Unit">issueError</a><span class="delimiter">(</span><a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;.\nNote: the super classes of $<span class="delimiter">{</span><a href="#1097141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">}</span> contain the following, non final members named $<span class="delimiter">{</span><a href="#1097141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; member.NameType">name</a><span class="delimiter">}</span>:\n$<span class="delimiter">{</span><a href="#1097177" title="String">superSigs</a><span class="delimiter">}</span><span class="string">&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1097141" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)member.type">resetFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span>  // Any Override
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Basetype Checking --------------------------------------------------------

    /** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="1094372">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097241">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="1097242">seenParents</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="1097243">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <a href="../../../Array.scala.html#174" title="Array[List[RefChecks.this.global.Type]]">Array</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408489" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#415197" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="1097377">i</a> &lt;- <a href="../../../LowPriorityImplicits.scala.html#7395" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../collection/immutable/Range.scala.html#81297" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#1097243" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<a href="../../../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <a href="../../../Array.scala.html#56640" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#1097377" title="Int">i</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>

      /** validate all base types of a class in reverse linear order. */
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="1097244">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1097381">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> = <span class="delimiter">{</span>
//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))
//            println(&quot;validate base type &quot;+tp)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097382">baseClass</a> = <a href="#1097381" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097382" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="1097384">index</a> = <a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408492" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#1097382" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097384" title="Int">index</a> <a href="../../../Int.scala.html#57132" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Array.scala.html#56639" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#1097384" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#86378" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1097398">tp1</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1097398" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1097381" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Array.scala.html#56640" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#1097384" title="Int">index</a><span class="delimiter">)</span> =
                <a href="#1097381" title="RefChecks.this.global.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="../../../Array.scala.html#56639" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#1097384" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1097407">tp1</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1097381" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1097407" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="1097383">remaining</a> = <a href="#1097381" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408416" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</a> <a href="#1097242" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#1097242" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <a href="../../../collection/generic/Growable.scala.html#60003" title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</a> <a href="#1097383" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#1097383" title="List[RefChecks.this.global.Type]">remaining</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1097244" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#1097244" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="1097540">i</a> &lt;- <a href="../../../LowPriorityImplicits.scala.html#7395" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../collection/immutable/Range.scala.html#81297" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#1097243" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<a href="../../../Array.scala.html#56638" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097541">baseClass</a> = <a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#415200" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#1097540" title="Int">i</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="../../../Array.scala.html#56639" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><a href="#3370908" title="Unit" class="delimiter">(</a><a href="#1097540" title="Int">i</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="Unit" id="3370914">Nil</a> =&gt;
            <a href="../../../Predef.scala.html#7514" title="(x: Any)Unit">println</a><a href="#3370918" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)String">+</span><a href="#1097541" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)String">+</span><a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="RefChecks.this.global.Type" id="3370906">_</a> <a href="#3370904" title="Boolean" id="3370908">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[RefChecks.this.global.Type]" id="3370915">Nil</a> =&gt;
            ;// OK
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="RefChecks.this.global.Type" id="1097549">tp1</a> :: <a href="../../../collection/immutable/List.scala.html#206583" title="RefChecks.this.global.Type" id="1097552">tp2</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[RefChecks.this.global.Type]" id="3370913">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[RefChecks.this.global.Type]" id="3370912">_</a> =&gt;
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;illegal inheritance;\n &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097241" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097541" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097549" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097552" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>;
            <a href="../../../reflect/internal/Types.scala.html#407637" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1097549" title="RefChecks.this.global.Type">tp1</a>, <a href="#1097552" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#407637" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1097552" title="RefChecks.this.global.Type">tp2</a>, <a href="#1097549" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Variance Checking --------------------------------------------------------

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1094373">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1094375">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1094377">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="1094379">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="1094381">escapedPrivateLocals</a> = <a href="../../../collection/mutable/HashSet.scala.html#125959" title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#13053" title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="1094383">varianceValidator</a> = <a href="#1094552" title="RefChecks.this.global.Traverser{}" class="keyword">new</a> <a href="../../../reflect/api/Trees.scala.html#56467" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="1094552">Traverser</a> <span class="delimiter">{</span>

      /** Validate variance of info of symbol `base` */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="1094554">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094559">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // A flag for when we're in a refinement, meaning method parameter types
        // need to be checked.
        <span class="keyword">var</span> <a title="Boolean" id="1094560">inRefinement</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="1094561">varianceString</a><span class="delimiter">(</span><a title="Int" id="1094566">variance</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094566" title="Int">variance</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094566" title="Int">variance</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        /** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="1094562">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094575">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#321" title="Int">Int</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1094576">clazz</a> = <a href="#1094575" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="1094577">sym</a> = <a href="#1094559" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="1094578">state</a> = <a href="#1094377" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1094576" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1094578" title="Int">state</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1094379" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#1094579" title="()Unit" class="delimiter">{</a>
            //Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG
            // Flip occurrences of type parameters and parameters, unless
            //  - it's a constructor, or case class factory or extractor
            //  - it's a type parameter of tvar's owner.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409879" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411289" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1094575" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="#1094575" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1094578" title="Int">state</a> = <a href="../../../Int.scala.html#57086" title="=&gt; Int">-</a><a href="#1094578" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a>
                     <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409865" title="=&gt; Boolean">isPrivateLocal</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409867" title="=&gt; Boolean">isProtectedLocal</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409871" title="=&gt; Boolean">isSuperAccessor</a> /* super accessors are implicitly local #4345*/<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1094381" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <a href="../../../collection/mutable/HashSet.scala.html#125962" title="(elem: RefChecks.this.global.Symbol)Boolean">contains</a> <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is local to a term
              // or is private[this] or protected[this]
              <a href="#1094578" title="Int">state</a> = <a href="#1094379" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is an alias type
              // that does not override anything. This is OK, because we always
              // expand aliases for variance checking.
              // However, if `sym` does override a type in a base class
              // we have to assume NoVariance, as there might then be
              // references to the type parameter that are not variance checked.
              <a href="#1094578" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411465" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <a href="#1094375" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#1094379" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span>
            <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a> = <a href="#1094577" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#1094578" title="Int">state</a>
        <span class="delimiter">}</span>

        /** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="1094563">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094604">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="1094605">variance</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> = <a href="#1094604" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#407277" title="Unit" id="3370971">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#407279" title="Unit" id="3370972">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#407284" title="Unit" id="3370973">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#407286" title="Unit" id="3370974">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> ThisType<a href="#3370940" title="Unit" id="3370947" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="RefChecks.this.global.Symbol" id="3370945">_</a><span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> ConstantType<a href="#3370940" title="Unit" id="3370950" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410960" title="RefChecks.this.global.Constant" id="3370948">_</a><span class="delimiter">)</span> =&gt; ;
          // case DeBruijnIndex(_, _) =&gt; ;
          <span class="keyword">case</span> SingleType<a href="#3370940" title="Unit" id="3370952" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410991" title="RefChecks.this.global.Type" id="1094610">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="RefChecks.this.global.Symbol" id="1094611">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><a href="#3370976" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1094610" title="RefChecks.this.global.Type">pre</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> TypeRef<a href="#3370940" title="Unit" id="3370954" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="RefChecks.this.global.Type" id="1094615">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="RefChecks.this.global.Symbol" id="1094616">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[RefChecks.this.global.Type]" id="1094617">args</a><span class="delimiter">)</span> =&gt;
//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094616" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a>/* &amp;&amp; relativeVariance(sym) == AnyVariance*/<span class="delimiter">)</span>
              <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094604" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094616" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411313" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1094375" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="1094623">v</a> = <a href="#1094562" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span><a href="#1094616" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094623" title="Int">v</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1094379" title="=&gt; Int">AnyVariance</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1094616" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411313" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#1094623" title="Int">v</a> <a href="../../../Int.scala.html#57168" title="(x: Int)Int">*</a> <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                //Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)String" id="1094637">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094638">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#1094638" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> ClassInfoType<a href="#3370930" title="String" id="3370933" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[RefChecks.this.global.Type]" id="1094642">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="RefChecks.this.global.Scope" id="3370931">_</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="RefChecks.this.global.Symbol" id="1094643">clazz</a><span class="delimiter">)</span> =&gt; <span title="String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><a href="#3370935" title="(x: String)String">+</a><a href="../../../reflect/internal/Types.scala.html#407406" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#1094642" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#1094643" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt; <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><a href="#3370935" title="(x: String)String">+</a><a href="#1094638" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1094559" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#1094561" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#1094616" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411313" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094616" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094561" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#1094623" title="Int">v</a> <a href="../../../Int.scala.html#57168" title="(x: Int)Int">*</a> <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094637" title="(tp: RefChecks.this.global.Type)String">tpString</a><span class="delimiter">(</span><a href="#1094559" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094559" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094615" title="RefChecks.this.global.Type">pre</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            // @M for higher-kinded typeref, args.isEmpty
            // However, these args respect variances by construction anyway
            // -- the interesting case is in type application, see checkKindBounds in Infer
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094617" title="List[RefChecks.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
              <a href="#1094565" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span><a href="#1094617" title="List[RefChecks.this.global.Type]">args</a>, <a href="#1094605" title="Int">variance</a>, <a href="#1094616" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          <span class="keyword">case</span> ClassInfoType<a href="#3370940" title="Unit" id="3370956" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410826" title="List[RefChecks.this.global.Type]" id="1094664">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410828" title="RefChecks.this.global.Scope" id="1094665">decls</a>, <a href="../../../reflect/internal/Types.scala.html#410830" title="RefChecks.this.global.Symbol" id="1094666">symbol</a><span class="delimiter">)</span> =&gt;
            <a href="#1094564" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><a href="#3370976" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1094664" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> RefinedType<a href="#3370940" title="Unit" id="3370958" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410866" title="List[RefChecks.this.global.Type]" id="1094671">parents</a>, <a href="../../../reflect/internal/Types.scala.html#410868" title="RefChecks.this.global.Scope" id="1094672">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#1094564" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#1094671" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="1094673">saved</a> = <a href="#1094560" title="Boolean">inRefinement</a>
            <a href="#1094560" title="Boolean">inRefinement</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1094692">sym</a> &lt;- <a href="../../../reflect/internal/Scopes.scala.html#410525" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span>
              <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094692" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094692" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#1094375" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1094560" title="Boolean">inRefinement</a> = <a href="#1094673" title="Boolean">saved</a>
          <span class="keyword">case</span> TypeBounds<a href="#3370940" title="Unit" id="3370960" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410582" title="RefChecks.this.global.Type" id="1094696">lo</a>, <a href="../../../reflect/internal/Types.scala.html#410584" title="RefChecks.this.global.Type" id="1094697">hi</a><span class="delimiter">)</span> =&gt;
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094696" title="RefChecks.this.global.Type">lo</a>, <a href="../../../Int.scala.html#57086" title="=&gt; Int">-</a><a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094697" title="RefChecks.this.global.Type">hi</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> mt @ MethodType<a href="#3370940" title="Unit" id="3370962" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410769" title="List[RefChecks.this.global.Symbol]" id="1094701">formals</a>, <a href="../../../reflect/internal/Types.scala.html#410771" title="RefChecks.this.global.Type" id="1094702">result</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094560" title="Boolean">inRefinement</a><span class="delimiter">)</span>
              <a href="#1094564" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span>mt.<a href="../../../reflect/internal/Types.scala.html#410784" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>, <a href="../../../Int.scala.html#57086" title="=&gt; Int">-</a><a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094702" title="RefChecks.this.global.Type">result</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> NullaryMethodType<a href="#3370940" title="Unit" id="3370964" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410746" title="RefChecks.this.global.Type" id="1094704">result</a><span class="delimiter">)</span> =&gt;
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><a href="#3370976" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1094704" title="RefChecks.this.global.Type">result</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> PolyType<a href="#3370940" title="Unit" id="3370966" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410715" title="List[RefChecks.this.global.Symbol]" id="1094707">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410717" title="RefChecks.this.global.Type" id="1094708">result</a><span class="delimiter">)</span> =&gt;
            // type parameters will be validated separately, because they are defined explicitly.
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><a href="#3370976" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1094708" title="RefChecks.this.global.Type">result</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> ExistentialType<a href="#3370940" title="Unit" id="3370968" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[RefChecks.this.global.Symbol]" id="1094711">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="RefChecks.this.global.Type" id="1094712">result</a><span class="delimiter">)</span> =&gt;
            <a href="#1094564" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#1094711" title="List[RefChecks.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1094729" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094712" title="RefChecks.this.global.Type">result</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> AnnotatedType<a href="#3370940" title="Unit" id="3370970" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410660" title="List[RefChecks.this.global.AnnotationInfo]" id="1094765">annots</a>, <a href="../../../reflect/internal/Types.scala.html#410662" title="RefChecks.this.global.Type" id="1094766">tp</a>, <a href="../../../reflect/internal/Types.scala.html#410664" title="RefChecks.this.global.Symbol" id="1094767">selfsym</a><span class="delimiter">)</span> =&gt;
            <a href="#3370976" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094765" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#1094774" title="RefChecks.this.global.AnnotationInfo">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#409745" title="(clazz: RefChecks.this.global.Symbol)Boolean">matches</a> <a href="../../../reflect/internal/Definitions.scala.html#409173" title="=&gt; RefChecks.this.global.ClassSymbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094766" title="RefChecks.this.global.Type">tp</a>, <a href="#1094605" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="1094564">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="1094667">tps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="1094668">variance</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#1094667" title="List[RefChecks.this.global.Type]">tps</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094796">tp</a> =&gt; <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094796" title="RefChecks.this.global.Type">tp</a>, <a href="#1094668" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="1094565">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="1094658">tps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="1094659">variance</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="List[RefChecks.this.global.Symbol]" id="1094660">tparams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/util/Collections.scala.html#406792" title="(xs1: List[RefChecks.this.global.Type], xs2: List[RefChecks.this.global.Symbol])(f: (RefChecks.this.global.Type, RefChecks.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#1094658" title="List[RefChecks.this.global.Type]">tps</a>, <a href="#1094660" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1094817">tp</a>, <a title="RefChecks.this.global.Symbol" id="1094818">tparam</a><span class="delimiter">)</span> =&gt; <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094817" title="RefChecks.this.global.Type">tp</a>, <a href="#1094659" title="Int">variance</a> <a href="../../../Int.scala.html#57168" title="(x: Int)Int">*</a> <a href="#1094818" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#411313" title="=&gt; Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#1094563" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094559" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#1094377" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1094555">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1094556">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1094556" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#3371007" title="Unit" id="3371013" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="RefChecks.this.global.Modifiers" id="3371008">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="RefChecks.this.global.TypeName" id="3371009">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[RefChecks.this.global.TypeDef]" id="3371010">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="RefChecks.this.global.Template" id="3371011">_</a><span class="delimiter">)</span> | TypeDef<a href="#3371007" title="Boolean" id="3371019" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410256" title="RefChecks.this.global.Modifiers" id="3371014">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410258" title="RefChecks.this.global.TypeName" id="3371015">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410260" title="List[RefChecks.this.global.TypeDef]" id="3371016">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410262" title="RefChecks.this.global.Tree" id="3371017">_</a><span class="delimiter">)</span> =&gt;
            <a href="#1094554" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094556" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#1094552" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405544" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1094556" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          // ModuleDefs need not be considered because they have been eliminated already
          <span class="keyword">case</span> ValDef<a href="#3371007" title="Unit" id="3371025" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="RefChecks.this.global.Modifiers" id="3371020">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="RefChecks.this.global.TermName" id="3371021">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="RefChecks.this.global.Tree" id="3371022">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="RefChecks.this.global.Tree" id="3371023">_</a><span class="delimiter">)</span> =&gt;
            <a href="#3371038" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094556" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409841" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span>
              <a href="#1094554" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094556" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <span class="keyword">case</span> DefDef<a href="#3371007" title="Unit" id="3371031" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="RefChecks.this.global.Modifiers" id="3371026">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="RefChecks.this.global.Name" id="3371027">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[RefChecks.this.global.TypeDef]" id="1094900">tparams</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[RefChecks.this.global.ValDef]]" id="1094901">vparamss</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="RefChecks.this.global.Tree" id="3371028">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="RefChecks.this.global.Tree" id="3371029">_</a><span class="delimiter">)</span> =&gt;
            // No variance check for object-private/protected methods/values.
            <a href="#3371038" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094556" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409841" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1094554" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#1094556" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
              <a href="../../../reflect/api/Trees.scala.html#405545" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#1094900" title="List[RefChecks.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
              <a href="../../../reflect/api/Trees.scala.html#405546" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#1094901" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> Template<a href="#3371007" title="Unit" id="3371036" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[RefChecks.this.global.Tree]" id="3371032">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="RefChecks.this.global.ValDef" id="3371033">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[RefChecks.this.global.Tree]" id="3371034">_</a><span class="delimiter">)</span> =&gt;
            <a href="#1094552" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405544" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><a href="#3371038" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1094556" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Forward reference checking ---------------------------------------------------

    <span class="keyword">class</span> <a title="class LevelInfo extends Object" id="1094385">LevelInfo</a><a href="#1094385" title="RefCheckTransformer.this.LevelInfo" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="1097578">outer</a>: <a href="#1094385" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="1097562">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#407751" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097578" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#407757" title="=&gt; RefChecks.this.global.Scope">newScope</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Scopes.scala.html#407759" title="(outer: RefChecks.this.global.Scope)RefChecks.this.global.Scope">newNestedScope</a><span class="delimiter">(</span><a href="#1097578" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#1097562" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="1097565">maxindex</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="1097568">refpos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="1097571">refsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="1094387">currentLevel</a>: <a href="#1094385" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="1094389">symIndex</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="RefChecks.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="1094391">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1094387" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#1094385" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="1094392">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#1094387" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097578" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="1094393">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="1097580">stats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="1097581">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1097602">stat</a> &lt;- <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1097581" title="Int">index</a> = <a href="#1097581" title="Int">index</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>;
        <a href="#1097602" title="RefChecks.this.global.Tree">stat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#3371051" title="Unit" id="3371057" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="RefChecks.this.global.Modifiers" id="3371052">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="RefChecks.this.global.TypeName" id="3371053">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[RefChecks.this.global.TypeDef]" id="3371054">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="RefChecks.this.global.Template" id="3371055">_</a><span class="delimiter">)</span> | DefDef<a href="#3371051" title="Boolean" id="3371065" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="RefChecks.this.global.Modifiers" id="3371058">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="RefChecks.this.global.Name" id="3371059">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[RefChecks.this.global.TypeDef]" id="3371060">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[RefChecks.this.global.ValDef]]" id="3371061">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="RefChecks.this.global.Tree" id="3371062">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="RefChecks.this.global.Tree" id="3371063">_</a><span class="delimiter">)</span> | ModuleDef<a href="#3371051" title="Boolean" id="3371070" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410316" title="RefChecks.this.global.Modifiers" id="3371066">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410318" title="RefChecks.this.global.TermName" id="3371067">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410320" title="RefChecks.this.global.Template" id="3371068">_</a><span class="delimiter">)</span> | ValDef<a href="#3371051" title="Boolean" id="3371076" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="RefChecks.this.global.Modifiers" id="3371071">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="RefChecks.this.global.TermName" id="3371072">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="RefChecks.this.global.Tree" id="3371073">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="RefChecks.this.global.Tree" id="3371074">_</a><span class="delimiter">)</span> =&gt;
            //assert(stat.symbol != NoSymbol, stat);//debug
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097636">sym</a> = <a href="#1097602" title="RefChecks.this.global.Tree">stat</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411437" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097636" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097562" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#410508" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#1097636" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#1097636" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#1097581" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="1094394">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="1097645">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="1097646">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097646" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="1097647">e</a> = <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097562" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#410519" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#1097646" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1097647" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097646" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1097647" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426498" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="1097653">l</a> = <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1097562" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1097647" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#426500" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1097578" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="1097654">symindex</a> = <a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#1097646" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1097565" title="=&gt; Int">maxindex</a> <a href="../../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#1097654" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1097568" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#1097645" title="RefChecks.this.global.Position">pos</a>
            <a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1097571" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#1097646" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#1097653" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#1097565" title="(x$1: Int)Unit">maxindex</a> = <a href="#1097654" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Comparison checking -------------------------------------------------------
    <span class="keyword">object</span> <a title="RefCheckTransformer.this.normalizeAll.type" id="1094395">normalizeAll</a> <a href="#1094396" title="RefCheckTransformer.this.normalizeAll.type" class="keyword">extends</a> <a href="../../../reflect/internal/Types.scala.html#407460" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="1097691">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1097693">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Types.scala.html#441772" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#1097693" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="1094397">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="1097716">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="1097717">fn</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a>, <a title="List[RefChecks.this.global.Tree]" id="1097718">args</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1097717" title="RefChecks.this.global.Tree">fn</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Select<a href="#3371138" title="Unit" id="3371140" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="1097723">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="1097724">name</a> @ <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414634" title="Unit" id="3371149">EQ</a> | <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414658" title="Boolean" id="3371150">NE</a> | <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414345" title="Boolean" id="3371151">eq</a> | <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414453" title="Boolean" id="3371152">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1097718" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1097734">isReferenceOp</a> = <a href="#1097724" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414345" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097724" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414453" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="1097735">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1097783">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1097783" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Function<a href="#3371090" title="Boolean" id="3371094" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410136" title="List[RefChecks.this.global.ValDef]" id="3371091">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410138" title="RefChecks.this.global.Tree" id="3371092">_</a><span class="delimiter">)</span>
             | Apply<a href="#3371090" title="Boolean" id="3371098" class="delimiter">(</a>Select<a href="../../../reflect/internal/Trees.scala.html#410031" title="RefChecks.this.global.Tree" id="3371102" class="delimiter">(</a>New<a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="3371105" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410063" title="RefChecks.this.global.Tree" id="3371103">_</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="3371108">CONSTRUCTOR</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[RefChecks.this.global.Tree]" id="3371096">_</a><span class="delimiter">)</span> =&gt; <a href="#3371111" title="(x: Boolean)Boolean" class="keyword">true</a>
          <span class="keyword">case</span> _ =&gt; <a href="#3371111" title="(x: Boolean)Boolean" class="keyword">false</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="1097736">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1097809">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097810">sym</a> = <a href="#1097809" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="RefChecks.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097810" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411171" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#1097736" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#1097810" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#1097810" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097737">actual</a>   = <a href="#1097736" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#1097718" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; RefChecks.this.global.Tree">head</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097738">receiver</a> = <a href="#1097736" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#1097723" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="1097739">onTrees</a><span class="delimiter">[</span><a title="" id="1097741">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="1097814">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#58642" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#1097723" title="RefChecks.this.global.Tree">qual</a>, <a href="#1097718" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; RefChecks.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="1097742">onSyms</a><span class="delimiter">[</span><a title="" id="1097744">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="1097824">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#58642" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol`
        <span class="keyword">def</span> <a title="=&gt; String" id="1097745">typesString</a> = <a href="#1097691" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><a href="#1097723" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a><span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)String">+</span><a href="#1097691" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#1097718" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; RefChecks.this.global.Tree">head</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>

        /** Symbols which limit the warnings we can issue since they may be value types */
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="1097746">isMaybeValue</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408667" title="=&gt; RefChecks.this.global.ClassSymbol">AnyClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; RefChecks.this.global.AliasTypeSymbol">AnyRefClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; RefChecks.this.global.ClassSymbol">ObjectClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#408792" title="=&gt; RefChecks.this.global.ClassSymbol">ComparableClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#408790" title="=&gt; RefChecks.this.global.ClassSymbol">JavaSerializableClass</a><span class="delimiter">)</span>

        // Whether def equals(other: Any) has known behavior: it is the default
        // inherited from java.lang.Object, or it is a synthetically generated
        // case equals.  TODO - more cases are warnable if the target is a synthetic
        // equals.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1097747">isUsingWarnableEquals</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097842">m</a> = <a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414353" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1097842" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409106" title="=&gt; RefChecks.this.global.TermSymbol">Object_equals</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097842" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409059" title="=&gt; RefChecks.this.global.MethodSymbol">Any_equals</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097748" title="(m: RefChecks.this.global.Symbol)Boolean">isMethodCaseEquals</a><span class="delimiter">(</span><a href="#1097842" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(m: RefChecks.this.global.Symbol)Boolean" id="1097748">isMethodCaseEquals</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097855">m</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1097855" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409872" title="=&gt; Boolean">isSynthetic</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097855" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409848" title="=&gt; Boolean">isCase</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1097749">isCaseEquals</a> = <a href="#1097748" title="(m: RefChecks.this.global.Symbol)Boolean">isMethodCaseEquals</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414353" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        // Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1097750">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1097860">s</a> = <a href="#1097717" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <span class="delimiter">(</span><a href="#1097860" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409085" title="=&gt; RefChecks.this.global.MethodSymbol">Object_==</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097860" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409087" title="=&gt; RefChecks.this.global.MethodSymbol">Object_!=</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097860" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409055" title="=&gt; RefChecks.this.global.MethodSymbol">Any_==</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097860" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409057" title="=&gt; RefChecks.this.global.MethodSymbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Whether the operands+operator represent a warnable combo (assuming anyrefs)
        // Looking for comparisons performed with ==/!= in combination with either an
        // equals method inherited from Object or a case class synthetic equals (for
        // which we know the logic.)
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1097751">isWarnable</a>           = <a href="#1097734" title="=&gt; Boolean">isReferenceOp</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097750" title="=&gt; Boolean">isUsingDefaultScalaOp</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097747" title="=&gt; Boolean">isUsingWarnableEquals</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="1097752">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408694" title="RefChecks.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408694" title="RefChecks.this.global.definitions.NullClass.type">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097753">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097885">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#409302" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1097885" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409369" title="=&gt; RefChecks.this.global.ClassSymbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097754">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097892">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../../../reflect/internal/Definitions.scala.html#409302" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1097892" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097755">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097898">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#409351" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409302" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1097898" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097758" title="(s: RefChecks.this.global.Symbol)Boolean">isAnyNumber</a><span class="delimiter">(</span><a href="#1097898" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097756">isScalaNumber</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097901">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1097901" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#408777" title="=&gt; RefChecks.this.global.ClassSymbol">ScalaNumberClass</a>
        // test is behind a platform guard
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097757">isJavaNumber</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097903">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537757" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1097903" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#408798" title="=&gt; RefChecks.this.global.ClassSymbol">JavaNumberClass</a><span class="delimiter">)</span>
        // includes java.lang.Number if appropriate [SI-5779]
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097758">isAnyNumber</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097900">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1097756" title="(s: RefChecks.this.global.Symbol)Boolean">isScalaNumber</a><span class="delimiter">(</span><a href="#1097900" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097757" title="(s: RefChecks.this.global.Symbol)Boolean">isJavaNumber</a><span class="delimiter">(</span><a href="#1097900" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097759">isMaybeAnyValue</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097905">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: RefChecks.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409302" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#1097905" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1097905" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        // used to short-circuit unrelatedTypes check if both sides are special
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="1097760">isSpecial</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097922">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1097759" title="(s: RefChecks.this.global.Symbol)Boolean">isMaybeAnyValue</a><span class="delimiter">(</span><a href="#1097922" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097758" title="(s: RefChecks.this.global.Symbol)Boolean">isAnyNumber</a><span class="delimiter">(</span><a href="#1097922" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        // unused
        <span class="keyword">def</span> <a title="=&gt; Int" id="1097761">possibleNumericCount</a> = <a href="#1097742" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#1097926" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1097930">x</a> =&gt; <a href="#1097755" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#1097930" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1097930" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="1097762">nullCount</a>            = <a href="#1097742" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#1097947" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#1097951" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#408694" title="RefChecks.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="1097763">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="1097958">what</a>: <span title="String">String</span>, <a title="Boolean" id="1097959">alwaysEqual</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="1097960">msg</a> = <a href="#1097959" title="Boolean">alwaysEqual</a> <a href="../../../Boolean.scala.html#57823" title="(x: Boolean)Boolean">==</a> <span class="delimiter">(</span><a href="#1097724" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414634" title="=&gt; RefChecks.this.global.TermName">EQ</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097724" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414345" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1097716" title="RefChecks.this.global.Position">pos</a>, <span title="String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)String">+</span><a href="#1097958" title="String">what</a><span title="(x$1: Any)String">+</span><span title="String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)String">+</span><a href="#1097724" title="RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097960" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="1097764">nonSensible</a><span class="delimiter">(</span><a title="String" id="1097976">pre</a>: <span title="String">String</span>, <a title="Boolean" id="1097977">alwaysEqual</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span> =
          <a href="#1097763" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#1097976" title="String">pre</a><span title="(x$1: Any)String">+</span><span title="String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)String">+</span><a href="#1097745" title="=&gt; String">typesString</a>, <a href="#1097977" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()Unit" id="1097765">nonSensiblyEq</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1097764" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()Unit" id="1097766">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1097764" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()Unit" id="1097767">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1097763" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Unit" id="1097768">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="1097978">msg</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097724" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414634" title="=&gt; RefChecks.this.global.TermName">EQ</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097724" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414345" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
                      <span title="String(&quot;never compare equal&quot;)" class="string">&quot;never compare equal&quot;</span> <span class="keyword">else</span> <span title="String(&quot;always compare unequal&quot;)" class="string">&quot;always compare unequal&quot;</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1097716" title="RefChecks.this.global.Position">pos</a>, <a href="#1097745" title="=&gt; String">typesString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; are unrelated: they will most likely &quot;)" class="string">&quot; are unrelated: they will most likely &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1097978" title="String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097762" title="Int">nullCount</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> // null == null
          <a href="#1097765" title="()Unit">nonSensiblyEq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097762" title="Int">nullCount</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097742" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#1098001" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: RefChecks.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == 5
            <a href="#1097766" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097739" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#1098013" title="List[RefChecks.this.global.Tree]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#1097735" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == new AnyRef
            <a href="#1097767" title="()Unit">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097753" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097753" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    // true == 5
            <a href="#1097766" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097754" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097754" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> // () == ()
            <a href="#1097765" title="()Unit">nonSensiblyEq</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097754" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  // () == &quot;abc&quot;
            <a href="#1097766" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097755" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097755" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../Global.scala.html#537757" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097754" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097753" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   // 5 == &quot;abc&quot;
              <a href="#1097766" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097751" title="=&gt; Boolean">isWarnable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097749" title="=&gt; Boolean">isCaseEquals</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097735" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#1097723" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> // new X == y
            <a href="#1097767" title="()Unit">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097735" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#1097718" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; RefChecks.this.global.Tree">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1097734" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   // object X ; X == new Y
            <a href="#1097767" title="()Unit">nonSensiblyNew</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#411184" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>  // object X, Y; X == Y
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097752" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#1097764" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#1097766" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // possibleNumericCount is insufficient or this will warn on e.g. Boolean == j.l.Boolean
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097751" title="=&gt; Boolean">isWarnable</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097762" title="Int">nullCount</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1097760" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1097760" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // better to have lubbed and lost
          <span class="keyword">def</span> <a title="()Unit" id="1098060">warnIfLubless</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="1098062">common</a> = <a href="#621621" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/Types.scala.html#407605" title="(ts: List[RefChecks.this.global.Type])RefChecks.this.global.Type">lub</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; RefChecks.this.global.ClassSymbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1098062" title="RefChecks.this.global.Type">common</a><span class="delimiter">)</span>
              <a href="#1097768" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="1098061">eitherSubclasses</a> = <span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span>
          // warn if actual has a case parent that is not same as receiver's;
          // if actual is not a case, then warn if no common supertype, as below
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097749" title="=&gt; Boolean">isCaseEquals</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="1098081">thisCase</a> = <a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408451" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414353" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>
            <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408491" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86381" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Option[RefChecks.this.global.Symbol]">find</a><span title="Unit" class="delimiter">(</span><a href="#1098096" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409848" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#3371124" title="Unit" id="3371125" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="RefChecks.this.global.Symbol" id="1098098">p</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1098098" title="RefChecks.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1098081" title="=&gt; RefChecks.this.global.Symbol">thisCase</a> =&gt; <a href="#1097764" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><a href="#3371129" title="(x: Unit)Unit" class="delimiter">(</a><span title="String(&quot;case class &quot;)" class="string">&quot;case class &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="Unit" id="3371127">None</a> =&gt;
                // stronger message on (Some(1) == None)
                //if (receiver.isCase &amp;&amp; receiver.isEffectivelyFinal &amp;&amp; !(receiver isSubClass actual)) nonSensiblyNeq()
                //else
                // if a class, it must be super to thisCase (and receiver) since not &lt;: thisCase
                <a href="#3371129" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1097766" title="()Unit">nonSensiblyNeq</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098061" title="=&gt; Boolean">eitherSubclasses</a><span class="delimiter">)</span> <a href="#1098060" title="()Unit">warnIfLubless</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097737" title="RefChecks.this.global.Symbol">actual</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1097738" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#1097737" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          // warn only if they have no common supertype below Object
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#1098060" title="()Unit">warnIfLubless</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> _ =&gt;
    <span class="delimiter">}</span>

    // SI-6276 warn for `def foo = foo` or `val bar: X = bar`, which come up more frequently than you might think.
    <span class="keyword">def</span> <a title="(valOrDef: RefChecks.this.global.ValOrDefDef)Unit" id="1094398">checkInfiniteLoop</a><span class="delimiter">(</span><a title="RefChecks.this.global.ValOrDefDef" id="1098105">valOrDef</a>: <a href="../../../reflect/internal/Trees.scala.html#407959" title="RefChecks.this.global.ValOrDefDef">ValOrDefDef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="1098106">callsSelf</a> = <a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#410271" title="=&gt; RefChecks.this.global.Tree">rhs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> t @ <span class="delimiter">(</span>Ident<a href="#3371182" title="Boolean" id="3371185" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409987" title="RefChecks.this.global.Name" id="3371183">_</a><span class="delimiter">)</span> | Select<a href="#3371182" title="Boolean" id="3371189" class="delimiter">(</a>This<a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="3371192" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410008" title="RefChecks.this.global.TypeName" id="3371190">_</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="3371187">_</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          t <a href="#3371194" title="(x: Boolean)Boolean">hasSymbolWhich</a> <span class="delimiter">(</span><a href="#1098121" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411438" title="=&gt; RefChecks.this.global.Symbol">accessedOrSelf</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#3371194" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Boolean" id="1098107">trivialInifiniteLoop</a> = <span class="delimiter">(</span>
        <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#408559" title="=&gt; Boolean">isErroneous</a>
     <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411210" title="=&gt; Boolean">isValueParameter</a>
     <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411390" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a>
     <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1098106" title="=&gt; Boolean">callsSelf</a>
      <span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098107" title="Boolean">trivialInifiniteLoop</a><span class="delimiter">)</span>
        <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#410271" title="=&gt; RefChecks.this.global.Tree">rhs</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;$<span class="delimiter">{</span><a href="#1098105" title="RefChecks.this.global.ValOrDefDef">valOrDef</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a><span class="delimiter">}</span><span class="string"> does nothing other than call itself recursively&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

// Transformation ------------------------------------------------------------

    /* Convert a reference to a case factory of type `tpe` to a new of the class it produces. */
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="1094399">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="1098129">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="1098130">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="1098131">rtpe</a> = <a href="#1098130" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408427" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1098131" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2048L)">CASE</span>, <a href="#1098130" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#538708" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#1098129" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/Trees.scala.html#408125" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#453831" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408087" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#1098131" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#1098131" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411424" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="1094400">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="1098184">stats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="1098185">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#1094391" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#1094393" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#1098184" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="1098188">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#1098184" title="List[RefChecks.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="1098205">stat</a> =&gt; <a href="#1098188" title="Int">index</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#1094403" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#1098205" title="RefChecks.this.global.Tree">stat</a>, <a href="#1098188" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#1094392" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="1094401">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098246">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="#3371204" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" id="3371206" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410316" title="RefChecks.this.global.Modifiers" id="1098248">mods</a>, <a href="../../../reflect/internal/Trees.scala.html#410318" title="RefChecks.this.global.TermName" id="1098249">name</a>, <a href="../../../reflect/internal/Trees.scala.html#410320" title="RefChecks.this.global.Template" id="1098250">impl</a><span class="delimiter">)</span> = <a href="#1098246" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098251">sym</a>      = <a href="#1098246" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098252">classSym</a> = <a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411459" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="1098253">cdef</a>     = <a href="../../../reflect/internal/Trees.scala.html#452078" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#1098248" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#409819" title="(flag: Long)RefChecks.this.global.Modifiers">|</a> <span title="Long(256L)">MODULE</span>, <a href="#1098249" title="RefChecks.this.global.TermName">name</a>.<a href="../../../reflect/internal/Names.scala.html#410448" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#1098250" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408579" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</a> <a href="#1098252" title="RefChecks.this.global.Symbol">classSym</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</a> <a href="../../../reflect/internal/Types.scala.html#407284" title="RefChecks.this.global.NoType.type">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="1098254">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#538703" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1098246" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="1098314">createModuleVar</a> = <a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543466" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; RefChecks.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408443" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><a href="#3371212" title="RefChecks.this.global.Symbol" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414750" title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410379" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          // In case we are dealing with local symbol then we already have
          // to correct error with forward reference
          <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="RefChecks.this.global.analyzer.global.Tree" id="3371215">NoSymbol</a> =&gt; <a href="#3371218" title="(x: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">createModuleVar</a>
          <span class="keyword">case</span> vsym     =&gt; <a href="../../../reflect/internal/Trees.scala.html#408103" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><a href="#3371218" title="(x: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree" class="delimiter">(</a>vsym<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="1098255">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../Global.scala.html#537696" title="(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">afterRefchecks</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="1098335">method</a> = <span class="delimiter">(</span>
          <a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411113" title="(name: RefChecks.this.global.TermName, pos: RefChecks.this.global.Position, newFlags: Long)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410379" title="=&gt; RefChecks.this.global.TermName">toTermName</a>, <a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411241" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#57505" title="(x: Int)Long">|</a> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <a href="../../../Long.scala.html#57510" title="(x: Int)Long">&amp;</a> <a href="../../../Int.scala.html#57084" title="=&gt; Int">~</a><span title="Int(256)">MODULE</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Symbols.scala.html#411373" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#441694" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411459" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#538703" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1098246" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543468" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#1098335" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#1098251" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="1098256">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098360">vdef</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>
        <a href="#1098360" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#538703" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#1098246" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098369">vsym</a> = <a href="#1098360" title="RefChecks.this.global.Tree">vdef</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <a href="../Global.scala.html#537696" title="(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">afterRefchecks</a> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="1098372">rhs</a>  = <a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543469" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1098369" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="1098373">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#1098372" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543465" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#1098369" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#1098372" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1098373" title="RefChecks.this.global.gen.global.Tree">body</a>.<a href="../../../reflect/internal/Trees.scala.html#408563" title="(pairs: (RefChecks.this.global.gen.global.Symbol, RefChecks.this.global.gen.global.Symbol)*)RefChecks.this.global.gen.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7509" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <a href="../../../Predef.scala.html#62634" title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</a> <a href="#1098251" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="../../../reflect/api/Trees.scala.html#405653" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1098253" title="RefChecks.this.global.ClassDef">cdef</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411293" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <a href="#1098256" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#1098254" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098251" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411465" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span>
          <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#1098255" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="1094402">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098428">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Tree" id="1098429">rhs</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098430">vsym</a>        = <a href="#1098428" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a>, <a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="1098431">hasUnitType</a> = <a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098432">lazySym</a>     = <a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411436" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1098432" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>

      // for traits, this is further transformed in mixins
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1098433">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098428" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1098431" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#1098429" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543465" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#1098429" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="1098434">lazyDef</a> = <a href="../../../reflect/internal/Positions.scala.html#408315" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#1098428" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408109" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#1098432" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="#1098433" title="RefChecks.this.global.Tree">body</a>.<a href="../../../reflect/internal/Trees.scala.html#408563" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7509" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <a href="../../../Predef.scala.html#62634" title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</a> <a href="#1098432" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;Created lazy accessor: &quot;)" class="string">&quot;Created lazy accessor: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1098434" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098431" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="Typers.scala.html#538701" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#1098434" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>
        <a href="Typers.scala.html#538701" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408103" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#1098430" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../Global.scala.html#537696" title="(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">afterRefchecks</a><span class="delimiter">(</span><a href="Typers.scala.html#538701" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#1098434" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="1094403">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098212">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a>, <a title="Int" id="1098213">index</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#1098212" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> t <span class="keyword">if</span> <a href="../ast/Trees.scala.html#537807" title="RefChecks.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#479208" title="(tree: RefChecks.this.global.treeInfo.global.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span>t<span class="delimiter">)</span> =&gt;
        <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1098213" title="Int">index</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>, <a href="#1098213" title="Int">index</a><span class="delimiter">)</span>
        <span class="keyword">try</span> <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1098212" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
        <span class="keyword">finally</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097565" title="=&gt; Int">maxindex</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // An implementation restriction to avoid VerifyErrors and lazyvals mishaps; see SI-4717
          <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;refsym = &quot;)" class="string">&quot;refsym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097571" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097568" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="String(&quot;forward reference not allowed from self constructor invocation&quot;)" class="string">&quot;forward reference not allowed from self constructor invocation&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> ModuleDef<a href="#3371237" title="List[RefChecks.this.global.Tree]" id="3371242" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410316" title="RefChecks.this.global.Modifiers" id="3371238">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410318" title="RefChecks.this.global.TermName" id="3371239">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410320" title="RefChecks.this.global.Template" id="3371240">_</a><span class="delimiter">)</span> =&gt; <a href="#1094401" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><a href="#3371261" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]" class="delimiter">(</a><a href="#1098212" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> ValDef<a href="#3371237" title="List[RefChecks.this.global.Tree]" id="3371248" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="RefChecks.this.global.Modifiers" id="3371243">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="RefChecks.this.global.TermName" id="3371244">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="RefChecks.this.global.Tree" id="3371245">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="RefChecks.this.global.Tree" id="3371246">_</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a href="#3371233" title="(x: (RefChecks.this.global.ValDef, RefChecks.this.global.Tree))(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="1098565">tree1</a> @ ValDef<a href="#3371226" title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="3371231" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="RefChecks.this.global.Modifiers" id="3371227">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="RefChecks.this.global.TermName" id="3371228">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="RefChecks.this.global.Tree" id="3371229">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="RefChecks.this.global.Tree" id="1098566">rhs</a><span class="delimiter">)</span> = <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</a><a href="#1098212" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> // important to do before forward reference check
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098212" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409857" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
          <a href="#1094402" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#1098212" title="RefChecks.this.global.Tree">tree</a>, <a href="#1098566" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098582">lazySym</a> = <a href="#1098212" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411437" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098582" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1098213" title="Int">index</a> <a href="../../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097565" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;refsym = &quot;)" class="string">&quot;refsym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097571" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1094387" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#1097568" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1098582" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#1098565" title="RefChecks.this.global.ValDef">tree1</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: RefChecks.this.global.ValDef)List[RefChecks.this.global.ValDef]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> Import<a href="#3371237" title="List[RefChecks.this.global.Tree]" id="3371252" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410214" title="RefChecks.this.global.Tree" id="3371249">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410216" title="List[RefChecks.this.global.ImportSelector]" id="3371250">_</a><span class="delimiter">)</span>                                                                       =&gt; <a href="#3371261" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">Nil</a>
      <span class="keyword">case</span> DefDef<a href="#3371237" title="List[RefChecks.this.global.Tree]" id="3371259" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="RefChecks.this.global.Modifiers" id="1098601">mods</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="RefChecks.this.global.Name" id="3371253">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[RefChecks.this.global.TypeDef]" id="3371254">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[RefChecks.this.global.ValDef]]" id="3371255">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="RefChecks.this.global.Tree" id="3371256">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="RefChecks.this.global.Tree" id="3371257">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#1098601" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#409816" title="(flag: Long)Boolean">hasFlag</a> <span title="Long(32768L)">MACRO</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1098212" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(32768L)">MACRO</span><span class="delimiter">)</span> =&gt; <a href="#3371261" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">Nil</a>
      <span class="keyword">case</span> _                                                                                  =&gt; <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1098212" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#3371261" title="(x: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">::</a> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
    <span class="delimiter">}</span>

    /* Check whether argument types conform to bounds of type parameters */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit" id="1094404">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098608">tree0</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="1098609">pre</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="1098610">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="1098611">tparams</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="1098612">argtps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> =
      <span class="keyword">try</span> <a href="../Global.scala.html#537612" title="RefChecks.this.global.typer.type">typer</a>.<a href="Typers.scala.html#538550" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#541388" title="(tree: RefChecks.this.global.analyzer.global.Tree, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Boolean">checkBounds</a><span title="Unit" class="delimiter">(</span><a href="#1098608" title="RefChecks.this.global.Tree">tree0</a>, <a href="#1098609" title="RefChecks.this.global.Type">pre</a>, <a href="#1098610" title="RefChecks.this.global.Symbol">owner</a>, <a href="#1098611" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#1098612" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="1098619">ex</a>: <a href="../../../reflect/internal/Types.scala.html#407625" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1098608" title="RefChecks.this.global.Tree">tree0</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1098619" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#540205" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="1098624">bounds</a> = <a href="#1098611" title="List[RefChecks.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1098641">tp</a> =&gt; <a href="#1098641" title="RefChecks.this.global.Symbol">tp</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408435" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#1098611" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#1098612" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <a href="../../../Predef.scala.html#7531" title="(x: (List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds]))runtime.Tuple2Zipped.Ops[List[RefChecks.this.global.Type],List[RefChecks.this.global.TypeBounds]]" class="delimiter">(</a><a href="#1098612" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#1098624" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<a href="../../../runtime/Tuple2Zipped.scala.html#60613" title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])scala.runtime.Tuple2Zipped[RefChecks.this.global.Type,List[RefChecks.this.global.Type],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]]">zipped</a> <a href="../../../runtime/Tuple2Zipped.scala.html#486040" title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1098726">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="1098727">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#407637" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1098727" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#410582" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#1098726" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../Predef.scala.html#7531" title="(x: (List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds]))runtime.Tuple2Zipped.Ops[List[RefChecks.this.global.Type],List[RefChecks.this.global.TypeBounds]]" class="delimiter">(</a><a href="#1098612" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#1098624" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<a href="../../../runtime/Tuple2Zipped.scala.html#60613" title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])scala.runtime.Tuple2Zipped[RefChecks.this.global.Type,List[RefChecks.this.global.Type],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]]">zipped</a> <a href="../../../runtime/Tuple2Zipped.scala.html#486040" title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1098808">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="1098809">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#407637" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#1098808" title="RefChecks.this.global.Type">targ</a>, <a href="#1098809" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="1094405">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098840">pat</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="1098841">seltpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#1098840" title="RefChecks.this.global.Tree">pat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#3371270" title="Boolean" id="3371273" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="RefChecks.this.global.Tree" id="3371271">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[RefChecks.this.global.Tree]" id="1098846">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1098847">clazz</a> = <a href="#1098840" title="RefChecks.this.global.Tree">pat</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#1098847" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#1098841" title="RefChecks.this.global.Type">seltpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#1098847" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411178" title="=&gt; Boolean">isCaseClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="#1098846" title="List[RefChecks.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqLike.scala.html#86319" title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</a> <a href="#1098847" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411424" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408460" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#1098841" title="RefChecks.this.global.Type">seltpe</a>, <a href="#1098847" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1094405" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> Typed<a href="#3371270" title="Boolean" id="3371275" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410055" title="RefChecks.this.global.Tree" id="1098879">pat</a>, <a href="../../../reflect/internal/Trees.scala.html#410057" title="RefChecks.this.global.Tree" id="1098880">tpt</a><span class="delimiter">)</span> =&gt;
        <a href="#1098841" title="RefChecks.this.global.Type">seltpe</a> <a href="#3371287" title="(x: Boolean)Boolean">&lt;:&lt;</a> <a href="#1098880" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>
      <span class="keyword">case</span> Ident<a href="#3371270" title="Boolean" id="3371278" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#407863" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/Trees.scala.html#409987" title="RefChecks.this.global.Name" id="3371284">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <a href="#3371287" title="(x: Boolean)Boolean" class="keyword">true</a>
      <span class="keyword">case</span> Bind<a href="#3371270" title="Boolean" id="3371283" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410157" title="RefChecks.this.global.Name" id="3371281">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410159" title="RefChecks.this.global.Tree" id="1098894">pat</a><span class="delimiter">)</span> =&gt;
        <a href="#1094405" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><a href="#3371287" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#1098894" title="RefChecks.this.global.Tree">pat</a>, <a href="#1098841" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#3371287" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>

    /** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="1094406">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1098895">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="1098896">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098895" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411269" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411317" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1098905">x</a> =&gt; <a href="#1098905" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#411269" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1098905" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#411268" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539300" title="(pos: RefChecks.this.global.Position, msg: String)Any">deprecationWarning</a><span title="Unit" class="delimiter">(</span><a href="#1098896" title="RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1098895" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1098895" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a>, <a href="#1098895" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411270" title="=&gt; Option[String]">deprecationMessage</a> <a href="../../../Option.scala.html#62865" title="(f: String =&gt; String)Option[String]">map</a> <span class="delimiter">(</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1098912" title="String">_</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#62859" title="(default: =&gt; String)String">getOrElse</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="1094407">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1098917">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="1098918">pos</a>: <a href="../../../reflect/internal/util/Position.scala.html#22953" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098917" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411279" title="=&gt; Boolean">hasMigrationAnnotation</a><span class="delimiter">)</span>
        <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1098918" title="RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has changed semantics in version %s:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1098917" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#1098917" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411281" title="=&gt; Option[String]">migrationVersion</a>.<a href="../../../Option.scala.html#62858" title="=&gt; String">get</a>, <a href="#1098917" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411280" title="=&gt; Option[String]">migrationMessage</a>.<a href="../../../Option.scala.html#62858" title="=&gt; String">get</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="1094408">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1098922">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1098923">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#1098922" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098922" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409866" title="=&gt; Boolean">isProtected</a>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098922" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1098922" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411190" title="=&gt; Boolean">isExistentiallyBound</a>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1098922" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411355" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#1098923" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1098922" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411355" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#1098923" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411422" title="=&gt; RefChecks.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="1094409">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1098929">other</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="1098930">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1098931">extras</a> = <a href="#1098929" title="RefChecks.this.global.Type">other</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#3371298" title="List[RefChecks.this.global.Symbol]" id="3371301" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="RefChecks.this.global.Type" id="1098935">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="RefChecks.this.global.Symbol" id="3371299">_</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[RefChecks.this.global.Type]" id="1098936">args</a><span class="delimiter">)</span> =&gt;
          // checking the prefix here gives us spurious errors on e.g. a private[process]
          // object which contains a type alias, which normalizes to a visible type.
          <a href="#1098936" title="List[RefChecks.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</a> <span class="delimiter">(</span><a href="#1098940" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#407286" title="RefChecks.this.global.NoPrefix.type">NoPrefix</a><span class="delimiter">)</span> <a href="#3371303" title="(x: List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">flatMap</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1098960">tp</a> =&gt; <a href="#1094409" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#1098960" title="RefChecks.this.global.Type">tp</a>, <a href="#1098930" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt;
          <a href="#3371303" title="(x: List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">Nil</a>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#1094408" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#1098929" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#1098930" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#1098929" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#1098931" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#1098931" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="1094410">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1098995">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="1098996">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="1098997">comparison</a> = <a href="#621635" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><a href="#3371308" title="String" class="delimiter">(</a><a href="#1098996" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#3371308" title="String" id="3371311" class="string">&quot;&quot;</a>   =&gt; <a href="#3371313" title="(x: String)String" class="string">&quot;&quot;</a>
        <span class="keyword">case</span> acc  =&gt; <span title="String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)String">+</span> acc <a href="#3371313" title="(x: String)String">+</a> <span title="String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="1098998">cannot</a> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#1098996" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>

      <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1098996" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>,
        <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1098996" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411510" title="=&gt; String">fullLocationString</a>, <a href="#1098997" title="String">comparison</a>,
          <a href="#621635" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#1098995" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#1098995" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#1098995" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411324" title="=&gt; String">decodedName</a>, <a href="#1098998" title="String">cannot</a>, <a href="#1098996" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411324" title="=&gt; String">decodedName</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1094411">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099006">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1099007">member</a> = <a href="#1099006" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span class="keyword">def</span> <a title="(tpe: RefChecks.this.global.Type)Unit" id="1099008">checkAccessibilityOfType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1099009">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1099010">inaccessible</a> = <a href="#1094409" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#1099009" title="RefChecks.this.global.Type">tpe</a>, <a href="#1099007" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        // if the unnormalized type is accessible, that's good enough
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099010" title="List[RefChecks.this.global.Symbol]">inaccessible</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // or if the normalized type is, that's good too
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1099009" title="RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#1099009" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1094409" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#1099009" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#1099007" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // otherwise warn about the inaccessible syms in the unnormalized type
        <span class="keyword">else</span> <a href="#1099010" title="List[RefChecks.this.global.Symbol]">inaccessible</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1099032">sym</a> =&gt; <a href="#1094410" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#1099032" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1099007" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // types of the value parameters
      <a href="../../../reflect/internal/Symbols.scala.html#407199" title="(sym: RefChecks.this.global.Symbol)(f: RefChecks.this.global.Symbol =&gt; Unit)List[List[Unit]]">mapParamss</a><span class="delimiter">(</span><a href="#1099007" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1099041">p</a> =&gt; <a href="#1099008" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a><span class="delimiter">(</span><a href="#1099041" title="RefChecks.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // upper bounds of type parameters
      <a href="#1099007" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</a><a href="#1099063" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#408415" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#410584" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1099008" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a>
    <span class="delimiter">}</span>

    /** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1094412">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099118">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1099119">symbol</a> = <a href="#1099118" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099119" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411269" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="1099120">concrOvers</a> =
          <a href="#1099119" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411464" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/TraversableLike.scala.html#58073" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1099126">sym</a> =&gt;
            <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099126" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411269" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099126" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409850" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099120" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539300" title="(pos: RefChecks.this.global.Position, msg: String)Any">deprecationWarning</a><span title="Unit" class="delimiter">(</span>
            <a href="#1099118" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>,
            <a href="#1099119" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411507" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#1099120" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#1099143" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; x$43.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="1094413">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099175">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1094360" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<a href="#3371321" title="Boolean" id="3371323" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="RefChecks.this.global.Tree" id="1099180">fn</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[RefChecks.this.global.Tree]" id="1099181">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099181" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1099181" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86394" title="=&gt; RefChecks.this.global.Tree">last</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#1099175" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#1099180" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#1099181" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="#3371325" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../reflect/internal/Definitions.scala.html#408815" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#1099180" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408430" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86394" title="=&gt; RefChecks.this.global.Symbol">last</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
        <a href="#3371325" title="(x: Boolean)Boolean" class="keyword">false</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit" id="1094414">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1099190">tp</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Tree" id="1099191">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1099190" title="RefChecks.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> TypeRef<a href="#3371330" title="Unit" id="3371332" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="RefChecks.this.global.Type" id="1099195">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="RefChecks.this.global.Symbol" id="1099196">sym</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[RefChecks.this.global.Type]" id="1099197">args</a><span class="delimiter">)</span> =&gt;
        <a href="#1094406" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#1099196" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1099191" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#1099196" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409855" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
          <a href="#1099196" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#1099220" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411384" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099190" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#408392" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#1094404" title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a><span class="delimiter">(</span><a href="#1099191" title="RefChecks.this.global.Tree">tree</a>, <a href="#1099195" title="RefChecks.this.global.Type">pre</a>, <a href="#1099196" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#1099196" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#1099197" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], tree: RefChecks.this.global.Tree)Unit" id="1094415">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="1099222">tpes</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Tree" id="1099223">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#1099222" title="List[RefChecks.this.global.Type]">tpes</a> <a href="../../../collection/immutable/List.scala.html#62719" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="1099244">tp</a> =&gt; <a href="#1094414" title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#1099244" title="RefChecks.this.global.Type">tp</a>, <a href="#1099223" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="1094416">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099246">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="1099247">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094363" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#1099246" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408473" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#1099247" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="1094417">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099252">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#1515" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="1099253">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="1099254">annots</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[RefChecks.this.global.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#1094415" title="(tpes: List[RefChecks.this.global.Type], tree: RefChecks.this.global.Tree)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#1099254" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1099271" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#409727" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#1099252" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="../../../reflect/api/Trees.scala.html#405653" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#1099254" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</a> <span class="delimiter">(</span><a href="#1099316" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#409728" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#1099252" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#3371359" title="Unit" id="3371363">m</a>: MemberDef =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1099346">sym</a> = m.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <a href="#1099253" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#1099346" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411400" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          // validate implicitNotFoundMessage
          <a href="../Global.scala.html#537550" title="=&gt; scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="Implicits.scala.html#538210" title="RefChecks.this.global.analyzer.ImplicitNotFoundMsg.type">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#1029402" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#1099346" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#62884" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="String" id="1099352">warn</a> =&gt;
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1099252" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#1099346" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1099346" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411509" title="=&gt; String">locationString</a>, <a href="#1099352" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> tpt@TypeTree<a href="#3371359" title="Unit" id="3371362" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>tpt.<a href="../../../reflect/internal/Trees.scala.html#409893" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            tpt.<a href="../../../reflect/internal/Trees.scala.html#409893" title="=&gt; RefChecks.this.global.Tree">original</a> <a href="../../../reflect/internal/Trees.scala.html#408538" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#1099370" title="RefChecks.this.global.Tree" class="delimiter">{</a>
              <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#3371339" title="Unit" id="3371341" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
                <a href="#1094417" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><a href="#3371343" title="(x: Unit)Unit" class="delimiter">(</a>dc.<a href="../../../Function0.scala.html#65930" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#1094416" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#1099252" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#1099374" title="RefChecks.this.global.Type" class="delimiter">{</a>
            <span class="keyword">case</span> AnnotatedType<a href="#3371348" title="Unit" id="3371352" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410660" title="List[RefChecks.this.global.AnnotationInfo]" id="1099378">annots</a>, <a href="../../../reflect/internal/Types.scala.html#410662" title="RefChecks.this.global.Type" id="3371349">_</a>, <a href="../../../reflect/internal/Types.scala.html#410664" title="RefChecks.this.global.Symbol" id="3371350">_</a><span class="delimiter">)</span>  =&gt; <a href="#1099253" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><a href="#3371354" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1099378" title="List[RefChecks.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> _ =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="1094418">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099379">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a>, <a title="=&gt; Unit" id="1099380">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1099381">sym</a> = <a href="#1099379" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="1099382">isClassTypeAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099384">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#1099384" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeApply<a href="#3371371" title="Boolean" id="3371373" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="RefChecks.this.global.Tree" id="1099387">fun</a>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[RefChecks.this.global.Tree]" id="1099388">targs</a><span class="delimiter">)</span> =&gt;
          <a href="#1099382" title="(tree: RefChecks.this.global.Tree)Boolean">isClassTypeAccessible</a><a href="#3371377" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#1099387" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Select<a href="#3371371" title="Boolean" id="3371375" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="1099393">module</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="1099394">apply</a><span class="delimiter">)</span> =&gt;
          // Fixes SI-5626. Classes in refinement types cannot be constructed with `new`. In this case,
          // the companion class is actually not a ClassSymbol, but a reference to an abstract type.
          <a href="#1099393" title="RefChecks.this.global.Tree">module</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411453" title="=&gt; RefChecks.this.global.Symbol">companionClass</a>.<a href="#3371377" title="(x: Boolean)Boolean">isClass</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Boolean" id="1099383">doTransform</a> =
        <a href="#1099381" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411216" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#1099381" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409848" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#1099381" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414263" title="=&gt; RefChecks.this.global.nme.NameType">apply</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#1099382" title="(tree: RefChecks.this.global.Tree)Boolean">isClassTypeAccessible</a><span class="delimiter">(</span><a href="#1099379" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099383" title="Boolean">doTransform</a><span class="delimiter">)</span>
        <a href="#1094399" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#1099379" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1099379" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#1099380" title="=&gt; Unit">ifNot</a>
        <a href="#1099379" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="1094419">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="1099400">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#408036" title="RefChecks.this.global.Apply">Apply</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <a href="#1099400" title="RefChecks.this.global.Apply">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> Apply<span class="delimiter">(</span>
        Select<a href="../../../reflect/internal/Trees.scala.html#410031" title="RefChecks.this.global.Tree" id="3371387" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="1099409">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="3371385">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414367" title="RefChecks.this.global.Tree" id="3371415">filter</a> | <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414597" title="Boolean" id="3371416">withFilter</a><span class="delimiter">)</span>,
        <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[RefChecks.this.global.Tree]]" id="3371432">List</a><a href="../../../reflect/internal/Trees.scala.html#410033" title="List[RefChecks.this.global.Tree]" id="3371384" class="delimiter">(</a>Function<a title="RefChecks.this.global.Tree" id="3371399" class="delimiter">(</a>
          <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[RefChecks.this.global.ValDef]]" id="3371431">List</a><a href="../../../reflect/internal/Trees.scala.html#410136" title="List[RefChecks.this.global.ValDef]" id="3371396" class="delimiter">(</a>ValDef<a title="RefChecks.this.global.ValDef" id="3371400" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="RefChecks.this.global.Modifiers" id="3371404">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="RefChecks.this.global.TermName" id="1099438">pname</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="RefChecks.this.global.Tree" id="1099439">tpt</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="RefChecks.this.global.Tree" id="3371405">_</a><span class="delimiter">)</span><span class="delimiter">)</span>,
          Match<a href="../../../reflect/internal/Trees.scala.html#410138" title="RefChecks.this.global.Tree" id="3371409" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410097" title="RefChecks.this.global.Tree" id="3371406">_</a>, CaseDef<a href="../../../collection/immutable/List.scala.html#206583" title="RefChecks.this.global.CaseDef" id="3371410" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410180" title="RefChecks.this.global.Tree" id="1099453">pat1</a>, <a href="../../../reflect/internal/Trees.scala.html#410182" title="RefChecks.this.global.Tree" id="3371413">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410184" title="RefChecks.this.global.Tree" id="3371414">_</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#410099" title="List[RefChecks.this.global.CaseDef]" id="3371412">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[RefChecks.this.global.CaseDef]" id="3371411">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1099438" title="RefChecks.this.global.TermName">pname</a> <a href="../../../reflect/internal/Names.scala.html#410410" title="(name: String)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413946" title="=&gt; String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#1094405" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#1099453" title="RefChecks.this.global.Tree">pat1</a>, <a href="#1099439" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#1099409" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#1099400" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="#3371427" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a><a href="#1099409" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span>

      <span class="keyword">case</span> Apply<span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#410031" title="RefChecks.this.global.Tree" id="1099469">fn</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[RefChecks.this.global.Tree]" id="1099470">args</a><span class="delimiter">)</span> =&gt;
        // sensicality should be subsumed by the unreachability/exhaustivity/irrefutability analyses in the pattern matcher
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094363" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#1094397" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#1099400" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1099469" title="RefChecks.this.global.Tree">fn</a>, <a href="#1099470" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#1094360" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#1099400" title="RefChecks.this.global.Apply">tree</a>
        <a href="#1099400" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="1094420">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="1099471">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#408051" title="RefChecks.this.global.Select">Select</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="#3371469" title="(x: (RefChecks.this.global.Tree, RefChecks.this.global.Name))(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="1099473">qual</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="1099474">name</a><span class="delimiter">)</span> = <a href="#1099471" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1099475">sym</a> = <a href="#1099471" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      /** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */
      <a href="#1094406" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1099471" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#539983" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#1094407" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1099471" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099475" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1099471" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;Select node has NoSymbol! &quot;)" class="string">&quot;Select node has NoSymbol! &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1099471" title="RefChecks.this.global.Select">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1099471" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409841" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="1099496">o</a> = <a href="../../../reflect/api/Trees.scala.html#405651" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="1099497">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099497" title="Boolean">hidden</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099496" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099496" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411459" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099496" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409864" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <a href="#1099498" title="()Unit" class="delimiter">{</a>
          <a href="#1099497" title="Boolean">hidden</a> = <a href="#1099496" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1099496" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409865" title="=&gt; Boolean">isPrivateLocal</a>
          <a href="#1099496" title="RefChecks.this.global.Symbol">o</a> = <a href="#1099496" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099497" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#1094381" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <a href="../../../collection/mutable/HashSet.scala.html#125963" title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</a> <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="1099476">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="1099529">mix</a>: <a href="../../../reflect/internal/Names.scala.html#406868" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        // term should have been eliminated by super accessors
        <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1099473" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402396" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099529" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#407863" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413650" title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span>, <a href="../../../Tuple3.scala.html#63169" title="(_1: RefChecks.this.global.Symbol, _2: RefChecks.this.global.Symbol, _3: RefChecks.this.global.Name)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol, RefChecks.this.global.Name)" class="delimiter">(</a><a href="#1099473" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>, <a href="#1099475" title="RefChecks.this.global.Symbol">sym</a>, <a href="#1099529" title="RefChecks.this.global.Name">mix</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#1094418" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#1099471" title="RefChecks.this.global.Select">tree</a>,
        <a href="#1099473" title="RefChecks.this.global.Tree">qual</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Super<a href="#3371473" title="Unit" id="3371476" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410016" title="RefChecks.this.global.Tree" id="3371474">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410018" title="RefChecks.this.global.TypeName" id="1099555">mix</a><span class="delimiter">)</span>  =&gt; <a href="#1099476" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><a href="#3371478" title="(x: Unit)Unit" class="delimiter">(</a><a href="#1099555" title="RefChecks.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="1094421">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="1099556">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#408011" title="RefChecks.this.global.If">If</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="#3371485" title="(x: (RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree))(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410107" title="RefChecks.this.global.Tree" id="1099558">cond</a>, <a href="../../../reflect/internal/Trees.scala.html#410109" title="RefChecks.this.global.Tree" id="1099559">thenpart</a>, <a href="../../../reflect/internal/Trees.scala.html#410111" title="RefChecks.this.global.Tree" id="1099560">elsepart</a><span class="delimiter">)</span> = <a href="#1099556" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="1099561">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099578">t</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099578" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Trees.scala.html#407946" title="RefChecks.this.global.EmptyTree.type">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)RefChecks.this.global.Literal">setPos</a><span class="delimiter">(</span><a href="#1099556" title="RefChecks.this.global.If">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1099578" title="RefChecks.this.global.Tree">t</a>

      <a href="#1099558" title="RefChecks.this.global.Tree">cond</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> ConstantType<a href="#3371489" title="RefChecks.this.global.Tree" id="3371491" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410960" title="RefChecks.this.global.Constant" id="1099599">value</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1099600">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099599" title="RefChecks.this.global.Constant">value</a>.<a href="../../../reflect/internal/Constants.scala.html#409779" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <a href="#1099559" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#1099560" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#1099561" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#1099600" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#3371493" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // Warning about nullary methods returning Unit.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="1094422">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1099601">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> NullaryMethodType<a href="#3371498" title="Unit" id="3371500" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410746" title="RefChecks.this.global.Type" id="1099603">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1099603" title="RefChecks.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; RefChecks.this.global.ClassSymbol">UnitClass</a> =&gt;
        // this may be the implementation of e.g. a generic method being parameterized
        // on Unit, in which case we had better let it slide.
        <span class="keyword">val</span> <a title="Boolean" id="1099609">isOk</a> = <span class="delimiter">(</span>
             <a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411203" title="=&gt; Boolean">isGetter</a>
          <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411464" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1099618">over</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#1099618" title="RefChecks.this.global.Symbol">over</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a> <a href="../../../reflect/internal/Names.scala.html#410404" title="(subname: String)Boolean">containsName</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413948" title="=&gt; String">DEFAULT_GETTER_STRING</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099609" title="Boolean">isOk</a><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="../../../StringContext.scala.html#56629" title="(args: Any*)String">s</a>&quot;side-effecting nullary methods are discouraged: suggest defining as `def $<span class="delimiter">{</span><a href="#1099601" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a>.<a href="../../../reflect/internal/Names.scala.html#410422" title="=&gt; String">decode</a><span class="delimiter">}</span><span class="string">()` instead&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> _ =&gt; <a href="#3371502" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Verify classes extending AnyVal meet the requirements
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="1094423">checkAnyValSubclass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="1099632">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#411410" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Definitions.scala.html#409297" title="(sym: RefChecks.this.global.Symbol)Boolean">isPrimitiveValueClass</a><span class="delimiter">(</span><a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;Only classes (not traits) are allowed to extend AnyVal&quot;)" class="string">&quot;Only classes (not traits) are allowed to extend AnyVal&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#408682" title="=&gt; RefChecks.this.global.ClassSymbol">AnyValClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1099632" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;`abstract\' modifier cannot be used with value classes&quot;)" class="string">&quot;`abstract' modifier cannot be used with value classes&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="1094424">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1098542">tree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="1099638">savedLocalTyper</a> = <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1099639">savedCurrentApplication</a> = <a href="#1094360" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="1099640">sym</a> = <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

        // Apply RefChecks to annotations. Makes sure the annotations conform to
        // type bounds (bug #935), issues deprecation warnings for symbols used
        // inside annotations.
        <a href="#1094417" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="1099641">result</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="RefChecks.this.global.Tree">Tree</a> = <a href="#1098542" title="RefChecks.this.global.Tree">tree</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> DefDef<a href="#3371528" title="RefChecks.this.global.Tree" id="3371536" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="RefChecks.this.global.Modifiers" id="3371529">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="RefChecks.this.global.Name" id="3371530">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[RefChecks.this.global.TypeDef]" id="3371531">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[RefChecks.this.global.ValDef]]" id="3371532">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="RefChecks.this.global.Tree" id="3371533">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="RefChecks.this.global.Tree" id="3371588">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#1099640" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#408615" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#409189" title="=&gt; RefChecks.this.global.ClassSymbol">NativeAttr</a> =&gt;
            <a href="#1099640" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411237" title="(mask: Long)sym.type">resetFlag</a> <span title="Long(16L)">DEFERRED</span>
            <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408156" title="(ddef: RefChecks.this.global.Tree)(applyToRhs: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Tree)RefChecks.this.global.DefDef">deriveDefDef</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="1099654">_</a> =&gt; <a href="Typers.scala.html#538701" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../Global.scala.html#537460" title="RefChecks.this.global.gen.type">gen</a>.<a href="../ast/TreeGen.scala.html#543473" title="(message: String)RefChecks.this.global.gen.global.Tree">mkSysErrorCall</a><span class="delimiter">(</span><span title="String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> ValDef<a href="#3371528" title="RefChecks.this.global.Tree" id="3371543" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410298" title="RefChecks.this.global.Modifiers" id="3371538">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410300" title="RefChecks.this.global.TermName" id="3371539">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410302" title="RefChecks.this.global.Tree" id="3371540">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410304" title="RefChecks.this.global.Tree" id="3371541">_</a><span class="delimiter">)</span> | DefDef<a href="#3371528" title="Boolean" id="3371551" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410278" title="RefChecks.this.global.Modifiers" id="3371544">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410280" title="RefChecks.this.global.Name" id="3371545">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410282" title="List[RefChecks.this.global.TypeDef]" id="3371546">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410284" title="List[List[RefChecks.this.global.ValDef]]" id="3371547">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410286" title="RefChecks.this.global.Tree" id="3371548">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410288" title="RefChecks.this.global.Tree" id="3371549">_</a><span class="delimiter">)</span> =&gt;
            <a href="#1094412" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <a href="#1094398" title="(valOrDef: RefChecks.this.global.ValOrDefDef)Unit">checkInfiniteLoop</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="RefChecks.this.global.ValOrDefDef" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#407959" title="RefChecks.this.global.ValOrDefDef">ValOrDefDef</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#540253" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#1094422" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#1099640" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#540255" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099640" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099640" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411298" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1099640" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409872" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
                <a href="#1094411" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> Template<a href="#3371528" title="RefChecks.this.global.Tree" id="3371553" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410203" title="List[RefChecks.this.global.Tree]" id="1099682">parents</a>, <a href="../../../reflect/internal/Trees.scala.html#410205" title="RefChecks.this.global.ValDef" id="1099683">self</a>, <a href="../../../reflect/internal/Trees.scala.html#410207" title="List[RefChecks.this.global.Tree]" id="1099684">body</a><span class="delimiter">)</span> =&gt;
            <a href="#1094357" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#1094357" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#538700" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>, <a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1094372" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1094368" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="1099685">bridges</a> = <a href="#1094370" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1094371" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#1094423" title="(clazz: RefChecks.this.global.Symbol)Unit">checkAnyValSubclass</a><span class="delimiter">(</span><a href="../../../reflect/api/Trees.scala.html#405647" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099685" title="List[RefChecks.this.global.Tree]">bridges</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408158" title="(templ: RefChecks.this.global.Tree)(applyToBody: List[RefChecks.this.global.Tree] =&gt; List[RefChecks.this.global.Tree])RefChecks.this.global.Template">deriveTemplate</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1099694" title="List[RefChecks.this.global.Tree]">_</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#1099685" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#3371528" title="RefChecks.this.global.Tree" id="3371555" class="delimiter">(</a><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; dc
          <span class="keyword">case</span> tpt@TypeTree<a href="#3371528" title="RefChecks.this.global.Tree" id="3371557" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span>tpt.<a href="../../../reflect/internal/Trees.scala.html#409893" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              tpt.<a href="../../../reflect/internal/Trees.scala.html#409893" title="=&gt; RefChecks.this.global.Tree">original</a> <a href="../../../reflect/internal/Trees.scala.html#408538" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#1099720" title="RefChecks.this.global.Tree" class="delimiter">{</a>
                <span class="keyword">case</span> dc@TypeTreeWithDeferredRefCheck<a href="#3371507" title="Unit" id="3371509" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
                  <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="#3371511" title="(x: Unit)Unit" class="delimiter">(</a>dc.<a href="../../../Function0.scala.html#65930" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416 -- only call transform to do refchecks, but discard results
                  // tpt has the right type if the deferred checks are ok
                <span class="keyword">case</span> _ =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="1099709">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#1094416" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#1099724" title="RefChecks.this.global.Type" class="delimiter">{</a> // check all bounds, except those that are existential type parameters
              <span class="keyword">case</span> ExistentialType<a href="#3371516" title="Unit" id="3371518" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410683" title="List[RefChecks.this.global.Symbol]" id="1099727">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#410685" title="RefChecks.this.global.Type" id="1099728">tpe</a><span class="delimiter">)</span> =&gt;
                <a href="#1099709" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <a href="#3371522" title="(x: Unit)Unit">++=</a> <a href="#1099727" title="List[RefChecks.this.global.Symbol]">tparams</a>
              <span class="keyword">case</span> <a href="#3371516" title="Unit" id="3371520">t</a>: TypeRef =&gt;
                <a href="#1094414" title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit">checkTypeRef</a><a href="#3371522" title="(x: Unit)Unit" class="delimiter">(</a><a href="../../../reflect/internal/Symbols.scala.html#407188" title="(syms: List[RefChecks.this.global.Symbol])(tpe: RefChecks.this.global.Type)RefChecks.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#1099709" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[RefChecks.this.global.Symbol]">toList</a><span class="delimiter">)</span><span class="delimiter">(</span>t<span class="delimiter">)</span>, <a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
            <span class="delimiter">}</span>
            <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> TypeApply<a href="#3371528" title="RefChecks.this.global.Tree" id="3371559" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410043" title="RefChecks.this.global.Tree" id="1099736">fn</a>, <a href="../../../reflect/internal/Trees.scala.html#410045" title="List[RefChecks.this.global.Tree]" id="1099737">args</a><span class="delimiter">)</span> =&gt;
            <a href="#1094404" title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Types.scala.html#407286" title="RefChecks.this.global.NoPrefix.type">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#1099736" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408432" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#1099737" title="List[RefChecks.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#1099754" title="RefChecks.this.global.Tree">_</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#1094418" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> x @ Apply<a href="#3371528" title="RefChecks.this.global.Tree" id="3371563" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="RefChecks.this.global.Tree" id="3371560">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[RefChecks.this.global.Tree]" id="3371561">_</a><span class="delimiter">)</span>  =&gt;
            <a href="#1094419" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><a href="#3371592" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>

          <span class="keyword">case</span> x @ If<a href="#3371528" title="RefChecks.this.global.Tree" id="3371568" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410107" title="RefChecks.this.global.Tree" id="3371564">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410109" title="RefChecks.this.global.Tree" id="3371565">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410111" title="RefChecks.this.global.Tree" id="3371566">_</a><span class="delimiter">)</span>  =&gt;
            <a href="#1094421" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><a href="#3371592" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>

          <span class="keyword">case</span> New<a href="#3371528" title="RefChecks.this.global.Tree" id="3371570" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410063" title="RefChecks.this.global.Tree" id="1099795">tpt</a><span class="delimiter">)</span> =&gt;
            <a href="#1094394" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1099795" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> Typed<a href="#3371528" title="RefChecks.this.global.Tree" id="3371574" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410055" title="RefChecks.this.global.Tree" id="3371571">_</a>, Ident<a href="../../../reflect/internal/Trees.scala.html#410057" title="RefChecks.this.global.Tree" id="3371577" class="delimiter">(</a><a href="../../../reflect/internal/StdNames.scala.html#407863" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/Trees.scala.html#409987" title="RefChecks.this.global.Name" id="3371589">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#1094413" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="String(&quot;no `: _*\' annotation allowed here\n(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> Ident<a href="#3371528" title="RefChecks.this.global.Tree" id="3371581" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409987" title="RefChecks.this.global.Name" id="1099805">name</a><span class="delimiter">)</span> =&gt;
            <a href="#1094418" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><a href="#3371592" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#1099805" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="RefChecks.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#413714" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#1099805" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#407863" title="RefChecks.this.global.tpnme.type">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#416265" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#1099640" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1099805" title="RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#410432" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1098542" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span> //debug
                <a href="#1094394" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1099640" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> x @ Select<a href="#3371528" title="RefChecks.this.global.Tree" id="3371585" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#409999" title="RefChecks.this.global.Tree" id="3371582">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410001" title="RefChecks.this.global.Name" id="3371583">_</a><span class="delimiter">)</span> =&gt;
            <a href="#1094420" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><a href="#3371592" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a>x<span class="delimiter">)</span>

          <span class="keyword">case</span> UnApply<a href="#3371528" title="RefChecks.this.global.Tree" id="3371587" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410145" title="RefChecks.this.global.Tree" id="1099830">fun</a>, <a href="../../../reflect/internal/Trees.scala.html#410147" title="List[RefChecks.this.global.Tree]" id="1099831">args</a><span class="delimiter">)</span> =&gt;
            <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1099830" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span> // just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)
                           // transformTrees(args) // TODO: is this necessary? could there be forward references in the args??
                           // probably not, until we allow parameterised extractors
            <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> _ =&gt; <a href="#3371592" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        // skip refchecks in patterns....
        <a href="#1099641" title="RefChecks.this.global.Tree">result</a> = <a href="#1099641" title="RefChecks.this.global.Tree">result</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> CaseDef<a href="#3371620" title="RefChecks.this.global.Tree" id="3371622" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410180" title="RefChecks.this.global.Tree" id="1099837">pat</a>, <a href="../../../reflect/internal/Trees.scala.html#410182" title="RefChecks.this.global.Tree" id="1099838">guard</a>, <a href="../../../reflect/internal/Trees.scala.html#410184" title="RefChecks.this.global.Tree" id="1099839">body</a><span class="delimiter">)</span> =&gt;
            <a href="#1094363" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="1099840">pat1</a> = <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1099837" title="RefChecks.this.global.Tree">pat</a><span class="delimiter">)</span>
            <a href="#1094363" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="../../../reflect/api/Trees.scala.html#405645" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../../../reflect/api/Trees.scala.html#405381" title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>, <a href="#1099840" title="RefChecks.this.global.Tree">pat1</a>, <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1099838" title="RefChecks.this.global.Tree">guard</a><span class="delimiter">)</span>, <a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#1099839" title="RefChecks.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> LabelDef<a href="#3371620" title="RefChecks.this.global.Tree" id="3371627" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410239" title="RefChecks.this.global.TermName" id="3371623">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410241" title="List[RefChecks.this.global.Ident]" id="3371624">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410243" title="RefChecks.this.global.Tree" id="3371625">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../ast/Trees.scala.html#537807" title="RefChecks.this.global.treeInfo.type">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#479246" title="(t: RefChecks.this.global.treeInfo.global.Tree)Boolean">hasSynthCaseSymbol</a><span class="delimiter">(</span><a href="#1099641" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Boolean" id="1099857">old</a> = <a href="#1094363" title="=&gt; Boolean">inPattern</a>
            <a href="#1094363" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.LabelDef" id="1099858">res</a> = <a href="../../../reflect/internal/Trees.scala.html#408162" title="(ldef: RefChecks.this.global.Tree)(applyToRhs: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Tree)RefChecks.this.global.LabelDef">deriveLabelDef</a><span class="delimiter">(</span><a href="#1099641" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1094424" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">)</span>
            <a href="#1094363" title="(x$1: Boolean)Unit">inPattern</a> = <a href="#1099857" title="Boolean">old</a>
            <a href="#1099858" title="RefChecks.this.global.LabelDef">res</a>
          <span class="keyword">case</span> _ =&gt;
            <a href="#621637" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<a href="../../../reflect/api/Trees.scala.html#405652" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="#3371629" title="(x: RefChecks.this.global.Tree)RefChecks.this.global.Tree" class="delimiter">(</a><a href="#1099641" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#1099641" title="RefChecks.this.global.Tree">result</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ClassDef<a href="#3371635" title="Unit" id="3371641" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410330" title="RefChecks.this.global.Modifiers" id="3371636">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410332" title="RefChecks.this.global.TypeName" id="3371637">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410334" title="List[RefChecks.this.global.TypeDef]" id="3371638">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410336" title="RefChecks.this.global.Template" id="3371639">_</a><span class="delimiter">)</span>
             | TypeDef<a href="#3371635" title="Boolean" id="3371647" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410256" title="RefChecks.this.global.Modifiers" id="3371642">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410258" title="RefChecks.this.global.TypeName" id="3371643">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410260" title="List[RefChecks.this.global.TypeDef]" id="3371644">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410262" title="RefChecks.this.global.Tree" id="3371645">_</a><span class="delimiter">)</span> =&gt;
            <a href="#3371649" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#1099641" title="RefChecks.this.global.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411299" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#1099641" title="RefChecks.this.global.Tree">result</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411219" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
              <a href="#1094383" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../../../reflect/api/Trees.scala.html#405544" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#1099641" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
        <span class="delimiter">}</span>
        <a href="#1099641" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="1099882">ex</a>: <a href="../../../reflect/internal/Types.scala.html#407625" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#540057" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#1099882" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#1094425" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#539298" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#1098542" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#1099882" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#1098542" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#1094357" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#1099638" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#1094360" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#1099639" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>