<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/icode/analysis/CopyPropagation.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.icode.analysis

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>

/** A modified copy-propagation like analysis. It
 *  is augmented with a record-like value which is used
 *  to represent closures.
 *
 *  @author Iulian Dragos
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CopyPropagation extends Object" id="31269">CopyPropagation</a> <a href="#31269" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="619529">global</a>: <a href="../../../Global.scala.html#27346" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#619529" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../Global.scala.html#537466" title="CopyPropagation.this.global.icodes.type">icodes</a>._

  /** Locations can be local variables, this, and fields. */
  <span class="keyword">abstract</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class Location extends Object" id="619532">Location</a>
  case <span class="keyword">class</span> <a title="class LocalVar extends CopyPropagation.this.Location with Product with Serializable" id="722178">LocalVar</a><a href="../../../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="CopyPropagation.this.global.icodes.Local" id="720528">l</a>: <a href="../Members.scala.html#614928" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#619532" title="CopyPropagation.this.Location">Location</a>
  case <span class="keyword">class</span> <a title="class Field extends CopyPropagation.this.Location with Product with Serializable" id="722182">Field</a><a href="../../../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="CopyPropagation.this.Record" id="721315">r</a>: <a href="#722186" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="721316">sym</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#619532" title="CopyPropagation.this.Location">Location</a>
  case <span class="keyword">object</span> <a href="#720257" title="CopyPropagation.this.This.type" id="720265">This</a> <a href="../../../../../Product.scala.html#186" title="Product" class="keyword">extends</a> <a href="#619532" title="CopyPropagation.this.Location">Location</a>

  /** Values that can be on the stack. */
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Value extends Object" id="619541">Value</a> <a href="#619541" title="CopyPropagation.this.Value" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="720203">isRecord</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class Record extends CopyPropagation.this.Value with Product with Serializable" id="722186">Record</a><a href="../../../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="CopyPropagation.this.global.Symbol" id="721613">cls</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721614">bindings</a>: mutable.<a href="../../../../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">Map</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#619541" title="CopyPropagation.this.Value">Value</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="720211">isRecord</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  /** The value of some location in memory. */
  case <span class="keyword">class</span> <a title="class Deref extends CopyPropagation.this.Value with Product with Serializable" id="722190">Deref</a><a href="../../../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="CopyPropagation.this.Location" id="720592">l</a>: <a href="#619532" title="CopyPropagation.this.Location">Location</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#619541" title="CopyPropagation.this.Value">Value</a>

  /** The boxed value of some location. */
  case <span class="keyword">class</span> <a title="class Boxed extends CopyPropagation.this.Value with Product with Serializable" id="722194">Boxed</a><a href="../../../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="CopyPropagation.this.Location" id="721567">l</a>: <a href="#619532" title="CopyPropagation.this.Location">Location</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#619541" title="CopyPropagation.this.Value">Value</a>

  /** The constant value c. */
  case <span class="keyword">class</span> <a title="class Const extends CopyPropagation.this.Value with Product with Serializable" id="722198">Const</a><a href="../../../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="CopyPropagation.this.global.Constant" id="721273">c</a>: <a href="../../../../../reflect/internal/Constants.scala.html#407816" title="CopyPropagation.this.global.Constant">Constant</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#619541" title="CopyPropagation.this.Value">Value</a>

  /** Unknown. */
  case <span class="keyword">object</span> <a href="#720422" title="CopyPropagation.this.Unknown.type" id="720430">Unknown</a> <a href="../../../../../Product.scala.html#186" title="Product" class="keyword">extends</a> <a href="#619541" title="CopyPropagation.this.Value">Value</a>

  /** The bottom record. */
  <span class="keyword">object</span> <a title="CopyPropagation.this.AllRecords.type" id="720434">AllRecords</a> <a href="#619557" title="CopyPropagation.this.AllRecords.type" class="keyword">extends</a> <a href="#722186" title="CopyPropagation.this.Record">Record</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; CopyPropagation.this.global.NoSymbol">NoSymbol</a>, mutable.<a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)*)scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" class="delimiter">[</span><a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a href="#619541" title="CopyPropagation.this.Value">Value</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

  /** The lattice for this analysis.   */
  <span class="keyword">object</span> <a title="CopyPropagation.this.copyLattice.type" id="619558">copyLattice</a> <a href="#619559" title="CopyPropagation.this.copyLattice.type" class="keyword">extends</a> <a href="SemiLattice.scala.html#31050" title="scala.tools.nsc.backend.icode.analysis.SemiLattice">SemiLattice</a> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]" id="720447">Bindings</a> = mutable.<a href="../../../../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">Map</a><span class="delimiter">[</span>Location, Value<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" id="720448">emptyBinding</a> = mutable.<a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (CopyPropagation.this.Location, CopyPropagation.this.Value)*)scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" class="delimiter">[</span><a href="#619532" title="CopyPropagation.this.Location">Location</a>, <a href="#619541" title="CopyPropagation.this.Value">Value</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">class</span> <a title="class State extends Object" id="720449">State</a><a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings" id="720476">bindings</a>: <a href="../../../../../collection/mutable/Map.scala.html#12498" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">Bindings</a>, <span class="keyword">var</span> <a title="List[CopyPropagation.this.Value]" id="720477">stack</a>: <a href="../../../../../collection/immutable/List.scala.html#11952" title="List[CopyPropagation.this.Value]">List</a><span class="delimiter">[</span>Value<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="720467">hashCode</a> = <a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>.<a href="../../../../../collection/GenMapLike.scala.html#68632" title="()Int">hashCode</a> <a href="../../../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/LinearSeqLike.scala.html#86317" title="()Int">hashCode</a>
      /* comparison with bottom is reference equality! */
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="720468">equals</a><span class="delimiter">(</span><a title="Any" id="720505">that</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#720505" title="Any">that</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../../Boolean.scala.html#57826" title="Boolean" id="3313613">x</a>: State =&gt;
          <a href="#3313615" title="(x: Boolean)Boolean" class="keyword">if</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#720449" title="State.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#720453" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#720449" title="State.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#720451" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">top</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>x <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#720453" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>x <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#720451" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">top</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#720449" title="State.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> x
          <span class="keyword">else</span> <a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <span title="(x$1: AnyRef)Boolean">==</span> x.<a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span title="(x$1: AnyRef)Boolean">==</span> x.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="#3313615" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span>

      /* Return an alias for the given local. It returns the last
       * local in the chain of aliased locals. Cycles are not allowed
       * to exist (by construction).
       */
      <span class="keyword">def</span> <a title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.global.icodes.Local" id="720469">getAlias</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="720517">l</a>: <a href="../Members.scala.html#614928" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../Members.scala.html#614928" title="CopyPropagation.this.global.icodes.Local">Local</a> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="CopyPropagation.this.global.icodes.Local" id="720518">target</a> = <a href="#720517" title="CopyPropagation.this.global.icodes.Local">l</a>
        <span class="keyword">var</span> <a title="Boolean" id="720519">stop</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>.<a href="../../../../../collection/MapLike.scala.html#87537" title="(key: CopyPropagation.this.Location)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#720518" title="CopyPropagation.this.global.icodes.Local">target</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#720519" title="Boolean">stop</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyPropagation.this.Location)CopyPropagation.this.Value">bindings</a><span title="Unit" class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#720518" title="CopyPropagation.this.global.icodes.Local">target</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#720520" title="()Unit" class="keyword">match</a> <span class="delimiter">{</span>
            <span class="keyword">case</span> Deref<a href="#3313620" title="Unit" id="3313623" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313625" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="720579">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#720518" title="CopyPropagation.this.global.icodes.Local">target</a> = <a href="#720579" title="CopyPropagation.this.global.icodes.Local">t</a>
            <span class="keyword">case</span> _ =&gt; <a href="#720519" title="Boolean">stop</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#720518" title="CopyPropagation.this.global.icodes.Local">target</a>
      <span class="delimiter">}</span>

      /* Return the value bound to the given local. */
      <span class="keyword">def</span> <a title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value" id="720470">getBinding</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="720580">l</a>: <a href="../Members.scala.html#614928" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="#619541" title="CopyPropagation.this.Value">Value</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(lv: CopyPropagation.this.global.icodes.Local)Option[CopyPropagation.this.Value]" id="720581">loop</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="720582">lv</a>: <a href="../Members.scala.html#614928" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#978" title="Option[CopyPropagation.this.Value]">Option</a><span class="delimiter">[</span>Value<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <a href="../../../../../collection/MapLike.scala.html#87525" title="(key: CopyPropagation.this.Location)Option[CopyPropagation.this.Value]">get</a> <a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#720582" title="CopyPropagation.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Some<a href="#3313632" title="Option[CopyPropagation.this.Value]" id="3313634" class="delimiter">(</a>Deref<a href="../../../../../Option.scala.html#63132" title="CopyPropagation.this.Value" id="3313637" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313639" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="720586">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#720581" title="(lv: CopyPropagation.this.global.icodes.Local)Option[CopyPropagation.this.Value]">loop</a><a href="#3313641" title="(x: Option[CopyPropagation.this.Value])Option[CopyPropagation.this.Value]" class="delimiter">(</a><a href="#720586" title="CopyPropagation.this.global.icodes.Local">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> x                        =&gt; <a href="#3313641" title="(x: Option[CopyPropagation.this.Value])Option[CopyPropagation.this.Value]">x</a>
        <span class="delimiter">}</span>
        <a href="#720581" title="(lv: CopyPropagation.this.global.icodes.Local)Option[CopyPropagation.this.Value]">loop</a><span class="delimiter">(</span><a href="#720580" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span> <a href="../../../../../Option.scala.html#62859" title="(default: =&gt; CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a> <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#720580" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /* Return the binding for the given field of the given record */
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)CopyPropagation.this.Value" id="720471">getBinding</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="720597">r</a>: <a href="#722186" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="720598">f</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#619541" title="CopyPropagation.this.Value">Value</a> = <span class="delimiter">{</span>
        <a href="../../../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#720597" title="CopyPropagation.this.Record">r</a>.<a href="#721614" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/MapLike.scala.html#87536" title="(key: CopyPropagation.this.global.Symbol)Boolean">contains</a> <a href="#720598" title="CopyPropagation.this.global.Symbol">f</a>, <span title="String(&quot;Record &quot;)" class="string">&quot;Record &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720597" title="CopyPropagation.this.Record">r</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; does not contain a field &quot;)" class="string">&quot; does not contain a field &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720598" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>

        <a href="#720597" title="CopyPropagation.this.Record">r</a>.<a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyPropagation.this.global.Symbol)CopyPropagation.this.Value">bindings</a><span title="CopyPropagation.this.Value" class="delimiter">(</span><a href="#720598" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Deref<a href="#3313646" title="CopyPropagation.this.Value" id="3313649" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313651" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="720619">l</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#720470" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><a href="#3313653" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value" class="delimiter">(</a><a href="#720619" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span>
          <span class="keyword">case</span> target             =&gt; <a href="#3313653" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">target</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Return a local which contains the same value as this field, if any.
       * If the field holds a reference to a local, the returned value is the
       * binding of that local.
       */
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]" id="720472">getFieldValue</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="720625">r</a>: <a href="#722186" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="720626">f</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#978" title="Option[CopyPropagation.this.Value]">Option</a><span class="delimiter">[</span>Value<span class="delimiter">]</span> = <a href="#720625" title="CopyPropagation.this.Record">r</a>.<a href="#721614" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/MapLike.scala.html#87525" title="(key: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">get</a> <a href="#720626" title="CopyPropagation.this.global.Symbol">f</a> <a href="../../../../../Option.scala.html#62865" title="(f: CopyPropagation.this.Value =&gt; CopyPropagation.this.Value)Option[CopyPropagation.this.Value]">map</a> <a href="#720633" title="CopyPropagation.this.Value" class="delimiter">{</a>
        <span class="keyword">case</span> Deref<a href="#3313658" title="Boolean" id="3313661" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313663" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="720634">l</a><span class="delimiter">)</span><span class="delimiter">)</span>             =&gt; <a href="#720470" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><a href="#3313671" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value" class="delimiter">(</a><a href="#720634" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span>
        <span class="keyword">case</span> target @ Deref<span class="delimiter">(</span>Field<a href="#720592" title="CopyPropagation.this.Location" id="3313668" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="720664">r1</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="720665">f1</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; <a href="#720472" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldValue</a><span class="delimiter">(</span><a href="#720664" title="CopyPropagation.this.Record">r1</a>, <a href="#720665" title="CopyPropagation.this.global.Symbol">f1</a><span class="delimiter">)</span> <a href="#3313671" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a> target
        <span class="keyword">case</span> target                         =&gt; <a href="#3313671" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">target</a>
      <span class="delimiter">}</span>

      /** The same as getFieldValue, but never returns Record/Field values. Use
       *  this when you want to find a replacement for a field value (either a local,
       *  or a constant/this value).
       */
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]" id="720473">getFieldNonRecordValue</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="720671">r</a>: <a href="#722186" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="720672">f</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#978" title="Option[CopyPropagation.this.Value]">Option</a><span class="delimiter">[</span>Value<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <a href="../../../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#720671" title="CopyPropagation.this.Record">r</a>.<a href="#721614" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/MapLike.scala.html#87536" title="(key: CopyPropagation.this.global.Symbol)Boolean">contains</a> <a href="#720672" title="CopyPropagation.this.global.Symbol">f</a>, <span title="String(&quot;Record &quot;)" class="string">&quot;Record &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720671" title="CopyPropagation.this.Record">r</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; does not contain a field &quot;)" class="string">&quot; does not contain a field &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720672" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>

        <a href="#720671" title="CopyPropagation.this.Record">r</a>.<a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyPropagation.this.global.Symbol)CopyPropagation.this.Value">bindings</a><a href="#3313701" title="Option[CopyPropagation.this.Value]" class="delimiter">(</a><a href="#720672" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Deref<a href="#3313698" title="Boolean" id="3313701" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313703" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="720693">l</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="CopyPropagation.this.global.icodes.Local" id="720694">alias</a> = <a href="#720469" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.global.icodes.Local">getAlias</a><span class="delimiter">(</span><a href="#720693" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="CopyPropagation.this.Deref" id="720695">derefAlias</a> = <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#720694" title="CopyPropagation.this.global.icodes.Local">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../../../../../Option.scala.html#63128" title="(x: CopyPropagation.this.Value)Some[CopyPropagation.this.Value]">Some</a><span class="delimiter">(</span><a href="#720470" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><span title="CopyPropagation.this.Value" class="delimiter">(</span><a href="#720694" title="CopyPropagation.this.global.icodes.Local">alias</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Record<a href="#3313677" title="CopyPropagation.this.Value" id="3313681" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="3313678">_</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="3313679">_</a><span class="delimiter">)</span>         =&gt; <a href="#3313691" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">derefAlias</a>
              <span class="keyword">case</span> Deref<a href="#3313677" title="CopyPropagation.this.Value" id="3313684" class="delimiter">(</a>Field<a href="#720592" title="CopyPropagation.this.Location" id="3313686" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="720728">r1</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="720729">f1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#720473" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldNonRecordValue</a><span class="delimiter">(</span><a href="#720728" title="CopyPropagation.this.Record">r1</a>, <a href="#720729" title="CopyPropagation.this.global.Symbol">f1</a><span class="delimiter">)</span> <a href="#3313691" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a> <a href="#720695" title="CopyPropagation.this.Deref">derefAlias</a>
              <span class="keyword">case</span> Boxed<a href="#3313677" title="CopyPropagation.this.Value" id="3313689" class="delimiter">(</a><a href="#721567" title="CopyPropagation.this.Location" id="3313687">_</a><span class="delimiter">)</span>             =&gt; <a href="#3313691" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">derefAlias</a>
              <span class="keyword">case</span> v                    =&gt; <a href="#3313691" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">v</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="keyword">case</span> Deref<span class="delimiter">(</span>Field<a href="#720592" title="CopyPropagation.this.Location" id="3313708" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="720753">r1</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="720754">f1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#720473" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldNonRecordValue</a><a href="#3313718" title="(x: Option[CopyPropagation.this.Value])Option[CopyPropagation.this.Value]" class="delimiter">(</a><a href="#720753" title="CopyPropagation.this.Record">r1</a>, <a href="#720754" title="CopyPropagation.this.global.Symbol">f1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> target @ Deref<span class="delimiter">(</span><a href="#720592" title="CopyPropagation.this.Location" id="3313715">This</a><span class="delimiter">)</span> =&gt; <a href="../../../../../Option.scala.html#63128" title="(x: CopyPropagation.this.Deref)Some[CopyPropagation.this.Deref]">Some</a><a href="#3313718" title="(x: Option[CopyPropagation.this.Value])Option[CopyPropagation.this.Value]" class="delimiter">(</a>target<span class="delimiter">)</span>
          <span class="keyword">case</span> target @ Const<a href="#3313698" title="Option[CopyPropagation.this.Value]" id="3313714" class="delimiter">(</a><a href="#721273" title="CopyPropagation.this.global.Constant" id="720778">k</a><span class="delimiter">)</span>    =&gt; <a href="../../../../../Option.scala.html#63128" title="(x: CopyPropagation.this.Const)Some[CopyPropagation.this.Const]">Some</a><a href="#3313718" title="(x: Option[CopyPropagation.this.Value])Option[CopyPropagation.this.Value]" class="delimiter">(</a>target<span class="delimiter">)</span>
          <span class="keyword">case</span> _                    =&gt; <a href="#3313718" title="(x: Option[CopyPropagation.this.Value])Option[CopyPropagation.this.Value]">None</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="720474">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> =
        <span title="String(&quot;\nBindings: &quot;)" class="string">&quot;\nBindings: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nStack: &quot;)" class="string">&quot;\nStack: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>;

      <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="720475">dup</a>: <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings" id="720783">b</a>: <a href="../../../../../collection/mutable/Map.scala.html#12498" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">Bindings</a> = mutable.<a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="(elems: (CopyPropagation.this.Location, CopyPropagation.this.Value)*)scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#720783" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">b</a> <a href="../../../../../collection/generic/Growable.scala.html#60003" title="(xs: scala.collection.TraversableOnce[(CopyPropagation.this.Location, CopyPropagation.this.Value)])b.type">++=</a> <a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>
        <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#720783" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">b</a>, <a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">type</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="720450">Elem</a> = <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a>

    <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="720451">top</a>    = <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#720448" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="720453">bottom</a> = <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#720448" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="List[CopyPropagation.this.Unknown.type]" id="720455">exceptionHandlerStack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Unknown.type)List[CopyPropagation.this.Unknown.type]">::</a> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>

    <span class="keyword">def</span> <a title="(exceptional: Boolean)(a: scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem, b: scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem)scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" id="720457">lub2</a><span class="delimiter">(</span><a title="Boolean" id="720789">exceptional</a>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" id="720790">a</a>: <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">Elem</a>, <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" id="720791">b</a>: <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">Elem</a><span class="delimiter">)</span>: <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#720790" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#720453" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="#720791" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#720791" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#720453" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="#720790" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#720790" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#720791" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a><span class="delimiter">)</span> <a href="#720790" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        //assert(!(a.stack eq exceptionHandlerStack) &amp;&amp; !(b.stack eq exceptionHandlerStack))
        <span class="keyword">val</span> <a title="List[CopyPropagation.this.Value]" id="720802">resStack</a> =
          <span title="List[CopyPropagation.this.Value]" class="keyword">if</span> <span class="delimiter">(</span><a href="#720789" title="Boolean">exceptional</a><span class="delimiter">)</span> <a href="#720455" title="=&gt; List[CopyPropagation.this.Unknown.type]">exceptionHandlerStack</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
//            if (a.stack.length != b.stack.length)
//              throw new LubException(a, b, &quot;Invalid stacks in states: &quot;);
            <a href="../../../../../Predef.scala.html#7531" title="(x: (List[CopyPropagation.this.Value], List[CopyPropagation.this.Value]))runtime.Tuple2Zipped.Ops[List[CopyPropagation.this.Value],List[CopyPropagation.this.Value]]" class="delimiter">(</a><a href="#720790" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>, <a href="#720791" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>.<a href="../../../../../runtime/Tuple2Zipped.scala.html#60613" title="(implicit w1: List[CopyPropagation.this.Value] =&gt; scala.collection.TraversableLike[CopyPropagation.this.Value,List[CopyPropagation.this.Value]], implicit w2: List[CopyPropagation.this.Value] =&gt; scala.collection.IterableLike[CopyPropagation.this.Value,List[CopyPropagation.this.Value]])scala.runtime.Tuple2Zipped[CopyPropagation.this.Value,List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]]">zipped</a> <a href="../../../../../runtime/Tuple2Zipped.scala.html#486040" title="(f: (CopyPropagation.this.Value, CopyPropagation.this.Value) =&gt; CopyPropagation.this.Value)(implicit cbf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]])List[CopyPropagation.this.Value]">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Value" id="720862">v1</a>, <a title="CopyPropagation.this.Value" id="720863">v2</a><span class="delimiter">)</span> =&gt;
              <span title="CopyPropagation.this.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#720862" title="CopyPropagation.this.Value">v1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#720863" title="CopyPropagation.this.Value">v2</a><span class="delimiter">)</span> <a href="#720862" title="CopyPropagation.this.Value">v1</a> <span class="keyword">else</span> <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

/*        if (a.stack.length != b.stack.length)
          throw new LubException(a, b, &quot;Invalid stacks in states: &quot;);
        val resStack = List.map2(a.stack, b.stack) { (v1, v2) =&gt;
          if (v1 == v2) v1 else Unknown
        }
        */
        <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" id="720803">resBindings</a> = mutable.<a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (CopyPropagation.this.Location, CopyPropagation.this.Value)*)scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" class="delimiter">[</span><a href="#619532" title="CopyPropagation.this.Location">Location</a>, <a href="#619541" title="CopyPropagation.this.Value">Value</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../../../Tuple2.scala.html#60635" title="CopyPropagation.this.Location" id="720940">k</a>, <a href="../../../../../Tuple2.scala.html#60637" title="CopyPropagation.this.Value" id="720941">v</a><span class="delimiter">)</span> &lt;- <a href="#720790" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>.<a href="../../../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: ((CopyPropagation.this.Location, CopyPropagation.this.Value)) =&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value])Unit">bindings</a> <span class="keyword">if</span> <a href="#720791" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>.<a href="#720476" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>.<a href="../../../../../collection/MapLike.scala.html#87537" title="(key: CopyPropagation.this.Location)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#720940" title="CopyPropagation.this.Location">k</a><span class="delimiter">)</span> <a href="#3313731" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#720941" title="CopyPropagation.this.Value">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#720791" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>.<a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyPropagation.this.Location)CopyPropagation.this.Value">bindings</a><span class="delimiter">(</span><a href="#720940" title="CopyPropagation.this.Location">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#720803" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">resBindings</a> <a href="#3313737" title="(x: resBindings.type)resBindings.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#7509" title="(x: CopyPropagation.this.Location)ArrowAssoc[CopyPropagation.this.Location]">k</a> <a href="../../../../../Predef.scala.html#62634" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.Location, CopyPropagation.this.Value)">-&gt;</a> <a href="#720941" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>;
        <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#720449" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#720803" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">resBindings</a>, <a href="#720802" title="List[CopyPropagation.this.Value]">resStack</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class CopyAnalysis extends Object with scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[CopyPropagation.this.copyLattice.type]" id="619560">CopyAnalysis</a> <a href="#619560" title="CopyPropagation.this.CopyAnalysis" class="keyword">extends</a> <a href="DataFlowAnalysis.scala.html#31095" title="scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[CopyPropagation.this.copyLattice.type]">DataFlowAnalysis</a><span class="delimiter">[</span>copyLattice.<span class="keyword">type</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="CopyPropagation.this.global.icodes.BasicBlock" id="720991">P</a> = <a href="../BasicBlocks.scala.html#614938" title="CopyPropagation.this.global.icodes.BasicBlock">BasicBlock</a>
    <span class="keyword">val</span> <a title="CopyPropagation.this.copyLattice.type" id="720992">lattice</a> = <a href="#619558" title="CopyPropagation.this.copyLattice.type">copyLattice</a>

    <span class="keyword">var</span> <a title="CopyPropagation.this.global.icodes.IMethod" id="720995">method</a>: <a href="../Members.scala.html#614927" title="CopyPropagation.this.global.icodes.IMethod">IMethod</a> = _

    <span class="keyword">def</span> <a title="(m: CopyPropagation.this.global.icodes.IMethod)Unit" id="720997">init</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.IMethod" id="721015">m</a>: <a href="../Members.scala.html#614927" title="CopyPropagation.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#619560" title="CopyAnalysis.this.type" class="keyword">this</a>.<a href="#720995" title="(x$1: CopyPropagation.this.global.icodes.IMethod)Unit">method</a> = <a href="#721015" title="CopyPropagation.this.global.icodes.IMethod">m</a>

      <a href="DataFlowAnalysis.scala.html#720985" title="(f: =&gt; Unit)Unit">init</a> <span class="delimiter">{</span>
        <a href="DataFlowAnalysis.scala.html#720971" title="=&gt; scala.collection.mutable.Set[CopyAnalysis.this.P]">worklist</a> <a href="../../../../../collection/mutable/SetLike.scala.html#90897" title="(elem: CopyAnalysis.this.P)CopyAnalysis.this.worklist.type">+=</a> <a href="#721015" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#695993" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a>
        <a href="DataFlowAnalysis.scala.html#720971" title="=&gt; scala.collection.mutable.Set[CopyAnalysis.this.P]">worklist</a> <a href="../../../../../collection/generic/Growable.scala.html#60003" title="(xs: scala.collection.TraversableOnce[CopyAnalysis.this.P])CopyAnalysis.this.worklist.type">++=</a> <span class="delimiter">(</span><a href="#721015" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#696006" title="=&gt; List[CopyPropagation.this.global.icodes.ExceptionHandler]">exh</a> <a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: CopyPropagation.this.global.icodes.ExceptionHandler =&gt; CopyPropagation.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.global.icodes.ExceptionHandler],CopyPropagation.this.global.icodes.BasicBlock,scala.collection.TraversableOnce[CopyAnalysis.this.P]])scala.collection.TraversableOnce[CopyAnalysis.this.P]">map</a> <span class="delimiter">(</span><a href="#721056" title="CopyPropagation.this.global.icodes.ExceptionHandler">_</a>.<a href="../ExceptionHandlers.scala.html#696225" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#721015" title="CopyPropagation.this.global.icodes.IMethod">m</a> <a href="../Members.scala.html#695997" title="(f: CopyPropagation.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreachBlock</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.global.icodes.BasicBlock" id="721089">b</a> =&gt;
          <a href="../../../../../collection/mutable/MapLike.scala.html#87611" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#721089" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>  = <a href="#720992" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#720453" title="=&gt; CopyAnalysis.this.lattice.State">bottom</a>
          <a href="../../../../../collection/mutable/MapLike.scala.html#87611" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><a href="#721089" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#720992" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#720453" title="=&gt; CopyAnalysis.this.lattice.State">bottom</a>
          <a href="../../../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#720975" title="=&gt; scala.collection.mutable.Map[CopyAnalysis.this.P,CopyAnalysis.this.lattice.Elem]">out</a>.<a href="../../../../../collection/MapLike.scala.html#87536" title="(key: CopyAnalysis.this.P)Boolean">contains</a><span class="delimiter">(</span><a href="#721089" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>, <a href="DataFlowAnalysis.scala.html#720975" title="=&gt; scala.collection.mutable.Map[CopyAnalysis.this.P,CopyAnalysis.this.lattice.Elem]">out</a><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;CopyAnalysis added point: &quot;)" class="string">&quot;CopyAnalysis added point: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721089" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#721015" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#696006" title="=&gt; List[CopyPropagation.this.global.icodes.ExceptionHandler]">exh</a> <a href="../../../../../collection/immutable/List.scala.html#62719" title="(f: CopyPropagation.this.global.icodes.ExceptionHandler =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.global.icodes.ExceptionHandler" id="721122">e</a> =&gt;
          <a href="../../../../../collection/mutable/MapLike.scala.html#87611" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#721122" title="CopyPropagation.this.global.icodes.ExceptionHandler">e</a>.<a href="../ExceptionHandlers.scala.html#696225" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> = <span title="CopyPropagation.this.copyLattice.State" class="keyword">new</span> <a href="#619558" title="CopyPropagation.this.copyLattice.type">copyLattice</a>.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a><span class="delimiter">(</span><a href="#619558" title="CopyPropagation.this.copyLattice.type">copyLattice</a>.<a href="#720448" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="#619558" title="CopyPropagation.this.copyLattice.type">copyLattice</a>.<a href="#720455" title="=&gt; List[CopyPropagation.this.Unknown.type]">exceptionHandlerStack</a><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        // first block is special: it's not bottom, but a precisely defined state with no bindings
        <a href="../../../../../collection/mutable/MapLike.scala.html#87611" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#721015" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#695993" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> = <span title="CopyAnalysis.this.lattice.State" class="keyword">new</span> <a href="#720992" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#720449" title="CopyAnalysis.this.lattice.State">State</a><span class="delimiter">(</span><a href="#720992" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#720448" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="720998">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="DataFlowAnalysis.scala.html#720988" title="(f: (CopyAnalysis.this.P, CopyAnalysis.this.lattice.Elem) =&gt; CopyAnalysis.this.lattice.Elem)Unit">forwardAnalysis</a><span class="delimiter">(</span><a href="#720999" title="(b: CopyPropagation.this.global.icodes.BasicBlock, in: CopyAnalysis.this.lattice.Elem)CopyAnalysis.this.lattice.Elem">blockTransfer</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#540057" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../ICodes.scala.html#614880" title="=&gt; CopyPropagation.this.global.icodes.Linearizer">linearizer</a>.<a href="../Linearizers.scala.html#712012" title="(c: CopyPropagation.this.global.icodes.IMethod)List[CopyPropagation.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#720995" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>.<a href="../../../../../collection/immutable/List.scala.html#62719" title="(f: CopyPropagation.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="721170">b</a> =&gt; <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#721170" title="CopyPropagation.this.global.icodes.BasicBlock">b</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#720995" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#695993" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyAnalysis.this.P)CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#721170" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#720992" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#720453" title="=&gt; CopyAnalysis.this.lattice.State">bottom</a>,
            <span title="String(&quot;Block &quot;)" class="string">&quot;Block &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721170" title="CopyPropagation.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#619560" title="CopyAnalysis.this.type" class="keyword">this</a>.<a href="#720995" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has input equal to bottom -- not visited?&quot;)" class="string">&quot; has input equal to bottom -- not visited?&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: CopyPropagation.this.global.icodes.BasicBlock, in: CopyAnalysis.this.lattice.Elem)CopyAnalysis.this.lattice.Elem" id="720999">blockTransfer</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="721133">b</a>: <a href="../BasicBlocks.scala.html#614938" title="CopyPropagation.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="CopyAnalysis.this.lattice.Elem" id="721134">in</a>: lattice.<a href="#720449" title="CopyAnalysis.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: lattice.<a href="#720449" title="CopyAnalysis.this.lattice.Elem">Elem</a> =
      <a href="#721133" title="CopyPropagation.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#695930" title="=&gt; Iterator[CopyPropagation.this.global.icodes.Instruction]">iterator</a>.<a href="../../../../../collection/TraversableOnce.scala.html#58202" title="(z: CopyAnalysis.this.lattice.Elem)(op: (CopyAnalysis.this.lattice.Elem, CopyPropagation.this.global.icodes.Instruction) =&gt; CopyAnalysis.this.lattice.Elem)CopyAnalysis.this.lattice.Elem">foldLeft</a><span class="delimiter">(</span><a href="#721134" title="CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#721006" title="(in: CopyPropagation.this.copyLattice.Elem, i: CopyPropagation.this.global.icodes.Instruction)CopyPropagation.this.copyLattice.Elem">interpret</a><span class="delimiter">)</span>

    <span class="keyword">import</span> <a href="../Opcodes.scala.html#614967" title="CopyPropagation.this.global.icodes.opcodes.type">opcodes</a>._

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A, B](map: scala.collection.mutable.Map[A,B])(p: (A, B) =&gt; Boolean)scala.collection.mutable.Map[A,B]" id="721001">retain</a><span class="delimiter">[</span><a title="" id="721004">A</a>, <a title="" id="721005">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.mutable.Map[A,B]" id="721218">map</a>: mutable.<a href="../../../../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[A,B]">Map</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, B) =&gt; Boolean" id="721219">p</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../../../Tuple2.scala.html#60635" title="A" id="721245">k</a>, <a href="../../../../../Tuple2.scala.html#60637" title="B" id="721246">v</a><span class="delimiter">)</span> &lt;- <a href="../../../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: ((A, B)) =&gt; scala.collection.mutable.Map[A,B])Unit">map</a> ; <span class="keyword">if</span> <a href="#3313743" title="(x: Boolean)Boolean">!</a><a href="../../../../../Function2.scala.html#65848" title="(v1: A, v2: B)Boolean">p</a><span class="delimiter">(</span><a href="#721245" title="A">k</a>, <a href="#721246" title="B">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#721218" title="scala.collection.mutable.Map[A,B]">map</a> <a href="#3313749" title="(x: map.type)map.type">-=</a> <a href="#721245" title="A">k</a>
      <a href="#721218" title="scala.collection.mutable.Map[A,B]">map</a>
    <span class="delimiter">}</span>

    /** Abstract interpretation for one instruction. */
    <span class="keyword">def</span> <a title="(in: CopyPropagation.this.copyLattice.Elem, i: CopyPropagation.this.global.icodes.Instruction)CopyPropagation.this.copyLattice.Elem" id="721006">interpret</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.Elem" id="721212">in</a>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.Elem">Elem</a>, <a title="CopyPropagation.this.global.icodes.Instruction" id="721213">i</a>: <a href="../Opcodes.scala.html#614966" title="CopyPropagation.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="CopyPropagation.this.copyLattice.State" id="721257">out</a> = <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720475" title="=&gt; CopyPropagation.this.copyLattice.State">dup</a>
      <a href="../../../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;- &quot;)" class="string">&quot;- &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721213" title="CopyPropagation.this.global.icodes.Instruction">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nin: &quot;)" class="string">&quot;\nin: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>

      <a href="#721213" title="CopyPropagation.this.global.icodes.Instruction">i</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> THIS<a href="#3313902" title="Any" id="3313905" class="delimiter">(</a><a href="../Opcodes.scala.html#705567" title="CopyPropagation.this.global.icodes.global.Symbol" id="3313903">_</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#720265" title="CopyPropagation.this.This.type">This</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> CONSTANT<a href="#3313902" title="Any" id="3313907" class="delimiter">(</a><a href="../Opcodes.scala.html#704290" title="CopyPropagation.this.global.icodes.global.Constant" id="721267">k</a><span class="delimiter">)</span> =&gt;
          <a href="#3313973" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#721267" title="CopyPropagation.this.global.icodes.global.Constant">k</a>.<a href="../../../../../reflect/internal/Constants.scala.html#409765" title="=&gt; Int">tag</a> <a href="../../../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span>
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#722198" title="(c: CopyPropagation.this.global.Constant)CopyPropagation.this.Const">Const</a><span class="delimiter">(</span><a href="#721267" title="CopyPropagation.this.global.icodes.global.Constant">k</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>;

        <span class="keyword">case</span> LOAD_ARRAY_ITEM<a href="#3313902" title="Any" id="3313910" class="delimiter">(</a><a href="../Opcodes.scala.html#703309" title="CopyPropagation.this.global.icodes.TypeKind" id="3313908">_</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <span class="delimiter">(</span><a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> LOAD_LOCAL<a href="#3313902" title="Any" id="3313912" class="delimiter">(</a><a href="../Opcodes.scala.html#703703" title="CopyPropagation.this.global.icodes.Local" id="721290">local</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#721290" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> LOAD_FIELD<a href="#3313902" title="Any" id="3313914" class="delimiter">(</a><a href="../Opcodes.scala.html#706266" title="CopyPropagation.this.global.icodes.global.Symbol" id="721301">field</a>, <a href="../Opcodes.scala.html#706268" title="Boolean" id="721302">isStatic</a><span class="delimiter">)</span> =&gt;
          <a href="#3313973" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#721302" title="Boolean">isStatic</a><span class="delimiter">)</span>
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>; /* ignore static fields */
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="CopyPropagation.this.Value" id="721307">v1</a> = <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="721310">r</a> @ Record<a href="#721310" title="CopyPropagation.this.Value" id="3313775" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="721311">cls</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721312">bindings</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#3313772" title="Boolean" id="3313773">::</a> <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="721313">xs</a> =&gt;
                <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><a href="#3313794" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value" class="delimiter">(</a><a href="#722182" title="(r: CopyPropagation.this.Record, sym: CopyPropagation.this.global.Symbol)CopyPropagation.this.Field">Field</a><span class="delimiter">(</span>r, <a href="#721301" title="CopyPropagation.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

              <span class="keyword">case</span> Deref<a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="3313781" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313783" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="721323">l</a><span class="delimiter">)</span><span class="delimiter">)</span> :: <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="3313777">_</a> =&gt;
                <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720470" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><a href="#3313794" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value" class="delimiter">(</a><a href="#721323" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> r @ Record<a href="#3313753" title="CopyPropagation extends Product with Serializable with CopyPropagation.this.Value" id="3313755" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="721327">cls</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721328">bindings</a><span class="delimiter">)</span> =&gt; <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><a href="#3313757" title="(x: Product with Serializable with CopyPropagation.this.Value)Product with Serializable with CopyPropagation.this.Value" class="delimiter">(</a><a href="#722182" title="(r: CopyPropagation.this.Record, sym: CopyPropagation.this.global.Symbol)CopyPropagation.this.Field">Field</a><span class="delimiter">(</span>r, <a href="#721301" title="CopyPropagation.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt; <a href="#3313757" title="(x: Product with Serializable with CopyPropagation.this.Value)Product with Serializable with CopyPropagation.this.Value">Unknown</a>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> Deref<a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="3313789" class="delimiter">(</a>Field<a href="#720592" title="CopyPropagation.this.Location" id="3313791" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="721341">r</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="721342">f</a><span class="delimiter">)</span><span class="delimiter">)</span> :: <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="3313785">_</a> =&gt;
                <span class="keyword">val</span> <a title="Option[CopyPropagation.this.Value]" id="721343">fld</a> = <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720472" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldValue</a><span class="delimiter">(</span><a href="#721341" title="CopyPropagation.this.Record">r</a>, <a href="#721342" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>
                <a href="#721343" title="Option[CopyPropagation.this.Value]">fld</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> Some<a href="#3313762" title="CopyPropagation.this.Value" id="3313763" class="delimiter">(</a><a href="../../../../../Option.scala.html#63132" title="CopyPropagation.this.Value" id="721345">r</a> @ Record<a href="#721345" title="CopyPropagation.this.Value" id="3313765" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="721346">cls</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721347">bindings</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#721347" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a>.<a href="../../../../../collection/MapLike.scala.html#87537" title="(key: CopyPropagation.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#721342" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span> =&gt;
                  	<a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720472" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldValue</a><span class="delimiter">(</span>r, <a href="#721342" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>.<a href="../../../../../Option.scala.html#62859" title="(default: =&gt; CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a><a href="#3313767" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value" class="delimiter">(</a><a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt; <a href="#3313767" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">Unknown</a>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> _ =&gt; <a href="#3313794" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">Unknown</a>
            <span class="delimiter">}</span>
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721307" title="CopyPropagation.this.Value">v1</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> LOAD_MODULE<a href="#3313902" title="Any" id="3313916" class="delimiter">(</a><a href="../Opcodes.scala.html#707054" title="CopyPropagation.this.global.icodes.global.Symbol" id="721362">module</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> STORE_ARRAY_ITEM<a href="#3313902" title="Any" id="3313918" class="delimiter">(</a><a href="../Opcodes.scala.html#703339" title="CopyPropagation.this.global.icodes.TypeKind" id="721370">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span>

        <span class="keyword">case</span> STORE_LOCAL<a href="#3313902" title="Any" id="3313920" class="delimiter">(</a><a href="../Opcodes.scala.html#700872" title="CopyPropagation.this.global.icodes.Local" id="721373">local</a><span class="delimiter">)</span> =&gt;
          <a href="#721007" title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit">cleanReferencesTo</a><span class="delimiter">(</span><a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>, <a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#721373" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="3313819">Unknown</a> <a href="#3313813" title="Boolean" id="3313815">::</a> <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="721380">xs</a> =&gt; <a href="#3313823" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="721383">v</a> :: <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="721384">vs</a> =&gt;
              <a href="#3313823" title="(x: Any)Any">v</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> Deref<a href="#3313801" title="Any" id="3313804" class="delimiter">(</a>LocalVar<a href="#720592" title="CopyPropagation.this.Location" id="3313806" class="delimiter">(</a><a href="#720528" title="CopyPropagation.this.global.icodes.Local" id="721385">other</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <a href="#3313808" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#721385" title="CopyPropagation.this.global.icodes.Local">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#721373" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span>
                    <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720476" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a> <a href="../../../../../collection/mutable/MapLike.scala.html#87612" title="(kv: (CopyPropagation.this.Location, CopyPropagation.this.Value))scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">+=</a> <span class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><a href="../../../../../Predef.scala.html#7509" title="(x: CopyPropagation.this.LocalVar)ArrowAssoc[CopyPropagation.this.LocalVar]" class="delimiter">(</a><a href="#721373" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span> <a href="../../../../../Predef.scala.html#62634" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.LocalVar, CopyPropagation.this.Value)">-&gt;</a> <a href="#721383" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>;
                <span class="keyword">case</span> _ =&gt;
                  <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720476" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a> <a href="#3313808" title="(x: Any)Any">+=</a> <span class="delimiter">(</span><a href="#722178" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><a href="../../../../../Predef.scala.html#7509" title="(x: CopyPropagation.this.LocalVar)ArrowAssoc[CopyPropagation.this.LocalVar]" class="delimiter">(</a><a href="#721373" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span> <a href="../../../../../Predef.scala.html#62634" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.LocalVar, CopyPropagation.this.Value)">-&gt;</a> <a href="#721383" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <a href="../../../../../collection/immutable/List.scala.html#11188" title="Any" id="3313820">Nil</a> =&gt;
              sys.<a href="../../../../../sys/package.scala.html#55658" title="(message: String)Nothing">error</a><a href="#3313823" title="(x: Any)Any" class="delimiter">(</a><span title="String(&quot;Incorrect icode in &quot;)" class="string">&quot;Incorrect icode in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#720995" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;. Expecting something on the stack.&quot;)" class="string">&quot;. Expecting something on the stack.&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a> <span title="Int(1)" class="int">1</span>;

        <span class="keyword">case</span> STORE_THIS<a href="#3313902" title="Any" id="3313923" class="delimiter">(</a><a href="../Opcodes.scala.html#706867" title="CopyPropagation.this.global.icodes.TypeKind" id="3313921">_</a><span class="delimiter">)</span> =&gt;
          <a href="#721007" title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit">cleanReferencesTo</a><span class="delimiter">(</span><a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>, <a href="#720265" title="CopyPropagation.this.This.type">This</a><span class="delimiter">)</span>
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a> <span title="Int(1)" class="int">1</span>

        <span class="keyword">case</span> STORE_FIELD<a href="#3313902" title="Any" id="3313925" class="delimiter">(</a><a href="../Opcodes.scala.html#702957" title="CopyPropagation.this.global.icodes.global.Symbol" id="721466">field</a>, <a href="../Opcodes.scala.html#702959" title="Boolean" id="721467">isStatic</a><span class="delimiter">)</span> =&gt;
          <a href="#3313973" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#721467" title="Boolean">isStatic</a><span class="delimiter">)</span>
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>;
            <a href="#721007" title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit">cleanReferencesTo</a><span class="delimiter">(</span><a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>, <a href="#722182" title="(r: CopyPropagation.this.Record, sym: CopyPropagation.this.global.Symbol)CopyPropagation.this.Field">Field</a><span class="delimiter">(</span><a href="#720434" title="CopyPropagation.this.AllRecords.type">AllRecords</a>, <a href="#721466" title="CopyPropagation.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>;
            <a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="721472">v</a> <a href="#3313835" title="Any" id="3313837">::</a> Record<a href="../../../../../collection/immutable/List.scala.html#206583" title="CopyPropagation.this.Value" id="3313842" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="3313840">_</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721475">bindings</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="3313839">::</a> <a href="../../../../../collection/immutable/List.scala.html#206584" title="List[CopyPropagation.this.Value]" id="721476">vs</a> =&gt;
                <a href="#721475" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="#3313844" title="(x: Any)Any">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#7509" title="(x: CopyPropagation.this.global.icodes.global.Symbol)ArrowAssoc[CopyPropagation.this.global.icodes.global.Symbol]">field</a> <a href="../../../../../Predef.scala.html#62634" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.global.icodes.global.Symbol, CopyPropagation.this.Value)">-&gt;</a> <a href="#721472" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt; <a href="#3313844" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span>;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> CALL_PRIMITIVE<a href="#3313902" title="Any" id="3313927" class="delimiter">(</a><a href="../Opcodes.scala.html#703080" title="CopyPropagation.this.global.icodes.Primitive" id="721511">primitive</a><span class="delimiter">)</span> =&gt;
          // TODO: model primitives
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#721213" title="CopyPropagation.this.global.icodes.Instruction">i</a>.<a href="../Opcodes.scala.html#695875" title="=&gt; Int">consumed</a><span class="delimiter">)</span>

        <span class="keyword">case</span> CALL_METHOD<a href="#3313902" title="Any" id="3313929" class="delimiter">(</a><a href="../Opcodes.scala.html#705592" title="CopyPropagation.this.global.icodes.global.Symbol" id="721521">method</a>, <a href="../Opcodes.scala.html#705594" title="CopyPropagation.this.global.icodes.opcodes.InvokeStyle" id="721522">style</a><span class="delimiter">)</span> =&gt; <a href="#3313973" title="(x: Any)Any">style</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../Opcodes.scala.html#624368" title="Unit" id="3313866">Dynamic</a> =&gt;
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#721008" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

          <span class="keyword">case</span> Static<a href="#3313859" title="Unit" id="3313862" class="delimiter">(</a><a href="../Opcodes.scala.html#705893" title="Boolean" id="721527">onInstance</a><span class="delimiter">)</span> =&gt;
            <a href="#3313868" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#721527" title="Boolean">onInstance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="CopyPropagation.this.Value" id="721528">obj</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; CopyPropagation.this.global.icodes.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span>.<a href="../../../../../collection/IterableLike.scala.html#58577" title="=&gt; CopyPropagation.this.Value">head</a>
//              if (method.isPrimaryConstructor) {
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411287" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#721528" title="CopyPropagation.this.Value">obj</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> Record<a href="#3313849" title="Unit" id="3313852" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="3313850">_</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721532">bindings</a><span class="delimiter">)</span> =&gt;
                    <span class="keyword">for</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Value" id="721549">v</a> &lt;- <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62708" title="(n: Int)List[CopyPropagation.this.Value]">take</a><a href="../../../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: CopyPropagation.this.Value =&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])Unit" class="delimiter">(</a><a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; CopyPropagation.this.global.icodes.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
                         <span class="keyword">if</span> <a href="#721549" title="CopyPropagation.this.Value">v</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#721528" title="CopyPropagation.this.Value">obj</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                       <a href="#721532" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/generic/Growable.scala.html#60003" title="(xs: scala.collection.TraversableOnce[(CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)])bindings.type">++=</a> <a href="#721010" title="(in: CopyPropagation.this.copyLattice.State, ctor: CopyPropagation.this.global.Symbol)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">getBindingsForPrimaryCtor</a><span class="delimiter">(</span><a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> _ =&gt; <a href="#3313854" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                // put the Record back on the stack and remove the 'returned' value
                <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; CopyPropagation.this.global.icodes.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#721008" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#721008" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

          <span class="keyword">case</span> SuperCall<a href="#3313859" title="Unit" id="3313865" class="delimiter">(</a><a href="../Opcodes.scala.html#705550" title="CopyPropagation.this.global.icodes.global.Name" id="3313863">_</a><span class="delimiter">)</span> =&gt;
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#721008" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#721212" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#721521" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> BOX<a href="#3313902" title="Any" id="3313931" class="delimiter">(</a><a href="../Opcodes.scala.html#704712" title="CopyPropagation.this.global.icodes.TypeKind" id="721563">tpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="CopyPropagation extends Product with Serializable with CopyPropagation.this.Value" id="721564">top</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/IterableLike.scala.html#58577" title="=&gt; CopyPropagation.this.Value">head</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Deref<a href="#3313877" title="CopyPropagation extends Product with Serializable with CopyPropagation.this.Value" id="3313879" class="delimiter">(</a><a href="#720592" title="CopyPropagation.this.Location" id="721566">loc</a><span class="delimiter">)</span> =&gt; <a href="#722194" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Boxed">Boxed</a><a href="#3313881" title="(x: Product with Serializable with CopyPropagation.this.Value)Product with Serializable with CopyPropagation.this.Value" class="delimiter">(</a><a href="#721566" title="CopyPropagation.this.Location">loc</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _          =&gt; <a href="#3313881" title="(x: Product with Serializable with CopyPropagation.this.Value)Product with Serializable with CopyPropagation.this.Value">Unknown</a>
          <span class="delimiter">}</span>
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721564" title="CopyPropagation extends Product with Serializable with CopyPropagation.this.Value">top</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[CopyPropagation.this.Value]">tail</a>

        <span class="keyword">case</span> UNBOX<a href="#3313902" title="Any" id="3313933" class="delimiter">(</a><a href="../Opcodes.scala.html#706007" title="CopyPropagation.this.global.icodes.TypeKind" id="721586">tpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="CopyPropagation.this.Value" id="721587">top</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/IterableLike.scala.html#58577" title="=&gt; CopyPropagation.this.Value">head</a>
          <a href="#721587" title="CopyPropagation.this.Value">top</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Boxed<a href="#3313886" title="Any" id="3313888" class="delimiter">(</a><a href="#721567" title="CopyPropagation.this.Location" id="721589">loc</a><span class="delimiter">)</span> =&gt; <a href="#722190" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#721589" title="CopyPropagation.this.Location">loc</a><span class="delimiter">)</span> <a href="#3313890" title="(x: Any)Any">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[CopyPropagation.this.Value]">tail</a>
            <span class="keyword">case</span> _          =&gt; <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> NEW<a href="#3313902" title="Any" id="3313935" class="delimiter">(</a><a href="../Opcodes.scala.html#705364" title="CopyPropagation.this.global.icodes.REFERENCE" id="721609">kind</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="CopyPropagation extends Product with Serializable with CopyPropagation.this.Value" id="721610">v1</a> = <a href="#721609" title="CopyPropagation.this.global.icodes.REFERENCE">kind</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> REFERENCE<span class="delimiter">(</span><a href="../TypeKinds.scala.html#694622" title="CopyPropagation.this.global.icodes.global.Symbol" id="721612">cls</a><span class="delimiter">)</span> =&gt; <a href="#722186" title="(cls: CopyPropagation.this.global.Symbol, bindings: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])CopyPropagation.this.Record">Record</a><a href="#3313897" title="(x: Product with Serializable with CopyPropagation.this.Value)Product with Serializable with CopyPropagation.this.Value" class="delimiter">(</a><a href="#721612" title="CopyPropagation.this.global.icodes.global.Symbol">cls</a>, mutable.<a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)*)scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" class="delimiter">[</span><a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a href="#619541" title="CopyPropagation.this.Value">Value</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> _              =&gt; <a href="#3313897" title="(x: Product with Serializable with CopyPropagation.this.Value)Product with Serializable with CopyPropagation.this.Value">Unknown</a>
          <span class="delimiter">}</span>
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721610" title="CopyPropagation extends Product with Serializable with CopyPropagation.this.Value">v1</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> CREATE_ARRAY<a href="#3313902" title="Any" id="3313937" class="delimiter">(</a><a href="../Opcodes.scala.html#705817" title="CopyPropagation.this.global.icodes.TypeKind" id="721638">elem</a>, <a href="../Opcodes.scala.html#705819" title="Int" id="721639">dims</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#721639" title="Int">dims</a><span class="delimiter">)</span>

        <span class="keyword">case</span> IS_INSTANCE<a href="#3313902" title="Any" id="3313939" class="delimiter">(</a><a href="../Opcodes.scala.html#705413" title="CopyPropagation.this.global.icodes.TypeKind" id="721648">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> CHECK_CAST<a href="#3313902" title="Any" id="3313941" class="delimiter">(</a><a href="../Opcodes.scala.html#705467" title="CopyPropagation.this.global.icodes.TypeKind" id="721655">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> SWITCH<a href="#3313902" title="Any" id="3313943" class="delimiter">(</a><a href="../Opcodes.scala.html#701271" title="List[List[Int]]" id="721663">tags</a>, <a href="../Opcodes.scala.html#701273" title="List[CopyPropagation.this.global.icodes.BasicBlock]" id="721664">labels</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> JUMP<a href="#3313902" title="Any" id="3313945" class="delimiter">(</a><a href="../Opcodes.scala.html#700755" title="CopyPropagation.this.global.icodes.BasicBlock" id="721667">whereto</a><span class="delimiter">)</span> =&gt;
          <a href="#3313973" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span>

        <span class="keyword">case</span> CJUMP<a href="#3313902" title="Any" id="3313947" class="delimiter">(</a><a href="../Opcodes.scala.html#701128" title="CopyPropagation.this.global.icodes.BasicBlock" id="721672">success</a>, <a href="../Opcodes.scala.html#701130" title="CopyPropagation.this.global.icodes.BasicBlock" id="721673">failure</a>, <a href="../Opcodes.scala.html#701132" title="CopyPropagation.this.global.icodes.TestOp" id="721674">cond</a>, <a href="../Opcodes.scala.html#701134" title="CopyPropagation.this.global.icodes.TypeKind" id="721675">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>

        <span class="keyword">case</span> CZJUMP<a href="#3313902" title="Any" id="3313949" class="delimiter">(</a><a href="../Opcodes.scala.html#701202" title="CopyPropagation.this.global.icodes.BasicBlock" id="721681">success</a>, <a href="../Opcodes.scala.html#701204" title="CopyPropagation.this.global.icodes.BasicBlock" id="721682">failure</a>, <a href="../Opcodes.scala.html#701206" title="CopyPropagation.this.global.icodes.TestOp" id="721683">cond</a>, <a href="../Opcodes.scala.html#701208" title="CopyPropagation.this.global.icodes.TypeKind" id="721684">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> RETURN<a href="#3313902" title="Any" id="3313951" class="delimiter">(</a><a href="../Opcodes.scala.html#700784" title="CopyPropagation.this.global.icodes.TypeKind" id="721687">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#3313973" title="(x: Any)Any" class="keyword">if</a> <span class="delimiter">(</span><a href="#721687" title="CopyPropagation.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../TypeKinds.scala.html#614990" title="CopyPropagation.this.global.icodes.UNIT.type">UNIT</a><span class="delimiter">)</span>
            <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> THROW<a href="#3313902" title="Any" id="3313954" class="delimiter">(</a><a href="../Opcodes.scala.html#700813" title="CopyPropagation.this.global.icodes.global.Symbol" id="3313952">_</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> DROP<a href="#3313902" title="Any" id="3313956" class="delimiter">(</a><a href="../Opcodes.scala.html#704127" title="CopyPropagation.this.global.icodes.TypeKind" id="721696">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> DUP<a href="#3313902" title="Any" id="3313958" class="delimiter">(</a><a href="../Opcodes.scala.html#703416" title="CopyPropagation.this.global.icodes.TypeKind" id="721699">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/IterableLike.scala.html#58577" title="=&gt; CopyPropagation.this.Value">head</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> MONITOR_ENTER<a href="#3313902" title="Any" id="3313960" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;

        <span class="keyword">case</span> MONITOR_EXIT<a href="#3313902" title="Any" id="3313962" class="delimiter">(</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> SCOPE_ENTER<a href="#3313902" title="Any" id="3313965" class="delimiter">(</a><a href="../Opcodes.scala.html#705011" title="CopyPropagation.this.global.icodes.Local" id="3313963">_</a><span class="delimiter">)</span> | SCOPE_EXIT<a href="#3313902" title="Boolean" id="3313968" class="delimiter">(</a><a href="../Opcodes.scala.html#700843" title="CopyPropagation.this.global.icodes.Local" id="3313966">_</a><span class="delimiter">)</span> =&gt;
          <a href="#3313973" title="(x: Any)Any" class="delimiter">(</a><span class="delimiter">)</span>

        <span class="keyword">case</span> LOAD_EXCEPTION<a href="#3313902" title="Any" id="3313971" class="delimiter">(</a><a href="../Opcodes.scala.html#703522" title="CopyPropagation.this.global.icodes.global.Symbol" id="3313969">_</a><span class="delimiter">)</span> =&gt;
          <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Unknown.type)List[CopyPropagation.this.Unknown.type]">::</a> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>

        <span class="keyword">case</span> _ =&gt;
          <a href="../ICodes.scala.html#614886" title="(msg: String)Nothing">dumpClassesAndAbort</a><a href="#3313973" title="(x: Any)Any" class="delimiter">(</a><span title="String(&quot;Unknown instruction: &quot;)" class="string">&quot;Unknown instruction: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721213" title="CopyPropagation.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#721257" title="CopyPropagation.this.copyLattice.State">out</a>
    <span class="delimiter">}</span> /* def interpret */

    /** Remove all references to this local variable from both stack
     *  and bindings. It is called when a new assignment destroys
     *  previous copy-relations.
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit" id="721007">cleanReferencesTo</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="721374">s</a>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a>, <a title="CopyPropagation.this.Location" id="721375">target</a>: <a href="#619532" title="CopyPropagation.this.Location">Location</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record)CopyPropagation.this.Record" id="721718">cleanRecord</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="721719">r</a>: <a href="#722186" title="CopyPropagation.this.Record">Record</a><span class="delimiter">)</span>: <a href="#722186" title="CopyPropagation.this.Record">Record</a> = <span class="delimiter">{</span>
        <a href="#721001" title="(map: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])(p: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#721719" title="CopyPropagation.this.Record">r</a>.<a href="#721614" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="721729">loc</a>, <a title="CopyPropagation.this.Value" id="721730">value</a><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#721730" title="CopyPropagation.this.Value">value</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Deref<a href="#3314012" title="Boolean" id="3314014" class="delimiter">(</a><a href="#720592" title="CopyPropagation.this.Location" id="721731">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#721731" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721375" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <a href="#3314018" title="(x: Boolean)Boolean" class="keyword">false</a>
            <span class="keyword">case</span> Boxed<a href="#3314012" title="Boolean" id="3314016" class="delimiter">(</a><a href="#721567" title="CopyPropagation.this.Location" id="721736">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#721736" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721375" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span>  =&gt; <a href="#3314018" title="(x: Boolean)Boolean" class="keyword">false</a>
            <span class="keyword">case</span> _ =&gt; <a href="#3314018" title="(x: Boolean)Boolean" class="keyword">true</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#721375" title="CopyPropagation.this.Location">target</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> Field<a href="#3314024" title="Boolean" id="3314027" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="3314029">AllRecords</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="721741">sym1</a><span class="delimiter">)</span> =&gt; <a href="#3314031" title="(x: Boolean)Boolean">!</a><span class="delimiter">(</span><a href="#721729" title="CopyPropagation.this.global.Symbol">loc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721741" title="CopyPropagation.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _ =&gt; <a href="#3314031" title="(x: Boolean)Boolean" class="keyword">true</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#721719" title="CopyPropagation.this.Record">r</a>
      <span class="delimiter">}</span>

      <a href="#721374" title="CopyPropagation.this.copyLattice.State">s</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721374" title="CopyPropagation.this.copyLattice.State">s</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: CopyPropagation.this.Value =&gt; CopyPropagation.this.Value)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]])List[CopyPropagation.this.Value]">map</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.Value" id="721765">v</a> =&gt; <a href="#721765" title="CopyPropagation.this.Value">v</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Record<a href="#3314039" title="CopyPropagation.this.Value" id="3314042" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="3314040">_</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721766">bindings</a><span class="delimiter">)</span> =&gt;
          <a href="#721718" title="(r: CopyPropagation.this.Record)CopyPropagation.this.Record">cleanRecord</a><a href="#3314046" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value" class="delimiter">(</a><a href="#721765" title="CopyPropagation.this.Value">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="CopyPropagation.this.Record" class="delimiter">[</span><a href="#722186" title="CopyPropagation.this.Record">Record</a><span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">case</span> Boxed<a href="#3314039" title="CopyPropagation.this.Value" id="3314044" class="delimiter">(</a><a href="#721567" title="CopyPropagation.this.Location" id="721767">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#721767" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721375" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <a href="#3314046" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">Unknown</a>
        <span class="keyword">case</span> _ =&gt; <a href="#3314046" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">v</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

      <a href="#721001" title="(map: scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value])(p: (CopyPropagation.this.Location, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#721374" title="CopyPropagation.this.copyLattice.State">s</a>.<a href="#720476" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="721809">loc</a>, <a title="CopyPropagation.this.Value" id="721810">value</a><span class="delimiter">)</span> =&gt;
        <span class="delimiter">(</span><a href="#721810" title="CopyPropagation.this.Value">value</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Deref<a href="#3314052" title="Boolean" id="3314054" class="delimiter">(</a><a href="#720592" title="CopyPropagation.this.Location" id="721811">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#721811" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721375" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <a href="#3314062" title="(x: Boolean)Boolean" class="keyword">false</a>
          <span class="keyword">case</span> Boxed<a href="#3314052" title="Boolean" id="3314056" class="delimiter">(</a><a href="#721567" title="CopyPropagation.this.Location" id="721816">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#721816" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721375" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <a href="#3314062" title="(x: Boolean)Boolean" class="keyword">false</a>
          <span class="keyword">case</span> rec @ Record<a href="#3314052" title="Boolean" id="3314060" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="3314057">_</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="3314058">_</a><span class="delimiter">)</span> =&gt;
            <a href="#721718" title="(r: CopyPropagation.this.Record)CopyPropagation.this.Record">cleanRecord</a><span class="delimiter">(</span>rec<span class="delimiter">)</span>;
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> _ =&gt; <a href="#3314062" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="#721809" title="CopyPropagation.this.Location">loc</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#3314069" title="Boolean" id="3314071">l</a>: Location <span class="keyword">if</span> <span class="delimiter">(</span>l <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721375" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <a href="#3314073" title="(x: Boolean)Boolean" class="keyword">false</a>
          <span class="keyword">case</span> _ =&gt; <a href="#3314073" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Update the state &lt;code&gt;s&lt;/code&gt; after the call to &lt;code&gt;method&lt;/code&gt;.
     *  The stack elements are dropped and replaced by the result of the call.
     *  If the method is impure, all bindings to record fields are cleared.
     *
     *  @param state  ...
     *  @param method ...
     *  @param static ...
     *  @return       ...
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State" id="721008">simulateCall</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="721523">state</a>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a>, <a title="CopyPropagation.this.global.Symbol" id="721524">method</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a title="Boolean" id="721525">static</a>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="CopyPropagation.this.copyLattice.State" id="721827">out</a> = <span title="CopyPropagation.this.copyLattice.State" class="keyword">new</span> <a href="#619558" title="CopyPropagation.this.copyLattice.type">copyLattice</a>.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a><span class="delimiter">(</span><a href="#721523" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#720476" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a>, <a href="#721523" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>;
      <a href="#721827" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721827" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#721524" title="CopyPropagation.this.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; CopyPropagation.this.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#721525" title="Boolean">static</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#721524" title="CopyPropagation.this.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; CopyPropagation.this.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#408423" title="=&gt; CopyPropagation.this.global.Type">resultType</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../../reflect/internal/Definitions.scala.html#407777" title="CopyPropagation.this.global.definitions.type">definitions</a>.<a href="../../../../../reflect/internal/Definitions.scala.html#409353" title="=&gt; CopyPropagation.this.global.ClassSymbol">UnitClass</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; CopyPropagation.this.global.Type">tpe</a> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#721524" title="CopyPropagation.this.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411201" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
        <a href="#721827" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#720430" title="CopyPropagation.this.Unknown.type">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#721827" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#721011" title="(m: CopyPropagation.this.global.Symbol)Boolean">isPureMethod</a><span class="delimiter">(</span><a href="#721524" title="CopyPropagation.this.global.Symbol">method</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#721009" title="(state: CopyPropagation.this.copyLattice.State)Unit">invalidateRecords</a><span class="delimiter">(</span><a href="#721827" title="CopyPropagation.this.copyLattice.State">out</a><span class="delimiter">)</span>;
      <a href="#721827" title="CopyPropagation.this.copyLattice.State">out</a>
    <span class="delimiter">}</span>

    /** Drop everything known about mutable record fields.
     *
     *  A simple escape analysis would help here. Some of the records we
     *  track never leak to other methods, therefore they can not be changed.
     *  We should not drop their bindings in this case. A closure object
     *  would be such an example. Some complications:
     *
     *   - outer pointers. An closure escapes as an outer pointer to another
     *     nested closure.
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(state: CopyPropagation.this.copyLattice.State)Unit" id="721009">invalidateRecords</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="721852">state</a>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: CopyPropagation.this.global.Symbol)Boolean" id="721854">shouldRetain</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="721855">sym</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#721855" title="CopyPropagation.this.global.Symbol">sym</a>.<a href="../../../../../reflect/internal/HasFlags.scala.html#409860" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;dropping binding for &quot;)" class="string">&quot;dropping binding for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721855" title="CopyPropagation.this.global.Symbol">sym</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411334" title="=&gt; String">fullName</a><span class="delimiter">)</span>
        <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#721855" title="CopyPropagation.this.global.Symbol">sym</a>.<a href="../../../../../reflect/internal/HasFlags.scala.html#409860" title="=&gt; Boolean">isMutable</a>
      <span class="delimiter">}</span>
      <a href="#721852" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#720477" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#721852" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: CopyPropagation.this.Value =&gt; CopyPropagation.this.Value)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]])List[CopyPropagation.this.Value]">map</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.Value" id="721877">v</a> =&gt; <a href="#721877" title="CopyPropagation.this.Value">v</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Record<a href="#3314078" title="CopyPropagation.this.Value" id="3314080" class="delimiter">(</a><a href="#721613" title="CopyPropagation.this.global.Symbol" id="721878">cls</a>, <a href="#721614" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721879">bindings</a><span class="delimiter">)</span> =&gt;
          <a href="#721001" title="(map: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])(p: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#721879" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="721889">sym</a>, <a title="CopyPropagation.this.Value" id="721890">_</a><span class="delimiter">)</span> =&gt; <a href="#721854" title="(sym: CopyPropagation.this.global.Symbol)Boolean">shouldRetain</a><span class="delimiter">(</span><a href="#721889" title="CopyPropagation.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#722186" title="(cls: CopyPropagation.this.global.Symbol, bindings: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])CopyPropagation.this.Record">Record</a><span class="delimiter">(</span><a href="#721878" title="CopyPropagation.this.global.Symbol">cls</a>, <a href="#721879" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span>
        <span class="keyword">case</span> _ =&gt; <a href="#3314082" title="(x: CopyPropagation.this.Value)CopyPropagation.this.Value">v</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

      <a href="#721001" title="(map: scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value])(p: (CopyPropagation.this.Location, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#721852" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#720476" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="721928">loc</a>, <a title="CopyPropagation.this.Value" id="721929">value</a><span class="delimiter">)</span> =&gt;
        <a href="#721929" title="CopyPropagation.this.Value">value</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> Deref<a href="#3314087" title="Boolean" id="3314090" class="delimiter">(</a>Field<a href="#720592" title="CopyPropagation.this.Location" id="3314092" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="721930">rec</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="721931">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#721854" title="(sym: CopyPropagation.this.global.Symbol)Boolean">shouldRetain</a><a href="#3314099" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#721931" title="CopyPropagation.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Boxed<a href="#3314087" title="Boolean" id="3314095" class="delimiter">(</a>Field<a href="#721567" title="CopyPropagation.this.Location" id="3314097" class="delimiter">(</a><a href="#721315" title="CopyPropagation.this.Record" id="721932">rec</a>, <a href="#721316" title="CopyPropagation.this.global.Symbol" id="721933">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#721854" title="(sym: CopyPropagation.this.global.Symbol)Boolean">shouldRetain</a><a href="#3314099" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#721933" title="CopyPropagation.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt; <a href="#3314099" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Return bindings from an object fields to the values on the stack. This
     *  method has to find the correct mapping from fields to the order in which
     *  they are passed on the stack. It works for primary constructors.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: CopyPropagation.this.copyLattice.State, ctor: CopyPropagation.this.global.Symbol)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721010">getBindingsForPrimaryCtor</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="721551">in</a>: copyLattice.<a href="#720449" title="CopyPropagation.this.copyLattice.State">State</a>, <a title="CopyPropagation.this.global.Symbol" id="721552">ctor</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: mutable.<a href="../../../../../collection/mutable/Map.scala.html#12498" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">Map</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[CopyPropagation.this.global.Symbol]" id="721934">paramAccessors</a> = <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; CopyPropagation.this.global.Symbol">owner</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411429" title="=&gt; List[CopyPropagation.this.global.Symbol]">constrParamAccessors</a>;
      <span class="keyword">var</span> <a title="List[CopyPropagation.this.Value]" id="721935">values</a>         = <a href="#721551" title="CopyPropagation.this.copyLattice.State">in</a>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#62708" title="(n: Int)List[CopyPropagation.this.Value]">take</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; CopyPropagation.this.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span>.<a href="../../../../../collection/immutable/List.scala.html#62716" title="=&gt; List[CopyPropagation.this.Value]">reverse</a>.<a href="../../../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="721936">bindings</a>       = mutable.<a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)*)scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" class="delimiter">[</span><a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a href="#619541" title="CopyPropagation.this.Value">Value</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="../../../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;getBindings for: &quot;)" class="string">&quot;getBindings for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; acc: &quot;)" class="string">&quot; acc: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721934" title="List[CopyPropagation.this.global.Symbol]">paramAccessors</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="List[CopyPropagation.this.global.Type]" id="721937">paramTypes</a> = <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; CopyPropagation.this.global.Type">tpe</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>
      <span class="keyword">val</span> <a title="Int" id="721938">diff</a> = <a href="#721937" title="List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../../../Int.scala.html#57161" title="(x: Int)Int">-</a> <a href="#721934" title="List[CopyPropagation.this.global.Symbol]">paramAccessors</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>
      <a href="#721938" title="Int">diff</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span class="int">0</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span class="int">1</span> <span class="keyword">if</span> <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; CopyPropagation.this.global.Type">tpe</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/IterableLike.scala.html#58577" title="=&gt; CopyPropagation.this.global.Type">head</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; CopyPropagation.this.global.Symbol">owner</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411092" title="=&gt; CopyPropagation.this.global.Symbol">rawowner</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; CopyPropagation.this.global.Type">tpe</a> =&gt;
          // it's an unused outer
          <a href="../../../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;considering unused outer at position 0 in &quot;)" class="string">&quot;considering unused outer at position 0 in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; CopyPropagation.this.global.Type">tpe</a>.<a href="../../../../../reflect/internal/Types.scala.html#408431" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a><span class="delimiter">)</span>
          <a href="#721937" title="List[CopyPropagation.this.global.Type]">paramTypes</a> = <a href="#721937" title="List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[CopyPropagation.this.global.Type]">tail</a>
          <a href="#721935" title="List[CopyPropagation.this.Value]">values</a> = <a href="#721935" title="List[CopyPropagation.this.Value]">values</a>.<a href="../../../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[CopyPropagation.this.Value]">tail</a>
        <span class="keyword">case</span> _ =&gt;
          <a href="../../../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;giving up on &quot;)" class="string">&quot;giving up on &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721552" title="CopyPropagation.this.global.Symbol">ctor</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;(diff: &quot;)" class="string">&quot;(diff: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721938" title="Int">diff</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#721936" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a>
      <span class="delimiter">}</span>

      // this relies on having the same order in paramAccessors and
      // the arguments on the stack. It should be the same!
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../../../Tuple2.scala.html#60635" title="CopyPropagation.this.global.Symbol" id="722032">p</a>, <a href="../../../../../Tuple2.scala.html#60637" title="Int" id="722033">i</a><span class="delimiter">)</span> &lt;- <a href="#721934" title="List[CopyPropagation.this.global.Symbol]">paramAccessors</a>.<a href="../../../../../collection/immutable/List.scala.html#62719" title="(f: ((CopyPropagation.this.global.Symbol, Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span> <a href="#3314115" title="(x: Unit)Unit" class="delimiter">{</a>
//        assert(p.tpe == paramTypes(i), &quot;In: &quot; + ctor.fullName
//               + &quot; having acc: &quot; + (paramAccessors map (_.tpe))+ &quot; vs. params&quot; + paramTypes
//               + &quot;\n\t failed at pos &quot; + i + &quot; with &quot; + p.tpe + &quot; == &quot; + paramTypes(i))
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#722032" title="CopyPropagation.this.global.Symbol">p</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; CopyPropagation.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)CopyPropagation.this.global.Type">paramTypes</a><span class="delimiter">(</span><a href="#722033" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#721936" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/mutable/HashMap.scala.html#88250" title="(kv: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value))bindings.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#7509" title="(x: CopyPropagation.this.global.Symbol)ArrowAssoc[CopyPropagation.this.global.Symbol]">p</a> <a href="../../../../../Predef.scala.html#62634" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)">-&gt;</a> <a href="#721935" title="List[CopyPropagation.this.Value]">values</a>.<a href="../../../../../collection/IterableLike.scala.html#58577" title="=&gt; CopyPropagation.this.Value">head</a><span class="delimiter">)</span>;
        <a href="#721935" title="List[CopyPropagation.this.Value]">values</a> = <a href="#721935" title="List[CopyPropagation.this.Value]">values</a>.<a href="../../../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[CopyPropagation.this.Value]">tail</a>;
      <span class="delimiter">}</span>

      <a href="../../../Global.scala.html#537517" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\t&quot;)" class="string">&quot;\t&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#721936" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span>
      <a href="#721936" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a>
    <span class="delimiter">}</span>

    /** Is symbol &lt;code&gt;m&lt;/code&gt; a pure method?
     *
     *  @param m ...
     *  @return  ...
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(m: CopyPropagation.this.global.Symbol)Boolean" id="721011">isPureMethod</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="721850">m</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#407146" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
      <a href="#721850" title="CopyPropagation.this.global.Symbol">m</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411203" title="=&gt; Boolean">isGetter</a> // abstract getters are still pure, as we 'know'

    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="721012">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">(</span>
      <a href="#720995" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#695995" title="=&gt; List[CopyPropagation.this.global.icodes.BasicBlock]">blocks</a> <a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: CopyPropagation.this.global.icodes.BasicBlock =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.global.icodes.BasicBlock],String,List[String]])List[String]">map</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.global.icodes.BasicBlock" id="722107">b</a> =&gt;
        <a href="../../../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nIN(%s):\t Bindings: %s&quot;</a>.<a href="../../../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#722107" title="CopyPropagation.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#695895" title="=&gt; Int">label</a>, <a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyAnalysis.this.P)CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#722107" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="#720476" title="=&gt; CopyAnalysis.this.lattice.Bindings">bindings</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
        <a href="../../../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nIN(%s):\t Stack: %s&quot;</a>.<a href="../../../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#722107" title="CopyPropagation.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#695895" title="=&gt; Int">label</a>, <a href="../../../../../collection/MapLike.scala.html#87535" title="(key: CopyAnalysis.this.P)CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#722107" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="#720477" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>.<a href="../../../../../collection/TraversableOnce.scala.html#58284" title="=&gt; String">mkString</a>

  <span class="delimiter">}</span> /* class CopyAnalysis */
<span class="delimiter">}</span>

        </pre>
    </body>
</html>