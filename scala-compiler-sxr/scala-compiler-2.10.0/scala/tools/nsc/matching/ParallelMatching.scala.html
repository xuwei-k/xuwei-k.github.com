<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/matching/ParallelMatching.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2013 LAMP/EPFL
 * Copyright 2007 Google Inc. All Rights Reserved.
 * Author: bqe@google.com (Burak Emir)
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> <a href="../../../PartialFunction.scala.html#130" title="PartialFunction.type">PartialFunction</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.internal.util.Position
<span class="keyword">import</span> transform.ExplicitOuter
<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> scala.annotation.elidable
<span class="keyword">import</span> scala.<a href="../../../language.scala.html#1423" title="language.type">language</a>.postfixOps

<span class="keyword">trait</span> <a title="trait ParallelMatching extends Object with scala.tools.nsc.ast.TreeDSL with scala.tools.nsc.matching.MatchSupport with scala.tools.nsc.matching.Matrix with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.PatternBindings" id="40374">ParallelMatching</a> <a href="../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> ast.<a href="../ast/TreeDSL.scala.html#28843" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
      <span class="keyword">with</span> <a href="MatchSupport.scala.html#40452" title="scala.tools.nsc.matching.MatchSupport">MatchSupport</a>
      <span class="keyword">with</span> <a href="Matrix.scala.html#41016" title="scala.tools.nsc.matching.Matrix">Matrix</a>
      <span class="keyword">with</span> <a href="Patterns.scala.html#40476" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="PatternBindings.scala.html#40932" title="scala.tools.nsc.matching.PatternBindings">PatternBindings</a>
<span class="delimiter">{</span>
  self: ExplicitOuter =&gt;

  <span class="keyword">import</span> <a href="../transform/TypingTransformers.scala.html#621439" title="=&gt; scala.tools.nsc.Global">global</a>.<span class="delimiter">{</span> typer =&gt; _, _ <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="ParallelMatching.this.global.definitions.type">definitions</a>.<span class="delimiter">{</span>
    AnyRefClass, IntClass, BooleanClass, SomeClass, OptionClass,
    getProductArgs, productProj, Object_eq, Any_asInstanceOf
  <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#538235" title="ParallelMatching.this.CODE.type">CODE</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#621952" title="ParallelMatching.this.Types.type">Types</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#621954" title="ParallelMatching.this.Debug.type">Debug</a>._

  /** Transition **/
  <span class="keyword">def</span> <a title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]" id="621941">toPats</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="930271">xs</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#930271" title="List[ParallelMatching.this.global.Tree]">xs</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Tree],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</a> <a href="Patterns.scala.html#621921" title="ParallelMatching.this.Pattern.type">Pattern</a>.<a href="Patterns.scala.html#932615" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">apply</a>

  /** The umbrella matrix class. **/
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MatchMatrix extends Object with ParallelMatching.this.MatchMatrixOptimizer with ParallelMatching.this.MatrixExhaustiveness" id="621942">MatchMatrix</a><a href="#621942" title="ParallelMatching.this.MatchMatrix" class="delimiter">(</a><span class="keyword">val</span> <a title="ParallelMatching.this.MatrixContext" id="929873">context</a>: <a href="Matrix.scala.html#621983" title="ParallelMatching.this.MatrixContext">MatrixContext</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="MatrixAdditions.scala.html#621971" title="ParallelMatching.this.MatchMatrixOptimizer">MatchMatrixOptimizer</a> <span class="keyword">with</span> <a href="MatrixAdditions.scala.html#621972" title="ParallelMatching.this.MatrixExhaustiveness">MatrixExhaustiveness</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#929873" title="=&gt; ParallelMatching.this.MatrixContext">context</a>._

    <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.MatrixContext#MatrixInit" id="929804">data</a>: MatrixContext#<a href="Matrix.scala.html#929677" title="ParallelMatching.this.MatrixContext#MatrixInit">MatrixInit</a>

    <span class="keyword">lazy</span> <span class="keyword">val</span> MatrixInit<a href="#3336724" title="(List[MatchMatrix.this.context.PatternVar], List[ParallelMatching.this.global.CaseDef], ParallelMatching.this.global.Tree)" id="3336726" class="delimiter">(</a><a href="Matrix.scala.html#929700" title="List[MatchMatrix.this.context.PatternVar]" id="929808">roots</a>, <a href="Matrix.scala.html#929702" title="List[ParallelMatching.this.global.CaseDef]" id="929810">cases</a>, <a href="Matrix.scala.html#929704" title="ParallelMatching.this.global.Tree" id="929812">failTree</a><span class="delimiter">)</span> = <a href="#929804" title="=&gt; ParallelMatching.this.MatrixContext#MatrixInit">data</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#3336734" title="(List[MatchMatrix.this.Row], List[Product with Serializable with MatchMatrix.this.State])" id="929814" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[MatchMatrix.this.Row]" id="929816">rows</a>, <a href="../../../Tuple2.scala.html#60637" title="List[Product with Serializable with MatchMatrix.this.State]" id="929818">targets</a><span class="delimiter">)</span>                    = <a href="#929855" title="(roots: List[MatchMatrix.this.context.PatternVar], cases: List[ParallelMatching.this.global.CaseDef])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">expand</a><span class="delimiter">(</span><a href="#929807" title="=&gt; List[MatchMatrix.this.context.PatternVar]">roots</a>, <a href="#929809" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a><span class="delimiter">)</span>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58476" title="(implicit asPair: ((MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)) =&gt; (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(List[MatchMatrix.this.Row], List[Product with Serializable with MatchMatrix.this.State])">unzip</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="929820">expansion</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a>                     = <a href="#929825" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="Matrix.scala.html#929680" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">roots</a>, <a href="#929815" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]" id="929821">shortCuts</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#406696" title="ParallelMatching.this.global.perRunCaches.type">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#471987" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]" class="delimiter">[</span><a href="../../../Int.scala.html#321" title="Int">Int</a>, <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(theLabel: ParallelMatching.this.global.Symbol)Int" id="929823">createShortCut</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="932674">theLabel</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#321" title="Int">Int</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="932676">key</a> = <a href="#929821" title="=&gt; scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]">shortCuts</a>.<a href="../../../collection/mutable/HashMap.scala.html#88241" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
      <a href="../../../collection/mutable/HashMap.scala.html#88248" title="(key: Int, value: ParallelMatching.this.global.Symbol)Unit">shortCuts</a><span class="delimiter">(</span><a href="#932676" title="Int">key</a><span class="delimiter">)</span> = <a href="#932674" title="ParallelMatching.this.global.Symbol">theLabel</a>
      <a href="../../../Int.scala.html#57086" title="=&gt; Int">-</a><a href="#932676" title="Int">key</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef" id="929824">createLabelDef</a><span class="delimiter">(</span><a title="String" id="930371">namePrefix</a>: <span title="String">String</span>, <a title="ParallelMatching.this.global.Tree" id="930372">body</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="List[ParallelMatching.this.global.Symbol]" id="930377">params</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a title="ParallelMatching.this.global.Type" id="930378">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ParallelMatching.this.global.Type">Type</a> = <a href="Matrix.scala.html#929666" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.TermName" id="930379">labelName</a> = <a href="Matrix.scala.html#929658" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#539276" title="(prefix: String)ParallelMatching.this.global.TermName">freshTermName</a><span class="delimiter">(</span><a href="#930371" title="String">namePrefix</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.MethodSymbol" id="930380">labelSym</a>  = <a href="Matrix.scala.html#929664" title="=&gt; ParallelMatching.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#411115" title="(name: ParallelMatching.this.global.TermName, pos: ParallelMatching.this.global.Position)ParallelMatching.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#930379" title="ParallelMatching.this.global.TermName">labelName</a>, <a href="Matrix.scala.html#929664" title="=&gt; ParallelMatching.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ParallelMatching.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.MethodType" id="930381">labelInfo</a> = <a href="../../../reflect/internal/Types.scala.html#420479" title="(params: List[ParallelMatching.this.global.Symbol], resultType: ParallelMatching.this.global.Type)ParallelMatching.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#930377" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#930378" title="ParallelMatching.this.global.Type">restpe</a><span class="delimiter">)</span>

      <a href="../../../reflect/internal/Trees.scala.html#408113" title="(sym: ParallelMatching.this.global.Symbol, params: List[ParallelMatching.this.global.Symbol], rhs: ParallelMatching.this.global.Tree)ParallelMatching.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#930380" title="ParallelMatching.this.global.MethodSymbol">labelSym</a> <a href="../../../reflect/internal/Symbols.scala.html#411369" title="(info: ParallelMatching.this.global.Type)labelSym.type">setInfo</a> <a href="#930381" title="ParallelMatching.this.global.MethodType">labelInfo</a>, <a href="#930377" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#930372" title="ParallelMatching.this.global.Tree">body</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: ParallelMatching.this.global.Type)body.type">setType</a> <a href="#930378" title="ParallelMatching.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** This is the recursively focal point for translating the current
     *  list of pattern variables and a list of pattern match rows into
     *  a tree suitable for entering erasure.
     *
     *  The first time it is called, the variables are (copies of) the
     *  original pattern matcher roots, and the rows correspond to the
     *  original casedefs.
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep" id="929825">make</a><span class="delimiter">(</span><a title="MatchMatrix.this.context.PatternVarGroup" id="932670">roots1</a>: <a href="Matrix.scala.html#929685" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a>, <a title="List[MatchMatrix.this.Row]" id="932671">rows1</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a> = <span class="delimiter">{</span>
      <a href="MatchSupport.scala.html#928644" title="(cat: String, f: String, xs: Any*)Unit">traceCategory</a><span class="delimiter">(</span><span title="String(&quot;New Match&quot;)" class="string">&quot;New Match&quot;</span>, <span title="String(&quot;%sx%s (%s)&quot;)" class="string">&quot;%sx%s (%s)&quot;</span>, <a href="#932670" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>.<a href="Matrix.scala.html#930632" title="=&gt; Int">size</a>, <a href="#932671" title="List[MatchMatrix.this.Row]">rows1</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>, <a href="#932670" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>.<a href="Matrix.scala.html#930627" title="=&gt; List[ParallelMatching.this.global.Symbol]">syms</a>.<a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(opat: ParallelMatching.this.Pattern, j: Int)ParallelMatching.this.Pattern" id="932685">classifyPat</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="932690">opat</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a>, <a title="Int" id="932691">j</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="#932690" title="ParallelMatching.this.Pattern">opat</a> <a href="Patterns.scala.html#932026" title="(pv: ParallelMatching.this.PatternVar)ParallelMatching.this.Pattern">simplify</a> <a href="Matrix.scala.html#930637" title="(i: Int)MatchMatrix.this.context.PatternVar">roots1</a><span class="delimiter">(</span><a href="#932691" title="Int">j</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="932686">newRows</a> = <a href="#932671" title="List[MatchMatrix.this.Row]">rows1</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: MatchMatrix.this.Row =&gt; scala.collection.GenTraversableOnce[MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">flatMap</a> <span class="delimiter">(</span><a href="#932713" title="MatchMatrix.this.Row">_</a> <a href="#930255" title="(classifyPat: (ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern)List[MatchMatrix.this.Row]">expandAlternatives</a> <a href="#932685" title="(opat: ParallelMatching.this.Pattern, j: Int)ParallelMatching.this.Pattern">classifyPat</a><span class="delimiter">)</span>
      <span title="MatchMatrix.this.Rep" class="keyword">if</span> <span class="delimiter">(</span><a href="#932671" title="List[MatchMatrix.this.Row]">rows1</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57104" title="(x: Int)Boolean">!=</a> <a href="#932686" title="List[MatchMatrix.this.Row]">newRows</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#929825" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#932670" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>, <a href="#932686" title="List[MatchMatrix.this.Row]">newRows</a><span class="delimiter">)</span>  // recursive call if any change
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="932752">rep</a> = <a href="#939120" title="(tvars: MatchMatrix.this.context.PatternVarGroup, rows: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">Rep</a><span class="delimiter">(</span><a href="#932670" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>, <a href="#932686" title="List[MatchMatrix.this.Row]">newRows</a><span class="delimiter">)</span>
        <span title="MatchMatrix.this.ExhaustivenessChecker" class="keyword">new</span> <a href="MatrixAdditions.scala.html#929865" title="MatchMatrix.this.ExhaustivenessChecker">ExhaustivenessChecker</a><span class="delimiter">(</span><a href="#932752" title="MatchMatrix.this.Rep">rep</a>, <a href="#929807" title="=&gt; List[MatchMatrix.this.context.PatternVar]">roots</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; MatchMatrix.this.context.PatternVar">head</a>.<a href="Matrix.scala.html#929729" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ParallelMatching.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="MatrixAdditions.scala.html#931889" title="=&gt; MatchMatrix.this.Rep">check</a>
        <a href="#932752" title="MatchMatrix.this.Rep">rep</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="929826">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;MatchMatrix(%s) { %s }&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="Matrix.scala.html#929666" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a>, <a href="MatchSupport.scala.html#928655" title="(s: Seq[Any])String">indentAll</a><span class="delimiter">(</span><a href="#929817" title="=&gt; List[Product with Serializable with MatchMatrix.this.State]">targets</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /**
     * Encapsulates a symbol being matched on.  It is created from a
     * PatternVar, which encapsulates the symbol's creation and assignment.
     *
     * We never match on trees directly - a temporary variable is created
     * (in a PatternVar) for any expression being matched on.
     */
    <span class="keyword">class</span> <a title="class Scrutinee extends Object" id="929827">Scrutinee</a><a href="#929827" title="MatchMatrix.this.Scrutinee" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="932798">pv</a>: <a href="Matrix.scala.html#929686" title="MatchMatrix.this.context.PatternVar">PatternVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#407777" title="ParallelMatching.this.global.definitions.type">definitions</a>._

      // presenting a face of our symbol
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Symbol" id="932772">sym</a>   = <a href="#932798" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#929729" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="932773">tpe</a>   = <a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Position" id="932774">pos</a>   = <a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ParallelMatching.this.global.Position">pos</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.gen.global.Tree" id="932775">id</a>    = <a href="../ast/TreeDSL.scala.html#624611" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdAttachments.scala.html#409604" title="(newpos: scala.reflect.internal.util.Position)ParallelMatching.this.global.gen.global.Tree">setPos</a> <a href="#932774" title="=&gt; ParallelMatching.this.global.Position">pos</a>  // attributed ident

      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Symbol]" id="932776">accessors</a>     = <span title="List[ParallelMatching.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#932784" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411428" title="=&gt; List[ParallelMatching.this.global.Symbol]">caseFieldAccessors</a> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Type]" id="932777">accessorTypes</a> = <a href="#932776" title="=&gt; List[ParallelMatching.this.global.Symbol]">accessors</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type,List[ParallelMatching.this.global.Type]])List[ParallelMatching.this.global.Type]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="932832">x</a> =&gt; <span class="delimiter">(</span><a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408462" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">memberType</a> <a href="#932832" title="ParallelMatching.this.global.Symbol">x</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408423" title="=&gt; ParallelMatching.this.global.Type">resultType</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVarGroup" id="932779">accessorPatternVars</a>  = <a href="Matrix.scala.html#930618" title="(xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a><span class="delimiter">(</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.global.Symbol" id="932953">accessor</a>, <a href="../../../Tuple2.scala.html#60637" title="ParallelMatching.this.global.Type" id="932954">tpe</a><span class="delimiter">)</span> &lt;- <a href="#932776" title="=&gt; List[ParallelMatching.this.global.Symbol]">accessors</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type)) =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type)],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">zip</a> <a href="#932777" title="=&gt; List[ParallelMatching.this.global.Type]">accessorTypes</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><a href="#3336740" title="(x: MatchMatrix.this.context.PatternVar)MatchMatrix.this.context.PatternVar" class="delimiter">(</a><a href="#932954" title="ParallelMatching.this.global.Type">tpe</a>, <a title="ParallelMatching.this.global.Symbol" id="932962">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#624567" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Symbol, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#932953" title="ParallelMatching.this.global.Symbol">accessor</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]" id="932780">extraValDefs</a> = <span title="List[ParallelMatching.this.global.analyzer.global.ValDef]" class="keyword">if</span> <span class="delimiter">(</span><a href="#932798" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#929724" title="=&gt; ParallelMatching.this.global.Tree">rhs</a>.<a href="../../../reflect/internal/Trees.scala.html#408582" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.global.analyzer.global.ValDef*)List[ParallelMatching.this.global.analyzer.global.ValDef]">List</a><span class="delimiter">(</span><a href="#932798" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#929733" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]" id="932781">allValDefs</a> = <a href="#932780" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">extraValDefs</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[ParallelMatching.this.global.analyzer.global.ValDef])List[ParallelMatching.this.global.analyzer.global.ValDef]">:::</a> <a href="#932778" title="=&gt; MatchMatrix.this.context.PatternVarGroup">accessorPatternVars</a>.<a href="Matrix.scala.html#930628" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefs</a>

      // tests
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="932782">isDefined</a>      = <a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ParallelMatching.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="932783">isSubrangeType</a> = <a href="../../../collection/GenSetLike.scala.html#66403" title="(elem: ParallelMatching.this.global.Symbol)Boolean">subrangeTypes</a><span class="delimiter">(</span><a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="932784">isCaseClass</a>    = <a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#409848" title="=&gt; Boolean">isCase</a>

      // sequences
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="932785">seqType</a>         = <a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; ParallelMatching.this.global.Type">widen</a> <a href="../../../reflect/internal/Types.scala.html#408459" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#408839" title="=&gt; ParallelMatching.this.global.ClassSymbol">SeqClass</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="932786">elemType</a>        = <a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)ParallelMatching.this.global.Type">typeArgs</a> <span title="Int(0)" class="int">0</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)ParallelMatching.this.global.Apply" id="932787">elemAt</a><span class="delimiter">(</span><a title="Int" id="933046">i</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>  = <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#662306" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <span class="delimiter">(</span><a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408451" title="(name: ParallelMatching.this.global.Name)ParallelMatching.this.global.Symbol">member</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ParallelMatching.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414263" title="=&gt; ParallelMatching.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#662273" title="(x: Any)ParallelMatching.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#933046" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)MatchMatrix.this.context.PatternVar" id="932788">createElemVar</a><span class="delimiter">(</span><a title="Int" id="933066">i</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>   = <a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#932786" title="=&gt; ParallelMatching.this.global.Type">elemType</a>, <a title="ParallelMatching.this.global.Symbol" id="933068">_</a> =&gt; <a href="#932787" title="(i: Int)ParallelMatching.this.global.Apply">elemAt</a><span class="delimiter">(</span><a href="#933066" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(drop: Int)MatchMatrix.this.context.PatternVar" id="932789">createSeqVar</a><span class="delimiter">(</span><a title="Int" id="933069">drop</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> = <a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#932785" title="=&gt; ParallelMatching.this.global.Type">seqType</a>, <a title="ParallelMatching.this.global.Symbol" id="933071">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#662342" title="(count: Int)ParallelMatching.this.global.Tree">DROP</a> <a href="#933069" title="Int">drop</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(count: Int)List[MatchMatrix.this.context.PatternVar]" id="932790">createSequenceVars</a><span class="delimiter">(</span><a title="Int" id="933076">count</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">[</span>PatternVar<span class="delimiter">]</span> =
        <span class="delimiter">(</span><a href="../../../LowPriorityImplicits.scala.html#7395" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../runtime/RichInt.scala.html#57062" title="(end: Int)scala.collection.immutable.Range.Inclusive">to</a> <a href="#933076" title="Int">count</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[Int]">toList</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Int =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">map</a> <span class="delimiter">(</span><a title="Int" id="933210">i</a> =&gt; <span title="MatchMatrix.this.context.PatternVar" class="keyword">if</span> <span class="delimiter">(</span><a href="#933210" title="Int">i</a> <a href="../../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <a href="#933076" title="Int">count</a><span class="delimiter">)</span> <a href="#932788" title="(i: Int)MatchMatrix.this.context.PatternVar">createElemVar</a><span class="delimiter">(</span><a href="#933210" title="Int">i</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#932789" title="(drop: Int)MatchMatrix.this.context.PatternVar">createSeqVar</a><span class="delimiter">(</span><a href="#933210" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // for propagating &quot;unchecked&quot; to synthetic vars
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="932791">isChecked</a> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <a href="Matrix.scala.html#621980" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[Long]" id="932792">flags</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[Long]">List</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: Long*)List[Long]">List</a><span class="delimiter">(</span><a href="Matrix.scala.html#621980" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58073" title="(p: Long =&gt; Boolean)List[Long]">filter</a> <span class="delimiter">(</span><a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#411234" title="(mask: Long)Boolean">hasFlag</a> <a href="#933255" title="Long">_</a><span class="delimiter">)</span>

      // this is probably where this actually belongs
      <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar" id="932793">createVar</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="932955">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree" id="932956">f</a>: Symbol =&gt; Tree<span class="delimiter">)</span> = <a href="#929873" title="=&gt; ParallelMatching.this.MatrixContext">context</a>.<a href="Matrix.scala.html#929688" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree, checked: Boolean)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#932955" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#932956" title="ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree">f</a>, <a href="#932791" title="=&gt; Boolean">isChecked</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(headType: ParallelMatching.this.global.Type)MatchMatrix.this.Scrutinee" id="932794">castedTo</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="933257">headType</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ParallelMatching.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span title="MatchMatrix.this.Scrutinee" class="keyword">if</span> <span class="delimiter">(</span><a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#933257" title="ParallelMatching.this.global.Type">headType</a><span class="delimiter">)</span> <a href="#929827" title="MatchMatrix.this.Scrutinee" class="keyword">this</a>
        <span class="keyword">else</span> <span title="MatchMatrix.this.Scrutinee" class="keyword">new</span> <a href="#929827" title="MatchMatrix.this.Scrutinee">Scrutinee</a><span class="delimiter">(</span><a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#933257" title="ParallelMatching.this.global.Type">headType</a>, <a title="ParallelMatching.this.global.Symbol" id="933263">lhs</a> =&gt; <a href="../Global.scala.html#537460" title="ParallelMatching.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471005" title="(value: ParallelMatching.this.global.gen.global.Tree, tpe: ParallelMatching.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)ParallelMatching.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#933263" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="932795">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(%s: %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])Option[MatchMatrix.this.PatternSwitch]" id="929828">isPatternSwitch</a><span class="delimiter">(</span><a title="MatchMatrix.this.Scrutinee" id="933276">scrut</a>: <a href="#929827" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="List[ParallelMatching.this.Pattern]" id="933277">ps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[MatchMatrix.this.PatternSwitch]">Option</a><span class="delimiter">[</span>PatternSwitch<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="933279">isSwitchableConst</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="933281">x</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="../../../PartialFunction.scala.html#77048" title="(x: ParallelMatching.this.Pattern)(pf: PartialFunction[ParallelMatching.this.Pattern,Boolean])Boolean">cond</a><span class="delimiter">(</span><a href="#933281" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,Boolean] with Serializable" id="933365" class="delimiter">{</a> <span class="keyword">case</span> <a href="#3336744" title="B1" id="3336757">x</a>: LiteralPattern <span class="keyword">if</span> x.<a href="Patterns.scala.html#933307" title="=&gt; Boolean">isSwitchable</a> =&gt; <a href="#3336750" title="(x: B1)B1" class="keyword">true</a> <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="933280">isSwitchableDefault</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="933391">x</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#933279" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableConst</a><span class="delimiter">(</span><a href="#933391" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#933391" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#932028" title="=&gt; Boolean">isDefault</a>

      // TODO - scala&gt; (5: Any) match { case 5 =&gt; 5 ; case 6 =&gt; 7 }
      // ... should compile to a switch.  It doesn't because the scrut isn't Int/Char, but
      // that could be handle in an if/else since every pattern requires an Int.
      // More immediately, Byte and Short scruts should also work.
      <span title="Option[MatchMatrix.this.PatternSwitch]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#933276" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932783" title="=&gt; Boolean">isSubrangeType</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#1585" title="None.type">None</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#3336765" title="(x: (List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern]))(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.Pattern]" id="933429">_lits</a>, <a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.Pattern]" id="933430">others</a><span class="delimiter">)</span> = <a href="#933277" title="List[ParallelMatching.this.Pattern]">ps</a> <a href="../../../collection/immutable/List.scala.html#62715" title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</a> <a href="#933279" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableConst</a>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="933431">lits</a> = <a href="#933429" title="List[ParallelMatching.this.Pattern]">_lits</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[ParallelMatching.this.Pattern,ParallelMatching.this.LiteralPattern])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.LiteralPattern,List[ParallelMatching.this.LiteralPattern]])List[ParallelMatching.this.LiteralPattern]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,ParallelMatching.this.LiteralPattern] with Serializable" id="933468" class="delimiter">{</a> <span class="keyword">case</span> <a href="#3336769" title="B1" id="3336782">x</a>: LiteralPattern =&gt; <a href="#3336775" title="(x: B1)B1">x</a> <span class="delimiter">}</span>

        <a href="../../../PartialFunction.scala.html#77051" title="(x: List[ParallelMatching.this.Pattern])(pf: PartialFunction[List[ParallelMatching.this.Pattern],MatchMatrix.this.PatternSwitch])Option[MatchMatrix.this.PatternSwitch]">condOpt</a><span class="delimiter">(</span><a href="#933430" title="List[ParallelMatching.this.Pattern]">others</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[List[ParallelMatching.this.Pattern],MatchMatrix.this.PatternSwitch] with Serializable" id="933556" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="B1" id="3336821">Nil</a>                                =&gt; <a href="#3336795" title="(x: B1)B1" class="keyword">new</a> <a href="#929829" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a><span class="delimiter">(</span><a href="#933276" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#933431" title="List[ParallelMatching.this.LiteralPattern]">lits</a>, <a href="../../../Option.scala.html#1585" title="None.type">None</a><span class="delimiter">)</span>
          // TODO: This needs to also allow the case that the last is a compatible type pattern.
          <span class="keyword">case</span> <a href="../../../collection/generic/SeqFactory.scala.html#59986" title="Option[List[ParallelMatching.this.Pattern]]" id="3336828">List</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="933567">x</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#933280" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableDefault</a><span class="delimiter">(</span><a href="#933567" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span>  =&gt; <a href="#3336795" title="(x: B1)B1" class="keyword">new</a> <a href="#929829" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a><span class="delimiter">(</span><a href="#933276" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#933431" title="List[ParallelMatching.this.LiteralPattern]">lits</a>, <a href="../../../Option.scala.html#63128" title="(x: ParallelMatching.this.Pattern)Some[ParallelMatching.this.Pattern]">Some</a><span class="delimiter">(</span><a href="#933567" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class PatternSwitch extends MatchMatrix.this.PatternMatch" id="929829">PatternSwitch</a><a href="#929829" title="MatchMatrix.this.PatternSwitch" class="delimiter">(</a>
      <a title="MatchMatrix.this.Scrutinee" id="933541">scrut</a>: <a href="#929827" title="MatchMatrix.this.Scrutinee">Scrutinee</a>,
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="933542">ps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.LiteralPattern]">List</a><span class="delimiter">[</span>LiteralPattern<span class="delimiter">]</span>,
      <span class="keyword">val</span> <a title="Option[ParallelMatching.this.Pattern]" id="933543">defaultPattern</a>: <a href="../../../Option.scala.html#978" title="Option[ParallelMatching.this.Pattern]">Option</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>
    <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a><span class="delimiter">(</span><a href="#933541" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#933542" title="List[ParallelMatching.this.LiteralPattern]">ps</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#537500" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="#933541" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932783" title="=&gt; Boolean">isSubrangeType</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#933542" title="=&gt; List[ParallelMatching.this.LiteralPattern]">ps</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86378" title="(p: ParallelMatching.this.LiteralPattern =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#933607" title="ParallelMatching.this.LiteralPattern">_</a>.<a href="Patterns.scala.html#933307" title="=&gt; Boolean">isSwitchable</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class PatternMatch extends AnyRef with Product with Serializable" id="939022">PatternMatch</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="MatchMatrix.this.Scrutinee" id="938679">scrut</a>: <a href="#929827" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="List[ParallelMatching.this.Pattern]" id="938680">ps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.Pattern" id="933402">head</a> = <a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="933403">tail</a> = <a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="933404">size</a> = <a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a>

      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="933405">headType</a> = <a href="#933402" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932029" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="933406">dummyCount</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#933402" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932038" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="#933405" title="=&gt; ParallelMatching.this.global.Type">headType</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#411428" title="=&gt; List[ParallelMatching.this.global.Symbol]">caseFieldAccessors</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="933408">dummies</a> = <a href="Patterns.scala.html#621863" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#933406" title="=&gt; Int">dummyCount</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(i: Int)ParallelMatching.this.Pattern" id="933409">apply</a><span class="delimiter">(</span><a title="Int" id="933641">i</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)ParallelMatching.this.Pattern">ps</a><span class="delimiter">(</span><a href="#933641" title="Int">i</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()List[(ParallelMatching.this.Pattern, Int)]" id="933410">pzip</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/IterableLike.scala.html#58604" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, Int),List[(ParallelMatching.this.Pattern, Int)]])List[(ParallelMatching.this.Pattern, Int)]">zipWithIndex</a>
      <span class="keyword">def</span> <a title="[T](others: List[T])List[(ParallelMatching.this.Pattern, T)]" id="933411">pzip</a><span class="delimiter">[</span><a title="" id="933413">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="933689">others</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="../Global.scala.html#537497" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <a href="#933689" title="List[T]">others</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>, <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Internal error: ps = %s, others = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>, <a href="#933689" title="List[T]">others</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, T),List[(ParallelMatching.this.Pattern, T)]])List[(ParallelMatching.this.Pattern, T)]">zip</a> <a href="#933689" title="List[T]">others</a>
      <span class="delimiter">}</span>

      // Any unapply - returns Some(true) if a type test is needed before the unapply can
      // be called (e.g. def unapply(x: Foo) = { ... } but our scrutinee is type Any.)
      <span class="keyword">object</span> <a title="PatternMatch.this.AnyUnapply.type" id="933414">AnyUnapply</a> <a href="#933415" title="PatternMatch.this.AnyUnapply.type" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[Boolean]" id="933757">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="933759">x</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#978" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="../../../PartialFunction.scala.html#77051" title="(x: ParallelMatching.this.global.Tree)(pf: PartialFunction[ParallelMatching.this.global.Tree,Boolean])Option[Boolean]">condOpt</a><span class="delimiter">(</span><a href="#933759" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#932025" title="=&gt; ParallelMatching.this.global.Tree">tree</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[ParallelMatching.this.global.Tree,Boolean] with Serializable" id="933786" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="Patterns.scala.html#933776" title="Option[ParallelMatching.this.global.Type]" id="3336859">UnapplyParamType</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="933792">tpe</a><span class="delimiter">)</span> =&gt; <a href="#3336846" title="(x: B1)B1">!</a><span class="delimiter">(</span><a href="#938679" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#933792" title="ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(rest: MatchMatrix.this.Rep)MatchMatrix.this.RuleApplication" id="933416">mkRule</a><span class="delimiter">(</span><a title="MatchMatrix.this.Rep" id="933817">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span>: <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> = <span class="delimiter">{</span>
        <a href="MatchSupport.scala.html#928645" title="(s: String)(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication">tracing</a><span class="delimiter">(</span><span title="String(&quot;Rule&quot;)" class="string">&quot;Rule&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#933402" title="=&gt; ParallelMatching.this.Pattern">head</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> x <span class="keyword">if</span> <a href="PatternBindings.scala.html#621992" title="(tpe: ParallelMatching.this.global.Type)Boolean">isEquals</a><span class="delimiter">(</span>x.<a href="Patterns.scala.html#932025" title="=&gt; ParallelMatching.this.global.Tree">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>        =&gt; <a href="#3336877" title="(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication" class="keyword">new</a> <a href="#929840" title="MatchMatrix.this.MixEquals">MixEquals</a><span class="delimiter">(</span><a href="#939022" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#933817" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#3336868" title="MatchMatrix.this.RuleApplication" id="3336874">x</a>: SequencePattern               =&gt; <a href="#3336877" title="(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication" class="keyword">new</a> <a href="#929839" title="MatchMatrix.this.MixSequence">MixSequence</a><span class="delimiter">(</span><a href="#939022" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#933817" title="MatchMatrix.this.Rep">rest</a>, x<span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#933757" title="Option[Boolean]" id="3336883">AnyUnapply</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#57823" title="Boolean" id="3336875" class="keyword">false</a><span class="delimiter">)</span>                =&gt; <a href="#3336877" title="(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication" class="keyword">new</a> <a href="#929838" title="MatchMatrix.this.MixUnapply">MixUnapply</a><span class="delimiter">(</span><a href="#939022" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#933817" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ =&gt;
            <a href="#929828" title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])Option[MatchMatrix.this.PatternSwitch]">isPatternSwitch</a><a href="#3336877" title="(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication" class="delimiter">(</a><a href="#938679" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#3336860" title="MatchMatrix.this.RuleApplication" id="3336861" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="MatchMatrix.this.PatternSwitch" id="933966">x</a><span class="delimiter">)</span>  =&gt; <a href="#3336863" title="(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication" class="keyword">new</a> <a href="#929837" title="MatchMatrix.this.MixLiteralInts">MixLiteralInts</a><span class="delimiter">(</span><a href="#933966" title="MatchMatrix.this.PatternSwitch">x</a>, <a href="#933817" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _        =&gt; <a href="#3336863" title="(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication" class="keyword">new</a> <a href="#929841" title="MatchMatrix.this.MixTypes">MixTypes</a><span class="delimiter">(</span><a href="#939022" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#933817" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="933417">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s match {%s}&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#938679" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="MatchSupport.scala.html#928655" title="(s: Seq[Any])String">indentAll</a><span class="delimiter">(</span><a href="#938680" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> // PatternMatch

    /***** Rule Applications *****/

    <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RuleApplication extends Object" id="929833">RuleApplication</a> <a href="#929833" title="MatchMatrix.this.RuleApplication" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.PatternMatch" id="933820">pmatch</a>: <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.Rep" id="933821">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="933822">cond</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="933823">success</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="933824">failure</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>

      <span class="keyword">lazy</span> <span class="keyword">val</span> PatternMatch<a href="#3336913" title="(MatchMatrix.this.Scrutinee, List[ParallelMatching.this.Pattern])" id="933826" class="delimiter">(</a><a href="#938679" title="MatchMatrix.this.Scrutinee" id="933828">scrut</a>, <a href="#938680" title="List[ParallelMatching.this.Pattern]" id="933830">patterns</a><span class="delimiter">)</span> = <a href="#933820" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.Pattern" id="933832">head</a> = <a href="#933820" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#933402" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933834">codegen</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="../ast/TreeDSL.scala.html#624605" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#933822" title="=&gt; ParallelMatching.this.global.Tree">cond</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662292" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.IfStart">THEN</a> <span class="delimiter">(</span><a href="#933823" title="=&gt; ParallelMatching.this.global.Tree">success</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662293" title="(elsep: ParallelMatching.this.global.Tree)ParallelMatching.this.global.If">ELSE</a> <span class="delimiter">(</span><a href="#933824" title="=&gt; ParallelMatching.this.global.Tree">failure</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree" id="933835">mkFail</a><span class="delimiter">(</span><a title="List[MatchMatrix.this.Row]" id="934135">xs</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#934135" title="List[MatchMatrix.this.Row]">xs</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#929811" title="=&gt; ParallelMatching.this.global.Tree">failTree</a>
        <span class="keyword">else</span> <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#934135" title="List[MatchMatrix.this.Row]">xs</a><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">def</span> <a title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep" id="933836">remake</a><span class="delimiter">(</span>
        <a title="List[MatchMatrix.this.Row]" id="934136">rows</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span>,
        <a title="MatchMatrix.this.context.PatternVarGroup" id="934139">pvgroup</a>: <a href="Matrix.scala.html#929685" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a> = <a href="Matrix.scala.html#929683" title="=&gt; MatchMatrix.this.context.PatternVarGroup">emptyPatternVarGroup</a>,
        <a title="Boolean" id="934140">includeScrut</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a> =
      <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="934141">scrutpvs</a> = <span title="List[MatchMatrix.this.context.PatternVar]" class="keyword">if</span> <span class="delimiter">(</span><a href="#934140" title="Boolean">includeScrut</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932798" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
        <a href="#929825" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#934139" title="MatchMatrix.this.context.PatternVarGroup">pvgroup</a>.<a href="Matrix.scala.html#930624" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a> <a href="Matrix.scala.html#930635" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#934141" title="List[MatchMatrix.this.context.PatternVar]">scrutpvs</a> <a href="Matrix.scala.html#930635" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#933821" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#934136" title="List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** translate outcome of the rule application into code (possible involving recursive application of rewriting) */
      <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="933837">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="933838">toString</a> =
        <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rule/%s (%s =^= %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#929833" title="()Class[_]">getClass</a>.<span title="()String">getSimpleName</span>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** {case ... if guard =&gt; bx} else {guardedRest} */
    /** VariableRule: The top-most rows has only variable (non-constructor) patterns. */
    case <span class="keyword">class</span> <a title="class VariableRule extends MatchMatrix.this.RuleApplication with Product with Serializable" id="939054">VariableRule</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="ParallelMatching.this.Bindings" id="938822">subst</a>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a>, <a title="ParallelMatching.this.global.Tree" id="938823">guard</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="MatchMatrix.this.Rep" id="938824">guardedRest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a>, <a title="Int" id="938825">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.PatternMatch" id="934173">pmatch</a>: <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a> = <a href="MatchSupport.scala.html#621948" title="=&gt; Nothing">impossible</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.Rep" id="934174">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a> = <a href="#938824" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#3336919" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="934176" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.global.ValDef]" id="934178">valDefs</a>, <a href="../../../Tuple2.scala.html#60637" title="ParallelMatching.this.global.Tree" id="934180">successTree</a><span class="delimiter">)</span> = <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)Product with Serializable with MatchMatrix.this.State">targets</a><span class="delimiter">(</span><a href="#938825" title="=&gt; Int">bx</a><span class="delimiter">)</span> <a href="#930283" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)">applyBindings</a> <a href="#938822" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#934200" title="=&gt; scala.collection.immutable.Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">toMap</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934182">cond</a>    = <a href="#938823" title="=&gt; ParallelMatching.this.global.Tree">guard</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934184">success</a> = <a href="#934179" title="=&gt; ParallelMatching.this.global.Tree">successTree</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934186">failure</a> = <a href="#938824" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="934187">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#938825" title="=&gt; Int">bx</a> <a href="../../../Int.scala.html#57111" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624612" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../collection/mutable/HashMap.scala.html#88245" title="(key: Int)ParallelMatching.this.global.Symbol">shortCuts</a><span class="delimiter">(</span><a href="../../../Int.scala.html#57086" title="=&gt; Int">-</a><a href="#938825" title="=&gt; Int">bx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="MatrixAdditions.scala.html#929651" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span>
          <a href="#934177" title="=&gt; List[ParallelMatching.this.global.ValDef]">valDefs</a>,
          <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#934181" title="=&gt; ParallelMatching.this.global.Tree">cond</a>.<a href="../../../reflect/internal/Trees.scala.html#408582" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#934183" title="=&gt; ParallelMatching.this.global.Tree">success</a> <span class="keyword">else</span> <a href="#933833" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
        <span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="934188">toString</a> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(case %d) {\n  Bindings: %s\n\n  if (%s) { %s }\n  else { %s }\n}&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#938825" title="=&gt; Int">bx</a>, <a href="#938822" title="=&gt; ParallelMatching.this.Bindings">subst</a>, <a href="#938823" title="=&gt; ParallelMatching.this.global.Tree">guard</a>, <a href="#934183" title="=&gt; ParallelMatching.this.global.Tree">success</a>, <a href="#938824" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class MixLiteralInts extends MatchMatrix.this.RuleApplication" id="929837">MixLiteralInts</a><a href="#929837" title="MatchMatrix.this.MixLiteralInts" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternSwitch" id="934008">pmatch</a>: <a href="#929829" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="934009">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="933974">literals</a> = <a href="#934008" title="=&gt; MatchMatrix.this.PatternSwitch">pmatch</a>.<a href="#933542" title="=&gt; List[ParallelMatching.this.LiteralPattern]">ps</a>
      <span class="keyword">val</span> <a title="Option[ParallelMatching.this.Pattern]" id="933976">defaultPattern</a> = <a href="#934008" title="=&gt; MatchMatrix.this.PatternSwitch">pmatch</a>.<a href="#933543" title="=&gt; Option[ParallelMatching.this.Pattern]">defaultPattern</a>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933979">casted</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="MatchSupport.scala.html#928610" title="implicit scala.tools.nsc.matching.MatchSupport.Types.RichType : (undecodedTpe: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#928621" title="=&gt; Boolean">isInt</a><span class="delimiter">)</span> <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#624619" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ParallelMatching.this.CODE.SelectStart)ParallelMatching.this.global.Select">DOT</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ParallelMatching.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414613" title="=&gt; ParallelMatching.this.global.nme.NameType">toInt</a> <span class="keyword">else</span> <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>

      // creates a row transformer for injecting the default case bindings at a given index
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(index: Int)MatchMatrix.this.Row =&gt; MatchMatrix.this.Row" id="933980">addDefaultVars</a><span class="delimiter">(</span><a title="Int" id="934428">index</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: Row =&gt; Row =
        <span title="MatchMatrix.this.Row =&gt; MatchMatrix.this.Row" class="keyword">if</span> <span class="delimiter">(</span><a href="#933985" title="=&gt; List[ParallelMatching.this.global.Symbol]">defaultVars</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#7469" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">identity</a>
        <span class="keyword">else</span> <a href="#933981" title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">rebindAll</a><span class="delimiter">(</span><a href="#934514" title="MatchMatrix.this.Row">_</a>, <a href="#933409" title="(i: Int)ParallelMatching.this.Pattern">pmatch</a><span class="delimiter">(</span><a href="#934428" title="Int">index</a><span class="delimiter">)</span>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      // add bindings for all the given vs to the given tvar
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row" id="933981">rebindAll</a><span class="delimiter">(</span><a title="MatchMatrix.this.Row" id="934448">r</a>: <a href="#939058" title="MatchMatrix.this.Row">Row</a>, <a title="Iterable[ParallelMatching.this.global.Symbol]" id="934449">vs</a>: <a href="../../../collection/Iterable.scala.html#4163" title="Iterable[ParallelMatching.this.global.Symbol]">Iterable</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Symbol" id="934450">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#934448" title="MatchMatrix.this.Row">r</a> <a href="#930253" title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row">rebind</a> <a href="#934448" title="MatchMatrix.this.Row">r</a>.<a href="#930260" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#934201" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#934449" title="Iterable[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#934450" title="ParallelMatching.this.global.Symbol">tvar</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(Tag: Int, orig: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" id="933982">bindVars</a><span class="delimiter">(</span><a title="Int" id="934515">Tag</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="ParallelMatching.this.Bindings" id="934516">orig</a>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" id="934517">myBindVars</a><span class="delimiter">(</span><a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="934518">rest</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>, <a title="ParallelMatching.this.Bindings" id="934519">bnd</a>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a> = <a href="#934518" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">rest</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="ParallelMatching.this.Bindings" id="3336954">Nil</a> =&gt; <a href="#3336958" title="(x: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">bnd</a>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="(Int, List[ParallelMatching.this.global.Symbol])" id="3336946" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="Int" id="3336955">Tag</a>,<a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.global.Symbol]" id="934524">vs</a><span class="delimiter">)</span><a href="#3336944" title="Boolean" id="3336947">::</a><a href="../../../collection/immutable/List.scala.html#206584" title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="934525">xs</a> =&gt; <a href="#934517" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><a href="#3336958" title="(x: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" class="delimiter">(</a><a href="#934525" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">xs</a>, <a href="#934519" title="ParallelMatching.this.Bindings">bnd</a>.<a href="PatternBindings.scala.html#934201" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#934524" title="List[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="(Int, List[ParallelMatching.this.global.Symbol])" id="3336951" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="Int" id="3336953">_</a>,  <a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.global.Symbol]" id="934532">vs</a><span class="delimiter">)</span>::<a href="../../../collection/immutable/List.scala.html#206584" title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="934533">xs</a> =&gt; <a href="#934517" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><a href="#3336958" title="(x: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" class="delimiter">(</a><a href="#934533" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">xs</a>, <a href="#934519" title="ParallelMatching.this.Bindings">bnd</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#934517" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#933993" title="=&gt; List[(Int, List[ParallelMatching.this.global.Symbol])]">varMap</a>, <a href="#934516" title="ParallelMatching.this.Bindings">orig</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // bound vars and rows for default pattern (only one row, but a list is easier to use later)
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#3336985" title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" id="933984" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.global.Symbol]" id="933986">defaultVars</a>, <a href="../../../Tuple2.scala.html#60637" title="List[MatchMatrix.this.Row]" id="933988">defaultRows</a><span class="delimiter">)</span> = <a href="#933976" title="=&gt; Option[ParallelMatching.this.Pattern]">defaultPattern</a> <a href="../../../Tuple2.scala.html#783" title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row]) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../Option.scala.html#1585" title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" id="3336973">None</a>    =&gt; <a href="#3336975" title="(x: (List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row]))(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
        <span class="keyword">case</span> Some<a href="#3336970" title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" id="3336972" class="delimiter">(</a><a href="../../../Option.scala.html#63132" title="ParallelMatching.this.Pattern" id="934436">p</a><span class="delimiter">)</span> =&gt; <a href="#3336975" title="(x: (List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row]))(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="#934436" title="ParallelMatching.this.Pattern">p</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</a><span class="delimiter">(</span><a href="#933981" title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">rebindAll</a><span class="delimiter">(</span><a href="#934009" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#933974" title="=&gt; List[ParallelMatching.this.LiteralPattern]">literals</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>, <a href="#934436" title="ParallelMatching.this.Pattern">p</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // literalMap is a map from each literal to a list of row indices.
      // varMap is a list from each literal to a list of the defined vars.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#3336997" title="(List[(Int, Int)], List[(Int, List[ParallelMatching.this.global.Symbol])])" id="933990" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[(Int, Int)]" id="933992">litPairs</a>, <a href="../../../Tuple2.scala.html#60637" title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="933994">varMap</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <a href="#933974" title="=&gt; List[ParallelMatching.this.LiteralPattern]">literals</a>.<a href="../../../collection/IterableLike.scala.html#58604" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.LiteralPattern],(ParallelMatching.this.LiteralPattern, Int),List[(ParallelMatching.this.LiteralPattern, Int)]])List[(ParallelMatching.this.LiteralPattern, Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((ParallelMatching.this.LiteralPattern, Int)) =&gt; ((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])))(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.LiteralPattern, Int)],((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])),List[((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))]])List[((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))]">map</a> <a href="#934590" title="(ParallelMatching.this.LiteralPattern, Int)" class="delimiter">{</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.LiteralPattern" id="934593">lit</a>, <a href="../../../Tuple2.scala.html#60637" title="Int" id="934594">index</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Int" id="934595">tag</a>  = <a href="#934593" title="ParallelMatching.this.LiteralPattern">lit</a>.<a href="Patterns.scala.html#933308" title="=&gt; Int">intValue</a>
            <a href="../../../Tuple2.scala.html#62849" title="(_1: (Int, Int), _2: (Int, List[ParallelMatching.this.global.Symbol]))((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">(</a><a href="../../../Predef.scala.html#7509" title="(x: Int)ArrowAssoc[Int]">tag</a> <a href="../../../Predef.scala.html#62634" title="(y: Int)(Int, Int)">-&gt;</a> <a href="#934594" title="Int">index</a>, <a href="../../../Predef.scala.html#7509" title="(x: Int)ArrowAssoc[Int]">tag</a> <a href="../../../Predef.scala.html#62634" title="(y: List[ParallelMatching.this.global.Symbol])(Int, List[ParallelMatching.this.global.Symbol])">-&gt;</a> <a href="#934593" title="ParallelMatching.this.LiteralPattern">lit</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58476" title="(implicit asPair: (((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))) =&gt; ((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])))(List[(Int, Int)], List[(Int, List[ParallelMatching.this.global.Symbol])])">unzip</a>
      <span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[Int,List[Int]]" id="933995">literalMap</a> = <a href="#933991" title="=&gt; List[(Int, Int)]">litPairs</a> <a href="../../../collection/TraversableLike.scala.html#58081" title="(f: ((Int, Int)) =&gt; Int)scala.collection.immutable.Map[Int,List[(Int, Int)]]">groupBy</a> <span class="delimiter">(</span><a href="#934689" title="(Int, Int)">_</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; Int">_1</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((Int, List[(Int, Int)])) =&gt; (Int, List[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,List[(Int, Int)]],(Int, List[Int]),scala.collection.immutable.Map[Int,List[Int]]])scala.collection.immutable.Map[Int,List[Int]]">map</a> <a href="#934716" title="(Int, List[(Int, Int)])" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Int" id="934719">k</a>, <a href="../../../Tuple2.scala.html#60637" title="List[(Int, Int)]" id="934720">vs</a><span class="delimiter">)</span> =&gt; <a href="#3337003" title="(x: (Int, List[Int]))(Int, List[Int])" class="delimiter">(</a><a href="#934719" title="Int">k</a>, <a href="#934720" title="List[(Int, Int)]">vs</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((Int, Int)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, Int)],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#934741" title="(Int, Int)">_</a>.<a href="../../../Tuple2.scala.html#60637" title="=&gt; Int">_2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.CaseDef]" id="933997">cases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Int" id="934912">tag</a>, <a href="../../../Tuple2.scala.html#60637" title="List[Int]" id="934913">indices</a><span class="delimiter">)</span> &lt;- <a href="#933995" title="=&gt; scala.collection.immutable.Map[Int,List[Int]]">literalMap</a>.<a href="../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[(Int, List[Int])]">toList</a>.<a href="../../../collection/SeqLike.scala.html#58869" title="(f: ((Int, List[Int])) =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[(Int, List[Int])]">sortBy</a><a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((Int, List[Int])) =&gt; ParallelMatching.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, List[Int])],ParallelMatching.this.global.CaseDef,List[ParallelMatching.this.global.CaseDef]])List[ParallelMatching.this.global.CaseDef]" class="delimiter">(</a><a href="#934832" title="(Int, List[Int])">_</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; Int">_1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#3337009" title="(x: ParallelMatching.this.global.CaseDef)ParallelMatching.this.global.CaseDef" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="934914">newRows</a> = <a href="#934913" title="List[Int]">indices</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: Int =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a title="Int" id="934933">i</a> =&gt; <a href="#933980" title="(index: Int)MatchMatrix.this.Row =&gt; MatchMatrix.this.Row">addDefaultVars</a><a href="../../../Function1.scala.html#58642" title="(v1: MatchMatrix.this.Row)MatchMatrix.this.Row" class="delimiter">(</a><a href="#934933" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#934009" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#934933" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="934915">r</a>       = <a href="#934139" title="MatchMatrix.this.context.PatternVarGroup" id="935024">remake</a><span class="delimiter">(</span><a href="#934914" title="List[MatchMatrix.this.Row]">newRows</a> <a href="../../../collection/immutable/List.scala.html#62697" title="List[MatchMatrix.this.Row]" id="935022">++</a> <a href="#933987" title="=&gt; List[MatchMatrix.this.Row]">defaultRows</a>, includeScrut = <a title="Boolean" id="935023" class="keyword">false</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="934916">r2</a>      = <a href="#929825" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#934915" title="MatchMatrix.this.Rep">r</a>.<a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#934915" title="MatchMatrix.this.Rep">r</a>.<a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MatchMatrix.this.Row =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a title="MatchMatrix.this.Row" id="935041">x</a> =&gt; <a href="#935041" title="MatchMatrix.this.Row">x</a> <a href="#930253" title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row">rebind</a> <a href="#933982" title="(Tag: Int, orig: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">bindVars</a><span class="delimiter">(</span><a href="#934912" title="Int">tag</a>, <a href="#935041" title="MatchMatrix.this.Row">x</a>.<a href="#930260" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../ast/TreeDSL.scala.html#624584" title="(pat: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: ParallelMatching.this.global.Constant)ParallelMatching.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#415091" title="(value: Any)ParallelMatching.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#934912" title="Int">tag</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662968" title="(body: ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef">==&gt;</a> <a href="#934916" title="MatchMatrix.this.Rep">r2</a>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>
        <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933999">defaultTree</a> = <a href="#934139" title="MatchMatrix.this.context.PatternVarGroup" id="935105">remake</a><span class="delimiter">(</span><a href="#933987" title="List[MatchMatrix.this.Row]" id="935103">defaultRows</a>, includeScrut = <a title="Boolean" id="935104" class="keyword">false</a><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.CaseDef" id="934000">defaultCase</a> = <a href="../ast/TreeDSL.scala.html#624584" title="(pat: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#662561" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#409361" title="=&gt; ParallelMatching.this.global.ClassSymbol">IntClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#411559" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662968" title="(body: ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef">==&gt;</a> <a href="#933998" title="=&gt; ParallelMatching.this.global.Tree">defaultTree</a>

      // cond/success/failure only used if there is exactly one case.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Apply" id="934002">cond</a>    = <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#662317" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#933996" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ParallelMatching.this.global.CaseDef">head</a>.<a href="../../../reflect/internal/Trees.scala.html#410180" title="=&gt; ParallelMatching.this.global.Tree">pat</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934004">success</a> = <a href="#933996" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ParallelMatching.this.global.CaseDef">head</a>.<a href="../../../reflect/internal/Trees.scala.html#410184" title="=&gt; ParallelMatching.this.global.Tree">body</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934006">failure</a> = <a href="#933998" title="=&gt; ParallelMatching.this.global.Tree">defaultTree</a>

      // only one case becomes if/else, otherwise match
      <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="934007">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#933996" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#933833" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
        <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">casted</a> <a href="../ast/TreeDSL.scala.html#662338" title="(cases: ParallelMatching.this.global.CaseDef*)ParallelMatching.this.global.Match">MATCH</a> <span class="delimiter">(</span><a href="#933996" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: ParallelMatching.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.CaseDef],ParallelMatching.this.global.CaseDef,List[ParallelMatching.this.global.CaseDef]])List[ParallelMatching.this.global.CaseDef]">:+</a> <a href="#934000" title="=&gt; ParallelMatching.this.global.CaseDef">defaultCase</a>: _*<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** mixture rule for unapply pattern
     */
    <span class="keyword">class</span> <a title="class MixUnapply extends MatchMatrix.this.RuleApplication" id="929838">MixUnapply</a><a href="#929838" title="MatchMatrix.this.MixUnapply" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="933963">pmatch</a>: <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="933964">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="Patterns.scala.html#932616" title="Option[ParallelMatching.this.global.Tree]" id="3337023">Pattern</a><a href="#3337019" title="(x: (ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree]))(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])" class="delimiter">(</a>UnApply<a title="ParallelMatching.this.global.Tree" id="3337017" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410145" title="ParallelMatching.this.global.Tree" id="933938">unMethod</a>, <a href="../../../reflect/internal/Trees.scala.html#410147" title="List[ParallelMatching.this.global.Tree]" id="933940">unArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">val</span> Apply<a href="#3337024" title="(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])" id="3337027" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="ParallelMatching.this.global.Tree" id="933943">unTarget</a>, <a href="../../../collection/immutable/List.scala.html#206583" title="ParallelMatching.this.global.Tree" id="3337028">_</a> <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[ParallelMatching.this.global.Tree]" id="3337029">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[ParallelMatching.this.global.Tree]" id="933945">trailing</a><span class="delimiter">)</span> = <a href="#933938" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>

      <span class="keyword">object</span> <a title="MixUnapply.this.SameUnapplyCall.type" id="933947">SameUnapplyCall</a> <a href="#933948" title="MixUnapply.this.SameUnapplyCall.type" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(t: ParallelMatching.this.global.Tree)Boolean" id="935208">isSame</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="935211">t</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="PatternBindings.scala.html#621996" title="(t1: ParallelMatching.this.global.Tree, t2: ParallelMatching.this.global.Tree)Boolean">isEquivalentTree</a><span class="delimiter">(</span><a href="#933943" title="=&gt; ParallelMatching.this.global.Tree">unTarget</a>, <a href="#935211" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]" id="935209">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="935225">x</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = /*tracing(&quot;SameUnapplyCall (%s vs. %s)&quot;.format(unTarget, x))*/<span class="delimiter">(</span><a href="#935225" title="ParallelMatching.this.Pattern">x</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Patterns.scala.html#932616" title="Option[ParallelMatching.this.global.Tree]" id="3337049">Pattern</a><span class="delimiter">(</span>UnApply<a title="ParallelMatching.this.global.Tree" id="3337040" class="delimiter">(</a>Apply<a href="../../../reflect/internal/Trees.scala.html#410145" title="ParallelMatching.this.global.Tree" id="3337043" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="ParallelMatching.this.global.Tree" id="935233">fn</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[ParallelMatching.this.global.Tree]" id="3337041">_</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#410147" title="List[ParallelMatching.this.global.Tree]" id="935234">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#935208" title="(t: ParallelMatching.this.global.Tree)Boolean">isSame</a><span class="delimiter">(</span><a href="#935233" title="ParallelMatching.this.global.Tree">fn</a><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#63128" title="(x: List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]">Some</a><a href="#3337045" title="(x: Option[List[ParallelMatching.this.global.Tree]])Option[List[ParallelMatching.this.global.Tree]]" class="delimiter">(</a><a href="#935234" title="List[ParallelMatching.this.global.Tree]">args</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _                                                  =&gt; <a href="#3337045" title="(x: Option[List[ParallelMatching.this.global.Tree]])Option[List[ParallelMatching.this.global.Tree]]">None</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">object</span> <a title="MixUnapply.this.SameUnapplyPattern.type" id="933949">SameUnapplyPattern</a> <a href="#933950" title="MixUnapply.this.SameUnapplyPattern.type" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(t: ParallelMatching.this.global.Tree)Boolean" id="935249">isSame</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="935253">t</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span>   = <a href="PatternBindings.scala.html#621996" title="(t1: ParallelMatching.this.global.Tree, t2: ParallelMatching.this.global.Tree)Boolean">isEquivalentTree</a><span class="delimiter">(</span><a href="#933938" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>, <a href="#935253" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="935250">apply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="935254">x</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#935251" title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]">unapply</a><span class="delimiter">(</span><a href="#935254" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#62857" title="=&gt; Boolean">isDefined</a>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]" id="935251">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="935255">x</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = /*tracing(&quot;SameUnapplyPattern (%s vs. %s)&quot;.format(unMethod, x))*/<span class="delimiter">(</span><a href="#935255" title="ParallelMatching.this.Pattern">x</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Patterns.scala.html#932616" title="Option[ParallelMatching.this.global.Tree]" id="3337062">Pattern</a><span class="delimiter">(</span>UnApply<a title="ParallelMatching.this.global.Tree" id="3337056" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410145" title="ParallelMatching.this.global.Tree" id="935259">t</a>, <a href="../../../reflect/internal/Trees.scala.html#410147" title="List[ParallelMatching.this.global.Tree]" id="3337054">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#935249" title="(t: ParallelMatching.this.global.Tree)Boolean">isSame</a><span class="delimiter">(</span><a href="#935259" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#63128" title="(x: List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]">Some</a><a href="#3337058" title="(x: Option[List[ParallelMatching.this.global.Tree]])Option[List[ParallelMatching.this.global.Tree]]" class="delimiter">(</a><a href="#933940" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _                                   =&gt; <a href="#3337058" title="(x: Option[List[ParallelMatching.this.global.Tree]])Option[List[ParallelMatching.this.global.Tree]]">None</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]" id="933952">zipped</a>      = <a href="#933963" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#933411" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#933964" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="933954">unapplyResult</a>: <a href="Matrix.scala.html#929686" title="MatchMatrix.this.context.PatternVar">PatternVar</a> =
        <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#933938" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="../../../reflect/internal/Trees.scala.html#413581" title="(fun: ParallelMatching.this.global.Tree, args: List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#933943" title="=&gt; ParallelMatching.this.global.Tree">unTarget</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]">::</a> <a href="#933945" title="=&gt; List[ParallelMatching.this.global.Tree]">trailing</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: ParallelMatching.this.global.Type)ParallelMatching.this.global.Apply">setType</a> <a href="#935289" title="ParallelMatching.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933956">cond</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="#933953" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#929730" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408438" title="=&gt; ParallelMatching.this.global.Type">normalize</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> TypeRef<a href="#3337064" title="Boolean" id="3337069" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="ParallelMatching.this.global.Type" id="3337065">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="ParallelMatching.this.global.Symbol" id="3337079">BooleanClass</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[ParallelMatching.this.global.Type]" id="3337067">_</a><span class="delimiter">)</span>  =&gt; <a href="#933953" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="#3337085" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">ident</a>
        <span class="keyword">case</span> TypeRef<span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#410887" title="ParallelMatching.this.global.Type" id="3337072">_</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="ParallelMatching.this.global.Symbol" id="3337080">SomeClass</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[ParallelMatching.this.global.Type]" id="3337074">_</a><span class="delimiter">)</span>     =&gt; <a href="#3337085" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">TRUE</a>
        <span class="keyword">case</span> _                            =&gt; <a href="../ast/TreeDSL.scala.html#624608" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Select">NOT</a><a href="#3337085" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</a><a href="#933953" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">ident</a> <a href="../ast/TreeDSL.scala.html#624619" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ParallelMatching.this.CODE.SelectStart)ParallelMatching.this.global.Select">DOT</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ParallelMatching.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414407" title="=&gt; ParallelMatching.this.global.nme.NameType">isEmpty</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933958">failure</a> =
        <a href="#933835" title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree">mkFail</a><span class="delimiter">(</span><a href="#933951" title="=&gt; List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">zipped</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">tail</a> <a href="../../../collection/TraversableLike.scala.html#58074" title="(p: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; Boolean)List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">filterNot</a> <span class="delimiter">(</span><a title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" id="935347">x</a> =&gt; <a href="#935250" title="(x: ParallelMatching.this.Pattern)Boolean">SameUnapplyPattern</a><span class="delimiter">(</span><a href="#935347" title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)">x</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; ParallelMatching.this.Pattern">_1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <a href="#935367" title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.Pattern" id="935370">pat</a>, <a href="../../../Tuple2.scala.html#60637" title="MatchMatrix.this.Row" id="935371">r</a><span class="delimiter">)</span> =&gt; <a href="#935371" title="MatchMatrix.this.Row">r</a> <a href="#3337099" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">insert</a> <a href="#935370" title="ParallelMatching.this.Pattern">pat</a> <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" id="933959">doSuccess</a>: <a href="../../../Tuple3.scala.html#126" title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a>List<span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, List<span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, List<span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        // pattern variable for the unapply result of Some(x).get
        <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="935425">unMethodTypeArg</a> = <a href="#933938" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408459" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#408955" title="=&gt; ParallelMatching.this.global.ClassSymbol">OptionClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[ParallelMatching.this.global.Type]">typeArgs</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#11188" title="ParallelMatching.this.global.Type" id="3337107">Nil</a>      =&gt; <a href="../Global.scala.html#537516" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No type argument for unapply result! &quot;)" class="string">&quot;No type argument for unapply result! &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#933938" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> ; <a href="../../../reflect/internal/Types.scala.html#407284" title="ParallelMatching.this.global.NoType.type">NoType</a>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#206583" title="ParallelMatching.this.global.Type" id="935440">arg</a> <a href="#3337103" title="ParallelMatching.this.global.Type" id="3337106">::</a> <a href="../../../collection/immutable/List.scala.html#206584" title="List[ParallelMatching.this.global.Type]" id="3337105">_</a> =&gt; <a href="#3337109" title="(x: ParallelMatching.this.global.Type)ParallelMatching.this.global.Type">arg</a>
        <span class="delimiter">}</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="935427">pv</a> = <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#935425" title="=&gt; ParallelMatching.this.global.Type">unMethodTypeArg</a>, <a title="ParallelMatching.this.global.Symbol" id="935442">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#624566" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Name, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624611" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#933953" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#929722" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ParallelMatching.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414381" title="=&gt; ParallelMatching.this.global.nme.NameType">get</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Symbol" id="935428">tuple</a> = <a href="#935426" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#929722" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a>

        // at this point it's Some[T1,T2...]
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Type]" id="935430">tpes</a>  = <a href="../../../reflect/internal/Definitions.scala.html#409017" title="(tpe: ParallelMatching.this.global.Type)List[ParallelMatching.this.global.Type]">getProductArgs</a><span class="delimiter">(</span><a href="#935428" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

        // one pattern variable per tuple element
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="935432">tuplePVs</a> =
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.global.Type" id="935508">tpe</a>, <a href="../../../Tuple2.scala.html#60637" title="Int" id="935509">i</a><span class="delimiter">)</span> &lt;- <a href="#935429" title="=&gt; List[ParallelMatching.this.global.Type]">tpes</a>.<a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((ParallelMatching.this.global.Type, Int)) =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.Type, Int)],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span>
            <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932793" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><a href="#3337119" title="(x: MatchMatrix.this.context.PatternVar)MatchMatrix.this.context.PatternVar" class="delimiter">(</a><a href="#935508" title="ParallelMatching.this.global.Type">tpe</a>, <a title="ParallelMatching.this.global.Symbol" id="935511">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#624567" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Symbol, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624611" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#935428" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#409014" title="(z: ParallelMatching.this.global.Symbol, j: Int)ParallelMatching.this.global.TermSymbol">productProj</a><span class="delimiter">(</span><a href="#935428" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a>, <a href="#935509" title="Int">i</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // the filter prevents infinite unapply recursion
        <span class="keyword">def</span> <a title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]" id="935433">mkNewRows</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree]" id="935554">sameFilter</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="935555">dum</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#933940" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#933940" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <span class="keyword">else</span> <a href="#935429" title="=&gt; List[ParallelMatching.this.global.Type]">tpes</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.Pattern" id="935580">pat</a>, <a href="../../../Tuple2.scala.html#60637" title="MatchMatrix.this.Row" id="935581">r</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">zipped</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#3337134" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">pat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#935209" title="Option[List[ParallelMatching.this.global.Tree]]" id="3337130">SameUnapplyCall</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="935583">xs</a><span class="delimiter">)</span>  =&gt; <a href="#935581" title="MatchMatrix.this.Row">r</a>.<a href="#930254" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><a href="#3337126" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row" class="delimiter">(</a><a href="#621941" title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#58642" title="(v1: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">sameFilter</a><span class="delimiter">(</span><a href="#935583" title="List[ParallelMatching.this.global.Tree]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>, <a href="#935580" title="ParallelMatching.this.Pattern">pat</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _                    =&gt; <a href="#935581" title="MatchMatrix.this.Row">r</a> <a href="#3337126" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">insert</a> <span class="delimiter">(</span><a href="Patterns.scala.html#621863" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#935555" title="Int">dum</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="#935580" title="ParallelMatching.this.Pattern">pat</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // 0 is Boolean, 1 is Option[T], 2+ is Option[(T1,T2,...)]
        <a href="#933940" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span class="int">0</span>  =&gt; <a href="../../../Tuple3.scala.html#63169" title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type, _3: List[MatchMatrix.this.Row])(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="#935433" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="935756">xs</a><span class="delimiter">)</span> =&gt; <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span class="int">1</span>  =&gt; <a href="../../../Tuple3.scala.html#63169" title="(_1: List[MatchMatrix.this.context.PatternVar], _2: List[MatchMatrix.this.context.PatternVar], _3: List[MatchMatrix.this.Row])(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#935426" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#935426" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span>, <a href="#935433" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="935781">xs</a> =&gt; <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#935781" title="List[ParallelMatching.this.global.Tree]">xs</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ParallelMatching.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> _  =&gt; <a href="../../../Tuple3.scala.html#63169" title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="#935426" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: MatchMatrix.this.context.PatternVar)List[MatchMatrix.this.context.PatternVar]">::</a> <a href="#935431" title="=&gt; List[MatchMatrix.this.context.PatternVar]">tuplePVs</a>, <a href="#935431" title="=&gt; List[MatchMatrix.this.context.PatternVar]">tuplePVs</a>, <a href="#935433" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7469" title="(x: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">identity</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933961">success</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#3337148" title="(x: (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row]))(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#60576" title="List[MatchMatrix.this.context.PatternVar]" id="935815">squeezePVs</a>, <a href="../../../Tuple3.scala.html#60578" title="List[MatchMatrix.this.context.PatternVar]" id="935816">pvs</a>, <a href="../../../Tuple3.scala.html#60580" title="List[MatchMatrix.this.Row]" id="935817">rows</a><span class="delimiter">)</span> = <a href="#933959" title="=&gt; (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])">doSuccess</a>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="935818">srep</a> = <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#935817" title="List[MatchMatrix.this.Row]">rows</a>, <a href="Matrix.scala.html#929680" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">pvs</a><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>

        <a href="MatrixAdditions.scala.html#929651" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#935815" title="List[MatchMatrix.this.context.PatternVar]">squeezePVs</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MatchMatrix.this.context.PatternVar =&gt; ParallelMatching.this.global.analyzer.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.context.PatternVar],ParallelMatching.this.global.analyzer.global.ValDef,List[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#935851" title="MatchMatrix.this.context.PatternVar">_</a>.<a href="Matrix.scala.html#929733" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#935818" title="ParallelMatching.this.global.Tree">srep</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="933962">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <a href="MatrixAdditions.scala.html#929651" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#58642" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#933953" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#929733" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#933833" title="=&gt; ParallelMatching.this.global.Tree">codegen</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Handle Sequence patterns (including Star patterns.)
     *  Note: pivot == head, just better typed.
     */
    <span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class MixSequence extends MatchMatrix.this.RuleApplication" id="929839">MixSequence</a><a href="#929839" title="MatchMatrix.this.MixSequence" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="933926">pmatch</a>: <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="933927">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a>, <a title="ParallelMatching.this.SequencePattern" id="933928">pivot</a>: <a href="Patterns.scala.html#621908" title="ParallelMatching.this.SequencePattern">SequencePattern</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <a href="../Global.scala.html#537500" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932035" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="933909">hasStar</a> = <a href="#933928" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#933894" title="=&gt; Boolean">hasStar</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Int" id="933910">pivotLen</a>    = <a href="#933928" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="933911">seqDummies</a>  = <a href="Patterns.scala.html#621863" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#933928" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#933888" title="=&gt; List[ParallelMatching.this.global.Tree]">elems</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

      // Should the given pattern join the expanded pivot in the success matrix? If so,
      // this partial function will be defined for the pattern, and the result of the apply
      // is the expanded sequence of new patterns.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="successMatrixFn extends Object with PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]" id="933913">successMatrixFn</a> = <a href="#935934" title="PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]{}" class="keyword">new</a> <a title="anonymous class $anon extends Object with PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]" id="935934">PartialFunction</a><span class="delimiter">[</span>Pattern, List<span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: ParallelMatching.this.SequenceLikePattern)Boolean" id="935936">seqIsDefinedAt</a><span class="delimiter">(</span><a title="ParallelMatching.this.SequenceLikePattern" id="935944">x</a>: <a href="Patterns.scala.html#621907" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#62849" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><a href="#933909" title="=&gt; Boolean">hasStar</a>, <a href="#935944" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#933894" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337177" class="keyword">true</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337178" class="keyword">true</a><span class="delimiter">)</span>   =&gt; <a href="#3337186" title="(x: Boolean)Boolean" class="keyword">true</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337179" class="keyword">true</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337180" class="keyword">false</a><span class="delimiter">)</span>  =&gt; <a href="#933910" title="=&gt; Int">pivotLen</a> <a href="#3337186" title="(x: Boolean)Boolean">&lt;=</a> <a href="#935944" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337181" class="keyword">false</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337182" class="keyword">true</a><span class="delimiter">)</span>  =&gt; <a href="#933910" title="=&gt; Int">pivotLen</a> <a href="#3337186" title="(x: Boolean)Boolean">&gt;=</a> <a href="#935944" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337183" class="keyword">false</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337184" class="keyword">false</a><span class="delimiter">)</span> =&gt; <a href="#933910" title="=&gt; Int">pivotLen</a> <a href="#3337186" title="(x: Boolean)Boolean">==</a> <a href="#935944" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pat: ParallelMatching.this.Pattern)Boolean" id="935937">isDefinedAt</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="935939">pat</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#935939" title="ParallelMatching.this.Pattern">pat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#3337217" title="Boolean" id="3337221">x</a>: SequenceLikePattern =&gt; <a href="#935936" title="(x: ParallelMatching.this.SequenceLikePattern)Boolean">seqIsDefinedAt</a><a href="#3337223" title="(x: Boolean)Boolean" class="delimiter">(</a>x<span class="delimiter">)</span>
          <span class="keyword">case</span> WildcardPattern<a href="#3337217" title="Boolean" id="3337220" class="delimiter">(</a><span class="delimiter">)</span>      =&gt; <a href="#3337223" title="(x: Boolean)Boolean" class="keyword">true</a>
          <span class="keyword">case</span> _                      =&gt; <a href="#3337223" title="(x: Boolean)Boolean" class="keyword">false</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pat: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]" id="935938">apply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="935983">pat</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#935983" title="ParallelMatching.this.Pattern">pat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#3337345" title="List[ParallelMatching.this.Pattern]" id="3337347">x</a>: SequenceLikePattern =&gt;
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="935989">isSameLength</a>  = <a href="#933910" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> x.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
            <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="935990">rebound</a>       = x.<a href="Patterns.scala.html#933897" title="=&gt; List[ParallelMatching.this.Pattern]">nonStarPatterns</a> <a href="../../../collection/SeqLike.scala.html#58855" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <span class="delimiter">(</span>x.<a href="Patterns.scala.html#933895" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86394" title="=&gt; ParallelMatching.this.Pattern">last</a> <a href="PatternBindings.scala.html#932016" title="(t: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">rebindTo</a> <a href="../ast/TreeDSL.scala.html#662561" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932785" title="=&gt; ParallelMatching.this.global.Type">seqType</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../../../Tuple3.scala.html#63169" title="(_1: Boolean, _2: Boolean, _3: Boolean)(Boolean, Boolean, Boolean)" class="delimiter">(</a><a href="#933928" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#933894" title="=&gt; Boolean">hasStar</a>, x.<a href="Patterns.scala.html#933894" title="=&gt; Boolean">hasStar</a>, <a href="#935989" title="=&gt; Boolean">isSameLength</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#60576" title="Boolean" id="3337275" class="keyword">true</a>, <a href="../../../Tuple3.scala.html#60578" title="Boolean" id="3337276" class="keyword">true</a>, <a href="../../../Tuple3.scala.html#60580" title="Boolean" id="3337277" class="keyword">true</a><span class="delimiter">)</span>   =&gt; <a href="#935990" title="=&gt; List[ParallelMatching.this.Pattern]">rebound</a> <a href="#3337291" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:+</a> <a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#60576" title="Boolean" id="3337278" class="keyword">true</a>, <a href="../../../Tuple3.scala.html#60578" title="Boolean" id="3337279" class="keyword">true</a>, <a href="../../../Tuple3.scala.html#60580" title="Boolean" id="3337280" class="keyword">false</a><span class="delimiter">)</span>  =&gt; <span class="delimiter">(</span><a href="#933911" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a> <a href="../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[ParallelMatching.this.Pattern]">drop</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#3337291" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:+</a> x
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#60576" title="Boolean" id="3337281" class="keyword">true</a>, <a href="../../../Tuple3.scala.html#60578" title="Boolean" id="3337282" class="keyword">false</a>, <a href="../../../Tuple3.scala.html#60580" title="Boolean" id="3337283" class="keyword">true</a><span class="delimiter">)</span>  =&gt; x.<a href="Patterns.scala.html#933895" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a> <a href="#3337291" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">++</a> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.Pattern*)List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">(</span><a href="Patterns.scala.html#621867" title="=&gt; ParallelMatching.this.Pattern">NilPattern</a>, <a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#60576" title="Boolean" id="3337284" class="keyword">false</a>, <a href="../../../Tuple3.scala.html#60578" title="Boolean" id="3337285" class="keyword">true</a>, <a href="../../../Tuple3.scala.html#60580" title="Boolean" id="3337286" class="keyword">true</a><span class="delimiter">)</span>  =&gt; <a href="#3337291" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">rebound</a>
              <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#60576" title="Boolean" id="3337287" class="keyword">false</a>, <a href="../../../Tuple3.scala.html#60578" title="Boolean" id="3337288" class="keyword">false</a>, <a href="../../../Tuple3.scala.html#60580" title="Boolean" id="3337289" class="keyword">true</a><span class="delimiter">)</span> =&gt; x.<a href="Patterns.scala.html#933895" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a> <a href="#3337291" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:+</a> <a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>
              <span class="keyword">case</span> _                    =&gt; <a href="#3337291" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">seqDummies</a>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> _  =&gt; <a href="#3337349" title="(x: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">seqDummies</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // Should the given pattern be in the fail matrix? This is true of any sequences
      // as long as the result of the length test on the pivot doesn't make it impossible:
      // for instance if neither sequence is right ignoring and they are of different
      // lengths, the later one cannot match since its length must be wrong.
      <span class="keyword">def</span> <a title="(c: ParallelMatching.this.Pattern)Boolean" id="933914">failureMatrixFn</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="936446">c</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#933928" title="ParallelMatching.this.SequencePattern">pivot</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#936446" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#936446" title="ParallelMatching.this.Pattern">c</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#3337398" title="Boolean" id="3337402">x</a>: SequenceLikePattern =&gt;
          <a href="#3337404" title="(x: Boolean)Boolean" class="delimiter">(</a><a href="#933909" title="=&gt; Boolean">hasStar</a>, x.<a href="Patterns.scala.html#933894" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337355">_</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337371" class="keyword">true</a><span class="delimiter">)</span>      =&gt; <a href="#3337377" title="(x: Boolean)Boolean" class="keyword">true</a>
            <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337372" class="keyword">true</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337373" class="keyword">false</a><span class="delimiter">)</span>  =&gt; <a href="#933910" title="=&gt; Int">pivotLen</a> <a href="#3337377" title="(x: Boolean)Boolean">&gt;</a> x.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
            <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Boolean" id="3337374" class="keyword">false</a>, <a href="../../../Tuple2.scala.html#60637" title="Boolean" id="3337375" class="keyword">false</a><span class="delimiter">)</span> =&gt; <a href="#933910" title="=&gt; Int">pivotLen</a> <a href="#3337377" title="(x: Boolean)Boolean">!=</a> x.<a href="Patterns.scala.html#933898" title="=&gt; Int">nonStarLength</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> WildcardPattern<a href="#3337398" title="Boolean" id="3337401" class="delimiter">(</a><span class="delimiter">)</span>      =&gt; <a href="#3337404" title="(x: Boolean)Boolean" class="keyword">true</a>
        <span class="keyword">case</span> _                      =&gt; <a href="#3337404" title="(x: Boolean)Boolean" class="keyword">false</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      // divide the remaining rows into success/failure branches, expanding subsequences of patterns
      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="933915">successRows</a> = <a href="#933926" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#933411" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#933927" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row] with Serializable" id="936348" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.Pattern" id="936353">c</a>, <a href="../../../Tuple2.scala.html#60637" title="MatchMatrix.this.Row" id="936354">row</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#933912" title="=&gt; PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]">successMatrixFn</a> <a href="../../../PartialFunction.scala.html#58653" title="(x: ParallelMatching.this.Pattern)Boolean">isDefinedAt</a> <a href="#936353" title="ParallelMatching.this.Pattern">c</a> =&gt; <a href="#936354" title="MatchMatrix.this.Row">row</a> <a href="#3337412" title="(x: B1)B1">insert</a> <a href="../../../Function1.scala.html#58642" title="(v1: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">successMatrixFn</a><span class="delimiter">(</span><a href="#936353" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="933917">failRows</a> = <a href="#933926" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#933411" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#933927" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row] with Serializable" id="936473" class="delimiter">{</a>
        <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.Pattern" id="936478">c</a>, <a href="../../../Tuple2.scala.html#60637" title="MatchMatrix.this.Row" id="936479">row</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#933914" title="(c: ParallelMatching.this.Pattern)Boolean">failureMatrixFn</a><span class="delimiter">(</span><a href="#936478" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span> =&gt; <a href="#936479" title="MatchMatrix.this.Row">row</a> <a href="#3337425" title="(x: B1)B1">insert</a> <a href="#936478" title="ParallelMatching.this.Pattern">c</a>
      <span class="delimiter">}</span>

      // the discrimination test for sequences is a call to lengthCompare.  Note that
      // this logic must be fully consistent wiith successMatrixFn and failureMatrixFn above:
      // any inconsistency will (and frequently has) manifested as pattern matcher crashes.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933920">cond</a> = <span class="delimiter">{</span>
        // the method call symbol
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Symbol" id="936537">methodOp</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a>                = <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932035" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408451" title="(name: ParallelMatching.this.global.Name)ParallelMatching.this.global.Symbol">member</a> <a href="../../../reflect/internal/StdNames.scala.html#407871" title="ParallelMatching.this.global.nme.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#414421" title="=&gt; ParallelMatching.this.global.nme.NameType">lengthCompare</a>

        // the comparison to perform.  If the pivot is right ignoring, then a scrutinee sequence
        // of &gt;= pivot length could match it; otherwise it must be exactly equal.
        <span class="keyword">val</span> <a title="(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree" id="936538">compareOp</a>: <span class="delimiter">(</span>Tree, Tree<span class="delimiter">)</span> =&gt; Tree = <span title="(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Apply" class="keyword">if</span> <span class="delimiter">(</span><a href="#933909" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">_</a> <a href="../ast/TreeDSL.scala.html#662327" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">INT_&gt;=</a> <a href="#936546" title="ParallelMatching.this.global.Tree">_</a> <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">_</a> <a href="../ast/TreeDSL.scala.html#662328" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">INT_==</a> <a href="#936556" title="ParallelMatching.this.global.Tree">_</a>

        // scrutinee.lengthCompare(pivotLength) [== | &gt;=] 0
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree" id="936539">compareFn</a>: Tree =&gt; Tree         = <span class="delimiter">(</span>t: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> =&gt; <a href="../../../Function2.scala.html#65848" title="(v1: ParallelMatching.this.global.Tree, v2: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">compareOp</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">t</a> <a href="../ast/TreeDSL.scala.html#662306" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <a href="#936537" title="ParallelMatching.this.global.Symbol">methodOp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#662273" title="(x: Any)ParallelMatching.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#933910" title="=&gt; Int">pivotLen</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#624558" title="=&gt; ParallelMatching.this.global.Literal">ZERO</a><span class="delimiter">)</span>

        // wrapping in a null check on the scrutinee
        // XXX this needs to use the logic in &quot;def condition&quot;
        <a href="../ast/TreeDSL.scala.html#624546" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree, ifNull: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree">nullSafe</a><a href="../../../Function1.scala.html#58642" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</a><a href="#936539" title="ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree">compareFn</a>, <a href="../ast/TreeDSL.scala.html#624556" title="=&gt; ParallelMatching.this.global.Literal">FALSE</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
        // condition(head.tpe, scrut.id, head.boundVariables.nonEmpty)
      <span class="delimiter">}</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933922">success</a> = <span class="delimiter">{</span>
        // one pattern var per sequence element up to elemCount, and one more for the rest of the sequence
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="936585">pvs</a> = <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a> <a href="#932790" title="(count: Int)List[MatchMatrix.this.context.PatternVar]">createSequenceVars</a> <a href="#933910" title="=&gt; Int">pivotLen</a>

        <a href="MatrixAdditions.scala.html#929651" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#936584" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MatchMatrix.this.context.PatternVar =&gt; ParallelMatching.this.global.analyzer.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.context.PatternVar],ParallelMatching.this.global.analyzer.global.ValDef,List[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#936602" title="MatchMatrix.this.context.PatternVar">_</a>.<a href="Matrix.scala.html#929733" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#933915" title="=&gt; List[MatchMatrix.this.Row]">successRows</a>, <a href="Matrix.scala.html#929680" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">pvs</a>, <a href="#933909" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933924">failure</a>  = <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#933917" title="=&gt; List[MatchMatrix.this.Row]">failRows</a><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="933925">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="#933833" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class MixEquals extends MatchMatrix.this.RuleApplication" id="929840">MixEquals</a><a href="#929840" title="MatchMatrix.this.MixEquals" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="933877">pmatch</a>: <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="933878">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="933862">rhs</a> =
        <a href="PatternBindings.scala.html#621994" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Type">decodedEqualsType</a><a href="#3337442" title="(x: ParallelMatching.this.global.gen.global.Tree)ParallelMatching.this.global.gen.global.Tree" class="delimiter">(</a><a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932035" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> SingleType<a href="#3337436" title="ParallelMatching.this.global.gen.global.Tree" id="3337438" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410991" title="ParallelMatching.this.global.Type" id="936637">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="ParallelMatching.this.global.Symbol" id="936638">sym</a><span class="delimiter">)</span> =&gt; <a href="../ast/TreeDSL.scala.html#624613" title="(pre: ParallelMatching.this.global.Type, sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><a href="#3337442" title="(x: ParallelMatching.this.global.gen.global.Tree)ParallelMatching.this.global.gen.global.Tree" class="delimiter">(</a><a href="#936637" title="ParallelMatching.this.global.Type">pre</a>, <a href="#936638" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> PseudoType<a href="#3337436" title="ParallelMatching.this.global.gen.global.Tree" id="3337440" class="delimiter">(</a><a href="PatternBindings.scala.html#936645" title="ParallelMatching.this.global.Tree" id="936668">o</a><span class="delimiter">)</span>        =&gt; <a href="#3337442" title="(x: ParallelMatching.this.global.gen.global.Tree)ParallelMatching.this.global.gen.global.Tree">o</a>
        <span class="delimiter">}</span>
      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="933864">labelDef</a> =
        <a href="#929824" title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef">createLabelDef</a><span class="delimiter">(</span><span title="String(&quot;fail%&quot;)" class="string">&quot;fail%&quot;</span>, <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7531" title="(x: (List[MatchMatrix.this.Row], List[ParallelMatching.this.Pattern]))runtime.Tuple2Zipped.Ops[List[MatchMatrix.this.Row],List[ParallelMatching.this.Pattern]]" class="delimiter">(</a><a href="#933878" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[MatchMatrix.this.Row]">tail</a>, <a href="#933877" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#933403" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a><span class="delimiter">)</span>.<a href="../../../runtime/Tuple2Zipped.scala.html#60613" title="(implicit w1: List[MatchMatrix.this.Row] =&gt; scala.collection.TraversableLike[MatchMatrix.this.Row,List[MatchMatrix.this.Row]], implicit w2: List[ParallelMatching.this.Pattern] =&gt; scala.collection.IterableLike[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])scala.runtime.Tuple2Zipped[MatchMatrix.this.Row,List[MatchMatrix.this.Row],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]">zipped</a> <a href="../../../runtime/Tuple2Zipped.scala.html#486040" title="(f: (MatchMatrix.this.Row, ParallelMatching.this.Pattern) =&gt; MatchMatrix.this.Row)(implicit cbf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a href="#936727" title="MatchMatrix.this.Row">_</a> <a href="#930251" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#936728" title="ParallelMatching.this.Pattern">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933866">cond</a>       = <a href="../../../Function1.scala.html#58642" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">rhs</a> <a href="../ast/TreeDSL.scala.html#662317" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="933868">successOne</a> = <a href="#933878" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; MatchMatrix.this.Row">head</a>.<a href="#930254" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.WildcardPattern*)List[ParallelMatching.this.WildcardPattern]">List</a><span class="delimiter">(</span><a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>, <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="933870">successTwo</a> = <a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">Row</a><span class="delimiter">(</span><a href="Patterns.scala.html#621863" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <a href="#933878" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#930632" title="=&gt; Int">size</a><span class="delimiter">)</span>, <a href="PatternBindings.scala.html#622008" title="=&gt; ParallelMatching.this.Bindings">NoBinding</a>, <a href="../../../reflect/internal/Trees.scala.html#407946" title="ParallelMatching.this.global.EmptyTree.type">EmptyTree</a>, <a href="#929823" title="(theLabel: ParallelMatching.this.global.Symbol)Int">createShortCut</a><span class="delimiter">(</span><a href="#933863" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="933872">success</a>    = <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</a><span class="delimiter">(</span><a href="#933867" title="=&gt; MatchMatrix.this.Row">successOne</a>, <a href="#933869" title="=&gt; MatchMatrix.this.Row">successTwo</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="933874">failure</a>    = <a href="#933863" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="933875">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#933833" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="933876">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;MixEquals(%s == %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Mixture rule for type tests.
     *  moreSpecific: more specific patterns
     *      subsumed: more general patterns (subsuming current), rows index and subpatterns
     *     remaining: remaining, rows index and pattern
     */
    <span class="keyword">class</span> <a title="class MixTypes extends MatchMatrix.this.RuleApplication" id="929841">MixTypes</a><a href="#929841" title="MatchMatrix.this.MixTypes" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="934053">pmatch</a>: <a href="#939022" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="934054">rest</a>: <a href="#939120" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929833" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      case <span class="keyword">class</span> <a title="class Yes extends AnyRef with Product with Serializable" id="937609">Yes</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="Int" id="936910">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="ParallelMatching.this.Pattern" id="936911">moreSpecific</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a>, <a title="List[ParallelMatching.this.Pattern]" id="936912">subsumed</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>
      case <span class="keyword">class</span> <a title="class No extends AnyRef with Product with Serializable" id="937635">No</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="Int" id="936934">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="ParallelMatching.this.Pattern" id="936935">remaining</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#3337532" title="(x: (List[MixTypes.this.Yes], List[MixTypes.this.No]))(List[MixTypes.this.Yes], List[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[MixTypes.this.Yes]" id="934024">yeses</a>, <a href="../../../Tuple2.scala.html#60637" title="List[MixTypes.this.No]" id="934026">noes</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#783" title="(List[MixTypes.this.Yes], List[MixTypes.this.No]) @unchecked" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]" id="936792">_ys</a> = <span title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">ListBuffer</a><span class="delimiter">[</span>Yes<span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[MixTypes.this.No]" id="936793">_ns</a> = <span title="scala.collection.mutable.ListBuffer[MixTypes.this.No]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#13347" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">ListBuffer</a><span class="delimiter">[</span>No<span class="delimiter">]</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.Pattern" id="936824">pattern</a>, <a href="../../../Tuple2.scala.html#60637" title="Int" id="936825">j</a><span class="delimiter">)</span> &lt;- <a href="#934053" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#933410" title="()List[(ParallelMatching.this.Pattern, Int)]">pzip</a><a href="../../../collection/immutable/List.scala.html#62719" title="(f: ((ParallelMatching.this.Pattern, Int)) =&gt; Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]])Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#3337526" title="(x: Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]])Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]]" class="delimiter">{</a>
          // scrutinee, head of pattern group
          <span class="keyword">val</span> <a href="#3337479" title="(x: (ParallelMatching.this.global.Type, ParallelMatching.this.global.Type))(ParallelMatching.this.global.Type, ParallelMatching.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.global.Type" id="936827">s</a>, <a href="../../../Tuple2.scala.html#60637" title="ParallelMatching.this.global.Type" id="936828">p</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#62849" title="(_1: ParallelMatching.this.global.Type, _2: ParallelMatching.this.global.Type)(ParallelMatching.this.global.Type, ParallelMatching.this.global.Type)" class="delimiter">(</a><a href="#936824" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#932035" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932029" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="936829">isEquivalent</a>  = <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#932029" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#932035" title="=&gt; ParallelMatching.this.global.Type">tpe</a>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="936830">isObjectTest</a>  = <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#932039" title="=&gt; Boolean">isObject</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#936828" title="ParallelMatching.this.global.Type">p</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#932029" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="936831">sMatchesP</a> = <a href="PatternBindings.scala.html#621995" title="(arg1: ParallelMatching.this.global.Type, arg2: ParallelMatching.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#936827" title="ParallelMatching.this.global.Type">s</a>, <a href="#936828" title="ParallelMatching.this.global.Type">p</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="936832">pMatchesS</a> = <a href="PatternBindings.scala.html#621995" title="(arg1: ParallelMatching.this.global.Type, arg2: ParallelMatching.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#936828" title="ParallelMatching.this.global.Type">p</a>, <a href="#936827" title="ParallelMatching.this.global.Type">s</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern" id="936833">ifEquiv</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="936888">yes</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a> = <span title="ParallelMatching.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#936829" title="=&gt; Boolean">isEquivalent</a><span class="delimiter">)</span> <a href="#936888" title="ParallelMatching.this.Pattern">yes</a> <span class="keyword">else</span> <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a>

          <span class="keyword">def</span> <a title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]" id="936834">passl</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="936891">p</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>, <a title="List[ParallelMatching.this.Pattern]" id="936892">ps</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#934053" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#933408" title="=&gt; List[ParallelMatching.this.Pattern]">dummies</a><span class="delimiter">)</span> = <a href="../../../Option.scala.html#63128" title="(x: MixTypes.this.Yes)Some[MixTypes.this.Yes]">Some</a><span class="delimiter">(</span><a href="#937609" title="(bx: Int, moreSpecific: ParallelMatching.this.Pattern, subsumed: List[ParallelMatching.this.Pattern])MixTypes.this.Yes">Yes</a><span class="delimiter">(</span><a href="#936825" title="Int">j</a>, <a href="#936891" title="ParallelMatching.this.Pattern">p</a>, <a href="#936892" title="List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Some[MixTypes.this.No]" id="936835">passr</a><span class="delimiter">(</span><span class="delimiter">)</span>                                                           = <a href="../../../Option.scala.html#63128" title="(x: MixTypes.this.No)Some[MixTypes.this.No]">Some</a><span class="delimiter">(</span> <a href="#937635" title="(bx: Int, remaining: ParallelMatching.this.Pattern)MixTypes.this.No">No</a><span class="delimiter">(</span><a href="#936825" title="Int">j</a>, <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(pp: ParallelMatching.this.global.Tree)Some[MixTypes.this.Yes]" id="936836">typed</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="936941">pp</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#936834" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><a href="#936833" title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern">ifEquiv</a><span class="delimiter">(</span><a href="Patterns.scala.html#932615" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#936941" title="ParallelMatching.this.global.Tree">pp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Some[MixTypes.this.Yes]" id="936837">subs</a><span class="delimiter">(</span><span class="delimiter">)</span>          = <a href="#936834" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><a href="#936833" title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern">ifEquiv</a><span class="delimiter">(</span><a href="Patterns.scala.html#621865" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>, <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a> <a href="Patterns.scala.html#932031" title="(pm: ParallelMatching.this.MatchMatrix#PatternMatch)List[ParallelMatching.this.Pattern]">subpatterns</a> <a href="#934053" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="#3337520" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="Option[MixTypes.this.Yes]" id="936839">oneY</a>, <a href="../../../Tuple2.scala.html#60637" title="Option[MixTypes.this.No]" id="936840">oneN</a><span class="delimiter">)</span> = <a href="#936824" title="ParallelMatching.this.Pattern">pattern</a> <a href="../../../Tuple2.scala.html#783" title="(Option[MixTypes.this.Yes], Option[MixTypes.this.No]) @unchecked" class="keyword">match</a> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Patterns.scala.html#932616" title="Option[ParallelMatching.this.global.Tree]" id="3337506">Pattern</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#662274" title="Option[Any]" id="3337505">LIT</a><a title="Any" id="3337484" class="delimiter">(</a><a title="Any" id="3337498" class="keyword">null</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#936828" title="ParallelMatching.this.global.Type">p</a> <a href="../../../reflect/internal/Types.scala.html#408485" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#936827" title="ParallelMatching.this.global.Type">s</a><span class="delimiter">)</span>       =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Option.scala.html#1585" title="None.type">None</a>, <a href="#936835" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>      // (1)
            <span class="keyword">case</span> x <span class="keyword">if</span> <a href="#936830" title="=&gt; Boolean">isObjectTest</a>                      =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="#936834" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1585" title="None.type">None</a><span class="delimiter">)</span>    // (2)
            <span class="keyword">case</span> <a href="Patterns.scala.html#932616" title="Option[ParallelMatching.this.global.Tree]" id="3337509">Pattern</a><span class="delimiter">(</span>Typed<a title="ParallelMatching.this.global.Tree" id="3337494" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410055" title="ParallelMatching.this.global.Tree" id="936966">pp</a>, <a href="../../../reflect/internal/Trees.scala.html#410057" title="ParallelMatching.this.global.Tree" id="3337492">_</a><span class="delimiter">)</span><span class="delimiter">)</span>     <span class="keyword">if</span> <a href="#936831" title="=&gt; Boolean">sMatchesP</a> =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="#936836" title="(pp: ParallelMatching.this.global.Tree)Some[MixTypes.this.Yes]">typed</a><span class="delimiter">(</span><a href="#936966" title="ParallelMatching.this.global.Tree">pp</a><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1585" title="None.type">None</a><span class="delimiter">)</span>  // (4)
            // The next line used to be this which &quot;fixed&quot; 1697 but introduced
            // numerous regressions including #3136.
            // case Pattern(_: UnApply, _)              =&gt; (passl(), passr)
            <span class="keyword">case</span> <a href="Patterns.scala.html#932616" title="Option[ParallelMatching.this.global.Tree]" id="3337511">Pattern</a><span class="delimiter">(</span>_: UnApply<span class="delimiter">)</span>                    =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Option.scala.html#1585" title="None.type">None</a>, <a href="#936835" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
            <span class="keyword">case</span> x <span class="keyword">if</span> <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a>x.<a href="Patterns.scala.html#932028" title="=&gt; Boolean">isDefault</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#936831" title="=&gt; Boolean">sMatchesP</a>         =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="#936837" title="()Some[MixTypes.this.Yes]">subs</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1585" title="None.type">None</a><span class="delimiter">)</span>
            <span class="keyword">case</span> x <span class="keyword">if</span>  x.<a href="Patterns.scala.html#932028" title="=&gt; Boolean">isDefault</a> <a href="../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#936832" title="=&gt; Boolean">pMatchesS</a>         =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="#936834" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#936835" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
            <span class="keyword">case</span> _                                      =&gt; <a href="#3337501" title="(x: (Option[MixTypes.this.Yes], Option[MixTypes.this.No]))(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Option.scala.html#1585" title="None.type">None</a>, <a href="#936835" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#936839" title="Option[MixTypes.this.Yes]">oneY</a> <a href="../../../Option.scala.html#62865" title="(f: MixTypes.this.Yes =&gt; scala.collection.mutable.ListBuffer[MixTypes.this.Yes])Option[scala.collection.mutable.ListBuffer[MixTypes.this.Yes]]">map</a> <span class="delimiter">(</span><a href="#936792" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">_ys</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: MixTypes.this.Yes)_ys.type">+=</a><span class="delimiter">)</span>
          <a href="#936840" title="Option[MixTypes.this.No]">oneN</a> <a href="../../../Option.scala.html#62865" title="(f: MixTypes.this.No =&gt; scala.collection.mutable.ListBuffer[MixTypes.this.No])Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]]">map</a> <span class="delimiter">(</span><a href="#936793" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">_ns</a> <a href="../../../collection/mutable/ListBuffer.scala.html#79765" title="(x: MixTypes.this.No)_ns.type">+=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../../../Tuple2.scala.html#62849" title="(_1: List[MixTypes.this.Yes], _2: List[MixTypes.this.No])(List[MixTypes.this.Yes], List[MixTypes.this.No])" class="delimiter">(</a><a href="#936792" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">_ys</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[MixTypes.this.Yes]">toList</a>, <a href="#936793" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">_ns</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#79773" title="=&gt; List[MixTypes.this.No]">toList</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="934028">moreSpecific</a> = <a href="#934024" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MixTypes.this.Yes =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</a> <span class="delimiter">(</span><a href="#937113" title="MixTypes.this.Yes">_</a>.<a href="#936911" title="=&gt; ParallelMatching.this.Pattern">moreSpecific</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(Int, List[ParallelMatching.this.Pattern])]" id="934030">subsumed</a> = <a href="#934024" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MixTypes.this.Yes =&gt; (Int, List[ParallelMatching.this.Pattern]))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],(Int, List[ParallelMatching.this.Pattern]),List[(Int, List[ParallelMatching.this.Pattern])]])List[(Int, List[ParallelMatching.this.Pattern])]">map</a> <span class="delimiter">(</span><a title="MixTypes.this.Yes" id="937152">x</a> =&gt; <a href="../../../Tuple2.scala.html#62849" title="(_1: Int, _2: List[ParallelMatching.this.Pattern])(Int, List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="#937152" title="MixTypes.this.Yes">x</a>.<a href="#936910" title="=&gt; Int">bx</a>, <a href="#937152" title="MixTypes.this.Yes">x</a>.<a href="#936912" title="=&gt; List[ParallelMatching.this.Pattern]">subsumed</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(Int, ParallelMatching.this.Pattern)]" id="934032">remaining</a> = <a href="#934026" title="=&gt; List[MixTypes.this.No]">noes</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MixTypes.this.No =&gt; (Int, ParallelMatching.this.Pattern))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.No],(Int, ParallelMatching.this.Pattern),List[(Int, ParallelMatching.this.Pattern)]])List[(Int, ParallelMatching.this.Pattern)]">map</a> <span class="delimiter">(</span><a title="MixTypes.this.No" id="937203">x</a> =&gt; <a href="../../../Tuple2.scala.html#62849" title="(_1: Int, _2: ParallelMatching.this.Pattern)(Int, ParallelMatching.this.Pattern)" class="delimiter">(</a><a href="#937203" title="MixTypes.this.No">x</a>.<a href="#936934" title="=&gt; Int">bx</a>, <a href="#937203" title="MixTypes.this.No">x</a>.<a href="#936935" title="=&gt; ParallelMatching.this.Pattern">remaining</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]" id="934034">mkZipped</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>Yes<span class="delimiter">(</span><a href="#936910" title="Int" id="937377">j</a>, <a href="#936911" title="ParallelMatching.this.Pattern" id="937378">moreSpecific</a>, <a href="#936912" title="List[ParallelMatching.this.Pattern]" id="937379">subsumed</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#58161" title="(f: MixTypes.this.Yes =&gt; (Int, List[ParallelMatching.this.Pattern]))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],(Int, List[ParallelMatching.this.Pattern]),List[(Int, List[ParallelMatching.this.Pattern])]])List[(Int, List[ParallelMatching.this.Pattern])]">yeses</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <a href="../../../Predef.scala.html#7509" title="(x: Int)ArrowAssoc[Int]">j</a> <a href="#3337545" title="(x: (Int, List[ParallelMatching.this.Pattern]))(Int, List[ParallelMatching.this.Pattern])">-&gt;</a> <span class="delimiter">(</span><a href="#937378" title="ParallelMatching.this.Pattern">moreSpecific</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#937379" title="List[ParallelMatching.this.Pattern]">subsumed</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Scrutinee" id="934036">casted</a> = <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a> <a href="#932794" title="(headType: ParallelMatching.this.global.Type)MatchMatrix.this.Scrutinee">castedTo</a> <a href="#934053" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#933405" title="=&gt; ParallelMatching.this.global.Type">headType</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934038">cond</a>   = <a href="#929856" title="(tpe: ParallelMatching.this.global.Type, scrut: MatchMatrix.this.Scrutinee, isBound: Boolean)ParallelMatching.this.global.Tree">condition</a><span class="delimiter">(</span><a href="#934035" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="#933827" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#933831" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>.<a href="../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="934039">isAnyMoreSpecific</a> = <a href="#934024" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86379" title="(p: MixTypes.this.Yes =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="MixTypes.this.Yes" id="937451">x</a> =&gt; <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#937451" title="MixTypes.this.Yes">x</a>.<a href="#936911" title="=&gt; ParallelMatching.this.Pattern">moreSpecific</a>.<a href="Patterns.scala.html#932036" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#3337551" title="(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" id="934041" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[(Int, List[ParallelMatching.this.Pattern])]" id="934043">subtests</a>, <a href="../../../Tuple2.scala.html#60637" title="List[MatchMatrix.this.context.PatternVar]" id="934045">subtestVars</a><span class="delimiter">)</span> =
        <a href="#3337549" title="(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" class="keyword">if</a> <span class="delimiter">(</span><a href="#934039" title="=&gt; Boolean">isAnyMoreSpecific</a><span class="delimiter">)</span>  <a href="../../../Tuple2.scala.html#62849" title="(_1: List[(Int, List[ParallelMatching.this.Pattern])], _2: List[MatchMatrix.this.context.PatternVar])(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" class="delimiter">(</a><a href="#934034" title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]">mkZipped</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#934035" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#932798" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>                    <a href="../../../Tuple2.scala.html#62849" title="(_1: List[(Int, List[ParallelMatching.this.Pattern])], _2: scala.collection.immutable.Nil.type)(List[(Int, List[ParallelMatching.this.Pattern])], scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="#934030" title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]">subsumed</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="934047">newRows</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Int" id="937506">j</a>, <a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.Pattern]" id="937507">ps</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((Int, List[ParallelMatching.this.Pattern])) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, List[ParallelMatching.this.Pattern])],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">subtests</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <span class="delimiter">(</span><a href="#934054" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#937506" title="Int">j</a><span class="delimiter">)</span>.<a href="#930254" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><a href="#3337557" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row" class="delimiter">(</a><a href="#937507" title="List[ParallelMatching.this.Pattern]">ps</a>, <a href="#933409" title="(i: Int)ParallelMatching.this.Pattern">pmatch</a><span class="delimiter">(</span><a href="#937506" title="Int">j</a><span class="delimiter">)</span>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#934035" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#932772" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934049">success</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="937543">srep</a> = <a href="#933836" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#934046" title="=&gt; List[MatchMatrix.this.Row]">newRows</a>, <a href="#934044" title="=&gt; List[MatchMatrix.this.context.PatternVar]">subtestVars</a> <a href="Matrix.scala.html#930635" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#934035" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#932778" title="=&gt; MatchMatrix.this.context.PatternVarGroup">accessorPatternVars</a>, includeScrut = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="MatrixAdditions.scala.html#929651" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#934035" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#932781" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">allValDefs</a>, <a href="#937543" title="MatchMatrix.this.Rep">srep</a>.<a href="#929918" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="934051">failure</a> =
        <a href="#933835" title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree">mkFail</a><span class="delimiter">(</span><a href="#934032" title="=&gt; List[(Int, ParallelMatching.this.Pattern)]">remaining</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((Int, ParallelMatching.this.Pattern)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, ParallelMatching.this.Pattern)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <a href="#937562" title="(Int, ParallelMatching.this.Pattern)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#60635" title="Int" id="937565">p1</a>, <a href="../../../Tuple2.scala.html#60637" title="ParallelMatching.this.Pattern" id="937566">p2</a><span class="delimiter">)</span> =&gt; <a href="#934054" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#86374" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#937565" title="Int">p1</a> <a href="#3337563" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">insert</a> <a href="#937566" title="ParallelMatching.this.Pattern">p2</a> <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="934052">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="#933833" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
    <span class="delimiter">}</span>

    /*** States, Rows, Etc. ***/

    case <span class="keyword">class</span> <a title="class Row extends AnyRef with Product with Serializable" id="939058">Row</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="List[ParallelMatching.this.Pattern]" id="930259">pats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>, <a title="ParallelMatching.this.Bindings" id="930260">subst</a>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a>, <a title="ParallelMatching.this.global.Tree" id="930261">guard</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="Int" id="930262">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="930247">nobindings</a> = <a href="#930260" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#934199" title="()List[ParallelMatching.this.Binding]">get</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="930248">bindstr</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#930247" title="=&gt; Boolean">nobindings</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="MatchSupport.scala.html#928641" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#930260" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span>

      /** Extracts the 'i'th pattern. */
      <span class="keyword">def</span> <a title="(i: Int)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" id="930249">extractColumn</a><span class="delimiter">(</span><a title="Int" id="937650">i</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#3337569" title="(x: (ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern]))(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.Pattern" id="937654">x</a>, <a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.Pattern]" id="937655">xs</a><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#621959" title="(xs: List[ParallelMatching.this.Pattern], n: Int)(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern])">extractIndex</a><a href="../../../Tuple2.scala.html#783" title="(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern]) @unchecked" class="delimiter">(</a><a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>, <a href="#937650" title="Int">i</a><span class="delimiter">)</span>
        <a href="../../../Tuple2.scala.html#62849" title="(_1: ParallelMatching.this.Pattern, _2: MatchMatrix.this.Row)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" class="delimiter">(</a><a href="#937654" title="ParallelMatching.this.Pattern">x</a>, <a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#937655" title="List[ParallelMatching.this.Pattern]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Replaces the 'i'th pattern with the argument. */
      <span class="keyword">def</span> <a title="(i: Int, p: ParallelMatching.this.Pattern)MatchMatrix.this.Row" id="930250">replaceAt</a><span class="delimiter">(</span><a title="Int" id="937682">i</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="ParallelMatching.this.Pattern" id="937683">p</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="937686">newps</a> = <span class="delimiter">(</span><a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <a href="../../../collection/immutable/List.scala.html#62708" title="(n: Int)List[ParallelMatching.this.Pattern]">take</a> <a href="#937682" title="Int">i</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#937683" title="ParallelMatching.this.Pattern">p</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <span class="delimiter">(</span><a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <a href="../../../collection/immutable/List.scala.html#62709" title="(n: Int)List[ParallelMatching.this.Pattern]">drop</a> <span class="delimiter">(</span><a href="#937682" title="Int">i</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#937686" title="List[ParallelMatching.this.Pattern]">newps</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row" id="930251">insert</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="935386">h</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>              = <a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#935386" title="ParallelMatching.this.Pattern">h</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row" id="930252">insert</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.Pattern]" id="935374">hs</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>       = <a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#935374" title="List[ParallelMatching.this.Pattern]">hs</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>  // prepends supplied pattern
      <span class="keyword">def</span> <a title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row" id="930253">rebind</a><span class="delimiter">(</span><a title="ParallelMatching.this.Bindings" id="934451">b</a>: <a href="PatternBindings.scala.html#622007" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>             = <a href="#930259" title="List[ParallelMatching.this.Pattern]" id="934480">copy</a><span class="delimiter">(</span>subst = <a href="#934451" title="ParallelMatching.this.Bindings" id="934477">b</a><span class="delimiter">)</span>           // substitutes for bindings

      <span class="keyword">def</span> <a title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row" id="930254">insert2</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.Pattern]" id="935584">hs</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>, <a title="Iterable[ParallelMatching.this.global.Symbol]" id="935585">vs</a>: <a href="../../../collection/Iterable.scala.html#4163" title="Iterable[ParallelMatching.this.global.Symbol]">Iterable</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Symbol" id="935586">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="MatchSupport.scala.html#928645" title="(s: String)(x: MatchMatrix.this.Row)MatchMatrix.this.Row">tracing</a><span class="delimiter">(</span><span title="String(&quot;insert2&quot;)" class="string">&quot;insert2&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#935584" title="List[ParallelMatching.this.Pattern]">hs</a> <a href="../../../collection/immutable/List.scala.html#62688" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>, subst = <a href="#930260" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#934201" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#935585" title="Iterable[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#935586" title="ParallelMatching.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      // returns this rows with alternatives expanded
      <span class="keyword">def</span> <a title="(classifyPat: (ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern)List[MatchMatrix.this.Row]" id="930255">expandAlternatives</a><span class="delimiter">(</span><a title="(ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern" id="932714">classifyPat</a>: <span class="delimiter">(</span>Pattern, Int<span class="delimiter">)</span> =&gt; Pattern<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(p: ParallelMatching.this.Pattern)Boolean" id="937703">isNotAlternative</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="937708">p</a>: <a href="Patterns.scala.html#621931" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../PartialFunction.scala.html#77048" title="(x: ParallelMatching.this.global.Tree)(pf: PartialFunction[ParallelMatching.this.global.Tree,Boolean])Boolean">cond</a><span class="delimiter">(</span><a href="#937708" title="ParallelMatching.this.Pattern">p</a>.<a href="Patterns.scala.html#932025" title="=&gt; ParallelMatching.this.global.Tree">tree</a><span class="delimiter">)</span> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[ParallelMatching.this.global.Tree,Boolean] with Serializable" id="937723" class="delimiter">{</a> <span class="keyword">case</span> _: Alternative =&gt; <a href="#3337579" title="(x: B1)B1" class="keyword">true</a> <span class="delimiter">}</span>

        // classify all the top level patterns - alternatives come back unaltered
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="937704">newPats</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>.<a href="../../../collection/IterableLike.scala.html#58604" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, Int),List[(ParallelMatching.this.Pattern, Int)]])List[(ParallelMatching.this.Pattern, Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ((ParallelMatching.this.Pattern, Int)) =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, Int)],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</a> <a href="#932714" title="(ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern">classifyPat</a>.<a href="../../../Function2.scala.html#65850" title="=&gt; ((ParallelMatching.this.Pattern, Int)) =&gt; ParallelMatching.this.Pattern">tupled</a>
        // see if any alternatives were in there
        <span class="keyword">val</span> <a href="#3337594" title="(x: (List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern]))(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.Pattern]" id="937706">ps</a>, <a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.Pattern]" id="937707">others</a><span class="delimiter">)</span> = <a href="#937704" title="List[ParallelMatching.this.Pattern]">newPats</a> <a href="../../../collection/immutable/List.scala.html#62715" title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</a> <a href="#937703" title="(p: ParallelMatching.this.Pattern)Boolean">isNotAlternative</a>
        // make a new row for each alternative, with it spliced into the original position
        <span title="List[MatchMatrix.this.Row]" class="keyword">if</span> <span class="delimiter">(</span><a href="#937707" title="List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</a><span class="delimiter">(</span><a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#937706" title="List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="PatternBindings.scala.html#622001" title="(p: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">extractBindings</a><span class="delimiter">(</span><a href="#937707" title="List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ParallelMatching.this.Pattern =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="937877">x</a> =&gt; <a href="#930250" title="(i: Int, p: ParallelMatching.this.Pattern)MatchMatrix.this.Row">replaceAt</a><span class="delimiter">(</span><a href="#937706" title="List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>, <a href="#937877" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="930256">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="937908">bs</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#930247" title="=&gt; Boolean">nobindings</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#930248" title="=&gt; String">bindstr</a>
        <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Row(%d)(%s%s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#930262" title="=&gt; Int">bx</a>, <a href="MatchSupport.scala.html#928641" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#930259" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>, <a href="#937908" title="String">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class State extends Object" id="929845">State</a> <a href="#929845" title="MatchMatrix.this.State" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="930278">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>                   // index into the list of rows
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Symbol]" id="930279">params</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>      // bound names to be supplied as arguments to labeldef
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="930280">body</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>                // body to execute upon match
      <span class="keyword">def</span> <a title="=&gt; Option[ParallelMatching.this.global.LabelDef]" id="930281">label</a>: <a href="../../../Option.scala.html#978" title="Option[ParallelMatching.this.global.LabelDef]">Option</a><span class="delimiter">[</span>LabelDef<span class="delimiter">]</span>   // label definition for this state

      // Called with a bindings map when a match is achieved.
      // Returns a list of variable declarations based on the labeldef parameters
      // and the given substitution, and the body to execute.
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="930282">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="937951">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#783" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</a>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span>, Tree<span class="delimiter">)</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="930283">applyBindings</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="934218">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#783" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</a>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span>, Tree<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#930285" title="(x$1: Int)Unit">_referenceCount</a> <a href="../../../Int.scala.html#57154" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#930282" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)">applyBindingsImpl</a><span class="delimiter">(</span><a href="#934218" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="930285">_referenceCount</a>   = <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="930287">referenceCount</a>            = <a href="#930285" title="=&gt; Int">_referenceCount</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="930288">unreached</a>                 = <a href="#930287" title="=&gt; Int">referenceCount</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="(sym: ParallelMatching.this.global.Symbol)Boolean" id="930289">shouldInline</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="931783">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#930287" title="=&gt; Int">referenceCount</a> <a href="../../../Int.scala.html#57097" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#930281" title="=&gt; Option[ParallelMatching.this.global.LabelDef]">label</a>.<a href="../../../Option.scala.html#62882" title="(p: ParallelMatching.this.global.LabelDef =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#931791" title="ParallelMatching.this.global.LabelDef">_</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#931783" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      // Creates a simple Ident if the symbol's type conforms to
      // the val definition's type, or a casted Ident if not.
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree" id="930290">newValIdent</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="937958">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="937959">rhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="ParallelMatching.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#937959" title="ParallelMatching.this.global.Symbol">rhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#937958" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#937959" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../Global.scala.html#537460" title="ParallelMatching.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#470999" title="(target: ParallelMatching.this.global.gen.global.Tree, method: ParallelMatching.this.global.gen.global.Symbol, targs: List[ParallelMatching.this.global.gen.global.Type])ParallelMatching.this.global.gen.global.Tree">mkTypeApply</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#408127" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#937959" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#409071" title="=&gt; ParallelMatching.this.global.MethodSymbol">Any_asInstanceOf</a>, <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.global.Type*)List[ParallelMatching.this.global.Type]">List</a><span class="delimiter">(</span><a href="#937958" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.ValDef" id="930291">newValDefinition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="938004">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="938005">rhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="Matrix.scala.html#929662" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#538637" title="(vdef: ParallelMatching.this.global.analyzer.global.ValDef)ParallelMatching.this.global.analyzer.global.ValDef">typedValDef</a> <a href="../../../reflect/internal/Trees.scala.html#408102" title="(sym: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Tree)ParallelMatching.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#938004" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#930290" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">newValIdent</a><span class="delimiter">(</span><a href="#938004" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#938005" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.Tree" id="930292">newValReference</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="938027">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="938028">rhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="Matrix.scala.html#929662" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <a href="#930290" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">newValIdent</a><span class="delimiter">(</span><a href="#938027" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#938028" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]" id="930293">valDefsFor</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="938037">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#930295" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.analyzer.global.ValDef)List[ParallelMatching.this.global.analyzer.global.ValDef]">mapSubst</a><span class="delimiter">(</span><a href="#938037" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#930291" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.ValDef">newValDefinition</a><span class="delimiter">)</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.Tree]" id="930294">identsFor</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="938058">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#930295" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.analyzer.global.Tree)List[ParallelMatching.this.global.analyzer.global.Tree]">mapSubst</a><span class="delimiter">(</span><a href="#938058" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#930292" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.Tree">newValReference</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; T)List[T]" id="930295">mapSubst</a><span class="delimiter">[</span><a title="" id="930297">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="938038">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; T" id="938039">f</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
        <a href="#930279" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58068" title="(f: ParallelMatching.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],T,List[T]])List[T]">flatMap</a> <span class="delimiter">{</span> <a title="ParallelMatching.this.global.Symbol" id="938087">lhs</a> =&gt;
          <a href="#938038" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a> <a href="../../../collection/MapLike.scala.html#87525" title="(key: ParallelMatching.this.global.Symbol)Option[ParallelMatching.this.global.Symbol]">get</a> <a href="#938087" title="ParallelMatching.this.global.Symbol">lhs</a> <a href="../../../Option.scala.html#62865" title="(f: ParallelMatching.this.global.Symbol =&gt; T)Option[T]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="938094">rhs</a> =&gt; <a href="../../../Function2.scala.html#65848" title="(v1: ParallelMatching.this.global.Symbol, v2: ParallelMatching.this.global.Symbol)T">f</a><span class="delimiter">(</span><a href="#938087" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#938094" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#97396" title="(xo: Option[T])Iterable[T]">orElse</a> <span class="delimiter">{</span>
            // This should not happen; the code should be structured so it is
            // impossible, but that still lies ahead.
            <a href="Matrix.scala.html#929658" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#938087" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/StdAttachments.scala.html#409602" title="=&gt; ParallelMatching.this.global.Position">pos</a>, <span title="String(&quot;No binding&quot;)" class="string">&quot;No binding&quot;</span><span class="delimiter">)</span>
            <a href="../../../Option.scala.html#1585" title="None.type">None</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      // typer is not able to digest a body of type Nothing being assigned result type Unit
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="930298">caseResultType</a> =
        <span title="ParallelMatching.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#930280" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="MatchSupport.scala.html#928610" title="implicit scala.tools.nsc.matching.MatchSupport.Types.RichType : (undecodedTpe: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#928624" title="=&gt; Boolean">isNothing</a><span class="delimiter">)</span> <a href="#930280" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="Matrix.scala.html#929666" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class LiteralState extends MatchMatrix.this.State with Product with Serializable" id="939087">LiteralState</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="Int" id="930313">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="List[ParallelMatching.this.global.Symbol]" id="930314">params</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Tree" id="930315">body</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929845" title="MatchMatrix.this.State">State</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; None.type" id="930309">label</a> = <a href="../../../Option.scala.html#1585" title="None.type">None</a>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.Tree)" id="930310">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="938149">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
        <a href="../../../Tuple2.scala.html#62849" title="(_1: List[ParallelMatching.this.global.analyzer.global.ValDef], _2: ParallelMatching.this.global.Tree)(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</a><a href="#930293" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefsFor</a><span class="delimiter">(</span><a href="#938149" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>, <a href="#930315" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="../../../reflect/internal/Trees.scala.html#408588" title="=&gt; LiteralState.this.body.type">duplicate</a> <a href="../../../reflect/internal/Trees.scala.html#408575" title="(tp: ParallelMatching.this.global.Type)LiteralState.this.body.type">setType</a> <a href="#930298" title="=&gt; ParallelMatching.this.global.Type">caseResultType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class FinalState extends MatchMatrix.this.State with Product with Serializable" id="939116">FinalState</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><a title="Int" id="930343">bx</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a>, <a title="List[ParallelMatching.this.global.Symbol]" id="930344">params</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Tree" id="930345">body</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#929845" title="MatchMatrix.this.State">State</a> <span class="delimiter">{</span>
      <a href="MatchSupport.scala.html#928644" title="(cat: String, f: String, xs: Any*)Unit">traceCategory</a><span class="delimiter">(</span><span title="String(&quot;Final State&quot;)" class="string">&quot;Final State&quot;</span>, <span title="String(&quot;(%s) =&gt; %s&quot;)" class="string">&quot;(%s) =&gt; %s&quot;</span>, <a href="#930339" title="=&gt; String">paramsString</a>, <a href="#930345" title="=&gt; ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Some[ParallelMatching.this.global.LabelDef]" id="930335">label</a> = <a href="../../../Option.scala.html#63128" title="(x: ParallelMatching.this.global.LabelDef)Some[ParallelMatching.this.global.LabelDef]">Some</a><span class="delimiter">(</span><a href="#930336" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="930337">labelDef</a> = <a href="#929824" title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef">createLabelDef</a><span class="delimiter">(</span><span title="String(&quot;body%&quot;)" class="string">&quot;body%&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#930343" title="=&gt; Int">bx</a>, <a href="#930345" title="=&gt; ParallelMatching.this.global.Tree">body</a>, <a href="#930344" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#930298" title="=&gt; ParallelMatching.this.global.Type">caseResultType</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.TermTree with Serializable)" id="930338">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="938286">subst</a>: <a href="../../../collection/immutable/Map.scala.html#11241" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching extends ParallelMatching.this.global.TermTree with Serializable" id="938289">tree</a> =
          <span title="ParallelMatching extends ParallelMatching.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#930287" title="=&gt; Int">referenceCount</a> <a href="../../../Int.scala.html#57125" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#624611" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#930336" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>.<a href="../../../reflect/internal/Trees.scala.html#409939" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662337" title="(params: List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply">APPLY</a> <a href="#930294" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.Tree]">identsFor</a><span class="delimiter">(</span><a href="#938286" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#930336" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>

        <a href="../../../Tuple2.scala.html#62849" title="(_1: List[ParallelMatching.this.global.analyzer.global.ValDef], _2: ParallelMatching.this.global.TermTree with Serializable)(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.TermTree with Serializable)" class="delimiter">(</a><a href="#930293" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefsFor</a><span class="delimiter">(</span><a href="#938286" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>, <a href="#938289" title="ParallelMatching extends ParallelMatching.this.global.TermTree with Serializable">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="930339">paramsString</a> = <a href="#930344" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ParallelMatching.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="938238">s</a> =&gt; <a href="#938238" title="ParallelMatching.this.global.Symbol">s</a>.<a href="../../../Predef.scala.html#7605" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#60046" title="(other: String)String">+</a> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#938238" title="ParallelMatching.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#58283" title="(sep: String)String">mkString</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="930340">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#928641" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(%s) =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="MatchSupport.scala.html#928641" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#930344" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a><span class="delimiter">)</span>, <a href="#930345" title="=&gt; ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class Rep extends AnyRef with Product with Serializable" id="939120">Rep</a><a href="../../../Product.scala.html#186" title="Product" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVarGroup" id="932753">tvars</a>: <a href="Matrix.scala.html#929685" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a>, <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="932754">rows</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> Row<a href="#3337659" title="(List[ParallelMatching.this.Pattern], ParallelMatching.this.Bindings, ParallelMatching.this.global.Tree, Int)" id="929900" class="delimiter">(</a><a href="#930259" title="List[ParallelMatching.this.Pattern]" id="929902">pats</a>, <a href="#930260" title="ParallelMatching.this.Bindings" id="929904">subst</a>, <a href="#930261" title="ParallelMatching.this.global.Tree" id="929906">guard</a>, <a href="#930262" title="Int" id="929908">index</a><span class="delimiter">)</span> = <a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; MatchMatrix.this.Row">head</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="929910">guardedRest</a>        = <span title="MatchMatrix.this.Rep" class="keyword">if</span> <span class="delimiter">(</span><a href="#929905" title="=&gt; ParallelMatching.this.global.Tree">guard</a>.<a href="../../../reflect/internal/Trees.scala.html#408582" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#939120" title="(tvars: MatchMatrix.this.context.PatternVarGroup, rows: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">Rep</a><span class="delimiter">(</span><a href="Matrix.scala.html#929680" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">Nil</a>, <a href="../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#929825" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[MatchMatrix.this.Row]">tail</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#3337665" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" id="929912" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.Pattern]" id="929914">defaults</a>, <a href="../../../Tuple2.scala.html#60637" title="List[ParallelMatching.this.Pattern]" id="929916">others</a><span class="delimiter">)</span> = <a href="#929901" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <a href="../../../collection/immutable/List.scala.html#62715" title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</a> <span class="delimiter">(</span><a href="#938546" title="ParallelMatching.this.Pattern">_</a>.<a href="Patterns.scala.html#932028" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>

      /** Cut out the column containing the non-default pattern. */
      <span class="keyword">class</span> <a title="class Cut extends Object" id="929917">Cut</a><a href="#929917" title="Rep.this.Cut" class="delimiter">(</a><a title="Int" id="938674">index</a>: <a href="../../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        /** The first two separate out the 'i'th pattern in each row from the remainder. */
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="#3337671" title="(x: (List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row]))(List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.Pattern]" id="938562">_column</a>, <a href="../../../Tuple2.scala.html#60637" title="List[MatchMatrix.this.Row]" id="938564">_rows</a><span class="delimiter">)</span> = <a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: MatchMatrix.this.Row =&gt; (ParallelMatching.this.Pattern, MatchMatrix.this.Row))(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],(ParallelMatching.this.Pattern, MatchMatrix.this.Row),List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">map</a> <span class="delimiter">(</span><a href="#938595" title="MatchMatrix.this.Row">_</a> <a href="#930249" title="(i: Int)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)">extractColumn</a> <a href="#938674" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/generic/GenericTraversableTemplate.scala.html#58476" title="(implicit asPair: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; (ParallelMatching.this.Pattern, MatchMatrix.this.Row))(List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row])">unzip</a>

        /** Now the 'i'th tvar is separated out and used as a new Scrutinee. */
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="#3337677" title="(x: (MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup))(MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="MatchMatrix.this.context.PatternVar" id="938567">_pv</a>, <a href="../../../Tuple2.scala.html#60637" title="MatchMatrix.this.context.PatternVarGroup" id="938569">_tvars</a><span class="delimiter">)</span> = <a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a> <a href="Matrix.scala.html#930630" title="(index: Int)(MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup)">extractIndex</a> <a href="#938674" title="Int">index</a>

        /** The non-default pattern (others.head) replaces the column head. */
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="#3337683" title="(x: (List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep))(List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#60635" title="List[ParallelMatching.this.Pattern]" id="938572">_ncol</a>, <a href="../../../Tuple2.scala.html#60637" title="MatchMatrix.this.Rep" id="938574">_nrep</a><span class="delimiter">)</span> =
          <a href="../../../Tuple2.scala.html#62849" title="(_1: List[ParallelMatching.this.Pattern], _2: MatchMatrix.this.Rep)(List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep)" class="delimiter">(</a><a href="#929915" title="=&gt; List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/IterableLike.scala.html#58577" title="=&gt; ParallelMatching.this.Pattern">head</a> <a href="../../../collection/immutable/List.scala.html#62685" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#938562" title="=&gt; List[ParallelMatching.this.Pattern]">_column</a>.<a href="../../../collection/TraversableLike.scala.html#58104" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a>, <a href="#929825" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#938569" title="=&gt; MatchMatrix.this.context.PatternVarGroup">_tvars</a>, <a href="#938564" title="=&gt; List[MatchMatrix.this.Row]">_rows</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()MatchMatrix.this.RuleApplication" id="938576">mix</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Scrutinee" id="938675">newScrut</a> = <span title="MatchMatrix.this.Scrutinee" class="keyword">new</span> <a href="#929827" title="MatchMatrix.this.Scrutinee">Scrutinee</a><span class="delimiter">(</span><span title="MatchMatrix.this.context.PatternVar" class="keyword">new</span> <a href="Matrix.scala.html#929686" title="MatchMatrix.this.context.PatternVar">PatternVar</a><span class="delimiter">(</span><a href="#938567" title="=&gt; MatchMatrix.this.context.PatternVar">_pv</a>.<a href="Matrix.scala.html#929729" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>, <a href="../../../reflect/internal/Trees.scala.html#407946" title="ParallelMatching.this.global.EmptyTree.type">EmptyTree</a>, <a href="#938567" title="=&gt; MatchMatrix.this.context.PatternVar">_pv</a>.<a href="Matrix.scala.html#929726" title="=&gt; Boolean">checked</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#939022" title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])MatchMatrix.this.PatternMatch">PatternMatch</a><span class="delimiter">(</span><a href="#938675" title="MatchMatrix.this.Scrutinee">newScrut</a>, <a href="#938572" title="=&gt; List[ParallelMatching.this.Pattern]">_ncol</a><span class="delimiter">)</span> <a href="#933416" title="(rest: MatchMatrix.this.Rep)MatchMatrix.this.RuleApplication">mkRule</a> <a href="#938574" title="=&gt; MatchMatrix.this.Rep">_nrep</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Converts this to a tree - recursively acquires subreps. */
      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="929918">toTree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="MatchSupport.scala.html#928645" title="(s: String)(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">tracing</a><span class="delimiter">(</span><span title="String(&quot;toTree&quot;)" class="string">&quot;toTree&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Matrix.scala.html#929662" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <a href="#929921" title="()ParallelMatching.this.global.Tree">applyRule</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      /** The VariableRule. */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="()MatchMatrix.this.VariableRule" id="929919">variable</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.Bindings" id="938696">binding</a> = <span class="delimiter">(</span><a href="#929913" title="=&gt; List[ParallelMatching.this.Pattern]">defaults</a> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ParallelMatching.this.Pattern =&gt; List[ParallelMatching.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],List[ParallelMatching.this.global.Symbol],List[List[ParallelMatching.this.global.Symbol]]])List[List[ParallelMatching.this.global.Symbol]]">map</a> <span class="delimiter">(</span><a href="#938713" title="ParallelMatching.this.Pattern">_</a>.<a href="PatternBindings.scala.html#932015" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a><span class="delimiter">)</span> <a href="../../../collection/IterableLike.scala.html#58590" title="(that: scala.collection.GenIterable[MatchMatrix.this.context.PatternVar])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[ParallelMatching.this.global.Symbol]],(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar),List[(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)]])List[(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)]">zip</a> <a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#930624" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a><span class="delimiter">)</span> .
          <a href="../../../collection/LinearSeqOptimized.scala.html#86382" title="(z: ParallelMatching.this.Bindings)(f: (ParallelMatching.this.Bindings, (List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)) =&gt; ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">foldLeft</a><span class="delimiter">(</span><a href="#929903" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Bindings" id="938814">b</a>, <a title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)" id="938815">pair</a><span class="delimiter">)</span> =&gt; <a href="#938814" title="ParallelMatching.this.Bindings">b</a>.<a href="PatternBindings.scala.html#934201" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#938815" title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)">pair</a>.<a href="../../../Tuple2.scala.html#60635" title="=&gt; List[ParallelMatching.this.global.Symbol]">_1</a>, <a href="#938815" title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)">pair</a>.<a href="../../../Tuple2.scala.html#60637" title="=&gt; MatchMatrix.this.context.PatternVar">_2</a>.<a href="Matrix.scala.html#929722" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#939054" title="(subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, guardedRest: MatchMatrix.this.Rep, bx: Int)MatchMatrix.this.VariableRule">VariableRule</a><span class="delimiter">(</span><a href="#938696" title="ParallelMatching.this.Bindings">binding</a>, <a href="#929905" title="=&gt; ParallelMatching.this.global.Tree">guard</a>, <a href="#929909" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>, <a href="#929907" title="=&gt; Int">index</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      /** The MixtureRule: picks a rewrite rule to apply. */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="()MatchMatrix.this.RuleApplication" id="929920">mixture</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="Rep.this.Cut" class="keyword">new</span> <a href="#929917" title="Rep.this.Cut">Cut</a><span class="delimiter">(</span><a href="#929913" title="=&gt; List[ParallelMatching.this.Pattern]">defaults</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span> <a href="#938576" title="()MatchMatrix.this.RuleApplication">mix</a><span class="delimiter">(</span><span class="delimiter">)</span>

      /** Applying the rule will result in one of:
        *
        *   VariableRule - if all patterns are default patterns
        *    MixtureRule - if one or more patterns are not default patterns
        *          Error - no rows remaining
        */
      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="929921">applyRule</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#929811" title="=&gt; ParallelMatching.this.global.Tree">failTree</a>
        <span class="keyword">else</span> <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#929915" title="=&gt; List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#929919" title="()MatchMatrix.this.VariableRule">variable</a>.<a href="#934187" title="()ParallelMatching.this.global.Tree">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#929920" title="()MatchMatrix.this.RuleApplication">mixture</a>.<a href="#933837" title="()ParallelMatching.this.global.Tree">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(x: Any)String" id="929922">ppn</a><span class="delimiter">(</span><a title="Any" id="938837">x</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#928642" title="(x: Any, newlines: Boolean)String">pp</a><span class="delimiter">(</span><a href="#938837" title="Any">x</a>, newlines = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="929923">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#930631" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rep(%d) = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>, <a href="#929922" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rep(%dx%d)%s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#930632" title="=&gt; Int">size</a>, <a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a>, <a href="#929922" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#932753" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a><span class="delimiter">)</span>, <a href="#929922" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#932754" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Expands the patterns recursively. */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(roots: List[MatchMatrix.this.context.PatternVar], cases: List[ParallelMatching.this.global.CaseDef])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]" id="929855">expand</a><span class="delimiter">(</span><a title="List[MatchMatrix.this.context.PatternVar]" id="930040">roots</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, <a title="List[ParallelMatching.this.global.CaseDef]" id="930041">cases</a>: <a href="../../../collection/immutable/List.scala.html#11952" title="List[ParallelMatching.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#928645" title="(s: String)(x: List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">tracing</a><span class="delimiter">(</span><span title="String(&quot;expand&quot;)" class="string">&quot;expand&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>CaseDef<a href="../../../Tuple2.scala.html#60635" title="ParallelMatching.this.global.CaseDef" id="3337740" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410180" title="ParallelMatching.this.global.Tree" id="930142">pat</a>, <a href="../../../reflect/internal/Trees.scala.html#410182" title="ParallelMatching.this.global.Tree" id="930143">guard</a>, <a href="../../../reflect/internal/Trees.scala.html#410184" title="ParallelMatching.this.global.Tree" id="930144">body</a><span class="delimiter">)</span>, <a href="../../../Tuple2.scala.html#60637" title="Int" id="930145">bx</a><span class="delimiter">)</span> &lt;- <a href="#930041" title="List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#58161" title="(f: ((ParallelMatching.this.global.CaseDef, Int)) =&gt; (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.CaseDef, Int)],(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State),List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#3337742" title="(x: (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Tree]" id="930146">subtrees</a> = <a href="#930142" title="ParallelMatching.this.global.Tree">pat</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> x <span class="keyword">if</span> <a href="#930040" title="List[MatchMatrix.this.context.PatternVar]">roots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#57118" title="(x: Int)Boolean">&lt;=</a> <span title="Int(1)" class="int">1</span> =&gt; <a href="../../../collection/immutable/List.scala.html#62451" title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</a><a href="#3337724" title="(x: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]" class="delimiter">(</a>x<span class="delimiter">)</span>
          <span class="keyword">case</span> Apply<a href="#3337718" title="List[ParallelMatching.this.global.Tree]" id="3337721" class="delimiter">(</a><a href="../../../reflect/internal/Trees.scala.html#410031" title="ParallelMatching.this.global.Tree" id="3337719">_</a>, <a href="../../../reflect/internal/Trees.scala.html#410033" title="List[ParallelMatching.this.global.Tree]" id="930170">args</a><span class="delimiter">)</span>         =&gt; <a href="#3337724" title="(x: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">args</a>
          <span class="keyword">case</span> <a href="../ast/TreeDSL.scala.html#662562" title="List[ParallelMatching.this.global.Tree]">WILD</a><a title="Unit" id="3337722" class="delimiter">(</a><span class="delimiter">)</span>                 =&gt; <a href="Patterns.scala.html#621864" title="(i: Int)List[ParallelMatching.this.global.Tree]">emptyTrees</a><a href="#3337724" title="(x: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]" class="delimiter">(</a><a href="#930040" title="List[MatchMatrix.this.context.PatternVar]">roots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#86373" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Symbol]" id="930147">params</a> = <a href="#930142" title="ParallelMatching.this.global.Tree">pat</a> <a href="../../../reflect/internal/Trees.scala.html#408540" title="(f: ParallelMatching.this.global.Tree =&gt; Boolean)List[ParallelMatching.this.global.Tree]">filter</a> <span class="delimiter">(</span><a href="#930181" title="ParallelMatching.this.global.Tree">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Trees.scala.html#407993" title="ParallelMatching.this.global.Bind">Bind</a><span class="delimiter">]</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#58063" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Symbol,List[ParallelMatching.this.global.Symbol]])List[ParallelMatching.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#930201" title="ParallelMatching.this.global.Tree">_</a>.<a href="../../../reflect/internal/Trees.scala.html#408577" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#58839" title="=&gt; List[ParallelMatching.this.global.Symbol]">distinct</a>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="930148">row</a>    = <a href="#939058" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">Row</a><span class="delimiter">(</span><a href="#621941" title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#930146" title="List[ParallelMatching.this.global.Tree]">subtrees</a><span class="delimiter">)</span>, <a href="PatternBindings.scala.html#622008" title="=&gt; ParallelMatching.this.Bindings">NoBinding</a>, <a href="#930143" title="ParallelMatching.this.global.Tree">guard</a>, <a href="#930145" title="Int">bx</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="MatchMatrix extends Product with Serializable with MatchMatrix.this.State" id="930149">state</a>  = <a href="#930144" title="ParallelMatching.this.global.Tree">body</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#3337730" title="MatchMatrix extends Product with Serializable with MatchMatrix.this.State" id="3337732">x</a>: Literal =&gt; <a href="#939087" title="(bx: Int, params: List[ParallelMatching.this.global.Symbol], body: ParallelMatching.this.global.Tree)MatchMatrix.this.LiteralState">LiteralState</a><a href="#3337734" title="(x: Product with Serializable with MatchMatrix.this.State)Product with Serializable with MatchMatrix.this.State" class="delimiter">(</a><a href="#930145" title="Int">bx</a>, <a href="#930147" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#930144" title="ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _          =&gt; <a href="#939116" title="(bx: Int, params: List[ParallelMatching.this.global.Symbol], body: ParallelMatching.this.global.Tree)MatchMatrix.this.FinalState">FinalState</a><a href="#3337734" title="(x: Product with Serializable with MatchMatrix.this.State)Product with Serializable with MatchMatrix.this.State" class="delimiter">(</a><a href="#930145" title="Int">bx</a>, <a href="#930147" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#930144" title="ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../../../Predef.scala.html#7509" title="(x: MatchMatrix.this.Row)ArrowAssoc[MatchMatrix.this.Row]">row</a> <a href="../../../Predef.scala.html#62634" title="(y: Product with Serializable with MatchMatrix.this.State)(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)">-&gt;</a> <a href="#930149" title="MatchMatrix extends Product with Serializable with MatchMatrix.this.State">state</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** returns the condition in &quot;if (cond) k1 else k2&quot;
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, scrut: MatchMatrix.this.Scrutinee, isBound: Boolean)ParallelMatching.this.global.Tree" id="929856">condition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="937438">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ParallelMatching.this.global.Type">Type</a>, <a title="MatchMatrix.this.Scrutinee" id="937439">scrut</a>: <a href="#929827" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="Boolean" id="937440">isBound</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#937439" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932782" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="938887">cond</a> = <a href="../../../Function1.scala.html#58642" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#929857" title="(tpe: ParallelMatching.this.global.Type, scrutTree: ParallelMatching.this.global.Tree, isBound: Boolean)ParallelMatching.this.global.Tree">condition</a><span class="delimiter">(</span><a href="#937438" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#937439" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#937440" title="Boolean">isBound</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../../../reflect/internal/Types.scala.html#407522" title="(patType: ParallelMatching.this.global.Type, selType: ParallelMatching.this.global.Type, currentOwner: ParallelMatching.this.global.Symbol)Boolean">needsOuterTest</a><span class="delimiter">(</span><a href="#937438" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#937439" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932773" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="Matrix.scala.html#929664" title="=&gt; ParallelMatching.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#938887" title="ParallelMatching.this.global.Tree">cond</a>
      <span class="keyword">else</span> <a href="#929858" title="(cond: ParallelMatching.this.global.Tree, tpe2test: ParallelMatching.this.global.Type, scrut: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">addOuterCondition</a><span class="delimiter">(</span><a href="#938887" title="ParallelMatching.this.global.Tree">cond</a>, <a href="#937438" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#937439" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#932775" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, scrutTree: ParallelMatching.this.global.Tree, isBound: Boolean)ParallelMatching.this.global.Tree" id="929857">condition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="937434">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Tree" id="937435">scrutTree</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="Boolean" id="937436">isBound</a>: <a href="../../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#937434" title="ParallelMatching.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Types.scala.html#407284" title="ParallelMatching.this.global.NoType.type">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#937435" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Types.scala.html#407284" title="ParallelMatching.this.global.NoType.type">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="938949">isMatchUnlessNull</a> = <a href="#937435" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="../../../reflect/internal/Trees.scala.html#408573" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#408481" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#937434" title="ParallelMatching.this.global.Type">tpe</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="MatchSupport.scala.html#928610" title="implicit scala.tools.nsc.matching.MatchSupport.Types.RichType : (undecodedTpe: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#928617" title="=&gt; Boolean">isAnyRef</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="938950">isRef</a>             = <a href="#937435" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="MatchSupport.scala.html#928610" title="implicit scala.tools.nsc.matching.MatchSupport.Types.RichType : (undecodedTpe: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#928617" title="=&gt; Boolean">isAnyRef</a>

      // See ticket #1503 for the motivation behind checking for a binding.
      // The upshot is that it is unsound to assume equality means the right
      // type, but if the value doesn't appear on the right hand side of the
      // match that's unimportant; so we add an instance check only if there
      // is a binding.
      <span class="keyword">def</span> <a title="()Unit" id="938951">bindingWarning</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#937436" title="Boolean">isBound</a> <a href="../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#537448" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#539983" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Matrix.scala.html#929658" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#937435" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ParallelMatching.this.global.Position">pos</a>,
            <span title="String(&quot;A bound pattern such as \'x @ Pattern\' now matches fewer cases than the same pattern with no binding.&quot;)" class="string">&quot;A bound pattern such as 'x @ Pattern' now matches fewer cases than the same pattern with no binding.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree" id="938952">genEquals</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="938969">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#407146" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="938970">t1</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="../ast/TreeDSL.scala.html#624612" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#938969" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662317" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#937435" title="ParallelMatching.this.global.Tree">scrutTree</a>

        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#937436" title="Boolean">isBound</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#938951" title="()Unit">bindingWarning</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">t1</a> <a href="../ast/TreeDSL.scala.html#662316" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">AND</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#662344" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.gen.global.Tree">IS</a> <a href="#937434" title="ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#408411" title="=&gt; ParallelMatching.this.global.Type">widen</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#938970" title="ParallelMatching.this.global.Tree">t1</a>
      <span class="delimiter">}</span>

      <a href="Matrix.scala.html#929662" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#538701" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <a href="#937434" title="ParallelMatching.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> ConstantType<a href="#3337746" title="Boolean" id="3337749" class="delimiter">(</a>Constant<a href="../../../reflect/internal/Types.scala.html#410960" title="ParallelMatching.this.global.Constant" id="3337747" class="delimiter">(</a><a href="../../../reflect/internal/Constants.scala.html#409760" title="Any" id="3337763" class="keyword">null</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#938950" title="=&gt; Boolean">isRef</a>  =&gt; <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">OBJ_EQ</a> <a href="../ast/TreeDSL.scala.html#624560" title="=&gt; ParallelMatching.this.global.Literal">NULL</a>
          <span class="keyword">case</span> ConstantType<span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#410960" title="ParallelMatching.this.global.Constant" id="938996">const</a><span class="delimiter">)</span>                    =&gt; <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">MEMBER_==</a> <a href="../../../reflect/internal/Trees.scala.html#413609" title="(value: ParallelMatching.this.global.Constant)ParallelMatching.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#938996" title="ParallelMatching.this.global.Constant">const</a><span class="delimiter">)</span>
          <span class="keyword">case</span> SingleType<a href="#3337746" title="Boolean" id="3337757" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410991" title="ParallelMatching.this.global.Type" id="3337764">NoPrefix</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="ParallelMatching.this.global.Symbol" id="939003">sym</a><span class="delimiter">)</span>              =&gt; <a href="#938952" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#939003" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> SingleType<span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#410991" title="ParallelMatching.this.global.Type" id="939006">pre</a>, <a href="../../../reflect/internal/Types.scala.html#410993" title="ParallelMatching.this.global.Symbol" id="939007">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#939007" title="ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#411286" title="=&gt; Boolean">isStable</a>   =&gt; <a href="#938952" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#939007" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> ThisType<a href="#3337746" title="ParallelMatching.this.global.analyzer.global.Tree" id="3337762" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="ParallelMatching.this.global.Symbol" id="939009">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#939009" title="ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/api/Symbols.scala.html#402401" title="=&gt; Boolean">isModule</a>          =&gt; <a href="#938952" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree" class="delimiter">(</a><a href="#939009" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> _ <span class="keyword">if</span> <a href="#938949" title="=&gt; Boolean">isMatchUnlessNull</a>                 =&gt; <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">OBJ_NE</a> <a href="../ast/TreeDSL.scala.html#624560" title="=&gt; ParallelMatching.this.global.Literal">NULL</a>
          <span class="keyword">case</span> _                                      =&gt; <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="#3337768" title="(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">IS</a> <a href="#937434" title="ParallelMatching.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** adds a test comparing the dynamic outer to the static outer */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(cond: ParallelMatching.this.global.Tree, tpe2test: ParallelMatching.this.global.Type, scrut: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" id="929858">addOuterCondition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="938901">cond</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="ParallelMatching.this.global.Type" id="938902">tpe2test</a>: <a href="../../../reflect/internal/Types.scala.html#407270" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Tree" id="938903">scrut</a>: <a href="../../../reflect/internal/Trees.scala.html#407938" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> TypeRef<a href="#3337784" title="ParallelMatching.this.global.Type" id="3337788" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#410887" title="ParallelMatching.this.global.Type" id="938912">prefix</a>, <a href="../../../reflect/internal/Types.scala.html#410889" title="ParallelMatching.this.global.Symbol" id="3337785">_</a>, <a href="../../../reflect/internal/Types.scala.html#410891" title="List[ParallelMatching.this.global.Type]" id="3337786">_</a><span class="delimiter">)</span> = <a href="#938902" title="ParallelMatching.this.global.Type">tpe2test</a>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="938907">theRef</a> = <a href="../../../Function1.scala.html#58642" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#3337788" title="ParallelMatching.this.global.Type">prefix</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#407286" title="ParallelMatching.this.global.Tree" id="3337798">NoPrefix</a>         =&gt; <a href="../Global.scala.html#537501" title="(msg: String)Nothing">abort</a><a href="#3337800" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</a><span title="String(&quot;assertion failed: NoPrefix&quot;)" class="string">&quot;assertion failed: NoPrefix&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> ThisType<a href="#3337794" title="ParallelMatching.this.global.Tree" id="3337797" class="delimiter">(</a><a href="../../../reflect/internal/Types.scala.html#411018" title="ParallelMatching.this.global.Symbol" id="938916">clazz</a><span class="delimiter">)</span>  =&gt; <a href="../ast/TreeDSL.scala.html#624610" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">THIS</a><a href="#3337800" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</a><a href="#938916" title="ParallelMatching.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> pre              =&gt; <a href="../ast/TreeDSL.scala.html#624613" title="(pre: ParallelMatching.this.global.Type, sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><a href="#3337800" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</a>pre.<a href="../../../reflect/internal/Types.scala.html#408418" title="=&gt; ParallelMatching.this.global.Type">prefix</a>, pre.<a href="../../../reflect/internal/Types.scala.html#408406" title="=&gt; ParallelMatching.this.global.Symbol">termSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="../transform/ExplicitOuter.scala.html#621812" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol">outerAccessor</a><a href="#3337809" title="ParallelMatching.this.global.Symbol" class="delimiter">(</a><a href="#938902" title="ParallelMatching.this.global.Type">tpe2test</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#407184" title="ParallelMatching.this.global.Tree" id="3337812">NoSymbol</a> =&gt; <a href="../Global.scala.html#537502" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="Matrix.scala.html#929658" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#539299" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#938903" title="ParallelMatching.this.global.Tree">scrut</a>.<a href="../../../reflect/internal/Trees.scala.html#408571" title="=&gt; ParallelMatching.this.global.Position">pos</a>, <span title="String(&quot;no outer acc for &quot;)" class="string">&quot;no outer acc for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#938902" title="ParallelMatching.this.global.Type">tpe2test</a>.<a href="../../../reflect/internal/Types.scala.html#408407" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> ; <a href="#938901" title="ParallelMatching.this.global.Tree">cond</a>
        <span class="keyword">case</span> outerAcc =&gt;
          <span class="keyword">val</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="938925">casted</a> = <a href="../Global.scala.html#537460" title="ParallelMatching.this.global.gen.type">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#471005" title="(value: ParallelMatching.this.global.gen.global.Tree, tpe: ParallelMatching.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)ParallelMatching.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#938903" title="ParallelMatching.this.global.Tree">scrut</a>, <a href="#938902" title="ParallelMatching.this.global.Type">tpe2test</a>, any = <span title="Boolean(true)" class="keyword">true</span>, wrapInApply = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">cond</a> <a href="../ast/TreeDSL.scala.html#662316" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">AND</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">casted</a> <a href="../ast/TreeDSL.scala.html#662306" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> outerAcc<span class="delimiter">)</span><a href="../ast/TreeDSL.scala.html#624616" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#662323" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_EQ</a> <a href="#938907" title="ParallelMatching.this.global.Tree">theRef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>