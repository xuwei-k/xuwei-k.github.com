<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/doc/model/ModelFactoryTypeSupport.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler -- Copyright 2007-2013 LAMP/EPFL */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> doc
<span class="keyword">package</span> model

<span class="keyword">import</span> comment._

<span class="keyword">import</span> diagram._

<span class="keyword">import</span> scala.collection._
<span class="keyword">import</span> scala.util.matching.Regex

<span class="keyword">import</span> symtab.Flags

<span class="keyword">import</span> io._

<span class="keyword">import</span> model.<span class="delimiter">{</span> RootPackage =&gt; RootPackageEntity <span class="delimiter">}</span>

/** This trait extracts all required information for documentation from compilation units */
<span class="keyword">trait</span> <a title="trait ModelFactoryTypeSupport extends Object" id="34460">ModelFactoryTypeSupport</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  thisFactory: ModelFactory
               <span class="keyword">with</span> ModelFactoryImplicitSupport
               <span class="keyword">with</span> ModelFactoryTypeSupport
               <span class="keyword">with</span> DiagramFactory
               <span class="keyword">with</span> CommentFactory
               <span class="keyword">with</span> TreeFactory =&gt;

  <span class="keyword">import</span> <a href="ModelFactory.scala.html#772638" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../../reflect/internal/Definitions.scala.html#407777" title="ModelFactoryTypeSupport.this.global.definitions.type">definitions</a>.<span class="delimiter">{</span> ObjectClass, NothingClass, AnyClass, AnyValClass, AnyRefClass <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../../Global.scala.html#537442" title="=&gt; ModelFactoryTypeSupport.this.global.Mirror">rootMirror</a>.<span class="delimiter">{</span> RootPackage, RootClass, EmptyPackage <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[ModelFactoryTypeSupport.this.global.Type,scala.tools.nsc.doc.model.TypeEntity]" id="772760">typeCache</a> = <span title="scala.collection.mutable.LinkedHashMap[ModelFactoryTypeSupport.this.global.Type,scala.tools.nsc.doc.model.TypeEntity]" class="keyword">new</span> mutable.<a href="../../../../collection/mutable/LinkedHashMap.scala.html#12729" title="scala.collection.mutable.LinkedHashMap[ModelFactoryTypeSupport.this.global.Type,scala.tools.nsc.doc.model.TypeEntity]">LinkedHashMap</a><span class="delimiter">[</span>Type, TypeEntity<span class="delimiter">]</span>

  /** */
  <span class="keyword">def</span> <a title="(aType: ModelFactoryTypeSupport.this.global.Type, inTpl: ModelFactoryTypeSupport.this.TemplateImpl)scala.tools.nsc.doc.model.TypeEntity" id="772762">makeType</a><span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Type" id="823385">aType</a>: <a href="../../../../reflect/internal/Types.scala.html#407270" title="ModelFactoryTypeSupport.this.global.Type">Type</a>, <a title="ModelFactoryTypeSupport.this.TemplateImpl" id="823386">inTpl</a>: <a href="ModelFactory.scala.html#772678" title="ModelFactoryTypeSupport.this.TemplateImpl">TemplateImpl</a><span class="delimiter">)</span>: <a href="TypeEntity.scala.html#34754" title="scala.tools.nsc.doc.model.TypeEntity">TypeEntity</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; ModelFactoryTypeSupport.this.global.Symbol" id="834625">templatePackage</a> = <a href="ModelFactory.scala.html#772663" title="(sym: ModelFactoryTypeSupport.this.global.Symbol)ModelFactoryTypeSupport.this.global.Symbol">closestPackage</a><span class="delimiter">(</span><a href="#823386" title="ModelFactoryTypeSupport.this.TemplateImpl">inTpl</a>.<a href="ModelFactory.scala.html#772932" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">sym</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.doc.model.TypeEntity{val refEntity: scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]; val name: String}" id="834626">createTypeEntity</a> = <a href="#834628" title="scala.tools.nsc.doc.model.TypeEntity{}" class="keyword">new</a> <a href="TypeEntity.scala.html#34754" title="anonymous class $anon extends scala.tools.nsc.doc.model.TypeEntity" id="834628">TypeEntity</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="StringBuilder" id="834631">nameBuffer</a> = <a href="../../../../collection/mutable/StringBuilder.scala.html#69111" title="()StringBuilder" class="keyword">new</a> <a href="../../../../package.scala.html#55566" title="StringBuilder">StringBuilder</a>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]" id="834634">refBuffer</a> = <a href="../../../../collection/immutable/TreeMap.scala.html#230075" title="()(implicit ordering: Ordering[Int])scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]" class="keyword">new</a> immutable.<a href="../../../../collection/immutable/TreeMap.scala.html#11862" title="scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]">TreeMap</a><span class="delimiter">[</span>Int, <span class="delimiter">(</span>LinkTo, Int<span class="delimiter">)</span><span class="delimiter">]</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit" id="834636">appendTypes0</a><span class="delimiter">(</span><a title="List[ModelFactoryTypeSupport.this.global.Type]" id="834710">types</a>: <a href="../../../../collection/immutable/List.scala.html#11952" title="List[ModelFactoryTypeSupport.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="String" id="834711">sep</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#1515" title="Unit">Unit</a> = <a href="#834710" title="List[ModelFactoryTypeSupport.this.global.Type]">types</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#11188" title="Unit" id="3323746">Nil</a> =&gt;
        <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#206583" title="ModelFactoryTypeSupport.this.global.Type" id="834716">tp</a> <a href="#3323740" title="Boolean" id="3323743">::</a> <a href="../../../../collection/immutable/List.scala.html#206584" title="List[ModelFactoryTypeSupport.this.global.Type]" id="3323747">Nil</a> =&gt;
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><a href="#3323750" title="(x: Unit)Unit" class="delimiter">(</a><a href="#834716" title="ModelFactoryTypeSupport.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#206583" title="ModelFactoryTypeSupport.this.global.Type" id="834720">tp</a> :: <a href="../../../../collection/immutable/List.scala.html#206584" title="List[ModelFactoryTypeSupport.this.global.Type]" id="834721">tps</a> =&gt;
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#834720" title="ModelFactoryTypeSupport.this.global.Type">tp</a><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <a href="#834711" title="String">sep</a>
          <a href="#834636" title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit">appendTypes0</a><span class="delimiter">(</span><a href="#834721" title="List[ModelFactoryTypeSupport.this.global.Type]">tps</a>, <a href="#834711" title="String">sep</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit" id="834637">appendType0</a><span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Type" id="834717">tpe</a>: <a href="../../../../reflect/internal/Types.scala.html#407270" title="ModelFactoryTypeSupport.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#1515" title="Unit">Unit</a> = <a href="#834717" title="ModelFactoryTypeSupport.this.global.Type">tpe</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        /* Type refs */
        <span class="keyword">case</span> <a href="#3323895" title="Boolean" id="3323918">tp</a>: TypeRef <span class="keyword">if</span> <a href="../../../../reflect/internal/Definitions.scala.html#407777" title="ModelFactoryTypeSupport.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#409021" title="(tp: ModelFactoryTypeSupport.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span>tp<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[ModelFactoryTypeSupport.this.global.Type]" id="834728">args</a> = tp.<a href="../../../../reflect/internal/Types.scala.html#410916" title="=&gt; ModelFactoryTypeSupport.this.global.Type">normalize</a>.<a href="../../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[ModelFactoryTypeSupport.this.global.Type]">typeArgs</a>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char('(')" class="char">'('</span>
          <a href="#834636" title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit">appendTypes0</a><span class="delimiter">(</span><a href="#834728" title="List[ModelFactoryTypeSupport.this.global.Type]">args</a>.<a href="../../../../collection/TraversableLike.scala.html#58107" title="=&gt; List[ModelFactoryTypeSupport.this.global.Type]">init</a>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;) ⇒ &quot;)" class="string">&quot;) ⇒ &quot;</span>
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#834728" title="List[ModelFactoryTypeSupport.this.global.Type]">args</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#86394" title="=&gt; ModelFactoryTypeSupport.this.global.Type">last</a><span class="delimiter">)</span>
        <span class="keyword">case</span> tp: TypeRef <span class="keyword">if</span> <a href="../../../../reflect/internal/Definitions.scala.html#407777" title="ModelFactoryTypeSupport.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#408813" title="(tp: ModelFactoryTypeSupport.this.global.Type)Boolean">isScalaRepeatedParamType</a><span class="delimiter">(</span>tp<span class="delimiter">)</span> =&gt;
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span>tp.<a href="../../../../reflect/internal/Types.scala.html#410891" title="=&gt; List[ModelFactoryTypeSupport.this.global.Type]">args</a>.<a href="../../../../collection/IterableLike.scala.html#58577" title="=&gt; ModelFactoryTypeSupport.this.global.Type">head</a><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char('*')" class="char">'*'</span>
        <span class="keyword">case</span> tp: TypeRef <span class="keyword">if</span> <a href="../../../../reflect/internal/Definitions.scala.html#407777" title="ModelFactoryTypeSupport.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#408812" title="(tp: ModelFactoryTypeSupport.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span>tp<span class="delimiter">)</span> =&gt;
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;⇒ &quot;)" class="string">&quot;⇒ &quot;</span>
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span>tp.<a href="../../../../reflect/internal/Types.scala.html#410891" title="=&gt; List[ModelFactoryTypeSupport.this.global.Type]">args</a>.<a href="../../../../collection/IterableLike.scala.html#58577" title="=&gt; ModelFactoryTypeSupport.this.global.Type">head</a><span class="delimiter">)</span>
        <span class="keyword">case</span> tp: TypeRef <span class="keyword">if</span> <a href="../../../../reflect/internal/Definitions.scala.html#407777" title="ModelFactoryTypeSupport.this.global.definitions.type">definitions</a>.<a href="../../../../reflect/internal/Definitions.scala.html#409006" title="(tp: ModelFactoryTypeSupport.this.global.Type)Boolean">isTupleType</a><span class="delimiter">(</span>tp<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[ModelFactoryTypeSupport.this.global.Type]" id="834751">args</a> = tp.<a href="../../../../reflect/internal/Types.scala.html#410916" title="=&gt; ModelFactoryTypeSupport.this.global.Type">normalize</a>.<a href="../../../../reflect/internal/Types.scala.html#408421" title="=&gt; List[ModelFactoryTypeSupport.this.global.Type]">typeArgs</a>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char('(')" class="char">'('</span>
          <a href="#834636" title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit">appendTypes0</a><span class="delimiter">(</span><a href="#834751" title="List[ModelFactoryTypeSupport.this.global.Type]">args</a>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char(')')" class="char">')'</span>
        <span class="keyword">case</span> TypeRef<span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#410887" title="ModelFactoryTypeSupport.this.global.Type" id="834763">pre</a>, <a href="../../../../reflect/internal/Types.scala.html#410889" title="ModelFactoryTypeSupport.this.global.Symbol" id="834764">aSym</a>, <a href="../../../../reflect/internal/Types.scala.html#410891" title="List[ModelFactoryTypeSupport.this.global.Type]" id="834765">targs</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ModelFactoryTypeSupport.this.global.Symbol" id="834766">preSym</a> = <a href="#834763" title="ModelFactoryTypeSupport.this.global.Type">pre</a>.<a href="../../../../reflect/internal/Types.scala.html#408411" title="=&gt; ModelFactoryTypeSupport.this.global.Type">widen</a>.<a href="../../../../reflect/internal/Types.scala.html#408407" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">typeSymbol</a>

          // SI-3314/SI-4888: Classes, Traits and Types can be inherited from a template to another:
          // class Enum { abstract class Value }
          // class Day extends Enum { object Mon extends Value /*...*/ }
          // ===&gt; in such cases we have two options:
          // (0) if there's no inheritance taking place (Enum#Value) we can link to the template directly
          // (1) if we generate the doc template for Day, we can link to the correct member
          // (2) If the symbol comes from an external library for which we know the documentation URL, point to it.
          // (3) if we don't generate the doc template, we should at least indicate the correct prefix in the tooltip
          <span class="keyword">val</span> <a title="ModelFactoryTypeSupport.this.global.Symbol" id="834767">bSym</a> = <a href="ModelFactory.scala.html#772691" title="(aSym: ModelFactoryTypeSupport.this.global.Symbol)ModelFactoryTypeSupport.this.global.Symbol">normalizeTemplate</a><span class="delimiter">(</span><a href="#834764" title="ModelFactoryTypeSupport.this.global.Symbol">aSym</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="ModelFactoryTypeSupport.this.global.Symbol" id="834768">owner</a> =
            <span title="ModelFactoryTypeSupport.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#834766" title="ModelFactoryTypeSupport.this.global.Symbol">preSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Symbols.scala.html#407184" title="=&gt; ModelFactoryTypeSupport.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>                  /* it needs a prefix */
                <span class="delimiter">(</span><a href="#834766" title="ModelFactoryTypeSupport.this.global.Symbol">preSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a>                /* prefix is different from owner */
                <span class="delimiter">(</span><a href="#834764" title="ModelFactoryTypeSupport.this.global.Symbol">aSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a><span class="delimiter">)</span><span class="delimiter">)</span>                          /* normalization doesn't play tricks on us */
              <a href="#834766" title="ModelFactoryTypeSupport.this.global.Symbol">preSym</a>
            <span class="keyword">else</span>
              <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">owner</a>

          <span class="keyword">val</span> <a title="scala.tools.nsc.doc.model.LinkTo" id="834769">link</a> =
            <a href="ModelFactory.scala.html#772698" title="(aSym: ModelFactoryTypeSupport.this.global.Symbol)Option[ModelFactoryTypeSupport.this.DocTemplateImpl]">findTemplateMaybe</a><span title="scala.tools.nsc.doc.model.LinkTo" class="delimiter">(</span><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> Some<a href="#3323773" title="scala.tools.nsc.doc.model.LinkTo" id="3323774" class="delimiter">(</a><a href="../../../../Option.scala.html#63132" title="ModelFactoryTypeSupport.this.DocTemplateImpl" id="834790">bTpl</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#834768" title="ModelFactoryTypeSupport.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">owner</a> =&gt;
                // (0) the owner's class is linked AND has a template - lovely
                <a href="LinkTo.scala.html#777679" title="(tpl: scala.tools.nsc.doc.model.DocTemplateEntity)scala.tools.nsc.doc.model.LinkToTpl">LinkToTpl</a><a href="#3323776" title="(x: scala.tools.nsc.doc.model.LinkTo)scala.tools.nsc.doc.model.LinkTo" class="delimiter">(</a><a href="#834790" title="ModelFactoryTypeSupport.this.DocTemplateImpl">bTpl</a><span class="delimiter">)</span>
              <span class="keyword">case</span> _ =&gt;
                <span class="keyword">val</span> <a title="Option[ModelFactoryTypeSupport.this.DocTemplateImpl]" id="834803">oTpl</a> = <a href="ModelFactory.scala.html#772698" title="(aSym: ModelFactoryTypeSupport.this.global.Symbol)Option[ModelFactoryTypeSupport.this.DocTemplateImpl]">findTemplateMaybe</a><span class="delimiter">(</span><a href="#834768" title="ModelFactoryTypeSupport.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <a href="../../../../Tuple2.scala.html#62849" title="(_1: Option[ModelFactoryTypeSupport.this.DocTemplateImpl], _2: Option[ModelFactoryTypeSupport.this.MemberImpl])(Option[ModelFactoryTypeSupport.this.DocTemplateImpl], Option[ModelFactoryTypeSupport.this.MemberImpl])" class="delimiter">(</a><a href="#834803" title="Option[ModelFactoryTypeSupport.this.DocTemplateImpl]">oTpl</a>, <a href="#834803" title="Option[ModelFactoryTypeSupport.this.DocTemplateImpl]">oTpl</a> <a href="../../../../Option.scala.html#62871" title="(f: ModelFactoryTypeSupport.this.DocTemplateImpl =&gt; Option[ModelFactoryTypeSupport.this.MemberImpl])Option[ModelFactoryTypeSupport.this.MemberImpl]">flatMap</a> <span class="delimiter">(</span><a href="ModelFactory.scala.html#772696" title="(aSym: ModelFactoryTypeSupport.this.global.Symbol, inTpl: ModelFactoryTypeSupport.this.DocTemplateImpl)Option[ModelFactoryTypeSupport.this.MemberImpl]">findMember</a><span class="delimiter">(</span><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>, <a href="#834812" title="ModelFactoryTypeSupport.this.DocTemplateImpl">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span class="delimiter">(</span>Some<a href="../../../../Tuple2.scala.html#60635" title="Option[ModelFactoryTypeSupport.this.DocTemplateImpl]" id="3323765" class="delimiter">(</a><a href="../../../../Option.scala.html#63132" title="ModelFactoryTypeSupport.this.DocTemplateImpl" id="834821">oTpl</a><span class="delimiter">)</span>, Some<a href="../../../../Tuple2.scala.html#60637" title="Option[ModelFactoryTypeSupport.this.MemberImpl]" id="3323766" class="delimiter">(</a><a href="../../../../Option.scala.html#63132" title="ModelFactoryTypeSupport.this.MemberImpl" id="834823">bMbr</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    // (1) the owner's class
                    <a href="LinkTo.scala.html#777746" title="(mbr: scala.tools.nsc.doc.model.MemberEntity, inTpl: scala.tools.nsc.doc.model.DocTemplateEntity)scala.tools.nsc.doc.model.LinkToMember">LinkToMember</a><a href="#3323768" title="(x: scala.tools.nsc.doc.model.LinkTo)scala.tools.nsc.doc.model.LinkTo" class="delimiter">(</a><a href="#834823" title="ModelFactoryTypeSupport.this.MemberImpl">bMbr</a>, <a href="#834821" title="ModelFactoryTypeSupport.this.DocTemplateImpl">oTpl</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> _ =&gt;
                    <span class="keyword">val</span> <a title="String" id="834826">name</a> = <a href="ModelFactory.scala.html#772707" title="(sym: ModelFactoryTypeSupport.this.global.Symbol, relativeTo: Option[ModelFactoryTypeSupport.this.global.Symbol])String">makeQualifiedName</a><span class="delimiter">(</span><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a><span class="delimiter">)</span>
                    <span title="scala.tools.nsc.doc.model.LinkTo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#409864" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span>
                      <a href="LinkTo.scala.html#777822" title="(name: String)scala.tools.nsc.doc.model.Tooltip">Tooltip</a><span class="delimiter">(</span><a href="#834826" title="String">name</a><span class="delimiter">)</span>
                    <span class="keyword">else</span>
                      <a href="ModelFactory.scala.html#772717" title="(name: String)Option[scala.tools.nsc.doc.model.LinkTo]">findExternalLink</a><span class="delimiter">(</span><a href="#834826" title="String">name</a><span class="delimiter">)</span>.<a href="../../../../Option.scala.html#62859" title="(default: =&gt; scala.tools.nsc.doc.model.LinkTo)scala.tools.nsc.doc.model.LinkTo">getOrElse</a> <span class="delimiter">(</span>
                        // (3) if we couldn't find neither the owner nor external URL to link to, show a tooltip with the qualified name
                        <a href="LinkTo.scala.html#777822" title="(name: String)scala.tools.nsc.doc.model.Tooltip">Tooltip</a><span class="delimiter">(</span><a href="#834826" title="String">name</a><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          // SI-4360 Showing prefixes when necessary
          // We check whether there's any directly accessible type with the same name in the current template OR if the
          // type is inherited from one template to another. There may be multiple symbols with the same name in scope,
          // but we won't show the prefix if our symbol is among them, only if *it's not* -- that's equal to showing
          // the prefix only for ambiguous references, not for overloaded ones.
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="834770">needsPrefix</a>: <a href="../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#834768" title="ModelFactoryTypeSupport.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411315" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">owner</a> <a href="../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#834766" title="ModelFactoryTypeSupport.this.global.Symbol">preSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411184" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="ModelFactory.scala.html#772691" title="(aSym: ModelFactoryTypeSupport.this.global.Symbol)ModelFactoryTypeSupport.this.global.Symbol">normalizeTemplate</a><span class="delimiter">(</span><a href="#834768" title="ModelFactoryTypeSupport.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#823386" title="ModelFactoryTypeSupport.this.TemplateImpl">inTpl</a>.<a href="ModelFactory.scala.html#772932" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
            // don't get tricked into prefixng method type params and existentials:
            // I tried several tricks BUT adding the method for which I'm creating the type =&gt; that simply won't scale,
            // as ValueParams are independent of their parent member, and I really don't want to add this information to
            // all terms, as we're already over the allowed memory footprint
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#834764" title="ModelFactoryTypeSupport.this.global.Symbol">aSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411193" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#834764" title="ModelFactoryTypeSupport.this.global.Symbol">aSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411190" title="=&gt; Boolean">isExistentiallyBound</a> /* existential or existential skolem */<span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>

            <span class="keyword">for</span> <span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Symbol" id="834871">tpl</a> &lt;- <a href="#823386" title="ModelFactoryTypeSupport.this.TemplateImpl">inTpl</a>.<a href="ModelFactory.scala.html#772932" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../collection/immutable/List.scala.html#62719" title="(f: ModelFactoryTypeSupport.this.global.Symbol =&gt; Unit)Unit">ownerChain</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#834871" title="ModelFactoryTypeSupport.this.global.Symbol">tpl</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ModelFactoryTypeSupport.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#408451" title="(name: ModelFactoryTypeSupport.this.global.Name)ModelFactoryTypeSupport.this.global.Symbol">member</a><a href="#3323790" title="ModelFactoryTypeSupport.this.global.Symbol" class="delimiter">(</a><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; bSym.NameType">name</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../../reflect/internal/Symbols.scala.html#407184" title="Unit" id="3323793">NoSymbol</a> =&gt;
                  // No syms with that name, look further inside the owner chain
                <span class="keyword">case</span> sym =&gt;
                  // Symbol found -- either the correct symbol, another one OR an overloaded alternative
                  <a href="#3323796" title="(x: Unit)Unit" class="keyword">if</a> <span class="delimiter">(</span>sym <span title="(x$1: AnyRef)Boolean">==</span> <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                  <span class="keyword">else</span> sym.<a href="../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ModelFactoryTypeSupport.this.global.Type">info</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> OverloadedType<a href="#3323781" title="Nothing" id="3323783" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#450705" title="ModelFactoryTypeSupport.this.global.Type" id="834883">owner</a>, <a href="../../../../reflect/internal/Types.scala.html#450707" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="834884">alternatives</a><span class="delimiter">)</span> =&gt;
                      <a href="#3323785" title="(x: Nothing)Nothing" class="keyword">return</a> <a href="#834884" title="List[ModelFactoryTypeSupport.this.global.Symbol]">alternatives</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a><span class="delimiter">)</span>
                    <span class="keyword">case</span> _ =&gt;
                      <a href="#3323785" title="(x: Nothing)Nothing" class="keyword">return</a> <span title="Boolean(true)" class="keyword">true</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            // if it's not found in the owner chain, we can safely leave out the prefix
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="String" id="834771">prefix</a> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="ModelFactory.scala.html#772640" title="=&gt; scala.tools.nsc.doc.Settings">settings</a>.<a href="../Settings.scala.html#602594" title="=&gt; ModelFactoryTypeSupport.this.settings.BooleanSetting">docNoPrefixes</a>.<a href="../../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#834770" title="=&gt; Boolean">needsPrefix</a> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; ModelFactoryTypeSupport.this.global.AliasTypeSymbol">AnyRefClass</a> /* which we normalize */<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#834768" title="ModelFactoryTypeSupport.this.global.Symbol">owner</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411184" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="String" id="834890">qName</a> = <a href="ModelFactory.scala.html#772707" title="(sym: ModelFactoryTypeSupport.this.global.Symbol, relativeTo: Option[ModelFactoryTypeSupport.this.global.Symbol])String">makeQualifiedName</a><span class="delimiter">(</span><a href="#834768" title="ModelFactoryTypeSupport.this.global.Symbol">owner</a>, <a href="../../../../Option.scala.html#63128" title="(x: ModelFactoryTypeSupport.this.global.Symbol)Some[ModelFactoryTypeSupport.this.global.Symbol]">Some</a><span class="delimiter">(</span><a href="#823386" title="ModelFactoryTypeSupport.this.TemplateImpl">inTpl</a>.<a href="ModelFactory.scala.html#772932" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#834890" title="String">qName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="#834890" title="String">qName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>
                <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#834763" title="ModelFactoryTypeSupport.this.global.Type">pre</a><span class="delimiter">)</span>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;)#&quot;)" class="string">&quot;)#&quot;</span>
                <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> // we already appended the prefix
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

          //DEBUGGING:
          //if (makeQualifiedName(bSym) == &quot;pack1.A&quot;) println(&quot;needsPrefix(&quot; + bSym + &quot;, &quot; + owner + &quot;, &quot; + inTpl.qualifiedName + &quot;) =&gt; &quot; + needsPrefix + &quot;  and prefix=&quot; + prefix)

          <span class="keyword">val</span> <a title="String" id="834772">name</a> = <a href="#834771" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <a href="#834767" title="ModelFactoryTypeSupport.this.global.Symbol">bSym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411504" title="=&gt; String">nameString</a>
          <span class="keyword">val</span> <a title="Int" id="834773">pos0</a> = <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#69115" title="=&gt; Int">length</a>
          <a href="#834634" title="(x$1: scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)])Unit">refBuffer</a> <a href="../../../../collection/immutable/TreeMap.scala.html#230104" title="(kv: (Int, (scala.tools.nsc.doc.model.LinkTo, Int)))scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]">+=</a> <a href="../../../../Predef.scala.html#7509" title="(x: Int)ArrowAssoc[Int]">pos0</a> <a href="../../../../Predef.scala.html#62634" title="(y: (scala.tools.nsc.doc.model.LinkTo, Int))(Int, (scala.tools.nsc.doc.model.LinkTo, Int))">-&gt;</a> <span class="delimiter">(</span><a href="../../../../Tuple2.scala.html#62849" title="(_1: scala.tools.nsc.doc.model.LinkTo, _2: Int)(scala.tools.nsc.doc.model.LinkTo, Int)" class="delimiter">(</a><a href="#834769" title="scala.tools.nsc.doc.model.LinkTo">link</a>, <a href="#834772" title="String">name</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <a href="#834772" title="String">name</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#834765" title="List[ModelFactoryTypeSupport.this.global.Type]">targs</a>.<a href="../../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char('[')" class="char">'['</span>
            <a href="#834636" title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit">appendTypes0</a><span class="delimiter">(</span><a href="#834765" title="List[ModelFactoryTypeSupport.this.global.Type]">targs</a>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
            <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char(']')" class="char">']'</span>
          <span class="delimiter">}</span>
        /* Refined types */
        <span class="keyword">case</span> RefinedType<a href="#3323895" title="Unit" id="3323903" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410866" title="List[ModelFactoryTypeSupport.this.global.Type]" id="835060">parents</a>, <a href="../../../../reflect/internal/Types.scala.html#410868" title="ModelFactoryTypeSupport.this.global.Scope" id="835061">defs</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.Set[ModelFactoryTypeSupport.this.global.Symbol]" id="835062">ignoreParents</a> = <a href="../../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.Set[A]">Set</a><span title="(elems: ModelFactoryTypeSupport.this.global.Symbol*)scala.collection.Set[ModelFactoryTypeSupport.this.global.Symbol]" class="delimiter">[</span><a href="../../../../reflect/internal/Symbols.scala.html#407146" title="ModelFactoryTypeSupport.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../../reflect/internal/Definitions.scala.html#408667" title="=&gt; ModelFactoryTypeSupport.this.global.ClassSymbol">AnyClass</a>, <a href="../../../../reflect/internal/Definitions.scala.html#408671" title="=&gt; ModelFactoryTypeSupport.this.global.ClassSymbol">ObjectClass</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[ModelFactoryTypeSupport.this.global.Type]" id="835063">filtParents</a> = <a href="#835060" title="List[ModelFactoryTypeSupport.this.global.Type]">parents</a> <a href="../../../../collection/TraversableLike.scala.html#58074" title="(p: ModelFactoryTypeSupport.this.global.Type =&gt; Boolean)List[ModelFactoryTypeSupport.this.global.Type]">filterNot</a> <span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Type" id="835068">x</a> =&gt; <a href="../../../../collection/GenSetLike.scala.html#66403" title="(elem: ModelFactoryTypeSupport.this.global.Symbol)Boolean">ignoreParents</a><span class="delimiter">(</span><a href="#835068" title="ModelFactoryTypeSupport.this.global.Type">x</a>.<a href="../../../../reflect/internal/Types.scala.html#408407" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#11188" title="List[ModelFactoryTypeSupport.this.global.Type]" id="3323806">Nil</a>    =&gt; <a href="#3323808" title="(x: List[ModelFactoryTypeSupport.this.global.Type])List[ModelFactoryTypeSupport.this.global.Type]">parents</a>
            <span class="keyword">case</span> ps     =&gt; <a href="#3323808" title="(x: List[ModelFactoryTypeSupport.this.global.Type])List[ModelFactoryTypeSupport.this.global.Type]">ps</a>
          <span class="delimiter">}</span>
          <a href="#834636" title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit">appendTypes0</a><span class="delimiter">(</span><a href="#835063" title="List[ModelFactoryTypeSupport.this.global.Type]">filtParents</a>, <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span class="delimiter">)</span>
          // XXX Still todo: properly printing refinements.
          // Since I didn't know how to go about displaying a multi-line type, I went with
          // printing single method refinements (which should be the most common) and printing
          // the number of members if there are more.
          <a href="#835061" title="ModelFactoryTypeSupport.this.global.Scope">defs</a>.<a href="../../../../reflect/internal/Scopes.scala.html#410521" title="=&gt; List[ModelFactoryTypeSupport.this.global.Symbol]">toList</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#11188" title="Unit" id="3323821">Nil</a>      =&gt; <a href="#3323824" title="(x: Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#206583" title="ModelFactoryTypeSupport.this.global.Symbol" id="835087">x</a> <a href="#3323816" title="Unit" id="3323819">::</a> <a href="../../../../collection/immutable/List.scala.html#206584" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="3323822">Nil</a> =&gt; <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="#3323824" title="(x: Unit)Unit">append</a> <span class="delimiter">(</span><span title="String(&quot; { &quot;)" class="string">&quot; { &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#835087" title="ModelFactoryTypeSupport.this.global.Symbol">x</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411516" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; }&quot;)" class="string">&quot; }&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> xs       =&gt; <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="#3323824" title="(x: Unit)Unit">append</a> <span class="delimiter">(</span><a href="../../../../Predef.scala.html#7604" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; { ... /* %d definitions in type refinement */ }&quot;</a> <a href="../../../../collection/immutable/StringLike.scala.html#59882" title="(args: Any*)String">format</a> xs.<a href="../../../../collection/SeqLike.scala.html#58788" title="=&gt; Int">size</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        /* Eval-by-name types */
        <span class="keyword">case</span> NullaryMethodType<a href="#3323895" title="Unit" id="3323905" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410746" title="ModelFactoryTypeSupport.this.global.Type" id="835101">result</a><span class="delimiter">)</span> =&gt;
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69146" title="(x: Char)StringBuilder">append</a> <span title="Char('⇒')" class="char">'⇒'</span>
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835101" title="ModelFactoryTypeSupport.this.global.Type">result</a><span class="delimiter">)</span>

        /* Polymorphic types */
        <span class="keyword">case</span> PolyType<a href="#3323895" title="Unit" id="3323907" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410715" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="835108">tparams</a>, <a href="../../../../reflect/internal/Types.scala.html#410717" title="ModelFactoryTypeSupport.this.global.Type" id="835109">result</a><span class="delimiter">)</span> =&gt; <a href="../../Global.scala.html#537498" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#835108" title="List[ModelFactoryTypeSupport.this.global.Symbol]">tparams</a>.<a href="../../../../collection/TraversableOnce.scala.html#58191" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(tps: List[ModelFactoryTypeSupport.this.global.Symbol])String" id="835110">typeParamsToString</a><span class="delimiter">(</span><a title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="835114">tps</a>: <a href="../../../../collection/immutable/List.scala.html#11952" title="List[ModelFactoryTypeSupport.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#835114" title="List[ModelFactoryTypeSupport.this.global.Symbol]">tps</a>.<a href="../../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span>
            <a href="#835114" title="List[ModelFactoryTypeSupport.this.global.Symbol]">tps</a>.<a href="../../../../collection/TraversableLike.scala.html#58063" title="(f: ModelFactoryTypeSupport.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[ModelFactoryTypeSupport.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">{</a><a title="ModelFactoryTypeSupport.this.global.Symbol" id="835131">tparam</a> =&gt;
              <a href="#835131" title="ModelFactoryTypeSupport.this.global.Symbol">tparam</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411104" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#835131" title="ModelFactoryTypeSupport.this.global.Symbol">tparam</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; tparam.NameType">name</a> <span title="(x$1: Any)String">+</span> <a href="#835110" title="(tps: List[ModelFactoryTypeSupport.this.global.Symbol])String">typeParamsToString</a><span class="delimiter">(</span><a href="#835131" title="ModelFactoryTypeSupport.this.global.Symbol">tparam</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411389" title="=&gt; List[ModelFactoryTypeSupport.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>.<a href="../../../../collection/TraversableOnce.scala.html#58282" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <a href="#835110" title="(tps: List[ModelFactoryTypeSupport.this.global.Symbol])String">typeParamsToString</a><span class="delimiter">(</span><a href="#835108" title="List[ModelFactoryTypeSupport.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835109" title="ModelFactoryTypeSupport.this.global.Type">result</a><span class="delimiter">)</span>

        <span class="keyword">case</span> et@ExistentialType<a href="#3323895" title="Unit" id="3323909" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410683" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="835170">quantified</a>, <a href="../../../../reflect/internal/Types.scala.html#410685" title="ModelFactoryTypeSupport.this.global.Type" id="835171">underlying</a><span class="delimiter">)</span> =&gt;

          <span class="keyword">def</span> <a title="(sym: ModelFactoryTypeSupport.this.global.Symbol, tp: ModelFactoryTypeSupport.this.global.Type)Unit" id="835172">appendInfoStringReduced</a><span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Symbol" id="835174">sym</a>: <a href="../../../../reflect/internal/Symbols.scala.html#407146" title="ModelFactoryTypeSupport.this.global.Symbol">Symbol</a>, <a title="ModelFactoryTypeSupport.this.global.Type" id="835175">tp</a>: <a href="../../../../reflect/internal/Types.scala.html#407270" title="ModelFactoryTypeSupport.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#1515" title="Unit">Unit</a> = <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#835174" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#402394" title="=&gt; Boolean">isType</a> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#835174" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411170" title="=&gt; Boolean">isAliasType</a> <a href="../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#835174" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/api/Symbols.scala.html#402403" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#835175" title="ModelFactoryTypeSupport.this.global.Type">tp</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> PolyType<a href="#3323836" title="Any" id="3323839" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410715" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="835178">tparams</a>, <a href="../../../../reflect/internal/Types.scala.html#410717" title="ModelFactoryTypeSupport.this.global.Type" id="3323837">_</a><span class="delimiter">)</span> =&gt;
                    <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>
                    <a href="#834636" title="(types: List[ModelFactoryTypeSupport.this.global.Type], sep: String)Unit">appendTypes0</a><span class="delimiter">(</span><a href="#835178" title="List[ModelFactoryTypeSupport.this.global.Symbol]">tparams</a>.<a href="../../../../collection/TraversableLike.scala.html#58063" title="(f: ModelFactoryTypeSupport.this.global.Symbol =&gt; ModelFactoryTypeSupport.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ModelFactoryTypeSupport.this.global.Symbol],ModelFactoryTypeSupport.this.global.Type,List[ModelFactoryTypeSupport.this.global.Type]])List[ModelFactoryTypeSupport.this.global.Type]">map</a><a href="../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,ModelFactoryTypeSupport.this.global.Type,List[ModelFactoryTypeSupport.this.global.Type]]" class="delimiter">(</a><a href="#835199" title="ModelFactoryTypeSupport.this.global.Symbol">_</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; ModelFactoryTypeSupport.this.global.Type">tpe</a><span class="delimiter">)</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
                    <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
                  <span class="keyword">case</span> _ =&gt;
                <span class="delimiter">}</span>
                <a href="#835175" title="ModelFactoryTypeSupport.this.global.Type">tp</a>.<a href="../../../../reflect/internal/Types.scala.html#408423" title="=&gt; ModelFactoryTypeSupport.this.global.Type">resultType</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> rt @ TypeBounds<a href="#3323846" title="Unit" id="3323850" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410582" title="ModelFactoryTypeSupport.this.global.Type" id="3323847">_</a>, <a href="../../../../reflect/internal/Types.scala.html#410584" title="ModelFactoryTypeSupport.this.global.Type" id="3323848">_</a><span class="delimiter">)</span> =&gt;
                    <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><a href="#3323852" title="(x: Unit)Unit" class="delimiter">(</a>rt<span class="delimiter">)</span>
                  <span class="keyword">case</span> rt                    =&gt;
                    <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot; &lt;: &quot;)" class="string">&quot; &lt;: &quot;</span>
                    <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span>rt<span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              // fallback to the Symbol infoString
              <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <a href="#835174" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411512" title="(tp: ModelFactoryTypeSupport.this.global.Type)String">infoString</a><span class="delimiter">(</span><a href="#835175" title="ModelFactoryTypeSupport.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; StringBuilder" id="835173">appendClauses</a> = <span class="delimiter">{</span>
            <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot; forSome {&quot;)" class="string">&quot; forSome {&quot;</span>
            <span class="keyword">var</span> <a title="Boolean" id="835253">first</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="scala.collection.immutable.Set[ModelFactoryTypeSupport.this.global.Symbol]" id="835254">qset</a> = <a href="#835170" title="List[ModelFactoryTypeSupport.this.global.Symbol]">quantified</a>.<a href="../../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[ModelFactoryTypeSupport.this.global.Symbol]">toSet</a>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Symbol" id="835284">sym</a> &lt;- <a href="../../../../collection/immutable/List.scala.html#62719" title="(f: ModelFactoryTypeSupport.this.global.Symbol =&gt; Unit)Unit">quantified</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#835253" title="Boolean">first</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#835253" title="Boolean">first</a> = <span title="Boolean(false)" class="keyword">false</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411519" title="=&gt; Boolean">isSingletonExistential</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;val &quot;)" class="string">&quot;val &quot;</span>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69133" title="(x: Any)StringBuilder">append</a> <a href="../../../../reflect/internal/StdNames.scala.html#407863" title="ModelFactoryTypeSupport.this.global.tpnme.type">tpnme</a>.<a href="../../../../reflect/internal/StdNames.scala.html#416353" title="(name: ModelFactoryTypeSupport.this.global.Name)ModelFactoryTypeSupport.this.global.TypeName">dropSingletonName</a><span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411087" title="=&gt; sym.NameType">name</a><span class="delimiter">)</span>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span>
                <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#476336" title="(tp: ModelFactoryTypeSupport.this.global.Type)ModelFactoryTypeSupport.this.global.Type">dropSingletonType</a><span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ModelFactoryTypeSupport.this.global.Type">info</a>.<a href="../../../../reflect/internal/Types.scala.html#408415" title="=&gt; ModelFactoryTypeSupport.this.global.TypeBounds">bounds</a>.<a href="../../../../reflect/internal/Types.scala.html#410584" title="=&gt; ModelFactoryTypeSupport.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#409834" title="=&gt; String">flagString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/HasFlags.scala.html#409834" title="=&gt; String">flagString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411494" title="=&gt; String">keyString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411494" title="=&gt; String">keyString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411104" title="=&gt; String">varianceString</a>
                <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411504" title="=&gt; String">nameString</a>
                <a href="#835172" title="(sym: ModelFactoryTypeSupport.this.global.Symbol, tp: ModelFactoryTypeSupport.this.global.Type)Unit">appendInfoStringReduced</a><span class="delimiter">(</span><a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>, <a href="#835284" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ModelFactoryTypeSupport.this.global.Type">info</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>
          <span class="delimiter">}</span>

          <a href="#835171" title="ModelFactoryTypeSupport.this.global.Type">underlying</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> TypeRef<a href="#3323868" title="Unit" id="3323870" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410887" title="ModelFactoryTypeSupport.this.global.Type" id="835359">pre</a>, <a href="../../../../reflect/internal/Types.scala.html#410889" title="ModelFactoryTypeSupport.this.global.Symbol" id="835360">sym</a>, <a href="../../../../reflect/internal/Types.scala.html#410891" title="List[ModelFactoryTypeSupport.this.global.Type]" id="835361">args</a><span class="delimiter">)</span> <span class="keyword">if</span> et.<a href="../../../../reflect/internal/Types.scala.html#410704" title="=&gt; Boolean">isRepresentableWithWildcards</a> =&gt;
              <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#407402" title="(pre: ModelFactoryTypeSupport.this.global.Type, sym: ModelFactoryTypeSupport.this.global.Symbol, args: List[ModelFactoryTypeSupport.this.global.Type])ModelFactoryTypeSupport.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#835359" title="ModelFactoryTypeSupport.this.global.Type">pre</a>, <a href="#835360" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>, <a href="../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span>
              <span class="keyword">var</span> <a title="Boolean" id="835362">first</a> = <span title="Boolean(true)" class="keyword">true</span>
              <span class="keyword">val</span> <a title="scala.collection.immutable.Set[ModelFactoryTypeSupport.this.global.Symbol]" id="835363">qset</a> = <a href="#835170" title="List[ModelFactoryTypeSupport.this.global.Symbol]">quantified</a>.<a href="../../../../collection/TraversableOnce.scala.html#58270" title="scala.collection.immutable.Set[ModelFactoryTypeSupport.this.global.Symbol]">toSet</a>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="ModelFactoryTypeSupport.this.global.Type" id="835397">arg</a> &lt;- <a href="../../../../collection/immutable/List.scala.html#62719" title="(f: ModelFactoryTypeSupport.this.global.Type =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#835362" title="Boolean">first</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#835362" title="Boolean">first</a> = <span title="Boolean(false)" class="keyword">false</span>
                <a href="#835397" title="ModelFactoryTypeSupport.this.global.Type">arg</a> <span class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> TypeRef<a href="#3323857" title="Unit" id="3323861" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410887" title="ModelFactoryTypeSupport.this.global.Type" id="3323858">_</a>, <a href="../../../../reflect/internal/Types.scala.html#410889" title="ModelFactoryTypeSupport.this.global.Symbol" id="835410">sym</a>, <a href="../../../../reflect/internal/Types.scala.html#410891" title="List[ModelFactoryTypeSupport.this.global.Type]" id="3323859">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#835363" title="scala.collection.immutable.Set[ModelFactoryTypeSupport.this.global.Symbol]">qset</a> <a href="../../../../collection/SetLike.scala.html#66442" title="(elem: ModelFactoryTypeSupport.this.global.Symbol)Boolean">contains</a> <a href="#835410" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
                    <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span>
                    <a href="#835172" title="(sym: ModelFactoryTypeSupport.this.global.Symbol, tp: ModelFactoryTypeSupport.this.global.Type)Unit">appendInfoStringReduced</a><span class="delimiter">(</span><a href="#835410" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>, <a href="#835410" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411367" title="=&gt; ModelFactoryTypeSupport.this.global.Type">info</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> arg =&gt;
                    <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><a href="#3323863" title="(x: Unit)Unit" class="delimiter">(</a>arg<span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
            <span class="keyword">case</span> MethodType<a href="#3323868" title="Unit" id="3323874" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410769" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="3323871">_</a>, <a href="../../../../reflect/internal/Types.scala.html#410771" title="ModelFactoryTypeSupport.this.global.Type" id="3323872">_</a><span class="delimiter">)</span> | NullaryMethodType<a href="#3323868" title="Boolean" id="3323877" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410746" title="ModelFactoryTypeSupport.this.global.Type" id="3323875">_</a><span class="delimiter">)</span> | PolyType<a href="#3323868" title="Boolean" id="3323881" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410715" title="List[ModelFactoryTypeSupport.this.global.Symbol]" id="3323878">_</a>, <a href="../../../../reflect/internal/Types.scala.html#410717" title="ModelFactoryTypeSupport.this.global.Type" id="3323879">_</a><span class="delimiter">)</span> =&gt;
              <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>
              <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835171" title="ModelFactoryTypeSupport.this.global.Type">underlying</a><span class="delimiter">)</span>
              <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
              <a href="#835173" title="=&gt; StringBuilder">appendClauses</a>
            <span class="keyword">case</span> _ =&gt;
              <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835171" title="ModelFactoryTypeSupport.this.global.Type">underlying</a><span class="delimiter">)</span>
              <a href="#835173" title="=&gt; StringBuilder">appendClauses</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> tb@TypeBounds<a href="#3323895" title="Unit" id="3323911" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410582" title="ModelFactoryTypeSupport.this.global.Type" id="835439">lo</a>, <a href="../../../../reflect/internal/Types.scala.html#410584" title="ModelFactoryTypeSupport.this.global.Type" id="835440">hi</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>tb.<a href="../../../../reflect/internal/Types.scala.html#410582" title="=&gt; ModelFactoryTypeSupport.this.global.Type">lo</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Types.scala.html#407302" title="ModelFactoryTypeSupport.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../../reflect/internal/Types.scala.html#424771" title="=&gt; ModelFactoryTypeSupport.this.global.TypeBounds">empty</a>.<a href="../../../../reflect/internal/Types.scala.html#410582" title="=&gt; ModelFactoryTypeSupport.this.global.Type">lo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot; &gt;: &quot;)" class="string">&quot; &gt;: &quot;</span>
            <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835439" title="ModelFactoryTypeSupport.this.global.Type">lo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>tb.<a href="../../../../reflect/internal/Types.scala.html#410584" title="=&gt; ModelFactoryTypeSupport.this.global.Type">hi</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../reflect/internal/Types.scala.html#407302" title="ModelFactoryTypeSupport.this.global.TypeBounds.type">TypeBounds</a>.<a href="../../../../reflect/internal/Types.scala.html#424771" title="=&gt; ModelFactoryTypeSupport.this.global.TypeBounds">empty</a>.<a href="../../../../reflect/internal/Types.scala.html#410584" title="=&gt; ModelFactoryTypeSupport.this.global.Type">hi</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot; &lt;: &quot;)" class="string">&quot; &lt;: &quot;</span>
            <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835440" title="ModelFactoryTypeSupport.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        // case tpen: ThisType | SingleType | SuperType =&gt;
        //   if (tpen.isInstanceOf[ThisType] &amp;&amp; tpen.asInstanceOf[ThisType].sym.isEffectiveRoot) {
        //     appendType0 typeRef(NoPrefix, sym, Nil)
        //   } else {
        //     val underlying =
        //     val pre = underlying.typeSymbol.skipPackageObject
        //     if (pre.isOmittablePrefix) pre.fullName + &quot;.type&quot;
        //     else prefixString + &quot;type&quot;
        <span class="keyword">case</span> tpen@ThisType<a href="#3323895" title="Unit" id="3323913" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#411018" title="ModelFactoryTypeSupport.this.global.Symbol" id="835461">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#407402" title="(pre: ModelFactoryTypeSupport.this.global.Type, sym: ModelFactoryTypeSupport.this.global.Symbol, args: List[ModelFactoryTypeSupport.this.global.Type])ModelFactoryTypeSupport.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#407286" title="ModelFactoryTypeSupport.this.global.NoPrefix.type">NoPrefix</a>, <a href="#835461" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>, <a href="../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;.this&quot;)" class="string">&quot;.this&quot;</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a>tpen.<a href="../../../../reflect/internal/Types.scala.html#411024" title="=&gt; ModelFactoryTypeSupport.this.global.Type">underlying</a>.<a href="../../../../reflect/internal/Types.scala.html#408407" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">typeSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411260" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">skipPackageObject</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411262" title="=&gt; Boolean">isOmittablePrefix</a><span class="delimiter">)</span> <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span>
        <span class="keyword">case</span> tpen@SuperType<a href="#3323895" title="Unit" id="3323915" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410972" title="ModelFactoryTypeSupport.this.global.Type" id="835474">thistpe</a>, <a href="../../../../reflect/internal/Types.scala.html#410974" title="ModelFactoryTypeSupport.this.global.Type" id="835475">supertpe</a><span class="delimiter">)</span> =&gt;
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;super[&quot;)" class="string">&quot;super[&quot;</span>
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#835475" title="ModelFactoryTypeSupport.this.global.Type">supertpe</a><span class="delimiter">)</span>
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span>
        <span class="keyword">case</span> tpen@SingleType<a href="#3323895" title="Unit" id="3323917" class="delimiter">(</a><a href="../../../../reflect/internal/Types.scala.html#410991" title="ModelFactoryTypeSupport.this.global.Type" id="835487">pre</a>, <a href="../../../../reflect/internal/Types.scala.html#410993" title="ModelFactoryTypeSupport.this.global.Symbol" id="835488">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="../../../../reflect/internal/Types.scala.html#407402" title="(pre: ModelFactoryTypeSupport.this.global.Type, sym: ModelFactoryTypeSupport.this.global.Symbol, args: List[ModelFactoryTypeSupport.this.global.Type])ModelFactoryTypeSupport.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#835487" title="ModelFactoryTypeSupport.this.global.Type">pre</a>, <a href="#835488" title="ModelFactoryTypeSupport.this.global.Symbol">sym</a>, <a href="../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a>tpen.<a href="../../../../reflect/internal/Types.scala.html#411008" title="=&gt; ModelFactoryTypeSupport.this.global.Type">underlying</a>.<a href="../../../../reflect/internal/Types.scala.html#408407" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">typeSymbol</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411260" title="=&gt; ModelFactoryTypeSupport.this.global.Symbol">skipPackageObject</a>.<a href="../../../../reflect/internal/Symbols.scala.html#411262" title="=&gt; Boolean">isOmittablePrefix</a><span class="delimiter">)</span> <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="../../../../collection/mutable/StringBuilder.scala.html#69134" title="(s: String)StringBuilder">append</a> <span title="String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span>
        <span class="keyword">case</span> tpen =&gt;
          <a href="#834631" title="=&gt; StringBuilder">nameBuffer</a> <a href="#3323924" title="(x: Unit)Unit">append</a> tpen.<a href="../../../../reflect/internal/Types.scala.html#408499" title="()String">toString</a>
      <span class="delimiter">}</span>
      <a href="#834637" title="(tpe: ModelFactoryTypeSupport.this.global.Type)Unit">appendType0</a><span class="delimiter">(</span><a href="#823385" title="ModelFactoryTypeSupport.this.global.Type">aType</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]" id="834638">refEntity</a> = <a href="#834634" title="=&gt; scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]">refBuffer</a>
      <span class="keyword">val</span> <a title="String" id="834640">name</a> = <a href="ModelFactory.scala.html#772676" title="(str: String)String">optimize</a><span class="delimiter">(</span><a href="#834631" title="=&gt; StringBuilder">nameBuffer</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#69169" title="()String">toString</a><span class="delimiter">)</span>
      <a href="#834631" title="(x$1: StringBuilder)Unit">nameBuffer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="delimiter">}</span>

    // SI-4360: Entity caching depends on both the type AND the template it's in, as the prefixes might change for the
    // same type based on the template the type is shown in.
    <span title="scala.tools.nsc.doc.model.TypeEntity" class="keyword">if</span> <span class="delimiter">(</span><a href="ModelFactory.scala.html#772640" title="=&gt; scala.tools.nsc.doc.Settings">settings</a>.<a href="../Settings.scala.html#602594" title="=&gt; ModelFactoryTypeSupport.this.settings.BooleanSetting">docNoPrefixes</a>.<a href="../../settings/MutableSettings.scala.html#541066" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
      <a href="#772760" title="=&gt; scala.collection.mutable.LinkedHashMap[ModelFactoryTypeSupport.this.global.Type,scala.tools.nsc.doc.model.TypeEntity]">typeCache</a>.<a href="../../../../collection/mutable/MapLike.scala.html#87629" title="(key: ModelFactoryTypeSupport.this.global.Type, op: =&gt; scala.tools.nsc.doc.model.TypeEntity)scala.tools.nsc.doc.model.TypeEntity">getOrElseUpdate</a><span class="delimiter">(</span><a href="#823385" title="ModelFactoryTypeSupport.this.global.Type">aType</a>, <a href="#834626" title="=&gt; scala.tools.nsc.doc.model.TypeEntity{val refEntity: scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]; val name: String}">createTypeEntity</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#834626" title="=&gt; scala.tools.nsc.doc.model.TypeEntity{val refEntity: scala.collection.immutable.TreeMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]; val name: String}">createTypeEntity</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>