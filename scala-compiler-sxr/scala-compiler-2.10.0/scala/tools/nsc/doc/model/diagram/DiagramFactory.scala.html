<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/doc/model/diagram/DiagramFactory.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc.doc
<span class="keyword">package</span> model
<span class="keyword">package</span> diagram

<span class="keyword">import</span> model._
<span class="keyword">import</span> comment.CommentFactory
<span class="keyword">import</span> scala.collection.mutable

// statistics
<span class="keyword">import</span>  html.page.diagram.DiagramStats

<span class="keyword">import</span> scala.collection.immutable.SortedMap

/**
 *  This trait takes care of generating the diagram for classes and packages
 *
 *  @author Damien Obrist
 *  @author Vlad Ureche
 */
<span class="keyword">trait</span> <a title="trait DiagramFactory extends Object with scala.tools.nsc.doc.model.diagram.DiagramDirectiveParser" id="35545">DiagramFactory</a> <a href="../../../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> <a href="DiagramDirectiveParser.scala.html#35437" title="scala.tools.nsc.doc.model.diagram.DiagramDirectiveParser">DiagramDirectiveParser</a> <span class="delimiter">{</span>
  <span class="keyword">this</span>: ModelFactory <span class="keyword">with</span> ModelFactoryTypeSupport <span class="keyword">with</span> DiagramFactory <span class="keyword">with</span> CommentFactory <span class="keyword">with</span> TreeFactory =&gt;

  <span class="keyword">import</span> <a href="#35545" title="scala.tools.nsc.doc.model.diagram.&lt;refinement&gt;.type" class="keyword">this</a>.<a href="../ModelFactory.scala.html#772638" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../../../reflect/internal/Definitions.scala.html#407777" title="DiagramFactory.this.global.definitions.type">definitions</a>._
  <span class="keyword">import</span> <a href="#35545" title="scala.tools.nsc.doc.model.diagram.&lt;refinement&gt;.type" class="keyword">this</a>.<a href="../ModelFactory.scala.html#772638" title="=&gt; scala.tools.nsc.Global">global</a>._

  // the following can used for hardcoding different relations into the diagram, for bootstrapping purposes
  <span class="keyword">def</span> <a title="(text: String)scala.tools.nsc.doc.model.diagram.NormalNode" id="772799">aggregationNode</a><span class="delimiter">(</span><a title="String" id="843999">text</a>: <span title="String">String</span><span class="delimiter">)</span> =
    <a href="Diagram.scala.html#35489" title="scala.tools.nsc.doc.model.diagram.NormalNode.type">NormalNode</a><a href="Diagram.scala.html#815255" title="Option[String]" id="844074" class="delimiter">(</a><a href="#844002" title="scala.tools.nsc.doc.model.TypeEntity{}" id="844072" class="keyword">new</a> <a href="../TypeEntity.scala.html#34754" title="anonymous class $anon extends scala.tools.nsc.doc.model.TypeEntity" id="844002">TypeEntity</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="String" id="844004">name</a> = <a href="#843999" title="String">text</a>; <span class="keyword">val</span> <a title="scala.collection.immutable.SortedMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]" id="844006">refEntity</a> = <a href="../../../../../collection/generic/SortedMapFactory.scala.html#171784" title="[A, B](elems: (A, B)*)(implicit ord: Ordering[A])scala.collection.immutable.SortedMap[A,B]">SortedMap</a><span title="(elems: (Int, (scala.tools.nsc.doc.model.LinkTo, Int))*)(implicit ord: Ordering[Int])scala.collection.immutable.SortedMap[Int,(scala.tools.nsc.doc.model.LinkTo, Int)]" class="delimiter">[</span><a href="../../../../../Int.scala.html#321" title="Int">Int</a>, <a href="../../../../../Tuple2.scala.html#783" title="(scala.tools.nsc.doc.model.LinkTo, Int)" class="delimiter">(</a>LinkTo, Int<span class="delimiter">)</span><span class="delimiter">]</span><a href="../../../../../math/Ordering.scala.html#82238" title="scala.math.Ordering.Int.type" class="delimiter">(</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="../../../../../Option.scala.html#1585" title="None.type" id="844073">None</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Create the inheritance diagram for this template */
  <span class="keyword">def</span> <a title="(tpl: DiagramFactory.this.DocTemplateImpl)Option[scala.tools.nsc.doc.model.diagram.Diagram]" id="772800">makeInheritanceDiagram</a><span class="delimiter">(</span><a title="DiagramFactory.this.DocTemplateImpl" id="826343">tpl</a>: <a href="../ModelFactory.scala.html#772682" title="DiagramFactory.this.DocTemplateImpl">DocTemplateImpl</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#978" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">Option</a><span class="delimiter">[</span>Diagram<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <a href="DiagramDirectiveParser.scala.html#772770" title="(x$1: Long)Unit">tFilter</a> = <span title="Long(0L)" class="int">0</span>
    <a href="DiagramDirectiveParser.scala.html#772773" title="(x$1: Long)Unit">tModel</a> = <a href="../../../../../Long.scala.html#57452" title="=&gt; Long">-</a><span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>

    // the diagram filter
    <span class="keyword">val</span> <a title="DiagramFactory.this.DiagramFilter" id="844075">diagramFilter</a> = <a href="DiagramDirectiveParser.scala.html#772767" title="(template: DiagramFactory.this.DocTemplateImpl)DiagramFactory.this.DiagramFilter">makeInheritanceDiagramFilter</a><span class="delimiter">(</span><a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(from: scala.tools.nsc.doc.model.DocTemplateEntity, to: scala.tools.nsc.doc.model.TemplateEntity, conv: scala.tools.nsc.doc.model.ImplicitConversion)Some[String]" id="844076">implicitTooltip</a><span class="delimiter">(</span><a title="scala.tools.nsc.doc.model.DocTemplateEntity" id="844079">from</a>: <a href="../Entity.scala.html#34469" title="scala.tools.nsc.doc.model.DocTemplateEntity">DocTemplateEntity</a>, <a title="scala.tools.nsc.doc.model.TemplateEntity" id="844080">to</a>: <a href="../Entity.scala.html#34346" title="scala.tools.nsc.doc.model.TemplateEntity">TemplateEntity</a>, <a title="scala.tools.nsc.doc.model.ImplicitConversion" id="844081">conv</a>: <a href="../Entity.scala.html#34325" title="scala.tools.nsc.doc.model.ImplicitConversion">ImplicitConversion</a><span class="delimiter">)</span> =
      <a href="../../../../../Option.scala.html#63128" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#844079" title="scala.tools.nsc.doc.model.DocTemplateEntity">from</a>.<a href="../Entity.scala.html#772920" title="=&gt; String">qualifiedName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; can be implicitly converted to &quot;)" class="string">&quot; can be implicitly converted to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#844081" title="scala.tools.nsc.doc.model.ImplicitConversion">conv</a>.<a href="../Entity.scala.html#785750" title="=&gt; scala.tools.nsc.doc.model.TypeEntity">targetType</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; by the implicit method &quot;)" class="string">&quot; by the implicit method &quot;</span>
        <span title="(x$1: Any)String">+</span> <a href="#844081" title="scala.tools.nsc.doc.model.ImplicitConversion">conv</a>.<a href="../Entity.scala.html#785754" title="=&gt; String">conversionShortName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#844081" title="scala.tools.nsc.doc.model.ImplicitConversion">conv</a>.<a href="../Entity.scala.html#785756" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">convertorOwner</a>.<a href="../Entity.scala.html#772926" title="=&gt; String">kind</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#844081" title="scala.tools.nsc.doc.model.ImplicitConversion">conv</a>.<a href="../Entity.scala.html#785756" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">convertorOwner</a>.<a href="../Entity.scala.html#772920" title="=&gt; String">qualifiedName</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" id="844077">result</a> =
      <span title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844075" title="DiagramFactory.this.DiagramFilter">diagramFilter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="DiagramDirectiveParser.scala.html#772777" title="DiagramFactory.this.NoDiagramAtAll.type">NoDiagramAtAll</a><span class="delimiter">)</span>
        <a href="../../../../../Option.scala.html#1585" title="None.type">None</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        // the main node
        <span class="keyword">val</span> <a title="scala.tools.nsc.doc.model.diagram.ThisNode" id="844089">thisNode</a> = <a href="Diagram.scala.html#840898" title="(tpe: scala.tools.nsc.doc.model.TypeEntity, tpl: Option[scala.tools.nsc.doc.model.TemplateEntity])(tooltip: Option[String])scala.tools.nsc.doc.model.diagram.ThisNode">ThisNode</a><span class="delimiter">(</span><a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#772966" title="=&gt; scala.tools.nsc.doc.model.TypeEntity">resultType</a>, <a href="../../../../../Option.scala.html#63128" title="(x: DiagramFactory.this.DocTemplateImpl)Some[DiagramFactory.this.DocTemplateImpl]">Some</a><span class="delimiter">(</span><a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../../Option.scala.html#63128" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#773132" title="=&gt; String">qualifiedName</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; (this &quot;)" class="string">&quot; (this &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../Entity.scala.html#772926" title="=&gt; String">kind</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // superclasses
        <span class="keyword">var</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="844090">superclasses</a>: <a href="../../../../../collection/immutable/List.scala.html#11952" title="List[scala.tools.nsc.doc.model.diagram.Node]">List</a><span class="delimiter">[</span>Node<span class="delimiter">]</span> =
          <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#772997" title="=&gt; List[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity)]">parentTypes</a>.<a href="../../../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity),scala.tools.nsc.doc.model.diagram.NormalNode])(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity)],scala.tools.nsc.doc.model.diagram.NormalNode,List[scala.tools.nsc.doc.model.diagram.NormalNode]])List[scala.tools.nsc.doc.model.diagram.NormalNode]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity),scala.tools.nsc.doc.model.diagram.NormalNode] with Serializable" id="844134" class="delimiter">{</a>
            <span class="keyword">case</span> <a href="#3330055" title="B1" id="3330064">p</a>: <span class="delimiter">(</span>TemplateEntity, TypeEntity<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../ModelFactory.scala.html#772714" title="(clazz: scala.tools.nsc.doc.model.TemplateEntity)Boolean">classExcluded</a><span class="delimiter">(</span>p.<a href="../../../../../Tuple2.scala.html#60635" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">_1</a><span class="delimiter">)</span> =&gt; <a href="Diagram.scala.html#35489" title="scala.tools.nsc.doc.model.diagram.NormalNode.type">NormalNode</a><a href="Diagram.scala.html#815255" title="Option[String]" id="844133" class="delimiter">(</a>p.<a href="../../../../../Tuple2.scala.html#60637" title="scala.tools.nsc.doc.model.TypeEntity" id="844131">_2</a>, <a href="../../../../../Option.scala.html#63128" title="(x: scala.tools.nsc.doc.model.TemplateEntity)Some[scala.tools.nsc.doc.model.TemplateEntity]">Some</a><a title="Some[scala.tools.nsc.doc.model.TemplateEntity]" id="844132" class="delimiter">(</a>p.<a href="../../../../../Tuple2.scala.html#60635" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">_1</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#3330058" title="(x: B1)B1" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>.<a href="../../../../../collection/immutable/List.scala.html#62716" title="=&gt; List[scala.tools.nsc.doc.model.diagram.NormalNode]">reverse</a>

        // incoming implcit conversions
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="844092">incomingImplicitNodes</a> = <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#773020" title="=&gt; List[(DiagramFactory.this.DocTemplateImpl, DiagramFactory.this.ImplicitConversionImpl)]">incomingImplicitlyConvertedClasses</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: ((DiagramFactory.this.DocTemplateImpl, DiagramFactory.this.ImplicitConversionImpl)) =&gt; scala.tools.nsc.doc.model.diagram.ImplicitNode)(implicit bf: scala.collection.generic.CanBuildFrom[List[(DiagramFactory.this.DocTemplateImpl, DiagramFactory.this.ImplicitConversionImpl)],scala.tools.nsc.doc.model.diagram.ImplicitNode,List[scala.tools.nsc.doc.model.diagram.ImplicitNode]])List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">map</a> <a href="#844208" title="(DiagramFactory.this.DocTemplateImpl, DiagramFactory.this.ImplicitConversionImpl)" class="delimiter">{</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../../../Tuple2.scala.html#60635" title="DiagramFactory.this.DocTemplateImpl" id="844211">incomingTpl</a>, <a href="../../../../../Tuple2.scala.html#60637" title="DiagramFactory.this.ImplicitConversionImpl" id="844212">conv</a><span class="delimiter">)</span> =&gt;
            <a href="Diagram.scala.html#815366" title="(tpe: scala.tools.nsc.doc.model.TypeEntity, tpl: Option[scala.tools.nsc.doc.model.TemplateEntity])(tooltip: Option[String])scala.tools.nsc.doc.model.diagram.ImplicitNode">ImplicitNode</a><span class="delimiter">(</span><a href="../ModelFactoryTypeSupport.scala.html#772762" title="(aType: DiagramFactory.this.global.Type, inTpl: DiagramFactory.this.TemplateImpl)scala.tools.nsc.doc.model.TypeEntity">makeType</a><span class="delimiter">(</span><a href="#844211" title="DiagramFactory.this.DocTemplateImpl">incomingTpl</a>.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; DiagramFactory.this.global.Type">tpe</a>, <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a><span class="delimiter">)</span>, <a href="../../../../../Option.scala.html#63128" title="(x: DiagramFactory.this.DocTemplateImpl)Some[DiagramFactory.this.DocTemplateImpl]">Some</a><span class="delimiter">(</span><a href="#844211" title="DiagramFactory.this.DocTemplateImpl">incomingTpl</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#3330072" title="(x: scala.tools.nsc.doc.model.diagram.ImplicitNode)scala.tools.nsc.doc.model.diagram.ImplicitNode" class="delimiter">(</a><a href="#844076" title="(from: scala.tools.nsc.doc.model.DocTemplateEntity, to: scala.tools.nsc.doc.model.TemplateEntity, conv: scala.tools.nsc.doc.model.ImplicitConversion)Some[String]">implicitTooltip</a><span class="delimiter">(</span>from=<a href="#844211" title="DiagramFactory.this.DocTemplateImpl">incomingTpl</a>, to=<a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>, conv=<a href="#844212" title="DiagramFactory.this.ImplicitConversionImpl">conv</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // subclasses
        <span class="keyword">var</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="844093">subclasses</a>: <a href="../../../../../collection/immutable/List.scala.html#11952" title="List[scala.tools.nsc.doc.model.diagram.Node]">List</a><span class="delimiter">[</span>Node<span class="delimiter">]</span> =
          <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#773015" title="=&gt; List[scala.tools.nsc.doc.model.DocTemplateEntity]">directSubClasses</a>.<a href="../../../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[scala.tools.nsc.doc.model.DocTemplateEntity,scala.tools.nsc.doc.model.diagram.NormalNode])(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.nsc.doc.model.DocTemplateEntity],scala.tools.nsc.doc.model.diagram.NormalNode,List[scala.tools.nsc.doc.model.diagram.NormalNode]])List[scala.tools.nsc.doc.model.diagram.NormalNode]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[scala.tools.nsc.doc.model.DocTemplateEntity,scala.tools.nsc.doc.model.diagram.NormalNode] with Serializable" id="844275" class="delimiter">{</a>
            <span class="keyword">case</span> <a href="#3330076" title="B1" id="3330087">d</a>: TemplateImpl <span class="keyword">if</span> <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../ModelFactory.scala.html#772714" title="(clazz: scala.tools.nsc.doc.model.TemplateEntity)Boolean">classExcluded</a><span class="delimiter">(</span>d<span class="delimiter">)</span> =&gt; <a href="Diagram.scala.html#35489" title="scala.tools.nsc.doc.model.diagram.NormalNode.type">NormalNode</a><a href="Diagram.scala.html#815255" title="Option[String]" id="844274" class="delimiter">(</a><a href="../ModelFactoryTypeSupport.scala.html#772762" title="(aType: DiagramFactory.this.global.Type, inTpl: DiagramFactory.this.TemplateImpl)scala.tools.nsc.doc.model.TypeEntity">makeType</a><a title="scala.tools.nsc.doc.model.TypeEntity" id="844272" class="delimiter">(</a>d.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#411365" title="=&gt; DiagramFactory.this.global.Type">tpe</a>, <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a><span class="delimiter">)</span>, <a href="../../../../../Option.scala.html#63128" title="(x: scala.tools.nsc.doc.model.DocTemplateEntity with DiagramFactory.this.TemplateImpl)Some[scala.tools.nsc.doc.model.DocTemplateEntity with DiagramFactory.this.TemplateImpl]">Some</a><a title="Some[scala.tools.nsc.doc.model.DocTemplateEntity with DiagramFactory.this.TemplateImpl]" id="844273" class="delimiter">(</a>d<span class="delimiter">)</span><span class="delimiter">)</span><a href="#3330081" title="(x: B1)B1" class="delimiter">(</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>.<a href="../../../../../collection/SeqLike.scala.html#58869" title="(f: scala.tools.nsc.doc.model.diagram.NormalNode =&gt; String)(implicit ord: scala.math.Ordering[String])List[scala.tools.nsc.doc.model.diagram.NormalNode]">sortBy</a><span class="delimiter">(</span><a href="#844336" title="scala.tools.nsc.doc.model.diagram.NormalNode">_</a>.<a href="Diagram.scala.html#815244" title="=&gt; Option[scala.tools.nsc.doc.model.TemplateEntity]">tpl</a>.<a href="../../../../../Option.scala.html#62858" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">get</a>.<a href="../Entity.scala.html#772919" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../../../Predef.scala.html#7472" title="[T](implicit e: T)T">implicitly</a><a href="../../../../../math/Ordering.scala.html#82256" title="(implicit e: Ordering[String])Ordering[String]" class="delimiter">[</a><a href="../../../../../math/Ordering.scala.html#17425" title="Ordering[String]">Ordering</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span>.<a href="../../../../../math/Ordering.scala.html#82125" title="=&gt; scala.math.Ordering[String]">reverse</a><span class="delimiter">)</span>

        // outgoing implicit coversions
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="844095">outgoingImplicitNodes</a> = <a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#773045" title="=&gt; List[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity, DiagramFactory.this.ImplicitConversionImpl)]">outgoingImplicitlyConvertedClasses</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: ((scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity, DiagramFactory.this.ImplicitConversionImpl)) =&gt; scala.tools.nsc.doc.model.diagram.ImplicitNode)(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity, DiagramFactory.this.ImplicitConversionImpl)],scala.tools.nsc.doc.model.diagram.ImplicitNode,List[scala.tools.nsc.doc.model.diagram.ImplicitNode]])List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">map</a> <a href="#844411" title="(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity, DiagramFactory.this.ImplicitConversionImpl)" class="delimiter">{</a>
          <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../../../Tuple3.scala.html#60576" title="scala.tools.nsc.doc.model.TemplateEntity" id="844415">outgoingTpl</a>, <a href="../../../../../Tuple3.scala.html#60578" title="scala.tools.nsc.doc.model.TypeEntity" id="844416">outgoingType</a>, <a href="../../../../../Tuple3.scala.html#60580" title="DiagramFactory.this.ImplicitConversionImpl" id="844417">conv</a><span class="delimiter">)</span> =&gt;
            <a href="Diagram.scala.html#815366" title="(tpe: scala.tools.nsc.doc.model.TypeEntity, tpl: Option[scala.tools.nsc.doc.model.TemplateEntity])(tooltip: Option[String])scala.tools.nsc.doc.model.diagram.ImplicitNode">ImplicitNode</a><span class="delimiter">(</span><a href="#844416" title="scala.tools.nsc.doc.model.TypeEntity">outgoingType</a>, <a href="../../../../../Option.scala.html#63128" title="(x: scala.tools.nsc.doc.model.TemplateEntity)Some[scala.tools.nsc.doc.model.TemplateEntity]">Some</a><span class="delimiter">(</span><a href="#844415" title="scala.tools.nsc.doc.model.TemplateEntity">outgoingTpl</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="#3330095" title="(x: scala.tools.nsc.doc.model.diagram.ImplicitNode)scala.tools.nsc.doc.model.diagram.ImplicitNode" class="delimiter">(</a><a href="#844076" title="(from: scala.tools.nsc.doc.model.DocTemplateEntity, to: scala.tools.nsc.doc.model.TemplateEntity, conv: scala.tools.nsc.doc.model.ImplicitConversion)Some[String]">implicitTooltip</a><span class="delimiter">(</span>from=<a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>, to=<a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>, conv=<a href="#844417" title="DiagramFactory.this.ImplicitConversionImpl">conv</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // TODO: Everyone should be able to use the @{inherit,content}Diagram annotation to change the diagrams.
        // Currently, it's possible to leave nodes and edges out, but there's no way to create new nodes and edges
        // The implementation would need to add the annotations and the logic to select nodes (or create new ones)
        // and add edges to the diagram -- I bet it wouldn't take too long for someone to do it (one or two days
        // at most) and it would be a great add to the diagrams.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#826343" title="DiagramFactory.this.DocTemplateImpl">tpl</a>.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; DiagramFactory.this.global.AliasTypeSymbol">AnyRefClass</a><span class="delimiter">)</span>
          <a href="#844093" title="List[scala.tools.nsc.doc.model.diagram.Node]">subclasses</a> = <a href="../../../../../collection/immutable/List.scala.html#62451" title="(xs: scala.tools.nsc.doc.model.diagram.NormalNode*)List[scala.tools.nsc.doc.model.diagram.NormalNode]">List</a><span class="delimiter">(</span><a href="#772799" title="(text: String)scala.tools.nsc.doc.model.diagram.NormalNode">aggregationNode</a><span class="delimiter">(</span><span title="String(&quot;All user-defined classes and traits&quot;)" class="string">&quot;All user-defined classes and traits&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="844096">filteredSuperclasses</a> = <span title="List[scala.tools.nsc.doc.model.diagram.Node]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844075" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842291" title="=&gt; Boolean">hideSuperclasses</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <a href="#844090" title="List[scala.tools.nsc.doc.model.diagram.Node]">superclasses</a>
        <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="844097">filteredIncomingImplicits</a> = <span title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844075" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842289" title="=&gt; Boolean">hideIncomingImplicits</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <a href="#844091" title="=&gt; List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">incomingImplicitNodes</a>
        <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="844098">filteredSubclasses</a> = <span title="List[scala.tools.nsc.doc.model.diagram.Node]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844075" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842292" title="=&gt; Boolean">hideSubclasses</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <a href="#844093" title="List[scala.tools.nsc.doc.model.diagram.Node]">subclasses</a>
        <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="844099">filteredImplicitOutgoingNodes</a> = <span title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844075" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842290" title="=&gt; Boolean">hideOutgoingImplicits</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a> <span class="keyword">else</span> <a href="#844094" title="=&gt; List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">outgoingImplicitNodes</a>

        // final diagram filter
        <a href="#772802" title="(diagram: scala.tools.nsc.doc.model.diagram.Diagram, diagramFilter: DiagramFactory.this.DiagramFilter)Option[scala.tools.nsc.doc.model.diagram.Diagram]">filterDiagram</a><span class="delimiter">(</span><a href="Diagram.scala.html#814999" title="(thisNode: scala.tools.nsc.doc.model.diagram.ThisNode, superClasses: List[scala.tools.nsc.doc.model.diagram.Node], subClasses: List[scala.tools.nsc.doc.model.diagram.Node], incomingImplicits: List[scala.tools.nsc.doc.model.diagram.ImplicitNode], outgoingImplicits: List[scala.tools.nsc.doc.model.diagram.ImplicitNode])scala.tools.nsc.doc.model.diagram.InheritanceDiagram">InheritanceDiagram</a><span class="delimiter">(</span><a href="#844089" title="scala.tools.nsc.doc.model.diagram.ThisNode">thisNode</a>, <a href="#844096" title="List[scala.tools.nsc.doc.model.diagram.Node]">filteredSuperclasses</a>.<a href="../../../../../collection/immutable/List.scala.html#62716" title="=&gt; List[scala.tools.nsc.doc.model.diagram.Node]">reverse</a>, <a href="#844098" title="List[scala.tools.nsc.doc.model.diagram.Node]">filteredSubclasses</a>.<a href="../../../../../collection/immutable/List.scala.html#62716" title="=&gt; List[scala.tools.nsc.doc.model.diagram.Node]">reverse</a>, <a href="#844097" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">filteredIncomingImplicits</a>, <a href="#844099" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">filteredImplicitOutgoingNodes</a><span class="delimiter">)</span>, <a href="#844075" title="DiagramFactory.this.DiagramFilter">diagramFilter</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <a href="DiagramDirectiveParser.scala.html#772773" title="(x$1: Long)Unit">tModel</a> <a href="../../../../../Long.scala.html#57521" title="(x: Long)Long">+=</a> <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>
    <a href="../../html/page/diagram/DiagramStats.scala.html#34123" title="scala.tools.nsc.doc.html.page.diagram.DiagramStats.type">DiagramStats</a>.<a href="../../html/page/diagram/DiagramStats.scala.html#775851" title="(ms: Long)Unit">addFilterTime</a><span class="delimiter">(</span><a href="DiagramDirectiveParser.scala.html#772769" title="=&gt; Long">tFilter</a><span class="delimiter">)</span>
    <a href="../../html/page/diagram/DiagramStats.scala.html#34123" title="scala.tools.nsc.doc.html.page.diagram.DiagramStats.type">DiagramStats</a>.<a href="../../html/page/diagram/DiagramStats.scala.html#775852" title="(ms: Long)Unit">addModelTime</a><span class="delimiter">(</span><a href="DiagramDirectiveParser.scala.html#772772" title="=&gt; Long">tModel</a><a href="../../../../../Long.scala.html#57528" title="(x: Long)Long">-</a><a href="DiagramDirectiveParser.scala.html#772769" title="=&gt; Long">tFilter</a><span class="delimiter">)</span>

    <a href="#844077" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">result</a>
  <span class="delimiter">}</span>

  /** Create the content diagram for this template */
  <span class="keyword">def</span> <a title="(pack: DiagramFactory.this.DocTemplateImpl)Option[scala.tools.nsc.doc.model.diagram.Diagram]" id="772801">makeContentDiagram</a><span class="delimiter">(</span><a title="DiagramFactory.this.DocTemplateImpl" id="826349">pack</a>: <a href="../ModelFactory.scala.html#772682" title="DiagramFactory.this.DocTemplateImpl">DocTemplateImpl</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#978" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">Option</a><span class="delimiter">[</span>Diagram<span class="delimiter">]</span> = <span class="delimiter">{</span>

    <a href="DiagramDirectiveParser.scala.html#772770" title="(x$1: Long)Unit">tFilter</a> = <span title="Long(0L)" class="int">0</span>
    <a href="DiagramDirectiveParser.scala.html#772773" title="(x$1: Long)Unit">tModel</a> = <a href="../../../../../Long.scala.html#57452" title="=&gt; Long">-</a><span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>

    // the diagram filter
    <span class="keyword">val</span> <a title="DiagramFactory.this.DiagramFilter" id="844478">diagramFilter</a> = <a href="DiagramDirectiveParser.scala.html#772768" title="(template: DiagramFactory.this.DocTemplateImpl)DiagramFactory.this.DiagramFilter">makeContentDiagramFilter</a><span class="delimiter">(</span><a href="#826349" title="DiagramFactory.this.DocTemplateImpl">pack</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" id="844479">result</a> =
      <span title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844478" title="DiagramFactory.this.DiagramFilter">diagramFilter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="DiagramDirectiveParser.scala.html#772777" title="DiagramFactory.this.NoDiagramAtAll.type">NoDiagramAtAll</a><span class="delimiter">)</span>
        <a href="../../../../../Option.scala.html#1585" title="None.type">None</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="scala.collection.immutable.Map[scala.tools.nsc.doc.model.TemplateEntity,scala.tools.nsc.doc.model.diagram.Node]" id="844485">mapNodes</a> = <a href="../../../../../collection/generic/GenMapFactory.scala.html#60744" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.diagram.Node)*)scala.collection.immutable.Map[scala.tools.nsc.doc.model.TemplateEntity,scala.tools.nsc.doc.model.diagram.Node]" class="delimiter">[</span><a href="../Entity.scala.html#34346" title="scala.tools.nsc.doc.model.TemplateEntity">TemplateEntity</a>, <a href="Diagram.scala.html#35494" title="scala.tools.nsc.doc.model.diagram.Node">Node</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]" id="844486">nodesShown</a> = <a href="../../../../../collection/generic/GenericCompanion.scala.html#59933" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: scala.tools.nsc.doc.model.TemplateEntity*)scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]" class="delimiter">[</span><a href="../Entity.scala.html#34346" title="scala.tools.nsc.doc.model.TemplateEntity">TemplateEntity</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="List[(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])]" id="844487">edgesAll</a> = List<span class="delimiter">[</span><span class="delimiter">(</span>TemplateEntity, List<span class="delimiter">[</span>TemplateEntity<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span><a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type" class="delimiter">(</a><span class="delimiter">)</span>

        // classes is the entire set of classes and traits in the package, they are the superset of nodes in the diagram
        // we collect classes, traits and objects without a companion, which are usually used as values(e.g. scala.None)
        <span class="keyword">val</span> <a title="List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]" id="844488">nodesAll</a> = <a href="#826349" title="DiagramFactory.this.DocTemplateImpl">pack</a>.<a href="../ModelFactory.scala.html#773033" title="=&gt; List[DiagramFactory.this.MemberImpl]">members</a> <a href="../../../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[DiagramFactory.this.MemberImpl,DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity])(implicit bf: scala.collection.generic.CanBuildFrom[List[DiagramFactory.this.MemberImpl],DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity,List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]])List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">collect</a> <a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[DiagramFactory.this.MemberImpl,DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity] with Serializable" id="844524" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="#3330099" title="B1" id="3330111">d</a>: TemplateEntity <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#844478" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842293" title="=&gt; Boolean">hideInheritedNodes</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span>d.<a href="../ModelFactory.scala.html#772958" title="=&gt; DiagramFactory.this.DocTemplateImpl">inTemplate</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#826349" title="DiagramFactory.this.DocTemplateImpl">pack</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#3330104" title="(x: B1)B1">d</a>
        <span class="delimiter">}</span>

        // for each node, add its subclasses
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity" id="844592">node</a> &lt;- <a href="../../../../../collection/generic/FilterMonadic.scala.html#58171" title="(f: DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity =&gt; Unit)Unit">nodesAll</a> <span class="keyword">if</span> <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="../ModelFactory.scala.html#772714" title="(clazz: scala.tools.nsc.doc.model.TemplateEntity)Boolean">classExcluded</a><span class="delimiter">(</span><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a> <span class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#3330117" title="Unit" id="3330119">dnode</a>: MemberTemplateImpl =&gt;
              <span class="keyword">var</span> <a title="List[scala.tools.nsc.doc.model.TemplateEntity]" id="844594">superClasses</a> = dnode.<a href="../ModelFactory.scala.html#772997" title="=&gt; List[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity)]">parentTypes</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: ((scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity)) =&gt; scala.tools.nsc.doc.model.TemplateEntity)(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity)],scala.tools.nsc.doc.model.TemplateEntity,List[scala.tools.nsc.doc.model.TemplateEntity]])List[scala.tools.nsc.doc.model.TemplateEntity]">map</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.tools.nsc.doc.model.TemplateEntity,List[scala.tools.nsc.doc.model.TemplateEntity]]" class="delimiter">(</a><a href="#844614" title="(scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.TypeEntity)">_</a>.<a href="../../../../../Tuple2.scala.html#60635" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">_1</a><span class="delimiter">)</span>.<a href="../../../../../collection/TraversableLike.scala.html#58073" title="(p: scala.tools.nsc.doc.model.TemplateEntity =&gt; Boolean)List[scala.tools.nsc.doc.model.TemplateEntity]">filter</a><span class="delimiter">(</span><a href="#844488" title="List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">nodesAll</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86380" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="#844648" title="scala.tools.nsc.doc.model.TemplateEntity">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

              // TODO: Everyone should be able to use the @{inherit,content}Diagram annotation to add nodes to diagrams.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#826349" title="DiagramFactory.this.DocTemplateImpl">pack</a>.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../reflect/internal/Definitions.scala.html#408640" title="=&gt; DiagramFactory.this.global.ModuleSymbol">ScalaPackage</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>dnode.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../reflect/internal/Definitions.scala.html#408694" title="DiagramFactory.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span>
                  <a href="#844594" title="List[scala.tools.nsc.doc.model.TemplateEntity]">superClasses</a> = <a href="../../../../../collection/immutable/List.scala.html#62451" title="(xs: DiagramFactory.this.TemplateImpl*)List[DiagramFactory.this.TemplateImpl]">List</a><span class="delimiter">(</span><a href="../ModelFactory.scala.html#772699" title="(aSym: DiagramFactory.this.global.Symbol)DiagramFactory.this.TemplateImpl">makeTemplate</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#408669" title="=&gt; DiagramFactory.this.global.AliasTypeSymbol">AnyRefClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span>dnode.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../reflect/internal/Definitions.scala.html#408692" title="DiagramFactory.this.global.definitions.NothingClass.type">NothingClass</a><span class="delimiter">)</span>
                  <a href="#844594" title="List[scala.tools.nsc.doc.model.TemplateEntity]">superClasses</a> = <span class="delimiter">(</span><a href="../../../../../collection/immutable/List.scala.html#62451" title="(xs: DiagramFactory.this.global.definitions.NullClass.type*)List[DiagramFactory.this.global.definitions.NullClass.type]">List</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#408694" title="DiagramFactory.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#62688" title="(prefix: List[DiagramFactory.this.global.ClassSymbol])List[DiagramFactory.this.global.ClassSymbol]">:::</a> <a href="../../../../../reflect/internal/Definitions.scala.html#409399" title="=&gt; List[DiagramFactory.this.global.ClassSymbol]">ScalaValueClasses</a><span class="delimiter">)</span>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: DiagramFactory.this.global.ClassSymbol =&gt; DiagramFactory.this.TemplateImpl)(implicit bf: scala.collection.generic.CanBuildFrom[List[DiagramFactory.this.global.ClassSymbol],DiagramFactory.this.TemplateImpl,List[scala.tools.nsc.doc.model.TemplateEntity]])List[scala.tools.nsc.doc.model.TemplateEntity]">map</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,DiagramFactory.this.TemplateImpl,List[DiagramFactory.this.TemplateImpl]]" class="delimiter">(</a><a href="../ModelFactory.scala.html#772699" title="(aSym: DiagramFactory.this.global.Symbol)DiagramFactory.this.TemplateImpl">makeTemplate</a><span class="delimiter">(</span><a href="#844707" title="DiagramFactory.this.global.ClassSymbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#844594" title="List[scala.tools.nsc.doc.model.TemplateEntity]">superClasses</a>.<a href="../../../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#844486" title="scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]">nodesShown</a> <a href="../../../../../collection/SetLike.scala.html#66443" title="(elem: scala.tools.nsc.doc.model.TemplateEntity)scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]">+=</a> dnode
                <a href="#844486" title="scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]">nodesShown</a> <a href="../../../../../collection/SetLike.scala.html#66445" title="(elems: scala.collection.GenTraversableOnce[scala.tools.nsc.doc.model.TemplateEntity])scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]">++=</a> <a href="#844594" title="List[scala.tools.nsc.doc.model.TemplateEntity]">superClasses</a>
              <span class="delimiter">}</span>
              <a href="#844487" title="List[(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])]">edgesAll</a> <a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: (scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity]))List[(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])]">::=</a> <a href="../../../../../Predef.scala.html#7509" title="(x: DiagramFactory.this.MemberTemplateImpl)ArrowAssoc[DiagramFactory.this.MemberTemplateImpl]">dnode</a> <a href="../../../../../Predef.scala.html#62634" title="(y: List[scala.tools.nsc.doc.model.TemplateEntity])(DiagramFactory.this.MemberTemplateImpl, List[scala.tools.nsc.doc.model.TemplateEntity])">-&gt;</a> <a href="#844594" title="List[scala.tools.nsc.doc.model.TemplateEntity]">superClasses</a>
            <span class="keyword">case</span> _ =&gt;
          <span class="delimiter">}</span>

          <a href="#844485" title="scala.collection.immutable.Map[scala.tools.nsc.doc.model.TemplateEntity,scala.tools.nsc.doc.model.diagram.Node]">mapNodes</a> <a href="../../../../../collection/immutable/Map.scala.html#62533" title="(kv: (scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.diagram.Node))scala.collection.immutable.Map[scala.tools.nsc.doc.model.TemplateEntity,scala.tools.nsc.doc.model.diagram.Node]">+=</a> <a href="../../../../../Predef.scala.html#7509" title="(x: DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity)ArrowAssoc[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">node</a> <a href="../../../../../Predef.scala.html#62634" title="(y: scala.tools.nsc.doc.model.diagram.Node)(DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity, scala.tools.nsc.doc.model.diagram.Node)">-&gt;</a> <span class="delimiter">(</span>
            <span title="scala.tools.nsc.doc.model.diagram.Node" class="keyword">if</span> <span class="delimiter">(</span><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a>.<a href="../ModelFactory.scala.html#772958" title="=&gt; DiagramFactory.this.DocTemplateImpl">inTemplate</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#826349" title="DiagramFactory.this.DocTemplateImpl">pack</a> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a>.<a href="../Entity.scala.html#773146" title="=&gt; Boolean">isDocTemplate</a> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a>.<a href="../ModelFactory.scala.html#772974" title="=&gt; Boolean">isAbstractType</a> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a>.<a href="../ModelFactory.scala.html#772973" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Diagram.scala.html#35489" title="scala.tools.nsc.doc.model.diagram.NormalNode.type">NormalNode</a><a href="Diagram.scala.html#815255" title="Option[String]" id="844933" class="delimiter">(</a><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a>.<a href="../ModelFactory.scala.html#772966" title="scala.tools.nsc.doc.model.TypeEntity" id="844931">resultType</a>, <a href="../../../../../Option.scala.html#63128" title="(x: DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity)Some[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">Some</a><a title="Some[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]" id="844932" class="delimiter">(</a><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="Diagram.scala.html#35564" title="scala.tools.nsc.doc.model.diagram.OutsideNode.type">OutsideNode</a><a href="Diagram.scala.html#841172" title="Option[String]" id="844939" class="delimiter">(</a><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a>.<a href="../ModelFactory.scala.html#772966" title="scala.tools.nsc.doc.model.TypeEntity" id="844937">resultType</a>, <a href="../../../../../Option.scala.html#63128" title="(x: DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity)Some[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">Some</a><a title="Some[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]" id="844938" class="delimiter">(</a><a href="#844592" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">node</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844486" title="scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]">nodesShown</a>.<a href="../../../../../collection/SetLike.scala.html#66447" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="../../../../../Option.scala.html#1585" title="None.type">None</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="844944">nodes</a> = <a href="#844488" title="List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">nodesAll</a>.<a href="../../../../../collection/TraversableLike.scala.html#58073" title="(p: DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity =&gt; Boolean)List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity]">filter</a><span class="delimiter">(</span><a href="#844486" title="scala.collection.immutable.Set[scala.tools.nsc.doc.model.TemplateEntity]">nodesShown</a>.<a href="../../../../../collection/SetLike.scala.html#66442" title="(elem: scala.tools.nsc.doc.model.TemplateEntity)Boolean">contains</a><span class="delimiter">(</span><a href="#844950" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../../collection/TraversableLike.scala.html#58068" title="(f: DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.doc.model.diagram.Node])(implicit bf: scala.collection.generic.CanBuildFrom[List[DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity],scala.tools.nsc.doc.model.diagram.Node,List[scala.tools.nsc.doc.model.diagram.Node]])List[scala.tools.nsc.doc.model.diagram.Node]">flatMap</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.tools.nsc.doc.model.diagram.Node,List[scala.tools.nsc.doc.model.diagram.Node]]" class="delimiter">(</a><a href="#844485" title="scala.collection.immutable.Map[scala.tools.nsc.doc.model.TemplateEntity,scala.tools.nsc.doc.model.diagram.Node]">mapNodes</a>.<a href="../../../../../collection/MapLike.scala.html#87525" title="(key: scala.tools.nsc.doc.model.TemplateEntity)Option[scala.tools.nsc.doc.model.diagram.Node]">get</a><a href="../../../../../Option.scala.html#97396" title="(xo: Option[scala.tools.nsc.doc.model.diagram.Node])Iterable[scala.tools.nsc.doc.model.diagram.Node]" class="delimiter">(</a><a href="#844974" title="model extends DiagramFactory.this.MemberImpl with scala.tools.nsc.doc.model.TemplateEntity">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]" id="844945">edges</a> = <a href="#844487" title="List[(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])]">edgesAll</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: ((scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])) =&gt; (scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node]))(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])],(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node]),List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]])List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">map</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node]),List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]]" class="delimiter">(</a><a title="(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])" id="845031">pair</a> =&gt; <a href="../../../../../Tuple2.scala.html#62849" title="(_1: scala.tools.nsc.doc.model.diagram.Node, _2: List[scala.tools.nsc.doc.model.diagram.Node])(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])" class="delimiter">(</a><a href="../../../../../collection/MapLike.scala.html#87535" title="(key: scala.tools.nsc.doc.model.TemplateEntity)scala.tools.nsc.doc.model.diagram.Node">mapNodes</a><span class="delimiter">(</span><a href="#845031" title="(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])">pair</a>.<a href="../../../../../Tuple2.scala.html#60635" title="=&gt; scala.tools.nsc.doc.model.TemplateEntity">_1</a><span class="delimiter">)</span>, <a href="#845031" title="(scala.tools.nsc.doc.model.TemplateEntity, List[scala.tools.nsc.doc.model.TemplateEntity])">pair</a>.<a href="../../../../../Tuple2.scala.html#60637" title="=&gt; List[scala.tools.nsc.doc.model.TemplateEntity]">_2</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: scala.tools.nsc.doc.model.TemplateEntity =&gt; scala.tools.nsc.doc.model.diagram.Node)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.nsc.doc.model.TemplateEntity],scala.tools.nsc.doc.model.diagram.Node,List[scala.tools.nsc.doc.model.diagram.Node]])List[scala.tools.nsc.doc.model.diagram.Node]">map</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.tools.nsc.doc.model.diagram.Node,List[scala.tools.nsc.doc.model.diagram.Node]]" class="delimiter">(</a><a href="../../../../../collection/MapLike.scala.html#87535" title="(key: scala.tools.nsc.doc.model.TemplateEntity)scala.tools.nsc.doc.model.diagram.Node">mapNodes</a><span class="delimiter">(</span><a href="#845069" title="scala.tools.nsc.doc.model.TemplateEntity">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../../../collection/TraversableLike.scala.html#58074" title="(p: ((scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])) =&gt; Boolean)List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">filterNot</a><span class="delimiter">(</span><a title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])" id="845150">pair</a> =&gt; <a href="#845150" title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])">pair</a>.<a href="../../../../../Tuple2.scala.html#60637" title="=&gt; List[scala.tools.nsc.doc.model.diagram.Node]">_2</a>.<a href="../../../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.doc.model.diagram.ContentDiagram" id="844946">diagram</a> =
            // TODO: Everyone should be able to use the @{inherit,content}Diagram annotation to change the diagrams.
            <span title="scala.tools.nsc.doc.model.diagram.ContentDiagram" class="keyword">if</span> <span class="delimiter">(</span><a href="#826349" title="DiagramFactory.this.DocTemplateImpl">pack</a>.<a href="../ModelFactory.scala.html#772932" title="=&gt; DiagramFactory.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../reflect/internal/Definitions.scala.html#408640" title="=&gt; DiagramFactory.this.global.ModuleSymbol">ScalaPackage</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // Tried it, but it doesn't look good:
              // var anyRefSubtypes: List[Node] = List(mapNodes(makeTemplate(AnyRefClass)))
              // var dirty = true
              // do {
              //   val length = anyRefSubtypes.length
              //   anyRefSubtypes :::= edges.collect { case p: (Node, List[Node]) if p._2.exists(anyRefSubtypes.contains(_)) =&gt; p._1 }
              //   anyRefSubtypes = anyRefSubtypes.distinct
              //   dirty = (anyRefSubtypes.length != length)
              // } while (dirty)
              // println(anyRefSubtypes)
              <span class="keyword">val</span> <a title="scala.collection.immutable.Nil.type" id="845155">anyRefSubtypes</a> = <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
              <span class="keyword">val</span> <a title="scala.tools.nsc.doc.model.diagram.NormalNode" id="845156">allAnyRefTypes</a> = <a href="#772799" title="(text: String)scala.tools.nsc.doc.model.diagram.NormalNode">aggregationNode</a><span class="delimiter">(</span><span title="String(&quot;All AnyRef subtypes&quot;)" class="string">&quot;All AnyRef subtypes&quot;</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="DiagramFactory.this.TemplateImpl" id="845157">nullTemplate</a> = <a href="../ModelFactory.scala.html#772699" title="(aSym: DiagramFactory.this.global.Symbol)DiagramFactory.this.TemplateImpl">makeTemplate</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#408694" title="DiagramFactory.this.global.definitions.NullClass.type">NullClass</a><span class="delimiter">)</span>
              <span title="scala.tools.nsc.doc.model.diagram.ContentDiagram" class="keyword">if</span> <span class="delimiter">(</span><a href="#845157" title="DiagramFactory.this.TemplateImpl">nullTemplate</a>.<a href="../Entity.scala.html#773146" title="=&gt; Boolean">isDocTemplate</a><span class="delimiter">)</span>
                <a href="Diagram.scala.html#842188" title="(nodes: List[scala.tools.nsc.doc.model.diagram.Node], edges: List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])])scala.tools.nsc.doc.model.diagram.ContentDiagram">ContentDiagram</a><span class="delimiter">(</span><a href="#845156" title="scala.tools.nsc.doc.model.diagram.NormalNode">allAnyRefTypes</a><a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: scala.tools.nsc.doc.model.diagram.Node)List[scala.tools.nsc.doc.model.diagram.Node]">::</a><a href="#844944" title="List[scala.tools.nsc.doc.model.diagram.Node]">nodes</a>, <a href="../../../../../Tuple2.scala.html#62849" title="(_1: scala.tools.nsc.doc.model.diagram.Node, _2: List[scala.tools.nsc.doc.model.diagram.NormalNode])(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.NormalNode])" class="delimiter">(</a><a href="../../../../../collection/MapLike.scala.html#87535" title="(key: scala.tools.nsc.doc.model.TemplateEntity)scala.tools.nsc.doc.model.diagram.Node">mapNodes</a><span class="delimiter">(</span><a href="#845157" title="DiagramFactory.this.TemplateImpl">nullTemplate</a><span class="delimiter">)</span>, <a href="#845156" title="scala.tools.nsc.doc.model.diagram.NormalNode">allAnyRefTypes</a><a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: scala.tools.nsc.doc.model.diagram.NormalNode)List[scala.tools.nsc.doc.model.diagram.NormalNode]">::</a><a href="#845155" title="scala.collection.immutable.Nil.type">anyRefSubtypes</a><span class="delimiter">)</span><a href="../../../../../collection/immutable/List.scala.html#62685" title="(x: (scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node]))List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">::</a><a href="#844945" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a>.<a href="../../../../../collection/TraversableLike.scala.html#58074" title="(p: ((scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])) =&gt; Boolean)List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">filterNot</a><span class="delimiter">(</span><a href="#845203" title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])">_</a>.<a href="../../../../../Tuple2.scala.html#60635" title="=&gt; scala.tools.nsc.doc.model.diagram.Node">_1</a>.<a href="Diagram.scala.html#814933" title="=&gt; Option[scala.tools.nsc.doc.model.TemplateEntity]">tpl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../Option.scala.html#63128" title="(x: DiagramFactory.this.TemplateImpl)Some[DiagramFactory.this.TemplateImpl]">Some</a><span class="delimiter">(</span><a href="#845157" title="DiagramFactory.this.TemplateImpl">nullTemplate</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="Diagram.scala.html#842188" title="(nodes: List[scala.tools.nsc.doc.model.diagram.Node], edges: List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])])scala.tools.nsc.doc.model.diagram.ContentDiagram">ContentDiagram</a><span class="delimiter">(</span><a href="#844944" title="List[scala.tools.nsc.doc.model.diagram.Node]">nodes</a>, <a href="#844945" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="Diagram.scala.html#842188" title="(nodes: List[scala.tools.nsc.doc.model.diagram.Node], edges: List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])])scala.tools.nsc.doc.model.diagram.ContentDiagram">ContentDiagram</a><span class="delimiter">(</span><a href="#844944" title="List[scala.tools.nsc.doc.model.diagram.Node]">nodes</a>, <a href="#844945" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a><span class="delimiter">)</span>

          <a href="#772802" title="(diagram: scala.tools.nsc.doc.model.diagram.Diagram, diagramFilter: DiagramFactory.this.DiagramFilter)Option[scala.tools.nsc.doc.model.diagram.Diagram]">filterDiagram</a><span class="delimiter">(</span><a href="#844946" title="scala.tools.nsc.doc.model.diagram.ContentDiagram">diagram</a>, <a href="#844478" title="DiagramFactory.this.DiagramFilter">diagramFilter</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <a href="DiagramDirectiveParser.scala.html#772773" title="(x$1: Long)Unit">tModel</a> <a href="../../../../../Long.scala.html#57521" title="(x: Long)Long">+=</a> <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>
    <a href="../../html/page/diagram/DiagramStats.scala.html#34123" title="scala.tools.nsc.doc.html.page.diagram.DiagramStats.type">DiagramStats</a>.<a href="../../html/page/diagram/DiagramStats.scala.html#775851" title="(ms: Long)Unit">addFilterTime</a><span class="delimiter">(</span><a href="DiagramDirectiveParser.scala.html#772769" title="=&gt; Long">tFilter</a><span class="delimiter">)</span>
    <a href="../../html/page/diagram/DiagramStats.scala.html#34123" title="scala.tools.nsc.doc.html.page.diagram.DiagramStats.type">DiagramStats</a>.<a href="../../html/page/diagram/DiagramStats.scala.html#775852" title="(ms: Long)Unit">addModelTime</a><span class="delimiter">(</span><a href="DiagramDirectiveParser.scala.html#772772" title="=&gt; Long">tModel</a><a href="../../../../../Long.scala.html#57528" title="(x: Long)Long">-</a><a href="DiagramDirectiveParser.scala.html#772769" title="=&gt; Long">tFilter</a><span class="delimiter">)</span>

    <a href="#844479" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">result</a>
  <span class="delimiter">}</span>

  /** Diagram filtering logic */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(diagram: scala.tools.nsc.doc.model.diagram.Diagram, diagramFilter: DiagramFactory.this.DiagramFilter)Option[scala.tools.nsc.doc.model.diagram.Diagram]" id="772802">filterDiagram</a><span class="delimiter">(</span><a title="scala.tools.nsc.doc.model.diagram.Diagram" id="844460">diagram</a>: <a href="Diagram.scala.html#35581" title="scala.tools.nsc.doc.model.diagram.Diagram">Diagram</a>, <a title="DiagramFactory.this.DiagramFilter" id="844461">diagramFilter</a>: <a href="DiagramDirectiveParser.scala.html#772766" title="DiagramFactory.this.DiagramFilter">DiagramFilter</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#978" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">Option</a><span class="delimiter">[</span>Diagram<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="DiagramDirectiveParser.scala.html#772770" title="(x$1: Long)Unit">tFilter</a> <a href="../../../../../Long.scala.html#57528" title="(x: Long)Long">-=</a> <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>

    <span class="keyword">val</span> <a title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" id="845227">result</a> =
      <span title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="DiagramDirectiveParser.scala.html#772775" title="DiagramFactory.this.FullDiagram.type">FullDiagram</a><span class="delimiter">)</span>
        <a href="../../../../../Option.scala.html#63128" title="(x: scala.tools.nsc.doc.model.diagram.Diagram)Some[scala.tools.nsc.doc.model.diagram.Diagram]">Some</a><span class="delimiter">(</span><a href="#844460" title="scala.tools.nsc.doc.model.diagram.Diagram">diagram</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Option[Product with Serializable with scala.tools.nsc.doc.model.diagram.Diagram]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="DiagramDirectiveParser.scala.html#772777" title="DiagramFactory.this.NoDiagramAtAll.type">NoDiagramAtAll</a><span class="delimiter">)</span>
        <a href="../../../../../Option.scala.html#1585" title="None.type">None</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        // Final diagram, with the filtered nodes and edges
        <a href="#844460" title="scala.tools.nsc.doc.model.diagram.Diagram">diagram</a> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> InheritanceDiagram<a href="#3330146" title="Boolean" id="3330151" class="delimiter">(</a><a href="Diagram.scala.html#815005" title="scala.tools.nsc.doc.model.diagram.ThisNode" id="845245">thisNode</a>, <a href="Diagram.scala.html#815007" title="List[scala.tools.nsc.doc.model.diagram.Node]" id="3330147">_</a>, <a href="Diagram.scala.html#815009" title="List[scala.tools.nsc.doc.model.diagram.Node]" id="3330148">_</a>, <a href="Diagram.scala.html#815011" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="3330149">_</a>, <a href="Diagram.scala.html#815013" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="3330150">_</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842294" title="(clazz: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideNode</a><span class="delimiter">(</span><a href="#845245" title="scala.tools.nsc.doc.model.diagram.ThisNode">thisNode</a><span class="delimiter">)</span> =&gt;
            <a href="#3330156" title="(x: Option[Product with Serializable with scala.tools.nsc.doc.model.diagram.Diagram])Option[Product with Serializable with scala.tools.nsc.doc.model.diagram.Diagram]">None</a>

          <span class="keyword">case</span> InheritanceDiagram<span class="delimiter">(</span><a href="Diagram.scala.html#815005" title="scala.tools.nsc.doc.model.diagram.ThisNode" id="845246">thisNode</a>, <a href="Diagram.scala.html#815007" title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845247">superClasses</a>, <a href="Diagram.scala.html#815009" title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845248">subClasses</a>, <a href="Diagram.scala.html#815011" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="845249">incomingImplicits</a>, <a href="Diagram.scala.html#815013" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]" id="845250">outgoingImplicits</a><span class="delimiter">)</span> =&gt;

            <span class="keyword">def</span> <a title="(node: scala.tools.nsc.doc.model.diagram.Node)Boolean" id="845251">hideIncoming</a><span class="delimiter">(</span><a title="scala.tools.nsc.doc.model.diagram.Node" id="845253">node</a>: <a href="Diagram.scala.html#35494" title="scala.tools.nsc.doc.model.diagram.Node">Node</a><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
              <a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842294" title="(clazz: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideNode</a><span class="delimiter">(</span><a href="#845253" title="scala.tools.nsc.doc.model.diagram.Node">node</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842295" title="(clazz1: scala.tools.nsc.doc.model.diagram.Node, clazz2: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideEdge</a><span class="delimiter">(</span><a href="#845253" title="scala.tools.nsc.doc.model.diagram.Node">node</a>, <a href="#845246" title="scala.tools.nsc.doc.model.diagram.ThisNode">thisNode</a><span class="delimiter">)</span>

            <span class="keyword">def</span> <a title="(node: scala.tools.nsc.doc.model.diagram.Node)Boolean" id="845252">hideOutgoing</a><span class="delimiter">(</span><a title="scala.tools.nsc.doc.model.diagram.Node" id="845254">node</a>: <a href="Diagram.scala.html#35494" title="scala.tools.nsc.doc.model.diagram.Node">Node</a><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#1425" title="Boolean">Boolean</a> =
              <a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842294" title="(clazz: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideNode</a><span class="delimiter">(</span><a href="#845254" title="scala.tools.nsc.doc.model.diagram.Node">node</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842295" title="(clazz1: scala.tools.nsc.doc.model.diagram.Node, clazz2: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideEdge</a><span class="delimiter">(</span><a href="#845246" title="scala.tools.nsc.doc.model.diagram.ThisNode">thisNode</a>, <a href="#845254" title="scala.tools.nsc.doc.model.diagram.Node">node</a><span class="delimiter">)</span>

            // println(thisNode)
            // println(superClasses.map(cl =&gt; &quot;super: &quot; + cl + &quot;  &quot; + hideOutgoing(cl)).mkString(&quot;\n&quot;))
            // println(subClasses.map(cl =&gt; &quot;sub: &quot; + cl + &quot;  &quot; + hideIncoming(cl)).mkString(&quot;\n&quot;))
            <a href="../../../../../Option.scala.html#63128" title="(x: scala.tools.nsc.doc.model.diagram.InheritanceDiagram)Some[scala.tools.nsc.doc.model.diagram.InheritanceDiagram]">Some</a><span class="delimiter">(</span><a href="Diagram.scala.html#814999" title="(thisNode: scala.tools.nsc.doc.model.diagram.ThisNode, superClasses: List[scala.tools.nsc.doc.model.diagram.Node], subClasses: List[scala.tools.nsc.doc.model.diagram.Node], incomingImplicits: List[scala.tools.nsc.doc.model.diagram.ImplicitNode], outgoingImplicits: List[scala.tools.nsc.doc.model.diagram.ImplicitNode])scala.tools.nsc.doc.model.diagram.InheritanceDiagram">InheritanceDiagram</a><span class="delimiter">(</span><a href="#845246" title="scala.tools.nsc.doc.model.diagram.ThisNode">thisNode</a>,
                             <a href="#845247" title="List[scala.tools.nsc.doc.model.diagram.Node]">superClasses</a>.<a href="../../../../../collection/TraversableLike.scala.html#58074" title="(p: scala.tools.nsc.doc.model.diagram.Node =&gt; Boolean)List[scala.tools.nsc.doc.model.diagram.Node]">filterNot</a><span class="delimiter">(</span><a href="#845252" title="(node: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideOutgoing</a><span class="delimiter">(</span><a href="#845260" title="scala.tools.nsc.doc.model.diagram.Node">_</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                             <a href="#845248" title="List[scala.tools.nsc.doc.model.diagram.Node]">subClasses</a>.<a href="../../../../../collection/TraversableLike.scala.html#58074" title="(p: scala.tools.nsc.doc.model.diagram.Node =&gt; Boolean)List[scala.tools.nsc.doc.model.diagram.Node]">filterNot</a><span class="delimiter">(</span><a href="#845251" title="(node: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideIncoming</a><span class="delimiter">(</span><a href="#845264" title="scala.tools.nsc.doc.model.diagram.Node">_</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                             <a href="#845249" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">incomingImplicits</a>.<a href="../../../../../collection/TraversableLike.scala.html#58074" title="(p: scala.tools.nsc.doc.model.diagram.ImplicitNode =&gt; Boolean)List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">filterNot</a><span class="delimiter">(</span><a href="#845251" title="(node: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideIncoming</a><span class="delimiter">(</span><a href="#845268" title="scala.tools.nsc.doc.model.diagram.ImplicitNode">_</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                             <a href="#845250" title="List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">outgoingImplicits</a>.<a href="../../../../../collection/TraversableLike.scala.html#58074" title="(p: scala.tools.nsc.doc.model.diagram.ImplicitNode =&gt; Boolean)List[scala.tools.nsc.doc.model.diagram.ImplicitNode]">filterNot</a><span class="delimiter">(</span><a href="#845252" title="(node: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideOutgoing</a><span class="delimiter">(</span><a href="#845272" title="scala.tools.nsc.doc.model.diagram.ImplicitNode">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> ContentDiagram<a href="#3330146" title="Option[Product with Serializable with scala.tools.nsc.doc.model.diagram.Diagram]" id="3330153" class="delimiter">(</a><a href="Diagram.scala.html#840718" title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845274">nodes0</a>, <a href="Diagram.scala.html#840720" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]" id="845275">edges0</a><span class="delimiter">)</span> =&gt;
            // Filter out all edges that:
            // (1) are sources of hidden classes
            // (2) are manually hidden by the user
            // (3) are destinations of hidden classes
            <span class="keyword">val</span> <a title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]" id="845276">edges</a>: <a href="../../../../../collection/immutable/List.scala.html#11952" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Node, List<span class="delimiter">[</span>Node<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> =
              <a href="#844460" title="scala.tools.nsc.doc.model.diagram.Diagram">diagram</a>.<a href="Diagram.scala.html#814076" title="=&gt; List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a>.<a href="../../../../../collection/TraversableLike.scala.html#58068" title="(f: ((scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])) =&gt; scala.collection.GenTraversableOnce[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])])(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])],(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node]),List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]])List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">flatMap</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node]),List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]]" class="delimiter">(</a><a href="#845299" title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])" class="delimiter">{</a>
                <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../../../Tuple2.scala.html#60635" title="scala.tools.nsc.doc.model.diagram.Node" id="845302">source</a>, <a href="../../../../../Tuple2.scala.html#60637" title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845303">dests</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842294" title="(clazz: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideNode</a><span class="delimiter">(</span><a href="#845302" title="scala.tools.nsc.doc.model.diagram.Node">source</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845304">dests2</a> = <a href="#845303" title="List[scala.tools.nsc.doc.model.diagram.Node]">dests</a>.<a href="../../../../../collection/TraversableLike.scala.html#58075" title="(pf: PartialFunction[scala.tools.nsc.doc.model.diagram.Node,A1])(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.nsc.doc.model.diagram.Node],A1,List[A1]])List[A1]">collect</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,A1,List[A1]]" class="delimiter">(</a><a title="anonymous class $anonfun extends scala.runtime.AbstractPartialFunction[scala.tools.nsc.doc.model.diagram.Node,A1] with Serializable" id="845324" class="delimiter">{</a> <span class="keyword">case</span> dest <span class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#57822" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842295" title="(clazz1: scala.tools.nsc.doc.model.diagram.Node, clazz2: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideEdge</a><span class="delimiter">(</span><a href="#845302" title="scala.tools.nsc.doc.model.diagram.Node">source</a>, dest<span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#57825" title="(x: Boolean)Boolean">||</a> <a href="#844461" title="DiagramFactory.this.DiagramFilter">diagramFilter</a>.<a href="DiagramDirectiveParser.scala.html#842294" title="(clazz: scala.tools.nsc.doc.model.diagram.Node)Boolean">hideNode</a><span class="delimiter">(</span>dest<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#3330128" title="(x: B1)B1">dest</a> <span class="delimiter">}</span><span class="delimiter">)</span>
                  <span title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]" class="keyword">if</span> <span class="delimiter">(</span><a href="#845304" title="List[scala.tools.nsc.doc.model.diagram.Node]">dests2</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
                    <a href="../../../../../collection/immutable/List.scala.html#62451" title="(xs: (scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])*)List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">List</a><span class="delimiter">(</span><a href="../../../../../Tuple2.scala.html#62849" title="(_1: scala.tools.nsc.doc.model.diagram.Node, _2: List[scala.tools.nsc.doc.model.diagram.Node])(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])" class="delimiter">(</a><a href="#845302" title="scala.tools.nsc.doc.model.diagram.Node">source</a>, <a href="#845304" title="List[scala.tools.nsc.doc.model.diagram.Node]">dests2</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <a href="../../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a>
                <span class="keyword">case</span> _ =&gt; <a href="#3330141" title="(x: List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])])List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">Nil</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>

            // Only show the the non-isolated nodes
            // TODO: Decide if we really want to hide package members, I'm not sure that's a good idea (!!!)
            // TODO: Does .distinct cause any stability issues?
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845277">sourceNodes</a> = <a href="#845276" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: ((scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])) =&gt; scala.tools.nsc.doc.model.diagram.Node)(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])],scala.tools.nsc.doc.model.diagram.Node,List[scala.tools.nsc.doc.model.diagram.Node]])List[scala.tools.nsc.doc.model.diagram.Node]">map</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.tools.nsc.doc.model.diagram.Node,List[scala.tools.nsc.doc.model.diagram.Node]]" class="delimiter">(</a><a href="#845440" title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])">_</a>.<a href="../../../../../Tuple2.scala.html#60635" title="=&gt; scala.tools.nsc.doc.model.diagram.Node">_1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845278">sinkNodes</a> = <a href="#845276" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a>.<a href="../../../../../collection/TraversableLike.scala.html#58063" title="(f: ((scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])) =&gt; List[scala.tools.nsc.doc.model.diagram.Node])(implicit bf: scala.collection.generic.CanBuildFrom[List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])],List[scala.tools.nsc.doc.model.diagram.Node],List[List[scala.tools.nsc.doc.model.diagram.Node]]])List[List[scala.tools.nsc.doc.model.diagram.Node]]">map</a><a href="../../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,List[scala.tools.nsc.doc.model.diagram.Node],List[List[scala.tools.nsc.doc.model.diagram.Node]]]" class="delimiter">(</a><a href="#845479" title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])">_</a>.<a href="../../../../../Tuple2.scala.html#60637" title="=&gt; List[scala.tools.nsc.doc.model.diagram.Node]">_2</a><span class="delimiter">)</span>.<a href="../../../../../collection/generic/GenericTraversableTemplate.scala.html#58488" title="(implicit asTraversable: List[scala.tools.nsc.doc.model.diagram.Node] =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.doc.model.diagram.Node])List[scala.tools.nsc.doc.model.diagram.Node]">flatten</a>
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.doc.model.diagram.Node]" id="845279">nodes</a> = <span class="delimiter">(</span><a href="#845277" title="List[scala.tools.nsc.doc.model.diagram.Node]">sourceNodes</a> <a href="../../../../../collection/immutable/List.scala.html#62688" title="(prefix: List[scala.tools.nsc.doc.model.diagram.Node])List[scala.tools.nsc.doc.model.diagram.Node]">:::</a> <a href="#845278" title="List[scala.tools.nsc.doc.model.diagram.Node]">sinkNodes</a><span class="delimiter">)</span>.<a href="../../../../../collection/SeqLike.scala.html#58839" title="=&gt; List[scala.tools.nsc.doc.model.diagram.Node]">distinct</a>
            <a href="../../../../../Option.scala.html#63128" title="(x: scala.tools.nsc.doc.model.diagram.ContentDiagram)Some[scala.tools.nsc.doc.model.diagram.ContentDiagram]">Some</a><span class="delimiter">(</span><a href="Diagram.scala.html#842188" title="(nodes: List[scala.tools.nsc.doc.model.diagram.Node], edges: List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])])scala.tools.nsc.doc.model.diagram.ContentDiagram">ContentDiagram</a><span class="delimiter">(</span><a href="#845279" title="List[scala.tools.nsc.doc.model.diagram.Node]">nodes</a>, <a href="#845276" title="List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <a href="DiagramDirectiveParser.scala.html#772770" title="(x$1: Long)Unit">tFilter</a> <a href="../../../../../Long.scala.html#57521" title="(x: Long)Long">+=</a> <span title="System.type">System</span>.<span title="()Long">currentTimeMillis</span>

    // eliminate all empty diagrams
    <span title="Option[scala.tools.nsc.doc.model.diagram.Diagram]" class="keyword">if</span> <span class="delimiter">(</span><a href="#845227" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">result</a>.<a href="../../../../../Option.scala.html#62857" title="=&gt; Boolean">isDefined</a> <a href="../../../../../Boolean.scala.html#57826" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#845227" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">result</a>.<a href="../../../../../Option.scala.html#62858" title="=&gt; scala.tools.nsc.doc.model.diagram.Diagram">get</a>.<a href="Diagram.scala.html#814076" title="=&gt; List[(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])]">edges</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#86378" title="(p: ((scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])) =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#845573" title="(scala.tools.nsc.doc.model.diagram.Node, List[scala.tools.nsc.doc.model.diagram.Node])">_</a>.<a href="../../../../../Tuple2.scala.html#60637" title="=&gt; List[scala.tools.nsc.doc.model.diagram.Node]">_2</a>.<a href="../../../../../collection/SeqLike.scala.html#58787" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../../../Option.scala.html#1585" title="None.type">None</a>
    <span class="keyword">else</span>
      <a href="#845227" title="Option[scala.tools.nsc.doc.model.diagram.Diagram]">result</a>
  <span class="delimiter">}</span>

<span class="delimiter">}</span>

        </pre>
    </body>
</html>