<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/scalap/scalax/rules/Functors.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
// -----------------------------------------------------------------------------
//
//  Scalax - The Scala Community Library
//  Copyright (c) 2005-8 The Scalax Project. All rights reserved.
//
//  The primary distribution site is http://scalax.scalaforge.org/
//
//  This software is released under the terms of the Revised BSD License.
//  There is NO WARRANTY.  See the file LICENSE for the full text.
//
// -----------------------------------------------------------------------------

<span class="keyword">package</span> scala.tools.scalap
<span class="keyword">package</span> scalax
<span class="keyword">package</span> rules

<span class="keyword">trait</span> <a title="trait Functor[+A] extends Object" id="51411">Functor</a><span class="delimiter">[</span>+<a title="" id="51412">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A] &lt;: scala.tools.scalap.scalax.rules.Functor[A]" id="1198666">M</a><span class="delimiter">[</span>+<a title="" id="1198837">A</a><span class="delimiter">]</span> &lt;: Functor<span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[B](f: A =&gt; B)Functor.this.M[B]" id="1198667">map</a><span class="delimiter">[</span><a title="" id="1198669">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="1198731">f</a> : A =&gt; B<span class="delimiter">)</span> : <a href="#1198666" title="Functor.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait Filter[+A] extends Object" id="51413">Filter</a><span class="delimiter">[</span>+<a title="" id="51414">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A] &lt;: scala.tools.scalap.scalax.rules.Filter[A]" id="1198838">M</a><span class="delimiter">[</span>+<a title="" id="1198841">A</a><span class="delimiter">]</span> &lt;: Filter<span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="(f: A =&gt; Boolean)Filter.this.M[A]" id="1198839">filter</a><span class="delimiter">(</span><a title="A =&gt; Boolean" id="1198842">f</a> : A =&gt; Boolean<span class="delimiter">)</span> : <a href="#1198838" title="Filter.this.M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait Plus[+A] extends Object" id="51415">Plus</a><span class="delimiter">[</span>+<a title="" id="51416">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A] &lt;: scala.tools.scalap.scalax.rules.Plus[A]" id="1198843">M</a><span class="delimiter">[</span>+<a title="" id="1198848">A</a><span class="delimiter">]</span> &lt;: Plus<span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[B &gt;: A](other: =&gt; Plus.this.M[B])Plus.this.M[B]" id="1198844">plus</a><span class="delimiter">[</span><a title=" &gt;: A" id="1198846">B</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Plus.this.M[B]" id="1198849">other</a> : =&gt; M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1198843" title="Plus.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait OrElse[+A] extends Object" id="51417">OrElse</a><span class="delimiter">[</span>+<a title="" id="51418">A</a><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A] &lt;: scala.tools.scalap.scalax.rules.OrElse[A]" id="1198851">M</a><span class="delimiter">[</span>+<a title="" id="1198856">A</a><span class="delimiter">]</span> &lt;: OrElse<span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[B &gt;: A](other: =&gt; OrElse.this.M[B])OrElse.this.M[B]" id="1198852">orElse</a><span class="delimiter">[</span><a title=" &gt;: A" id="1198854">B</a> &gt;: A<span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; OrElse.this.M[B]" id="1198857">other</a> : =&gt; M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1198851" title="OrElse.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait Units extends Object" id="51419">Units</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A]" id="1198628">M</a><span class="delimiter">[</span>+<a title="" id="1198860">A</a><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; Units.this.M[Unit]" id="1198629">unit</a> : <a href="#1198628" title="Units.this.M[Unit]">M</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[A](a: =&gt; A)Units.this.M[A]" id="1198630">unit</a><span class="delimiter">[</span><a title="" id="1198632">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="1198701">a</a> : =&gt; A<span class="delimiter">)</span> : <a href="#1198628" title="Units.this.M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait Zero extends Object" id="51420">Zero</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A]" id="1198861">M</a><span class="delimiter">[</span>+<a title="" id="1198864">A</a><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; Zero.this.M[Nothing]" id="1198862">zero</a> : <a href="#1198861" title="Zero.this.M[Nothing]">M</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span>
<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait Functors extends Object" id="51421">Functors</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  <span class="keyword">type</span> <a title="[+A] &lt;: Functors.this.Functor[A]" id="1198658">M</a><span class="delimiter">[</span>+<a title="" id="1198727">A</a><span class="delimiter">]</span> &lt;: Functor<span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">trait</span> <a title="trait Functor[+A] extends Object with scala.tools.scalap.scalax.rules.Functor[A]" id="1198659">Functor</a><span class="delimiter">[</span>+<a title="" id="1198660">A</a><span class="delimiter">]</span> <span class="keyword">extends</span> rules.<a href="#51411" title="scala.tools.scalap.scalax.rules.Functor[A]">Functor</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">this</span> : M<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
    <span class="keyword">type</span> <a title="[+A]Functors.this.M[A]" id="1198671">M</a><span class="delimiter">[</span>+<a title="" id="1198672">A</a><span class="delimiter">]</span> = Functors.<span class="keyword">this</span>.<a href="#1198658" title="Functors.this.M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait ZeroFunctor extends Object with Functors.this.Functor[Nothing]" id="1198661">ZeroFunctor</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> <a href="#1198659" title="Functors.this.Functor[Nothing]">Functor</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="keyword">this</span> : M<span class="delimiter">[</span>Nothing<span class="delimiter">]</span> =&gt;
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="[B](f: Nothing =&gt; B)ZeroFunctor.this.M[B]" id="1198869">map</a><span class="delimiter">[</span><a title="" id="1198871">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Nothing =&gt; B" id="1198882">f</a> : Nothing =&gt; B<span class="delimiter">)</span> : <a href="#1198658" title="ZeroFunctor.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#1198661" title="scala extends Functors.this.ZeroFunctor with Functors.this.M[Nothing]" class="keyword">this</a>
    <span class="keyword">def</span> <a title="(f: Nothing =&gt; Boolean)ZeroFunctor.this.M[Nothing]" id="1198872">filter</a><span class="delimiter">(</span><a title="Nothing =&gt; Boolean" id="1198888">f</a> : Nothing =&gt; Boolean<span class="delimiter">)</span> : <a href="#1198658" title="ZeroFunctor.this.M[Nothing]">M</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> = <a href="#1198661" title="scala extends Functors.this.ZeroFunctor with Functors.this.M[Nothing]" class="keyword">this</a>
    <span class="keyword">def</span> <a title="[B](other: =&gt; ZeroFunctor.this.M[B])ZeroFunctor.this.M[B]" id="1198873">plus</a><span class="delimiter">[</span><a title="" id="1198875">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; ZeroFunctor.this.M[B]" id="1198890">other</a> : =&gt; M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1198658" title="ZeroFunctor.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#1198890" title="=&gt; ZeroFunctor.this.M[B]">other</a>
    <span class="keyword">def</span> <a title="[B](other: =&gt; ZeroFunctor.this.M[B])ZeroFunctor.this.M[B]" id="1198876">orElse</a><span class="delimiter">[</span><a title="" id="1198878">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; ZeroFunctor.this.M[B]" id="1198893">other</a> : =&gt; M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1198658" title="ZeroFunctor.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#1198893" title="=&gt; ZeroFunctor.this.M[B]">other</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/** One of the 'unit' definitions must be overridden in concrete subclasses */
<span title="Object" class="keyword">trait</span> <a title="trait UnitFunctors extends Object with scala.tools.scalap.scalax.rules.Units with scala.tools.scalap.scalax.rules.Functors" id="51422">UnitFunctors</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> <a href="#51419" title="scala.tools.scalap.scalax.rules.Units">Units</a> <span class="keyword">with</span> <a href="#51421" title="scala.tools.scalap.scalax.rules.Functors">Functors</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; UnitFunctors.this.M[Unit]" id="1198634">unit</a> : <a href="#1198658" title="UnitFunctors.this.M[Unit]">M</a><span class="delimiter">[</span>Unit<span class="delimiter">]</span> = <a href="#1198635" title="(a: =&gt; Unit)UnitFunctors.this.M[Unit]">unit</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A](a: =&gt; A)UnitFunctors.this.M[A]" id="1198635">unit</a><span class="delimiter">[</span><a title="" id="1198637">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="1198703">a</a> : =&gt; A<span class="delimiter">)</span> : <a href="#1198658" title="UnitFunctors.this.M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#1198634" title="=&gt; UnitFunctors.this.M[Unit]">unit</a> <a href="#1198667" title="(f: Unit =&gt; A)UnitFunctors.this.M[A]">map</a> <span class="delimiter">{</span> <a title="Unit" id="1198918">Unit</a> =&gt; <a href="#1198703" title="=&gt; A">a</a> <span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="keyword">trait</span> <a title="trait Monoidals extends Object with scala.tools.scalap.scalax.rules.UnitFunctors" id="51423">Monoidals</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> <a href="#51422" title="scala.tools.scalap.scalax.rules.UnitFunctors">UnitFunctors</a> <span class="delimiter">{</span>
  <span class="keyword">type</span> <a title="[+A] &lt;: Monoidals.this.Monoidal[A]" id="1198921">M</a><span class="delimiter">[</span>+<a title="" id="1198936">A</a><span class="delimiter">]</span> &lt;: Monoidal<span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A, B](fab: Monoidals.this.M[A =&gt; B])Monoidals.this.M[A] =&gt; Monoidals.this.M[B]" id="1198922">app</a><span class="delimiter">[</span><a title="" id="1198925">A</a>, <a title="" id="1198926">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Monoidals.this.M[A =&gt; B]" id="1198945">fab</a> : <a href="#1198921" title="Monoidals.this.M[A =&gt; B]">M</a><span class="delimiter">[</span>A =&gt; B<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span>fa : <a href="#1198921" title="Monoidals.this.M[A]">M</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; <a href="#1198949" title="Monoidals.this.M[A]">fa</a> <a href="#1198942" title="(fab: fa.M[A =&gt; B])fa.M[B]">applyTo</a> <a href="#1198945" title="Monoidals.this.M[A =&gt; B]">fab</a>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[A, B](a2b: A =&gt; B)Monoidals.this.M[A] =&gt; Monoidals.this.M[B]" id="1198927">appUnit</a><span class="delimiter">[</span><a title="" id="1198930">A</a>, <a title="" id="1198931">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A =&gt; B" id="1198958">a2b</a> : A =&gt; B<span class="delimiter">)</span> = <a href="#1198922" title="(fab: Monoidals.this.M[A =&gt; B])Monoidals.this.M[A] =&gt; Monoidals.this.M[B]">app</a><span class="delimiter">(</span><a href="#1198635" title="(a: =&gt; A =&gt; B)Monoidals.this.M[A =&gt; B]">unit</a><span class="delimiter">(</span><a href="#1198958" title="A =&gt; B">a2b</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** One of 'and' and 'applyTo' definitions must be overridden in concrete subclasses */
  <span class="keyword">trait</span> <a title="trait Monoidal[+A] extends Object with Monoidals.this.Functor[A]" id="1198932">Monoidal</a><span class="delimiter">[</span>+<a title="" id="1198933">A</a><span class="delimiter">]</span> <a href="../../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> <a href="#1198659" title="Monoidals.this.Functor[A]">Functor</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span> self : M<span class="delimiter">[</span>A<span class="delimiter">]</span> =&gt;
    <span class="keyword">def</span> <a title="[B](fb: =&gt; Monoidal.this.M[B])Monoidal.this.M[(A, B)]" id="1198939">and</a><span class="delimiter">[</span><a title="" id="1198941">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Monoidal.this.M[B]" id="1198978">fb</a> : =&gt; M<span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1198921" title="Monoidal.this.M[(A, B)]">M</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">(</span><span class="delimiter">(</span>a : <a href="#1198933" title="A">A</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span>b : <a href="#1198941" title="B">B</a><span class="delimiter">)</span> =&gt; <a href="../../../../Tuple2.scala.html#62849" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#1198982" title="A">a</a>, <a href="#1198984" title="B">b</a><span class="delimiter">)</span><span class="delimiter">)</span><a href="../../../../Function1.scala.html#58642" title="(v1: Monoidals.this.M[B])Monoidals.this.M[(A, B)]" class="delimiter">(</a><a href="#1198932" title="Monoidals.this.M[A]" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#1198978" title="=&gt; Monoidal.this.M[B]">fb</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[B](fab: Monoidal.this.M[A =&gt; B])Monoidal.this.M[B]" id="1198942">applyTo</a><span class="delimiter">[</span><a title="" id="1198944">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Monoidal.this.M[A =&gt; B]" id="1198950">fab</a> : <a href="#1198921" title="Monoidal.this.M[A =&gt; B]">M</a><span class="delimiter">[</span>A =&gt; B<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1198921" title="Monoidal.this.M[B]">M</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#1198950" title="Monoidal.this.M[A =&gt; B]">fab</a> <a href="#1198939" title="(fb: =&gt; fab.M[A])fab.M[(A =&gt; B, A)]">and</a> <a href="#1198932" title="Monoidals.this.M[A]" class="keyword">this</a> <a href="#1198667" title="(f: ((A =&gt; B, A)) =&gt; B)Monoidals.this.M[B]">map</a> <a href="#1199163" title="(A =&gt; B, A)" class="delimiter">{</a> <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../../../Tuple2.scala.html#60635" title="A =&gt; B" id="1199167">f</a>, <a href="../../../../Tuple2.scala.html#60637" title="A" id="1199168">a</a><span class="delimiter">)</span> =&gt; <a href="../../../../Function1.scala.html#58642" title="(v1: A)B">f</a><a href="#3379485" title="(x: B)B" class="delimiter">(</a><a href="#1199168" title="A">a</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>