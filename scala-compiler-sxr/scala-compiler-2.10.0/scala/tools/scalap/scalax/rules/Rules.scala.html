<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/scalap/scalax/rules/Rules.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
// -----------------------------------------------------------------------------
//
//  Scalax - The Scala Community Library
//  Copyright (c) 2005-8 The Scalax Project. All rights reserved.
//
//  The primary distribution site is http://scalax.scalaforge.org/
//
//  This software is released under the terms of the Revised BSD License.
//  There is NO WARRANTY.  See the file LICENSE for the full text.
//
// -----------------------------------------------------------------------------

<span class="keyword">package</span> scala.tools.scalap
<span class="keyword">package</span> scalax
<span class="keyword">package</span> rules

<span class="keyword">trait</span> <a title="trait Name extends Object" id="51496">Name</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="1199642">name</a> : <span title="String">String</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="1199643">toString</a> = <a href="#1199642" title="=&gt; String">name</a>
<span class="delimiter">}</span>

/** A factory for rules.
  *
  * @author Andrew Foggin
  *
  * Inspired by the Scala parser combinator.
  */
<span title="Object" class="keyword">trait</span> <a title="trait Rules extends Object" id="51497">Rules</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[In, Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="1192156">rule</a><span class="delimiter">[</span><a title="" id="1192161">In</a>, <a title="" id="1192162">Out</a>, <a title="" id="1192163">A</a>, <a title="" id="1192164">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="1192576">f</a> : In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> = <span title="Rules.this.DefaultRule[In,Out,A,X]" class="keyword">new</span> <a href="#1192217" title="Rules.this.DefaultRule[In,Out,A,X]">DefaultRule</a><span class="delimiter">(</span><a href="#1192576" title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[In, Out, A, X](rule: scala.tools.scalap.scalax.rules.Rule[In,Out,A,X])scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]" id="1192165">inRule</a><span class="delimiter">[</span><a title="" id="1192170">In</a>, <a title="" id="1192171">Out</a>, <a title="" id="1192172">A</a>, <a title="" id="1192173">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="1193521">rule</a> : <a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="SeqRule.scala.html#51503" title="scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]">InRule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> = <span title="scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]" class="keyword">new</span> <a href="SeqRule.scala.html#51503" title="scala.tools.scalap.scalax.rules.InRule[In,Out,A,X]">InRule</a><span class="delimiter">(</span><a href="#1193521" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">rule</a><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[In, A, X](rule: scala.tools.scalap.scalax.rules.Rule[In,In,A,X])scala.tools.scalap.scalax.rules.SeqRule[In,A,X]" id="1192174">seqRule</a><span class="delimiter">[</span><a title="" id="1192178">In</a>, <a title="" id="1192179">A</a>, <a title="" id="1192180">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,In,A,X]" id="1193479">rule</a> : <a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[In,In,A,X]">Rule</a><span class="delimiter">[</span>In, In, A, X<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="SeqRule.scala.html#51508" title="scala.tools.scalap.scalax.rules.SeqRule[In,A,X]">SeqRule</a><span class="delimiter">[</span>In, A, X<span class="delimiter">]</span> = <span title="scala.tools.scalap.scalax.rules.SeqRule[In,A,X]" class="keyword">new</span> <a href="SeqRule.scala.html#51508" title="scala.tools.scalap.scalax.rules.SeqRule[In,A,X]">SeqRule</a><span class="delimiter">(</span><a href="#1193479" title="scala.tools.scalap.scalax.rules.Rule[In,In,A,X]">rule</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[In]=&gt; Object{def apply[Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]): scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]}" id="1192181">from</a><span class="delimiter">[</span><a title="" id="1192183">In</a><span class="delimiter">]</span> = <a href="#1195973" title="Object{def apply[Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]): scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]}" class="keyword">new</a> <a title="anonymous class $anon extends Object" id="1195973" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="[Out, A, X](f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="1195975">apply</a><span class="delimiter">[</span><a title="" id="1195979">Out</a>, <a title="" id="1195980">A</a>, <a title="" id="1195981">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="1195982">f</a> : In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1192156" title="(f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">rule</a><span class="delimiter">(</span><a href="#1195982" title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[s]=&gt; scala.tools.scalap.scalax.rules.StateRules{type S = s}" id="1192184">state</a><span class="delimiter">[</span><a title="" id="1192186">s</a><span class="delimiter">]</span> = <a href="#1200937" title="scala.tools.scalap.scalax.rules.StateRules{}" class="keyword">new</a> <a title="anonymous class $anon extends Object with scala.tools.scalap.scalax.rules.StateRules" id="1200937">StateRules</a> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="s" id="1200939">S</a> = <a href="#1192186" title="s">s</a>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.Rules" id="1200940">factory</a> = <a href="#51497" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>.<span class="keyword">this</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[Out, A](out: Out, a: A)scala.tools.scalap.scalax.rules.Rule[Any,Out,A,Nothing]" id="1192187">success</a><span class="delimiter">[</span><a title="" id="1192190">Out</a>, <a title="" id="1192191">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Out" id="1200959">out</a> : <a href="#1192190" title="Out">Out</a>, <a title="A" id="1200960">a</a> : <a href="#1192191" title="A">A</a><span class="delimiter">)</span> = <a href="#1192156" title="(f: Any =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,Nothing])scala.tools.scalap.scalax.rules.Rule[Any,Out,A,Nothing]">rule</a> <span class="delimiter">{</span> in : <span title="Any">Any</span> =&gt; <a href="Result.scala.html#1192861" title="(out: Out, value: A)scala.tools.scalap.scalax.rules.Success[Out,A]">Success</a><span class="delimiter">(</span><a href="#1200959" title="Out">out</a>, <a href="#1200960" title="A">a</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,Nothing]" id="1192192">failure</a> = <a href="#1192156" title="(f: Any =&gt; scala.tools.scalap.scalax.rules.Result[Nothing,Nothing,Nothing])scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,Nothing]">rule</a> <span class="delimiter">{</span> in : <span title="Any">Any</span> =&gt; <a href="Result.scala.html#51471" title="scala.tools.scalap.scalax.rules.Failure.type">Failure</a> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[In]=&gt; scala.tools.scalap.scalax.rules.Rule[In,Nothing,Nothing,In]" id="1192193">error</a><span class="delimiter">[</span><a title="" id="1192195">In</a><span class="delimiter">]</span> = <a href="#1192156" title="(f: In =&gt; scala.tools.scalap.scalax.rules.Result[Nothing,Nothing,In])scala.tools.scalap.scalax.rules.Rule[In,Nothing,Nothing,In]">rule</a> <span class="delimiter">{</span> in : <a href="#1192195" title="In">In</a> =&gt; <a href="Result.scala.html#1193220" title="(error: In)scala.tools.scalap.scalax.rules.Error[In]">Error</a><span class="delimiter">(</span><a href="#1193473" title="In">in</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[X](err: X)scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,X]" id="1192196">error</a><span class="delimiter">[</span><a title="" id="1192198">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="X" id="1193450">err</a> : <a href="#1192198" title="X">X</a><span class="delimiter">)</span> = <a href="#1192156" title="(f: Any =&gt; scala.tools.scalap.scalax.rules.Result[Nothing,Nothing,X])scala.tools.scalap.scalax.rules.Rule[Any,Nothing,Nothing,X]">rule</a> <span class="delimiter">{</span> in : <span title="Any">Any</span> =&gt; <a href="Result.scala.html#1193220" title="(error: X)scala.tools.scalap.scalax.rules.Error[X]">Error</a><span class="delimiter">(</span><a href="#1193450" title="X">err</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[In, Out, A, X](rules: scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*)scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="1192199">oneOf</a><span class="delimiter">[</span><a title="" id="1192204">In</a>, <a title="" id="1192205">Out</a>, <a title="" id="1192206">A</a>, <a title="" id="1192207">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*" id="1200985">rules</a> : <span title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*">Rule</span><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> *<span class="delimiter">)</span> : <a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> = <a href="#1200987" title="scala.tools.scalap.scalax.rules.Choice[In,Out,A,X]{}" class="keyword">new</a> <a title="anonymous class $anon extends Object with scala.tools.scalap.scalax.rules.Choice[In,Out,A,X]" id="1200987">Choice</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.Rules" id="1200989">factory</a> = <a href="#51497" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>.<span class="keyword">this</span>
    <span class="keyword">val</span> <a title="List[scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]]" id="1200991">choices</a> = <a href="#1200985" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]*">rules</a>.<a href="../../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]]">toList</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[In, Out, A, X](_name: String, f: In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X])scala.tools.scalap.scalax.rules.Rule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name" id="1192208">ruleWithName</a><span class="delimiter">[</span><a title="" id="1192213">In</a>, <a title="" id="1192214">Out</a>, <a title="" id="1192215">A</a>, <a title="" id="1192216">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="1199612">_name</a> : <span title="String">String</span>, <a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="1199613">f</a> : In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="#1199614" title="Rules extends scala.tools.scalap.scalax.rules.Rule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> <span class="keyword">with</span> Name =
    <a href="#1200996" title="Rules.this.DefaultRule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name{}" class="keyword">new</a> <a title="anonymous class $anon extends Rules.this.DefaultRule[In,Out,A,X] with scala.tools.scalap.scalax.rules.Name" id="1200996">DefaultRule</a><span class="delimiter">(</span><a href="#1199613" title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#51496" title="scala.tools.scalap.scalax.rules.Name">Name</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="1201004">name</a> = <a href="#1199612" title="String">_name</a>
    <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class DefaultRule[In, Out, A, X] extends Object with scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]" id="1192217">DefaultRule</a><span class="delimiter">[</span><a title="" id="1192218">In</a>, <a title="" id="1192219">Out</a>, <a title="" id="1192220">A</a>, <a title="" id="1192221">X</a><span class="delimiter">]</span><a href="#1192217" title="Rules.this.DefaultRule[In,Out,A,X]" class="delimiter">(</a><a title="In =&gt; scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="1200921">f</a> : In =&gt; Result<span class="delimiter">[</span>Out, A, X<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,X]">Rule</a><span class="delimiter">[</span>In, Out, A, X<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.Rules" id="1200914">factory</a> = <a href="#51497" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>.<span class="keyword">this</span>
    <span class="keyword">def</span> <a title="(in: In)scala.tools.scalap.scalax.rules.Result[Out,A,X]" id="1200916">apply</a><span class="delimiter">(</span><a title="In" id="1201017">in</a> : <a href="#1192218" title="In">In</a><span class="delimiter">)</span> = <a href="../../../../Function1.scala.html#58642" title="(v1: In)scala.tools.scalap.scalax.rules.Result[Out,A,X]">f</a><span class="delimiter">(</span><a href="#1201017" title="In">in</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

 /** Converts a rule into a function that throws an Exception on failure. */
  <span class="keyword">def</span> <a title="[In, Out, A, Any](rule: scala.tools.scalap.scalax.rules.Rule[In,Out,A,Any])In =&gt; A" id="1192222">expect</a><span class="delimiter">[</span><a title="" id="1192227">In</a>, <a title="" id="1192228">Out</a>, <a title="" id="1192229">A</a>, <a title="" id="1192230">Any</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,Any]" id="1192565">rule</a> : <a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[In,Out,A,Any]">Rule</a><span class="delimiter">[</span>In, Out, A, Any<span class="delimiter">]</span><span class="delimiter">)</span> : In =&gt; A = <span class="delimiter">(</span><a title="In" id="1201023">in</a><span class="delimiter">)</span> =&gt; <a href="../../../../Function1.scala.html#58642" title="(v1: In)scala.tools.scalap.scalax.rules.Result[Out,A,Any]">rule</a><a href="#3379870" title="(x: A)A" class="delimiter">(</a><a href="#1201023" title="In">in</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> Success<a href="#3379863" title="A" id="3379865" class="delimiter">(</a><a href="Result.scala.html#1192894" title="Out" id="3379864">_</a>, <a href="Result.scala.html#1192896" title="A" id="1201030">a</a><span class="delimiter">)</span> =&gt; <a href="#3379870" title="(x: A)A">a</a>
    <span class="keyword">case</span> <a href="Result.scala.html#51471" title="A" id="3379868">Failure</a> =&gt; <a href="#3379870" title="(x: A)A" class="keyword">throw</a> <span title="scala.tools.scalap.scalax.rules.ScalaSigParserError" class="keyword">new</span> <a href="Result.scala.html#51473" title="scala.tools.scalap.scalax.rules.ScalaSigParserError">ScalaSigParserError</a><span class="delimiter">(</span><span title="String(&quot;Unexpected failure&quot;)" class="string">&quot;Unexpected failure&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> Error<a href="#3379863" title="A" id="3379867" class="delimiter">(</a><a href="Result.scala.html#1193224" title="Any" id="1201035">x</a><span class="delimiter">)</span> =&gt; <a href="#3379870" title="(x: A)A" class="keyword">throw</a> <span title="scala.tools.scalap.scalax.rules.ScalaSigParserError" class="keyword">new</span> <a href="Result.scala.html#51473" title="scala.tools.scalap.scalax.rules.ScalaSigParserError">ScalaSigParserError</a><span class="delimiter">(</span><span title="String(&quot;Unexpected error: &quot;)" class="string">&quot;Unexpected error: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#1201035" title="Any">x</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

/** A factory for rules that apply to a particular context.
  *
  * @requires S the context to which rules apply.
  *
  * @author Andrew Foggin
  *
  * Inspired by the Scala parser combinator.
  */
<span title="Object" class="keyword">trait</span> <a title="trait StateRules extends Object" id="51498">StateRules</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="delimiter">{</a>
  <span class="keyword">type</span> <a title="" id="1192332">S</a>
  <span class="keyword">type</span> <a title="[+A, +X]scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]" id="1192333">Rule</a><span class="delimiter">[</span>+<a title="" id="1192334">A</a>, +<a title="" id="1192335">X</a><span class="delimiter">]</span> = rules.<a href="Rule.scala.html#51483" title="scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]">Rule</a><span class="delimiter">[</span>S, S, A, X<span class="delimiter">]</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.scalap.scalax.rules.Rules" id="1192336">factory</a> : <a href="#51497" title="scala.tools.scalap.scalax.rules.Rules">Rules</a>
  <span class="keyword">import</span> <a href="#1192336" title="=&gt; scala.tools.scalap.scalax.rules.Rules">factory</a>._

  <span class="keyword">def</span> <a title="[A, X](f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]" id="1192338">apply</a><span class="delimiter">[</span><a title="" id="1192341">A</a>, <a title="" id="1192342">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X]" id="1192575">f</a> : S =&gt; Result<span class="delimiter">[</span>S, A, X<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1192156" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X]">rule</a><span class="delimiter">(</span><a href="#1192575" title="StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X]">f</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A](a: =&gt; A)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]" id="1192343">unit</a><span class="delimiter">[</span><a title="" id="1192345">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="1201037">a</a> : =&gt; A<span class="delimiter">)</span> = <a href="#1192338" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="1201042">s</a> =&gt; <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: A)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,A]">Success</a><span class="delimiter">(</span><a href="#1201042" title="StateRules.this.S">s</a>, <a href="#1201037" title="=&gt; A">a</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A](f: StateRules.this.S =&gt; A)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]" id="1192346">read</a><span class="delimiter">[</span><a title="" id="1192348">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="StateRules.this.S =&gt; A" id="1196140">f</a> : S =&gt; A<span class="delimiter">)</span> = <a href="#1192338" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="1196145">s</a> =&gt; <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: A)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,A]">Success</a><span class="delimiter">(</span><a href="#1196145" title="StateRules.this.S">s</a>, <a href="../../../../Function1.scala.html#58642" title="(v1: StateRules.this.S)A">f</a><span class="delimiter">(</span><a href="#1196145" title="StateRules.this.S">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="1192349">get</a> = <a href="#1192338" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,StateRules.this.S,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="1196115">s</a> =&gt; <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: StateRules.this.S)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,StateRules.this.S]">Success</a><span class="delimiter">(</span><a href="#1196115" title="StateRules.this.S">s</a>, <a href="#1196115" title="StateRules.this.S">s</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(s: =&gt; StateRules.this.S)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="1192350">set</a><span class="delimiter">(</span><a title="=&gt; StateRules.this.S" id="1201051">s</a> : =&gt; S<span class="delimiter">)</span> = <a href="#1192338" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,StateRules.this.S,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="1201056">oldS</a> =&gt; <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: StateRules.this.S)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,StateRules.this.S]">Success</a><span class="delimiter">(</span><a href="#1201051" title="=&gt; StateRules.this.S">s</a>, <a href="#1201056" title="StateRules.this.S">oldS</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(f: StateRules.this.S =&gt; StateRules.this.S)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="1192351">update</a><span class="delimiter">(</span><a title="StateRules.this.S =&gt; StateRules.this.S" id="1201064">f</a> : S =&gt; S<span class="delimiter">)</span> = <a href="#1192338" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,StateRules.this.S,Nothing])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">apply</a> <span class="delimiter">{</span> <a title="StateRules.this.S" id="1201069">s</a> =&gt; <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: StateRules.this.S)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,StateRules.this.S]">Success</a><span class="delimiter">(</span><a href="#1201069" title="StateRules.this.S">s</a>, <a href="../../../../Function1.scala.html#58642" title="(v1: StateRules.this.S)StateRules.this.S">f</a><span class="delimiter">(</span><a href="#1201069" title="StateRules.this.S">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,scala.collection.immutable.Nil.type,Nothing]" id="1192352">nil</a> = <a href="#1192343" title="(a: =&gt; scala.collection.immutable.Nil.type)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,scala.collection.immutable.Nil.type,Nothing]">unit</a><span class="delimiter">(</span><a href="../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,None.type,Nothing]" id="1192353">none</a> = <a href="#1192343" title="(a: =&gt; None.type)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,None.type,Nothing]">unit</a><span class="delimiter">(</span><a href="../../../../Option.scala.html#1585" title="None.type">None</a><span class="delimiter">)</span>

  /** Create a rule that identities if f(in) is true. */
  <span class="keyword">def</span> <a title="(f: StateRules.this.S =&gt; Boolean)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]" id="1192354">cond</a><span class="delimiter">(</span><a title="StateRules.this.S =&gt; Boolean" id="1196110">f</a> : S =&gt; Boolean<span class="delimiter">)</span> = <a href="#1192349" title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">get</a> <a href="Rule.scala.html#1192591" title="(f: StateRules.this.S =&gt; Boolean)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,StateRules.this.S,Nothing]">filter</a> <a href="#1196110" title="StateRules.this.S =&gt; Boolean">f</a>

  /** Create a rule that succeeds if all of the given rules succeed.
      @param rules the rules to apply in sequence.
  */
  <span class="keyword">def</span> <a title="[A, X](rules: Seq[StateRules.this.Rule[A,X]])StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="1192355">allOf</a><span class="delimiter">[</span><a title="" id="1192358">A</a>, <a title="" id="1192359">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[StateRules.this.Rule[A,X]]" id="1201084">rules</a> : <a href="../../../../collection/Seq.scala.html#4340" title="Seq[StateRules.this.Rule[A,X]]">Seq</a><span class="delimiter">[</span>Rule<span class="delimiter">[</span>A, X<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(in: StateRules.this.S, rules: List[StateRules.this.Rule[A,X]], results: List[A])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="1201085">rep</a><span class="delimiter">(</span><a title="StateRules.this.S" id="1201086">in</a> : <a href="#1192332" title="StateRules.this.S">S</a>, <a title="List[StateRules.this.Rule[A,X]]" id="1201087">rules</a> : <a href="../../../../collection/immutable/List.scala.html#11952" title="List[StateRules.this.Rule[A,X]]">List</a><span class="delimiter">[</span>Rule<span class="delimiter">[</span>A, X<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="List[A]" id="1201088">results</a> : <a href="../../../../collection/immutable/List.scala.html#11952" title="List[A]">List</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> : <a href="Result.scala.html#51460" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">Result</a><span class="delimiter">[</span>S, List<span class="delimiter">[</span>A<span class="delimiter">]</span>, X<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#1201087" title="List[StateRules.this.Rule[A,X]]">rules</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#11188" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="3379897">Nil</a> =&gt; <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: List[A])scala.tools.scalap.scalax.rules.Success[StateRules.this.S,List[A]]">Success</a><a href="#3379899" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" class="delimiter">(</a><a href="#1201086" title="StateRules.this.S">in</a>, <a href="#1201088" title="List[A]">results</a>.<a href="../../../../collection/immutable/List.scala.html#62716" title="=&gt; List[A]">reverse</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../../../../collection/immutable/List.scala.html#206583" title="StateRules.this.Rule[A,X]" id="1201099">rule</a><a href="#3379894" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="3379896">::</a><a href="../../../../collection/immutable/List.scala.html#206584" title="List[StateRules.this.Rule[A,X]]" id="1201100">tl</a> =&gt; <a href="../../../../Function1.scala.html#58642" title="(v1: StateRules.this.S)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,A,X]">rule</a><a href="#3379899" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" class="delimiter">(</a><a href="#1201086" title="StateRules.this.S">in</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Result.scala.html#51471" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="3379883">Failure</a> =&gt; <a href="#3379885" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">Failure</a>
          <span class="keyword">case</span> Error<a href="#3379879" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="3379881" class="delimiter">(</a><a href="Result.scala.html#1193224" title="X" id="1201105">x</a><span class="delimiter">)</span> =&gt; <a href="Result.scala.html#1193220" title="(error: X)scala.tools.scalap.scalax.rules.Error[X]">Error</a><a href="#3379885" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" class="delimiter">(</a><a href="#1201105" title="X">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> Success<a href="#3379879" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" id="3379882" class="delimiter">(</a><a href="Result.scala.html#1192894" title="StateRules.this.S" id="1201113">out</a>, <a href="Result.scala.html#1192896" title="A" id="1201114">v</a><span class="delimiter">)</span> =&gt; <a href="#1201085" title="(in: StateRules.this.S, rules: List[StateRules.this.Rule[A,X]], results: List[A])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">rep</a><a href="#3379885" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]" class="delimiter">(</a><a href="#1201113" title="StateRules.this.S">out</a>, <a href="#1201100" title="List[StateRules.this.Rule[A,X]]">tl</a>, <a href="#1201114" title="A">v</a><a href="../../../../collection/immutable/List.scala.html#62685" title="(x: A)List[A]">::</a><a href="#1201088" title="List[A]">results</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    in : <a href="#1192332" title="StateRules.this.S">S</a> =&gt; <a href="#1201085" title="(in: StateRules.this.S, rules: List[StateRules.this.Rule[A,X]], results: List[A])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[A],X]">rep</a><span class="delimiter">(</span><a href="#1201122" title="StateRules.this.S">in</a>, <a href="#1201084" title="Seq[StateRules.this.Rule[A,X]]">rules</a>.<a href="../../../../collection/TraversableOnce.scala.html#58263" title="=&gt; List[StateRules.this.Rule[A,X]]">toList</a>, <a href="../../../../collection/immutable/List.scala.html#11188" title="scala.collection.immutable.Nil.type">Nil</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  /** Create a rule that succeeds with a list of all the provided rules that succeed.
      @param rules the rules to apply in sequence.
  */
  <span class="keyword">def</span> <a title="[A, X](rules: Seq[StateRules.this.Rule[A,X]])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,List[A],X]" id="1192360">anyOf</a><span class="delimiter">[</span><a title="" id="1192363">A</a>, <a title="" id="1192364">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[StateRules.this.Rule[A,X]]" id="1201124">rules</a> : <a href="../../../../collection/Seq.scala.html#4340" title="Seq[StateRules.this.Rule[A,X]]">Seq</a><span class="delimiter">[</span>Rule<span class="delimiter">[</span>A, X<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#1192355" title="(rules: Seq[StateRules.this.Rule[Option[A],X]])StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[Option[A]],X]">allOf</a><a href="#1192156" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,List[Option[A]],X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,List[Option[A]],X]" class="delimiter">(</a><a href="#1201124" title="Seq[StateRules.this.Rule[A,X]]">rules</a>.<a href="../../../../collection/TraversableLike.scala.html#58063" title="(f: StateRules.this.Rule[A,X] =&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[StateRules.this.Rule[A,X]],scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X],Seq[scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]]])Seq[scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]]">map</a><a href="../../../../collection/Seq.scala.html#81904" title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X],Seq[scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]]]" class="delimiter">(</a><a href="#1192174" title="(rule: scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,A,X])scala.tools.scalap.scalax.rules.SeqRule[StateRules.this.S,A,X]">_</a> <a href="SeqRule.scala.html#1193484" title="=&gt; scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,Option[A],X]">?</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Rule.scala.html#1192620" title="(fa2b: List[Option[A]] =&gt; List[A])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,List[A],X]">^^</a> <span class="delimiter">{</span> <a title="List[Option[A]]" id="1201647">opts</a> =&gt; <a href="#1201647" title="List[Option[A]]">opts</a>.<a href="../../../../collection/TraversableLike.scala.html#58068" title="(f: Option[A] =&gt; scala.collection.GenTraversableOnce[A])(implicit bf: scala.collection.generic.CanBuildFrom[List[Option[A]],A,List[A]])List[A]">flatMap</a><a href="../../../../collection/immutable/List.scala.html#62442" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,A,List[A]]" class="delimiter">(</a><a title="Option[A]" id="1201664">x</a> =&gt; <a href="../../../../Option.scala.html#97396" title="(xo: Option[A])Iterable[A]">x</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  /** Repeatedly apply a rule from initial value until finished condition is met. */
  <span class="keyword">def</span> <a title="[T, X](rule: StateRules.this.Rule[T =&gt; T,X])(finished: T =&gt; Boolean)(initial: T)scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,T,X]" id="1192365">repeatUntil</a><span class="delimiter">[</span><a title="" id="1192368">T</a>, <a title="" id="1192369">X</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="StateRules.this.Rule[T =&gt; T,X]" id="1193667">rule</a> : <a href="Rule.scala.html#51483" title="StateRules.this.Rule[T =&gt; T,X]">Rule</a><span class="delimiter">[</span>T =&gt; T, X<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="T =&gt; Boolean" id="1193668">finished</a> : T =&gt; Boolean<span class="delimiter">)</span><span class="delimiter">(</span><a title="T" id="1193669">initial</a> : <a href="#1192368" title="T">T</a><span class="delimiter">)</span> = <a href="#1192338" title="(f: StateRules.this.S =&gt; scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X])scala.tools.scalap.scalax.rules.Rule[StateRules.this.S,StateRules.this.S,T,X]">apply</a> <span class="delimiter">{</span>
    // more compact using HoF but written this way so it's tail-recursive
    <span class="keyword">def</span> <a title="(in: StateRules.this.S, t: T)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" id="1193673">rep</a><span class="delimiter">(</span><a title="StateRules.this.S" id="1193674">in</a> : <a href="#1192332" title="StateRules.this.S">S</a>, <a title="T" id="1193675">t</a> : <a href="#1192368" title="T">T</a><span class="delimiter">)</span> : <a href="Result.scala.html#51460" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">Result</a><span class="delimiter">[</span>S, T, X<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Function1.scala.html#58642" title="(v1: T)Boolean">finished</a><span class="delimiter">(</span><a href="#1193675" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Result.scala.html#1192861" title="(out: StateRules.this.S, value: T)scala.tools.scalap.scalax.rules.Success[StateRules.this.S,T]">Success</a><span class="delimiter">(</span><a href="#1193674" title="StateRules.this.S">in</a>, <a href="#1193675" title="T">t</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../../../Function1.scala.html#58642" title="(v1: StateRules.this.S)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T =&gt; T,X]">rule</a><a href="#3379913" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" class="delimiter">(</a><a href="#1193674" title="StateRules.this.S">in</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> Success<a href="#3379907" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" id="3379908" class="delimiter">(</a><a href="Result.scala.html#1192894" title="StateRules.this.S" id="1193689">out</a>, <a href="Result.scala.html#1192896" title="T =&gt; T" id="1193690">f</a><span class="delimiter">)</span> =&gt; <a href="#1193673" title="(in: StateRules.this.S, t: T)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">rep</a><a href="#3379913" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" class="delimiter">(</a><a href="#1193689" title="StateRules.this.S">out</a>, <a href="../../../../Function1.scala.html#58642" title="(v1: T)T">f</a><span class="delimiter">(</span><a href="#1193675" title="T">t</a><span class="delimiter">)</span><span class="delimiter">)</span> // SI-5189 f.asInstanceOf[T =&gt; T]
        <span class="keyword">case</span> <a href="Result.scala.html#51471" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" id="3379911">Failure</a> =&gt; <a href="#3379913" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">Failure</a>
        <span class="keyword">case</span> Error<a href="#3379907" title="scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" id="3379910" class="delimiter">(</a><a href="Result.scala.html#1193224" title="X" id="1193696">x</a><span class="delimiter">)</span> =&gt; <a href="Result.scala.html#1193220" title="(error: X)scala.tools.scalap.scalax.rules.Error[X]">Error</a><a href="#3379913" title="(x: scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X])scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]" class="delimiter">(</a><a href="#1193696" title="X">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a title="StateRules.this.S" id="1193701">in</a> =&gt; <a href="#1193673" title="(in: StateRules.this.S, t: T)scala.tools.scalap.scalax.rules.Result[StateRules.this.S,T,X]">rep</a><span class="delimiter">(</span><a href="#1193701" title="StateRules.this.S">in</a>, <a href="#1193669" title="T">initial</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


<span class="delimiter">}</span>

<span title="Object" class="keyword">trait</span> <a title="trait RulesWithState extends Object with scala.tools.scalap.scalax.rules.Rules with scala.tools.scalap.scalax.rules.StateRules" id="51499">RulesWithState</a> <a href="../../../../Unit.scala.html#1515" title="Unit" class="keyword">extends</a> <a href="#51497" title="scala.tools.scalap.scalax.rules.Rules">Rules</a> <span class="keyword">with</span> <a href="#51498" title="scala.tools.scalap.scalax.rules.StateRules">StateRules</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="scala.tools.scalap.scalax.rules.RulesWithState" id="1192232">factory</a> = <a href="#51499" title="scala.tools.scalap.scalax.rules.RulesWithState" class="keyword">this</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>