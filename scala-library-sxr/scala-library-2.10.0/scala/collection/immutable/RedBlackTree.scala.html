<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/collection/immutable/RedBlackTree.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2005-2013, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */



<span class="keyword">package</span> scala
<span class="keyword">package</span> collection
<span class="keyword">package</span> immutable

<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.annotation.meta.getter

/** An object containing the RedBlack tree implementation used by for `TreeMaps` and `TreeSets`.
 *
 *  Implementation note: since efficiency is important for data structures this implementation
 *  uses &lt;code&gt;null&lt;/code&gt; to represent empty trees. This also means pattern matching cannot
 *  easily be used. The API represented by the RedBlackTree object tries to hide these
 *  optimizations behind a reasonably clean API.
 *
 *  @since 2.10
 */
<span class="keyword">private</span><span class="delimiter">[</span>immutable<span class="delimiter">]</span>
<span class="keyword">object</span> <a title="scala.collection.immutable.RedBlackTree.type" id="10271">RedBlackTree</a> <a href="#10272" title="scala.collection.immutable.RedBlackTree.type" class="delimiter">{</a>

  <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="178964">isEmpty</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="179191">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#179191" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span>

  <span class="keyword">def</span> <a title="[A](tree: scala.collection.immutable.RedBlackTree.Tree[A, _], x: A)(implicit ordering: Ordering[A])Boolean" id="178965">contains</a><span class="delimiter">[</span><a title="" id="178967">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A, _]" id="179215">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">Tree</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span>, <a title="A" id="179216">x</a>: <a href="#178967" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179217">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#178973" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,_$3], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,_$3]">lookup</a><a href="#179217" title="Ordering[A]" class="delimiter">(</a><a href="#179215" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>, <a href="#179216" title="A">x</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])Option[B]" id="178968">get</a><span class="delimiter">[</span><a title="" id="178971">A</a>, <a title="" id="178972">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179242">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179243">x</a>: <a href="#178971" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179244">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Option.scala.html#978" title="Option[B]">Option</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <a href="#178973" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">lookup</a><a href="#179244" title="Ordering[A]" class="delimiter">(</a><a href="#179242" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179243" title="A">x</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#1442636" title="Option[B]" id="1442639" class="keyword">null</a> =&gt; <a href="#1442641" title="(x: Option[B])Option[B]">None</a>
    <span class="keyword">case</span> tree =&gt; <a href="../../Option.scala.html#32449" title="(x: B)Some[B]">Some</a><a href="#1442641" title="(x: Option[B])Option[B]" class="delimiter">(</a>tree.<a href="#179949" title="=&gt; B">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @tailrec
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="178973">lookup</a><span class="delimiter">[</span><a title="" id="178976">A</a>, <a title="" id="178977">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179225">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179226">x</a>: <a href="#178976" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179227">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179225" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="179262">cmp</a> = <a href="#179227" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51438" title="(x: A, y: A)Int">compare</a><span class="delimiter">(</span><a href="#179226" title="A">x</a>, <a href="#179225" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179262" title="Int">cmp</a> <a href="../../Int.scala.html#26435" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#178973" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">lookup</a><a href="#179227" title="Ordering[A]" class="delimiter">(</a><a href="#179225" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179226" title="A">x</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179262" title="Int">cmp</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#178973" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], x: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">lookup</a><a href="#179227" title="Ordering[A]" class="delimiter">(</a><a href="#179225" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179226" title="A">x</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179225" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int" id="178978">count</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="179295">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#179295" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#179295" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a>.<a href="#179211" title="=&gt; Int">count</a>
  <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="178979">update</a><span class="delimiter">[</span><a title="" id="178983">A</a>, <a title="" id="178984">B</a>, <a title=" &gt;: B" id="178985">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179302">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179303">k</a>: <a href="#178983" title="A">A</a>, <a title="B1" id="179304">v</a>: <a href="#178985" title="B1">B1</a>, <a title="Boolean" id="179305">overwrite</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179306">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">blacken</a><span class="delimiter">(</span><a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]">upd</a><a href="#179306" title="Ordering[A]" class="delimiter">(</a><a href="#179302" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179303" title="A">k</a>, <a href="#179304" title="B1">v</a>, <a href="#179305" title="Boolean">overwrite</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="178986">delete</a><span class="delimiter">[</span><a title="" id="178989">A</a>, <a title="" id="178990">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179343">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179344">k</a>: <a href="#178989" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179345">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179114" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#179345" title="Ordering[A]" class="delimiter">(</a><a href="#179343" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179344" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Option[A], until: Option[A])(implicit evidence$1: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179372">rangeImpl</a><span class="delimiter">[</span><a title="" id="178994">A</a>: Ordering, <a title="" id="178995">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179369">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Option[A]" id="179370">from</a>: <a href="../../Option.scala.html#978" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="179371">until</a>: <a href="../../Option.scala.html#978" title="Option[A]">Option</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="../../Tuple2.scala.html#32170" title="(_1: Option[A], _2: Option[A])(Option[A], Option[A])" class="delimiter">(</a><a href="#179370" title="Option[A]">from</a>, <a href="#179371" title="Option[A]">until</a><span class="delimiter">)</span> <span class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>Some<a href="../../Tuple2.scala.html#29956" title="Option[A]" id="1442652" class="delimiter">(</a><a href="../../Option.scala.html#32453" title="A" id="179389">from</a><span class="delimiter">)</span>, Some<a href="../../Tuple2.scala.html#29958" title="Option[A]" id="1442653" class="delimiter">(</a><a href="../../Option.scala.html#32453" title="A" id="179392">until</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="keyword">this</span>.<a href="#179396" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit evidence$2: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">range</a><a href="#1442671" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a><a href="#179369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179389" title="A">from</a>, <a href="#179392" title="A">until</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span>Some<a href="../../Tuple2.scala.html#29956" title="Option[A]" id="1442656" class="delimiter">(</a><a href="../../Option.scala.html#32453" title="A" id="179419">from</a><span class="delimiter">)</span>, <a href="../../Tuple2.scala.html#29958" title="Option[A]" id="1442666">None</a><span class="delimiter">)</span>        =&gt; <span class="keyword">this</span>.<a href="#179422" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit evidence$3: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">from</a><a href="#1442671" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a><a href="#179369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179419" title="A">from</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../Tuple2.scala.html#29956" title="Option[A]" id="1442667">None</a>,       Some<a href="../../Tuple2.scala.html#29958" title="Option[A]" id="1442661" class="delimiter">(</a><a href="../../Option.scala.html#32453" title="A" id="179442">until</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="keyword">this</span>.<a href="#179445" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], key: A)(implicit evidence$5: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">until</a><a href="#1442671" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a><a href="#179369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179442" title="A">until</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span class="delimiter">(</span><a href="../../Tuple2.scala.html#29956" title="Option[A]" id="1442668">None</a>,       <a href="../../Tuple2.scala.html#29958" title="Option[A]" id="1442669">None</a><span class="delimiter">)</span>        =&gt; <a href="#1442671" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit evidence$2: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179396">range</a><span class="delimiter">[</span><a title="" id="178999">A</a>: Ordering, <a title="" id="179000">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179393">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179394">from</a>: <a href="#178999" title="A">A</a>, <a title="A" id="179395">until</a>: <a href="#178999" title="A">A</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179134" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doRange</a><a href="#179396" title="Ordering[A]" class="delimiter">(</a><a href="#179393" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179394" title="A">from</a>, <a href="#179395" title="A">until</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit evidence$3: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179422">from</a><span class="delimiter">[</span><a title="" id="179004">A</a>: Ordering, <a title="" id="179005">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179420">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179421">from</a>: <a href="#179004" title="A">A</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179119" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#179422" title="Ordering[A]" class="delimiter">(</a><a href="#179420" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179421" title="A">from</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit evidence$4: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179509">to</a><span class="delimiter">[</span><a title="" id="179009">A</a>: Ordering, <a title="" id="179010">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179507">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179508">to</a>: <a href="#179009" title="A">A</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179124" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doTo</a><a href="#179509" title="Ordering[A]" class="delimiter">(</a><a href="#179507" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179508" title="A">to</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], key: A)(implicit evidence$5: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179445">until</a><span class="delimiter">[</span><a title="" id="179014">A</a>: Ordering, <a title="" id="179015">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179443">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179444">key</a>: <a href="#179014" title="A">A</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179129" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#179445" title="Ordering[A]" class="delimiter">(</a><a href="#179443" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179444" title="A">key</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)(implicit evidence$6: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179555">drop</a><span class="delimiter">[</span><a title="" id="179019">A</a>: Ordering, <a title="" id="179020">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179553">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179554">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179139" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#179553" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179554" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)(implicit evidence$7: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179575">take</a><span class="delimiter">[</span><a title="" id="179024">A</a>: Ordering, <a title="" id="179025">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179573">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179574">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179144" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#179573" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179574" title="Int">n</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)(implicit evidence$8: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179596">slice</a><span class="delimiter">[</span><a title="" id="179029">A</a>: Ordering, <a title="" id="179030">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179593">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179594">from</a>: <a href="../../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="179595">until</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#179149" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doSlice</a><span class="delimiter">(</span><a href="#179593" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179594" title="Int">from</a>, <a href="#179595" title="Int">until</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179031">smallest</a><span class="delimiter">[</span><a title="" id="179034">A</a>, <a title="" id="179035">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179619">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#22180" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179621">result</a> = <a href="#179619" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#179621" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179621" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a> = <a href="#179621" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>
    <a href="#179621" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179036">greatest</a><span class="delimiter">[</span><a title="" id="179039">A</a>, <a title="" id="179040">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179625">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179625" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#22180" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;empty map&quot;)" class="string">&quot;empty map&quot;</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179627">result</a> = <a href="#179625" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#179627" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179627" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a> = <a href="#179627" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>
    <a href="#179627" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B, U](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], f: ((A, B)) =&gt; U)Unit" id="179041">foreach</a><span class="delimiter">[</span><a title="" id="179045">A</a>, <a title="" id="179046">B</a>, <a title="" id="179047">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179631">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="((A, B)) =&gt; U" id="179632">f</a>: <span class="delimiter">(</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#1515" title="Unit">Unit</a> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179041" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], f: ((A, B)) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179632" title="((A, B)) =&gt; U">f</a><span class="delimiter">)</span>
    <a href="../../Function1.scala.html#27963" title="(v1: (A, B))U">f</a><span class="delimiter">(</span><a href="../../Tuple2.scala.html#32170" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179041" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], f: ((A, B)) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#179631" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179632" title="((A, B)) =&gt; U">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[A, U](tree: scala.collection.immutable.RedBlackTree.Tree[A, _], f: A =&gt; U)Unit" id="179048">foreachKey</a><span class="delimiter">[</span><a title="" id="179051">A</a>, <a title="" id="179052">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A, _]" id="179656">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">Tree</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span>, <a title="A =&gt; U" id="179657">f</a>: A =&gt; U<span class="delimiter">)</span>: <a href="../../Unit.scala.html#1515" title="Unit">Unit</a> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179656" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179656" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">left</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179048" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A, _], f: A =&gt; U)Unit">foreachKey</a><span class="delimiter">(</span><a href="#179656" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">left</a>, <a href="#179657" title="A =&gt; U">f</a><span class="delimiter">)</span>
    <a href="../../Function1.scala.html#27963" title="(v1: A)U">f</a><span class="delimiter">(</span><a href="#179656" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179656" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">right</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179048" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A, _], f: A =&gt; U)Unit">foreachKey</a><span class="delimiter">(</span><a href="#179656" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,_$6]">right</a>, <a href="#179657" title="A =&gt; U">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Iterator[(A, B)]" id="179053">iterator</a><span class="delimiter">[</span><a title="" id="179056">A</a>, <a title="" id="179057">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179688">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iterator.scala.html#4100" title="Iterator[(A, B)]">Iterator</a><span class="delimiter">[</span><span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.EntriesIterator[A,B]" class="keyword">new</span> <a href="#179181" title="scala.collection.immutable.RedBlackTree.EntriesIterator[A,B]">EntriesIterator</a><span class="delimiter">(</span><a href="#179688" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[A, _](tree: scala.collection.immutable.RedBlackTree.Tree[A, _])Iterator[A]" id="179058">keysIterator</a><span class="delimiter">[</span><a title="" id="179061">A</a>, <a title="" id="179062">_</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A, _]" id="179711">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">Tree</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iterator.scala.html#4100" title="Iterator[A]">Iterator</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.KeysIterator[A,_$7]" class="keyword">new</span> <a href="#179184" title="scala.collection.immutable.RedBlackTree.KeysIterator[A,_$7]">KeysIterator</a><span class="delimiter">(</span><a href="#179711" title="scala.collection.immutable.RedBlackTree.Tree[A, _]">tree</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[_, B](tree: scala.collection.immutable.RedBlackTree.Tree[_, B])Iterator[B]" id="179063">valuesIterator</a><span class="delimiter">[</span><a title="" id="179066">_</a>, <a title="" id="179067">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, B]" id="179727">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[_, B]">Tree</a><span class="delimiter">[</span>_, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../Iterator.scala.html#4100" title="Iterator[B]">Iterator</a><span class="delimiter">[</span>B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.ValuesIterator[_$8,B]" class="keyword">new</span> <a href="#179187" title="scala.collection.immutable.RedBlackTree.ValuesIterator[_$8,B]">ValuesIterator</a><span class="delimiter">(</span><a href="#179727" title="scala.collection.immutable.RedBlackTree.Tree[_, B]">tree</a><span class="delimiter">)</span>

  @tailrec
  <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179068">nth</a><span class="delimiter">[</span><a title="" id="179071">A</a>, <a title="" id="179072">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179743">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179744">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="179747">count</a> = <span class="keyword">this</span>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179743" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179744" title="Int">n</a> <a href="../../Int.scala.html#26435" title="(x: Int)Boolean">&lt;</a> <a href="#179747" title="Int">count</a><span class="delimiter">)</span> <a href="#179068" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">nth</a><span class="delimiter">(</span><a href="#179743" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179744" title="Int">n</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179744" title="Int">n</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <a href="#179747" title="Int">count</a><span class="delimiter">)</span> <a href="#179068" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">nth</a><span class="delimiter">(</span><a href="#179743" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179744" title="Int">n</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#179747" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179743" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="179073">isBlack</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="179778">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#179778" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27149" title="(x: Boolean)Boolean">||</a> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#179778" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="179074">isRedTree</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="179818">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#179818" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#179167" title="scala.collection.immutable.RedBlackTree.RedTree[_, _]">RedTree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean" id="179075">isBlackTree</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[_, _]" id="179783">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">Tree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#179783" title="scala.collection.immutable.RedBlackTree.Tree[_, _]">tree</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#179170" title="scala.collection.immutable.RedBlackTree.BlackTree[_, _]">BlackTree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179076">blacken</a><span class="delimiter">[</span><a title="" id="179079">A</a>, <a title="" id="179080">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179312">t</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179312" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <a href="#179312" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](isBlack: Boolean, k: A, v: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B], r: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179081">mkTree</a><span class="delimiter">[</span><a title="" id="179084">A</a>, <a title="" id="179085">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="179853">isBlack</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="A" id="179854">k</a>: <a href="#179084" title="A">A</a>, <a title="B" id="179855">v</a>: <a href="#179085" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179856">l</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179857">r</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179853" title="Boolean">isBlack</a><span class="delimiter">)</span> <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#179854" title="A">k</a>, <a href="#179855" title="B">v</a>, <a href="#179856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">l</a>, <a href="#179857" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">r</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#179854" title="A">k</a>, <a href="#179855" title="B">v</a>, <a href="#179856" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">l</a>, <a href="#179857" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">r</a><span class="delimiter">)</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], d: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="179086">balanceLeft</a><span class="delimiter">[</span><a title="" id="179090">A</a>, <a title="" id="179091">B</a>, <a title=" &gt;: B" id="179092">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="179972">isBlack</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="A" id="179973">z</a>: <a href="#179090" title="A">A</a>, <a title="B" id="179974">zv</a>: <a href="#179091" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="179975">l</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="179976">d</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#179902" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#179973" title="A">z</a>, <a href="#179974" title="B">zv</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>, <a href="#179976" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#179902" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#179973" title="A">z</a>, <a href="#179974" title="B">zv</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>, <a href="#179976" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">d</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#179081" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#179972" title="Boolean">isBlack</a>, <a href="#179973" title="A">z</a>, <a href="#179974" title="B">zv</a>, <a href="#179975" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">l</a>, <a href="#179976" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">d</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="179093">balanceRight</a><span class="delimiter">[</span><a title="" id="179097">A</a>, <a title="" id="179098">B</a>, <a title=" &gt;: B" id="179099">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="180062">isBlack</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a>, <a title="A" id="180063">x</a>: <a href="#179097" title="A">A</a>, <a title="B" id="180064">xv</a>: <a href="#179098" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="180065">a</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="180066">r</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#179902" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#180063" title="A">x</a>, <a href="#180064" title="B">xv</a>, <a href="#180065" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">a</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#179902" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#180063" title="A">x</a>, <a href="#180064" title="B">xv</a>, <a href="#180065" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">a</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.BlackTree[A,B1]">BlackTree</a><span class="delimiter">(</span><a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179949" title="=&gt; B1">value</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">left</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B1]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#179081" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#180062" title="Boolean">isBlack</a>, <a href="#180063" title="A">x</a>, <a href="#180064" title="B">xv</a>, <a href="#180065" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">a</a>, <a href="#180066" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">r</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="179100">upd</a><span class="delimiter">[</span><a title="" id="179104">A</a>, <a title="" id="179105">B</a>, <a title=" &gt;: B" id="179106">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179317">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179318">k</a>: <a href="#179104" title="A">A</a>, <a title="B1" id="179319">v</a>: <a href="#179106" title="B1">B1</a>, <a title="Boolean" id="179320">overwrite</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179321">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#179902" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#179318" title="A">k</a>, <a href="#179319" title="B1">v</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="180162">cmp</a> = <a href="#179321" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51438" title="(x: A, y: A)Int">compare</a><span class="delimiter">(</span><a href="#179318" title="A">k</a>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180162" title="Int">cmp</a> <a href="../../Int.scala.html#26435" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#179086" title="(isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], d: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceLeft</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]">upd</a><a href="#179321" title="Ordering[A]" class="delimiter">(</a><a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179318" title="A">k</a>, <a href="#179319" title="B1">v</a>, <a href="#179320" title="Boolean">overwrite</a><span class="delimiter">)</span>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180162" title="Int">cmp</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#179093" title="(isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceRight</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B1, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B1]">upd</a><a href="#179321" title="Ordering[A]" class="delimiter">(</a><a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179318" title="A">k</a>, <a href="#179319" title="B1">v</a>, <a href="#179320" title="Boolean">overwrite</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179320" title="Boolean">overwrite</a> <a href="../../Boolean.scala.html#27149" title="(x: Boolean)Boolean">||</a> <a href="#179318" title="A">k</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span> <a href="#179081" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#179318" title="A">k</a>, <a href="#179319" title="B1">v</a>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179317" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B, B1 &gt;: B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B1, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B1]" id="179107">updNth</a><span class="delimiter">[</span><a title="" id="179111">A</a>, <a title="" id="179112">B</a>, <a title=" &gt;: B" id="179113">B1</a> &gt;: B<span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180249">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="180250">idx</a>: <a href="../../Int.scala.html#321" title="Int">Int</a>, <a title="A" id="180251">k</a>: <a href="#179111" title="A">A</a>, <a title="B1" id="180252">v</a>: <a href="#179113" title="B1">B1</a>, <a title="Boolean" id="180253">overwrite</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B1]">Tree</a><span class="delimiter">[</span>A, B1<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#179902" title="(key: A, value: B1, left: scala.collection.immutable.RedBlackTree.Tree[A,B1], right: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.RedTree[A,B1]">RedTree</a><span class="delimiter">(</span><a href="#180251" title="A">k</a>, <a href="#180252" title="B1">v</a>, <span title="Null(null)" class="keyword">null</span>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="180269">rank</a> = <a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Int.scala.html#26478" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180250" title="Int">idx</a> <a href="../../Int.scala.html#26435" title="(x: Int)Boolean">&lt;</a> <a href="#180269" title="Int">rank</a><span class="delimiter">)</span> <a href="#179086" title="(isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], d: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceLeft</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179107" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B1, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B1]">updNth</a><span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180250" title="Int">idx</a>, <a href="#180251" title="A">k</a>, <a href="#180252" title="B1">v</a>, <a href="#180253" title="Boolean">overwrite</a><span class="delimiter">)</span>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180250" title="Int">idx</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <a href="#180269" title="Int">rank</a><span class="delimiter">)</span> <a href="#179093" title="(isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">balanceRight</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179107" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B1, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B1]">updNth</a><span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180250" title="Int">idx</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#180269" title="Int">rank</a>, <a href="#180251" title="A">k</a>, <a href="#180252" title="B1">v</a>, <a href="#180253" title="Boolean">overwrite</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B1]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180253" title="Boolean">overwrite</a><span class="delimiter">)</span> <a href="#179081" title="(isBlack: Boolean, k: A, v: B1, l: scala.collection.immutable.RedBlackTree.Tree[A,B1], r: scala.collection.immutable.RedBlackTree.Tree[A,B1])scala.collection.immutable.RedBlackTree.Tree[A,B1]">mkTree</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>, <a href="#180251" title="A">k</a>, <a href="#180252" title="B1">v</a>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#180249" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
  <span class="delimiter">}</span>

  /* Based on Stefan Kahrs' Haskell version of Okasaki's Red&amp;Black Trees
   * http://www.cse.unsw.edu.au/~dons/data/RedBlackTree.html */
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179114">del</a><span class="delimiter">[</span><a title="" id="179117">A</a>, <a title="" id="179118">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179352">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179353">k</a>: <a href="#179117" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179354">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180358">balance</a><span class="delimiter">(</span><a title="A" id="180366">x</a>: <a href="#179117" title="A">A</a>, <a title="B" id="180367">xv</a>: <a href="#179118" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180368">tl</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180369">tr</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180366" title="A">x</a>, <a href="#180367" title="B">xv</a>, <a href="#180368" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180369" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180359">subl</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180556">t</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180556" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#179170" title="scala.collection.immutable.RedBlackTree.BlackTree[_, _]">BlackTree</a><span class="delimiter">[</span>_, _<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#180556" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a>.<a href="#179214" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">red</a>
      <span class="keyword">else</span> sys.<a href="../../sys/package.scala.html#22309" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation; expected black, got &quot;)" class="string">&quot;Defect: invariance violation; expected black, got &quot;</span><span title="(x$1: Any)String">+</span><a href="#180556" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">t</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180360">balLeft</a><span class="delimiter">(</span><a title="A" id="180567">x</a>: <a href="#179117" title="A">A</a>, <a title="B" id="180568">xv</a>: <a href="#179118" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180569">tl</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180570">tr</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180567" title="A">x</a>, <a href="#180568" title="B">xv</a>, <a href="#180569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a>, <a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#180358" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#180567" title="A">x</a>, <a href="#180568" title="B">xv</a>, <a href="#180569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179214" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">red</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180567" title="A">x</a>, <a href="#180568" title="B">xv</a>, <a href="#180569" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#180358" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180359" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">subl</a><span class="delimiter">(</span><a href="#180570" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#22309" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation&quot;)" class="string">&quot;Defect: invariance violation&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180361">balRight</a><span class="delimiter">(</span><a title="A" id="180609">x</a>: <a href="#179117" title="A">A</a>, <a title="B" id="180610">xv</a>: <a href="#179118" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180611">tl</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180612">tr</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180612" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180609" title="A">x</a>, <a href="#180610" title="B">xv</a>, <a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180612" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179213" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">black</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#180358" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#180609" title="A">x</a>, <a href="#180610" title="B">xv</a>, <a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179214" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">red</a>, <a href="#180612" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180358" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balance</a><span class="delimiter">(</span><a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180359" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">subl</a><span class="delimiter">(</span><a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180609" title="A">x</a>, <a href="#180610" title="B">xv</a>, <a href="#180611" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180612" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#22309" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;Defect: invariance violation&quot;)" class="string">&quot;Defect: invariance violation&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180362">delLeft</a> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#180360" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balLeft</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179114" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#179354" title="Ordering[A]" class="delimiter">(</a><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179353" title="A">k</a><span class="delimiter">)</span>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179114" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#179354" title="Ordering[A]" class="delimiter">(</a><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179353" title="A">k</a><span class="delimiter">)</span>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180363">delRight</a> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#180361" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balRight</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179114" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#179354" title="Ordering[A]" class="delimiter">(</a><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179353" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179114" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">del</a><a href="#179354" title="Ordering[A]" class="delimiter">(</a><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179353" title="A">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180364">append</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180715">tl</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180716">tr</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180721">bc</a> = <a href="#180364" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
      <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180721" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180721" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180721" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180721" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180721" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180721" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180778">bc</a> = <a href="#180364" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180778" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180778" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180778" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180778" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180778" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#180360" title="(x: A, xv: B, tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balLeft</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180778" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">bc</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180364" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180364" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      sys.<a href="../../sys/package.scala.html#22309" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;unmatched tree on append: &quot;)" class="string">&quot;unmatched tree on append: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#180715" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tl</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#180716" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Int" id="180365">cmp</a> = <a href="#179354" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51438" title="(x: A, y: A)Int">compare</a><span class="delimiter">(</span><a href="#179353" title="A">k</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180365" title="Int">cmp</a> <a href="../../Int.scala.html#26435" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#180362" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">delLeft</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180365" title="Int">cmp</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#180363" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">delRight</a>
    <span class="keyword">else</span> <a href="#180364" title="(tl: scala.collection.immutable.RedBlackTree.Tree[A,B], tr: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">append</a><span class="delimiter">(</span><a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179352" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179119">doFrom</a><span class="delimiter">[</span><a title="" id="179122">A</a>, <a title="" id="179123">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179490">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179491">from</a>: <a href="#179122" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179492">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179492" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51441" title="(x: A, y: A)Boolean">lt</a><span class="delimiter">(</span><a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179491" title="A">from</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179119" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#179492" title="Ordering[A]" class="delimiter">(</a><a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179491" title="A">from</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180857">newLeft</a> = <a href="#179119" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#179492" title="Ordering[A]" class="delimiter">(</a><a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179491" title="A">from</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180857" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180857" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#179492" title="Ordering[A]" class="delimiter">(</a><a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#180857" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#179490" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179124">doTo</a><span class="delimiter">[</span><a title="" id="179127">A</a>, <a title="" id="179128">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179516">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179517">to</a>: <a href="#179127" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179518">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179518" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51441" title="(x: A, y: A)Boolean">lt</a><span class="delimiter">(</span><a href="#179517" title="A">to</a>, <a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179124" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doTo</a><a href="#179518" title="Ordering[A]" class="delimiter">(</a><a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179517" title="A">to</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181070">newRight</a> = <a href="#179124" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], to: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doTo</a><a href="#179518" title="Ordering[A]" class="delimiter">(</a><a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179517" title="A">to</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181070" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181070" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#179518" title="Ordering[A]" class="delimiter">(</a><a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179516" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181070" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179129">doUntil</a><span class="delimiter">[</span><a title="" id="179132">A</a>, <a title="" id="179133">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179536">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179537">until</a>: <a href="#179132" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179538">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179538" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51439" title="(x: A, y: A)Boolean">lteq</a><span class="delimiter">(</span><a href="#179537" title="A">until</a>, <a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179129" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#179538" title="Ordering[A]" class="delimiter">(</a><a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179537" title="A">until</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181118">newRight</a> = <a href="#179129" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#179538" title="Ordering[A]" class="delimiter">(</a><a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179537" title="A">until</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181118" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181118" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#179538" title="Ordering[A]" class="delimiter">(</a><a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179536" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181118" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179134">doRange</a><span class="delimiter">[</span><a title="" id="179137">A</a>, <a title="" id="179138">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179466">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="A" id="179467">from</a>: <a href="#179137" title="A">A</a>, <a title="A" id="179468">until</a>: <a href="#179137" title="A">A</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Ordering[A]" id="179469">ordering</a>: <a href="../../math/Ordering.scala.html#16544" title="Ordering[A]">Ordering</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179469" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51441" title="(x: A, y: A)Boolean">lt</a><span class="delimiter">(</span><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179467" title="A">from</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179134" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doRange</a><a href="#179469" title="Ordering[A]" class="delimiter">(</a><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179467" title="A">from</a>, <a href="#179468" title="A">until</a><span class="delimiter">)</span>;
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179469" title="Ordering[A]">ordering</a>.<a href="../../math/Ordering.scala.html#51439" title="(x: A, y: A)Boolean">lteq</a><span class="delimiter">(</span><a href="#179468" title="A">until</a>, <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179134" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A, until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doRange</a><a href="#179469" title="Ordering[A]" class="delimiter">(</a><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179467" title="A">from</a>, <a href="#179468" title="A">until</a><span class="delimiter">)</span>;
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181166">newLeft</a> = <a href="#179119" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doFrom</a><a href="#179469" title="Ordering[A]" class="delimiter">(</a><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179467" title="A">from</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181167">newRight</a> = <a href="#179129" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], until: A)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">doUntil</a><a href="#179469" title="Ordering[A]" class="delimiter">(</a><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179468" title="A">until</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#181166" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#181167" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181166" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#179469" title="Ordering[A]" class="delimiter">(</a><a href="#181167" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a>, <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181167" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179100" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], k: A, v: B, overwrite: Boolean)(implicit ordering: Ordering[A])scala.collection.immutable.RedBlackTree.Tree[A,B]">upd</a><a href="#179469" title="Ordering[A]" class="delimiter">(</a><a href="#181166" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>;
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179466" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#181166" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#181167" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179139">doDrop</a><span class="delimiter">[</span><a title="" id="179142">A</a>, <a title="" id="179143">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179562">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179563">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179563" title="Int">n</a> <a href="../../Int.scala.html#26442" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179563" title="Int">n</a> <a href="../../Int.scala.html#26456" title="(x: Int)Boolean">&gt;=</a> <span class="keyword">this</span>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="Int" id="181258">count</a> = <span class="keyword">this</span>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179563" title="Int">n</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <a href="#181258" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179139" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179563" title="Int">n</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181258" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181259">newLeft</a> = <a href="#179139" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179563" title="Int">n</a><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181259" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181259" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179107" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179563" title="Int">n</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181258" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#181259" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#179562" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179144">doTake</a><span class="delimiter">[</span><a title="" id="179147">A</a>, <a title="" id="179148">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179582">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179583">n</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179583" title="Int">n</a> <a href="../../Int.scala.html#26442" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179583" title="Int">n</a> <a href="../../Int.scala.html#26456" title="(x: Int)Boolean">&gt;=</a> <span class="keyword">this</span>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">val</span> <a title="Int" id="181325">count</a> = <span class="keyword">this</span>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179583" title="Int">n</a> <a href="../../Int.scala.html#26442" title="(x: Int)Boolean">&lt;=</a> <a href="#181325" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179144" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179583" title="Int">n</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181326">newRight</a> = <a href="#179144" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179583" title="Int">n</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181325" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181326" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181326" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179107" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179583" title="Int">n</a>, <a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#179582" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181326" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179149">doSlice</a><span class="delimiter">[</span><a title="" id="179152">A</a>, <a title="" id="179153">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179604">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="Int" id="179605">from</a>: <a href="../../Int.scala.html#321" title="Int">Int</a>, <a title="Int" id="179606">until</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">val</span> <a title="Int" id="181384">count</a> = <span class="keyword">this</span>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179605" title="Int">from</a> <a href="../../Int.scala.html#26449" title="(x: Int)Boolean">&gt;</a> <a href="#181384" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179149" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doSlice</a><span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179605" title="Int">from</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181384" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#179606" title="Int">until</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181384" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#179606" title="Int">until</a> <a href="../../Int.scala.html#26442" title="(x: Int)Boolean">&lt;=</a> <a href="#181384" title="Int">count</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#179149" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], from: Int, until: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doSlice</a><span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179605" title="Int">from</a>, <a href="#179606" title="Int">until</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181385">newLeft</a> = <a href="#179139" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doDrop</a><span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179605" title="Int">from</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181386">newRight</a> = <a href="#179144" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], n: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">doTake</a><span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#179606" title="Int">until</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181384" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#181385" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#181386" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181385" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179107" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#181386" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a>, <a href="#179605" title="Int">from</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <a href="#181384" title="Int">count</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181386" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179107" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], idx: Int, k: A, v: B, overwrite: Boolean)scala.collection.immutable.RedBlackTree.Tree[A,B]">updNth</a><span class="delimiter">(</span><a href="#181385" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#179606" title="Int">until</a>, <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#179159" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">rebalance</a><span class="delimiter">(</span><a href="#179604" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#181385" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a>, <a href="#181386" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // The zipper returned might have been traversed left-most (always the left child)
  // or right-most (always the right child). Left trees are traversed right-most,
  // and right trees are traversed leftmost.

  // Returns the zipper for the side with deepest black nodes depth, a flag
  // indicating whether the trees were unbalanced at all, and a flag indicating
  // whether the zipper was traversed left-most or right-most.

  // If the trees were balanced, returns an empty zipper
  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" id="179154">compareDepth</a><span class="delimiter">[</span><a title="" id="179157">A</a>, <a title="" id="179158">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180941">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180942">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1227" title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
    // Once a side is found to be deeper, unzip it to the bottom
    <span class="keyword">def</span> <a title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="181491">unzip</a><span class="delimiter">(</span><a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="181493">zipper</a>: <a href="List.scala.html#11071" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Boolean" id="181494">leftMost</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="List.scala.html#11071" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181495">next</a> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181494" title="Boolean">leftMost</a><span class="delimiter">)</span> <a href="#181493" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>.<a href="../IterableLike.scala.html#27898" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span class="keyword">else</span> <a href="#181493" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>.<a href="../IterableLike.scala.html#27898" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>
      <a href="#181495" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> <span class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#1442690" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="1442693" class="keyword">null</a> =&gt; <a href="#1442695" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>
        <span class="keyword">case</span> node =&gt; <a href="#181491" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">unzip</a><a href="#1442695" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="delimiter">(</a>node <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181493" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>, <a href="#181494" title="Boolean">leftMost</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // Unzip left tree on the rightmost side and right tree on the leftmost side until one is
    // found to be deeper, or the bottom is reached
    <span class="keyword">def</span> <a title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" id="181492">unzipBoth</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181503">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                  <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181504">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                  <a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="181505">leftZipper</a>: <a href="List.scala.html#11071" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>,
                  <a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="181506">rightZipper</a>: <a href="List.scala.html#11071" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>,
                  <a title="Int" id="181507">smallerDepth</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../Tuple4.scala.html#1227" title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, Boolean, Boolean, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#181492" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181505" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181506" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#181507" title="Int">smallerDepth</a> <a href="../../Int.scala.html#26478" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#181492" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181505" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181506" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#181507" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#181492" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181505" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181506" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#181507" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#179074" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isRedTree</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#181492" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181505" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#181506" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#181507" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../Tuple4.scala.html#52762" title="(_1: scala.collection.immutable.Nil.type, _2: Boolean, _3: Boolean, _4: Int)(scala.collection.immutable.Nil.type, Boolean, Boolean, Int)" class="delimiter">(</a><a href="List.scala.html#10307" title="scala.collection.immutable.Nil.type">Nil</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#181507" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="181572">leftMost</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="../../Tuple4.scala.html#52762" title="(_1: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], _2: Boolean, _3: Boolean, _4: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#181491" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">unzip</a><span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181506" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">rightZipper</a>, <a href="#181572" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#181572" title="Boolean">leftMost</a>, <a href="#181507" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="keyword">if</span> <span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Boolean.scala.html#27150" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="181595">leftMost</a> = <span title="Boolean(false)" class="keyword">false</span>
        <a href="../../Tuple4.scala.html#52762" title="(_1: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], _2: Boolean, _3: Boolean, _4: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="#181491" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], leftMost: Boolean)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">unzip</a><span class="delimiter">(</span><a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <a href="List.scala.html#32006" title="(x: scala.collection.immutable.RedBlackTree.Tree[A,B])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">::</a> <a href="#181505" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">leftZipper</a>, <a href="#181595" title="Boolean">leftMost</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#181595" title="Boolean">leftMost</a>, <a href="#181507" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        sys.<a href="../../sys/package.scala.html#22309" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="String(&quot;unmatched trees in unzip: &quot;)" class="string">&quot;unmatched trees in unzip: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#181503" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#181504" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#181492" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B], leftZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], rightZipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], smallerDepth: Int)(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">unzipBoth</a><span class="delimiter">(</span><a href="#180941" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#180942" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a>, <a href="List.scala.html#10307" title="scala.collection.immutable.Nil.type">Nil</a>, <a href="List.scala.html#10307" title="scala.collection.immutable.Nil.type">Nil</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="[A, B](tree: scala.collection.immutable.RedBlackTree.Tree[A,B], newLeft: scala.collection.immutable.RedBlackTree.Tree[A,B], newRight: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179159">rebalance</a><span class="delimiter">[</span><a title="" id="179162">A</a>, <a title="" id="179163">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180897">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180898">newLeft</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180899">newRight</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    // This is like drop(n-1), but only counting black nodes
    <span class="keyword">def</span>  <a title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="180900">findDepth</a><span class="delimiter">(</span><a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="180908">zipper</a>: <a href="List.scala.html#11071" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Int" id="180909">depth</a>: <a href="../../Int.scala.html#321" title="Int">Int</a><span class="delimiter">)</span>: <a href="List.scala.html#11071" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#180908" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="List.scala.html#162463" title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180915">head</a> <a href="#1442703" title="Boolean" id="1442704">::</a> <a href="List.scala.html#162464" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="180916">tail</a> <span class="keyword">if</span> <a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#180915" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a><span class="delimiter">)</span> =&gt;
        <a href="#1442711" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="keyword">if</a> <span class="delimiter">(</span><a href="#180909" title="Int">depth</a> <a href="../../Int.scala.html#26421" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#180908" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a> <span class="keyword">else</span> <a href="#180900" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">findDepth</a><span class="delimiter">(</span><a href="#180916" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">tail</a>, <a href="#180909" title="Int">depth</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="List.scala.html#162463" title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="1442705">_</a> :: <a href="List.scala.html#162464" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="180932">tail</a> =&gt; <a href="#180900" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">findDepth</a><a href="#1442711" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="delimiter">(</a><a href="#180932" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">tail</a>, <a href="#180909" title="Int">depth</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="List.scala.html#10307" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="1442708">Nil</a> =&gt; sys.<a href="../../sys/package.scala.html#22309" title="(message: String)Nothing">error</a><a href="#1442711" title="(x: List[scala.collection.immutable.RedBlackTree.Tree[A,B]])List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="delimiter">(</a><span title="String(&quot;Defect: unexpected empty zipper while computing range&quot;)" class="string">&quot;Defect: unexpected empty zipper while computing range&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // Blackening the smaller tree avoids balancing problems on union;
    // this can't be done later, though, or it would change the result of compareDepth
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180901">blkNewLeft</a> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#180898" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newLeft</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180902">blkNewRight</a> = <a href="#179076" title="(t: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">blacken</a><span class="delimiter">(</span><a href="#180899" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">newRight</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a href="#1442722" title="(x: (List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int))(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)" class="delimiter">(</a><a href="../../Tuple4.scala.html#51058" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="180904">zipper</a>, <a href="../../Tuple4.scala.html#51060" title="Boolean" id="180905">levelled</a>, <a href="../../Tuple4.scala.html#51062" title="Boolean" id="180906">leftMost</a>, <a href="../../Tuple4.scala.html#51064" title="Int" id="180907">smallerDepth</a><span class="delimiter">)</span> = <a href="#179154" title="(left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int)">compareDepth</a><a href="../../Tuple4.scala.html#1227" title="(List[scala.collection.immutable.RedBlackTree.Tree[A,B]], Boolean, Boolean, Int) @unchecked" class="delimiter">(</a><a href="#180901" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewLeft</a>, <a href="#180902" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewRight</a><span class="delimiter">)</span>

    <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180905" title="Boolean">levelled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#180897" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180897" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180901" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewLeft</a>, <a href="#180902" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewRight</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="180985">zipFrom</a> = <a href="#180900" title="(zipper: List[scala.collection.immutable.RedBlackTree.Tree[A,B]], depth: Int)List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">findDepth</a><span class="delimiter">(</span><a href="#180904" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipper</a>, <a href="#180907" title="Int">smallerDepth</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" id="180986">union</a> = <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180906" title="Boolean">leftMost</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180897" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180897" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180901" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewLeft</a>, <a href="#180985" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipFrom</a>.<a href="../IterableLike.scala.html#27898" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#180897" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#180897" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#180985" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipFrom</a>.<a href="../IterableLike.scala.html#27898" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">head</a>, <a href="#180902" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">blkNewRight</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="180987">zippedTree</a> = <a href="#180985" title="List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">zipFrom</a>.<a href="../TraversableLike.scala.html#27428" title="=&gt; List[scala.collection.immutable.RedBlackTree.Tree[A,B]]">tail</a>.<a href="../LinearSeqOptimized.scala.html#55703" title="(z: scala.collection.immutable.RedBlackTree.Tree[A,B])(f: (scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B]) =&gt; scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">foldLeft</a><span class="delimiter">(</span><a href="#180986" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">union</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181027">tree</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181028">node</a><span class="delimiter">)</span> =&gt;
        <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#180906" title="Boolean">leftMost</a><span class="delimiter">)</span>
          <a href="#179086" title="(isBlack: Boolean, z: A, zv: B, l: scala.collection.immutable.RedBlackTree.Tree[A,B], d: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balanceLeft</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a><span class="delimiter">)</span>, <a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#181027" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>, <a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#179093" title="(isBlack: Boolean, x: A, xv: B, a: scala.collection.immutable.RedBlackTree.Tree[A,B], r: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">balanceRight</a><span class="delimiter">(</span><a href="#179075" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Boolean">isBlackTree</a><span class="delimiter">(</span><a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a><span class="delimiter">)</span>, <a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#181028" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">node</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181027" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#180987" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">zippedTree</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /*
   * Forcing direct fields access using the @inline annotation helps speed up
   * various operations (especially smallest/greatest and update/delete).
   *
   * Unfortunately the direct field access is not guaranteed to work (but
   * works on the current implementation of the Scala compiler).
   *
   * An alternative is to implement the these classes using plain old Java code...
   */
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Tree[A, +B] extends AnyRef with Serializable" id="179164">Tree</a><span class="delimiter">[</span><a title="" id="179165">A</a>, +<a title="" id="179166">B</a><span class="delimiter">]</span><a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="delimiter">(</a>
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="A" id="179948">key</a>: <a href="#179165" title="A">A</a>,
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="B" id="179949">value</a>: <a href="#179166" title="B">B</a>,
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179950">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179951">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="../../Serializable.scala.html#891" title="Serializable">Serializable</a> <span class="delimiter">{</span>
    @<span class="delimiter">(</span>inline @getter<span class="delimiter">)</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int" id="179211">count</a>: <a href="../../Int.scala.html#321" title="Int">Int</a> = <span title="Int(1)" class="int">1</span> <a href="../../Int.scala.html#26478" title="(x: Int)Int">+</a> <a href="#10271" title="scala.collection.immutable.RedBlackTree.type">RedBlackTree</a>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span> <a href="../../Int.scala.html#26478" title="(x: Int)Int">+</a> <a href="#10271" title="scala.collection.immutable.RedBlackTree.type">RedBlackTree</a>.<a href="#178978" title="(tree: scala.collection.immutable.RedBlackTree.Tree[_, _])Int">count</a><span class="delimiter">(</span><a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179213">black</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179214">red</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>
  <span class="delimiter">}</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class RedTree[A, +B] extends scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179167">RedTree</a><span class="delimiter">[</span><a title="" id="179168">A</a>, +<a title="" id="179169">B</a><span class="delimiter">]</span><a href="#179167" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="delimiter">(</a><a title="A" id="179918">key</a>: <a href="#179168" title="A">A</a>,
                             <a title="B" id="179919">value</a>: <a href="#179169" title="B">B</a>,
                             <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179920">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                             <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179921">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#179918" title="A">key</a>, <a href="#179919" title="B">value</a>, <a href="#179920" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179921" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179836">black</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179859" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#179918" title="A">key</a>, <a href="#179919" title="B">value</a>, <a href="#179920" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179921" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179837">red</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179167" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">this</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="179838">toString</a>: <span title="String">String</span> = <span title="String(&quot;RedTree(&quot;)" class="string">&quot;RedTree(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179918" title="A">key</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179919" title="B">value</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179920" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179921" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>
  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class BlackTree[A, +B] extends scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179170">BlackTree</a><span class="delimiter">[</span><a title="" id="179171">A</a>, +<a title="" id="179172">B</a><span class="delimiter">]</span><a href="#179170" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" class="delimiter">(</a><a title="A" id="179875">key</a>: <a href="#179171" title="A">A</a>,
                               <a title="B" id="179876">value</a>: <a href="#179172" title="B">B</a>,
                               <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179877">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>,
                               <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179878">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#179875" title="A">key</a>, <a href="#179876" title="B">value</a>, <a href="#179877" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179878" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179801">black</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179170" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" class="keyword">this</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179802">red</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179902" title="(key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#179875" title="A">key</a>, <a href="#179876" title="B">value</a>, <a href="#179877" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179878" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="179803">toString</a>: <span title="String">String</span> = <span title="String(&quot;BlackTree(&quot;)" class="string">&quot;BlackTree(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179875" title="A">key</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179876" title="B">value</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179877" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#179878" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="scala.collection.immutable.RedBlackTree.RedTree.type" id="181707">RedTree</a> <a href="#179174" title="scala.collection.immutable.RedBlackTree.RedTree.type" class="delimiter">{</a>
    @inline <span class="keyword">def</span> <a title="[A, B](key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.RedTree[A,B]" id="179902">apply</a><span class="delimiter">[</span><a title="" id="179905">A</a>, <a title="" id="179906">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="179912">key</a>: <a href="#179905" title="A">A</a>, <a title="B" id="179913">value</a>: <a href="#179906" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179914">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179915">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" class="keyword">new</span> <a href="#179167" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">(</span><a href="#179912" title="A">key</a>, <a href="#179913" title="B">value</a>, <a href="#179914" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179915" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](t: scala.collection.immutable.RedBlackTree.RedTree[A,B])Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]" id="179907">unapply</a><span class="delimiter">[</span><a title="" id="179910">A</a>, <a title="" id="179911">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.RedTree[A,B]" id="181688">t</a>: <a href="#179167" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">RedTree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Option.scala.html#32449" title="(x: (A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B]))Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]">Some</a><span class="delimiter">(</span><a href="../../Tuple4.scala.html#52762" title="(_1: A, _2: B, _3: scala.collection.immutable.RedBlackTree.Tree[A,B], _4: scala.collection.immutable.RedBlackTree.Tree[A,B])(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])" class="delimiter">(</a><a href="#181688" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#181688" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#181688" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181688" title="scala.collection.immutable.RedBlackTree.RedTree[A,B]">t</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="scala.collection.immutable.RedBlackTree.BlackTree.type" id="181728">BlackTree</a> <a href="#179176" title="scala.collection.immutable.RedBlackTree.BlackTree.type" class="delimiter">{</a>
    @inline <span class="keyword">def</span> <a title="[A, B](key: A, value: B, left: scala.collection.immutable.RedBlackTree.Tree[A,B], right: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.BlackTree[A,B]" id="179859">apply</a><span class="delimiter">[</span><a title="" id="179862">A</a>, <a title="" id="179863">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="179869">key</a>: <a href="#179862" title="A">A</a>, <a title="B" id="179870">value</a>: <a href="#179863" title="B">B</a>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179871">left</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span>, <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179872">right</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" class="keyword">new</span> <a href="#179170" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">(</span><a href="#179869" title="A">key</a>, <a href="#179870" title="B">value</a>, <a href="#179871" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#179872" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="[A, B](t: scala.collection.immutable.RedBlackTree.BlackTree[A,B])Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]" id="179864">unapply</a><span class="delimiter">[</span><a title="" id="179867">A</a>, <a title="" id="179868">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]" id="181709">t</a>: <a href="#179170" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">BlackTree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Option.scala.html#32449" title="(x: (A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B]))Some[(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])]">Some</a><span class="delimiter">(</span><a href="../../Tuple4.scala.html#52762" title="(_1: A, _2: B, _3: scala.collection.immutable.RedBlackTree.Tree[A,B], _4: scala.collection.immutable.RedBlackTree.Tree[A,B])(A, B, scala.collection.immutable.RedBlackTree.Tree[A,B], scala.collection.immutable.RedBlackTree.Tree[A,B])" class="delimiter">(</a><a href="#181709" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#181709" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#179949" title="=&gt; B">value</a>, <a href="#181709" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a>, <a href="#181709" title="scala.collection.immutable.RedBlackTree.BlackTree[A,B]">t</a>.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeIterator[A, B, R] extends AnyRef with Iterator[R]" id="179177">TreeIterator</a><span class="delimiter">[</span><a title="" id="179178">A</a>, <a title="" id="179179">B</a>, <a title="" id="179180">R</a><span class="delimiter">]</span><a href="#179177" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,R]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181731">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../Iterator.scala.html#4100" title="Iterator[R]">Iterator</a><span class="delimiter">[</span>R<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">protected</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])R" id="179693">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181732">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179180" title="R">R</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="179694">hasNext</a>: <a href="../../Boolean.scala.html#1425" title="Boolean">Boolean</a> = <a href="#179701" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()R" id="179695">next</a>: <a href="#179180" title="R">R</a> = <a href="#179701" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> <span class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#1442726" title="R" id="1442729" class="keyword">null</a> =&gt;
        <a href="#1442731" title="(x: R)R" class="keyword">throw</a> <span title="(x$1: String)java.util.NoSuchElementException" class="keyword">new</span> <a href="../../package.scala.html#22180" title="java.util.NoSuchElementException">NoSuchElementException</a><span class="delimiter">(</span><span title="String(&quot;next on empty iterator&quot;)" class="string">&quot;next on empty iterator&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> tree =&gt;
        <a href="#179701" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">next</a> = <a href="#179696" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">findNext</a><span class="delimiter">(</span>tree.<a href="#179951" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">right</a><span class="delimiter">)</span>
        <a href="#179693" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])R">nextResult</a><span class="delimiter">(</span>tree<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @tailrec
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179696">findNext</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181753">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181753" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#179698" title="()scala.collection.immutable.RedBlackTree.Tree[A,B]">popPath</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181753" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#181753" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#179697" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit">pushPath</a><span class="delimiter">(</span><a href="#181753" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
        <a href="#179696" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">findNext</a><span class="delimiter">(</span><a href="#181753" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179950" title="=&gt; scala.collection.immutable.RedBlackTree.Tree[A,B]">left</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit" id="179697">pushPath</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="181756">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="../../Array.scala.html#25964" title="(i: Int, x: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit">path</a><span class="delimiter">(</span><a href="#179700" title="Int">index</a><span class="delimiter">)</span> = <a href="#181756" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>
        <a href="#179700" title="Int">index</a> <a href="../../Int.scala.html#26478" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">_</span>: <span title="ArrayIndexOutOfBoundsException">ArrayIndexOutOfBoundsException</span> =&gt;
          /*
           * Either the tree became unbalanced or we calculated the maximum height incorrectly.
           * To avoid crashing the iterator we expand the path array. Obviously this should never
           * happen...
           *
           * An exception handler is used instead of an if-condition to optimize the normal path.
           * This makes a large difference in iteration speed!
           */
          <a href="../../Predef.scala.html#7194" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#179700" title="Int">index</a> <a href="../../Int.scala.html#26456" title="(x: Int)Boolean">&gt;=</a> <a href="#179699" title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">path</a>.<a href="../../Array.scala.html#25962" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="#179699" title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">path</a> <a href="../SeqLike.scala.html#28176" title="(elem: scala.collection.immutable.RedBlackTree.Tree[A,B])(implicit bf: scala.collection.generic.CanBuildFrom[Array[scala.collection.immutable.RedBlackTree.Tree[A,B]],scala.collection.immutable.RedBlackTree.Tree[A,B],Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]])Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">:+=</a> <span title="Null(null)" class="keyword">null</span>
          <a href="#179697" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])Unit">pushPath</a><span class="delimiter">(</span><a href="#181756" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">def</span> <a title="()scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179698">popPath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="scala.collection.immutable.RedBlackTree.Tree[A,B]" class="keyword">if</span> <span class="delimiter">(</span><a href="#179700" title="Int">index</a> <a href="../../Int.scala.html#26421" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#179700" title="Int">index</a> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
      <a href="../../Array.scala.html#25963" title="(i: Int)scala.collection.immutable.RedBlackTree.Tree[A,B]">path</a><span class="delimiter">(</span><a href="#179700" title="Int">index</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]" id="179699">path</a> = <span title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#181731" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Null(null)" class="keyword">null</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      /*
       * According to &quot;Ralf Hinze. Constructing red-black trees&quot; [http://www.cs.ox.ac.uk/ralf.hinze/publications/#P5]
       * the maximum height of a red-black tree is 2*log_2(n + 2) - 2.
       *
       * According to {@see Integer#numberOfLeadingZeros} ceil(log_2(n)) = (32 - Integer.numberOfLeadingZeros(n - 1))
       *
       * We also don't store the deepest nodes in the path so the maximum path length is further reduced by one.
       */
      <span class="keyword">val</span> <a title="Int" id="181758">maximumHeight</a> = <span title="Int(2)" class="int">2</span> <a href="../../Int.scala.html#26492" title="(x: Int)Int">*</a> <span class="delimiter">(</span><span title="Int(32)" class="int">32</span> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Integer.type">Integer</span>.<span title="(x$1: Int)Int">numberOfLeadingZeros</span><span class="delimiter">(</span><a href="#181731" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179211" title="=&gt; Int">count</a> <a href="../../Int.scala.html#26478" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(2)" class="int">2</span> <a href="../../Int.scala.html#26485" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
      <span title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]" class="keyword">new</span> <a href="../../Array.scala.html#174" title="Array[scala.collection.immutable.RedBlackTree.Tree[A,B]]">Array</a><span class="delimiter">[</span>Tree<span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#181758" title="Int">maximumHeight</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="Int" id="179700">index</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">var</span> <a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179701">next</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <a href="#179696" title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])scala.collection.immutable.RedBlackTree.Tree[A,B]">findNext</a><span class="delimiter">(</span><a href="#181731" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">class</span> <a title="class EntriesIterator[A, B] extends scala.collection.immutable.RedBlackTree.TreeIterator[A,B,(A, B)]" id="179181">EntriesIterator</a><span class="delimiter">[</span><a title="" id="179182">A</a>, <a title="" id="179183">B</a><span class="delimiter">]</span><a href="#179181" title="scala.collection.immutable.RedBlackTree.EntriesIterator[A,B]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179708">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#179177" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,(A, B)]">TreeIterator</a><span class="delimiter">[</span>A, B, <span class="delimiter">(</span>A, B<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#179708" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])(A, B)" id="179705">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="182311">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../../Tuple2.scala.html#32170" title="(_1: A, _2: B)(A, B)" class="delimiter">(</a><a href="#182311" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>, <a href="#182311" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">class</span> <a title="class KeysIterator[A, B] extends scala.collection.immutable.RedBlackTree.TreeIterator[A,B,A]" id="179184">KeysIterator</a><span class="delimiter">[</span><a title="" id="179185">A</a>, <a title="" id="179186">B</a><span class="delimiter">]</span><a href="#179184" title="scala.collection.immutable.RedBlackTree.KeysIterator[A,B]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179723">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#179177" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,A]">TreeIterator</a><span class="delimiter">[</span>A, B, A<span class="delimiter">]</span><span class="delimiter">(</span><a href="#179723" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])A" id="179720">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="182322">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#182322" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179948" title="=&gt; A">key</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">class</span> <a title="class ValuesIterator[A, B] extends scala.collection.immutable.RedBlackTree.TreeIterator[A,B,B]" id="179187">ValuesIterator</a><span class="delimiter">[</span><a title="" id="179188">A</a>, <a title="" id="179189">B</a><span class="delimiter">]</span><a href="#179187" title="scala.collection.immutable.RedBlackTree.ValuesIterator[A,B]" class="delimiter">(</a><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="179739">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#179177" title="scala.collection.immutable.RedBlackTree.TreeIterator[A,B,B]">TreeIterator</a><span class="delimiter">[</span>A, B, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#179739" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: scala.collection.immutable.RedBlackTree.Tree[A,B])B" id="179736">nextResult</a><span class="delimiter">(</span><a title="scala.collection.immutable.RedBlackTree.Tree[A,B]" id="182327">tree</a>: <a href="#179164" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">Tree</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#182327" title="scala.collection.immutable.RedBlackTree.Tree[A,B]">tree</a>.<a href="#179949" title="=&gt; B">value</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>